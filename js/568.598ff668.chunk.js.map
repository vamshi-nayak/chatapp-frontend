{"version":3,"file":"static/js/568.598ff668.chunk.js","mappings":";sLAMA,SAASA,IAeP,OAdAA,EAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,IAK3B,OAAOL,GAGFH,EAASY,MAAMC,KAAMR,WAG9B,SAASS,EAA8BP,EAAQQ,GAC7C,GAAc,MAAVR,EAAgB,MAAO,GAC3B,IAEIC,EAAKJ,EAFLD,EAAS,GACTa,EAAaf,OAAOgB,KAAKV,GAG7B,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IACjCI,EAAMQ,EAAWZ,GACbW,EAASG,QAAQV,IAAQ,IAC7BL,EAAOK,GAAOD,EAAOC,IAGvB,OAAOL,EAmBT,SAASgB,EAASC,GAChB,IAAIC,EAAUD,EAAMC,QAChBC,EAAMF,EAAME,IACZC,EAASH,EAAMG,OACfC,EAASJ,EAAMI,OACfC,EAAUL,EAAMK,QAChBC,EAAcN,EAAMM,YACpBC,EAAQP,EAAMO,MACdC,EAAiBR,EAAMQ,eAEvBC,GAAYC,EAAAA,EAAAA,UAAS,WACrBC,EAASF,EAAU,GACnBG,EAAYH,EAAU,IAE1BI,EAAAA,EAAAA,YAAU,WACRD,EAAUV,EAAM,UAAY,aAC3B,CAACA,IACJ,IAAIY,GAAWC,EAAAA,EAAAA,UACXC,GAAOC,EAAAA,EAAAA,cAAY,WACrB,GAAKf,EAAL,CACAgB,IACA,IAAIC,EAAM,IAAIC,MACdD,EAAIjB,IAAMA,EACNI,IAAaa,EAAIb,YAAcA,GAC/BH,IAAQgB,EAAIE,OAASlB,GACrBI,IAAOY,EAAIZ,MAAQA,GACnBN,IAASkB,EAAIlB,QAAUA,GAE3BkB,EAAIG,OAAS,SAAUC,GACrBL,IACAN,EAAU,UACA,MAAVR,GAA0BA,EAAOmB,IAGnCJ,EAAIK,QAAU,SAAUC,GACtBP,IACAN,EAAU,UACC,MAAXP,GAA2BA,EAAQoB,IAGrCX,EAASY,QAAUP,KAClB,CAACjB,EAAKI,EAAaH,EAAQI,EAAOH,EAAQC,EAASJ,IAElDiB,EAAQ,WACNJ,EAASY,UACXZ,EAASY,QAAQJ,OAAS,KAC1BR,EAASY,QAAQF,QAAU,KAC3BV,EAASY,QAAU,OAwBvB,OApBAC,EAAAA,EAAAA,IAAoB,WAKlB,IAAInB,EAMJ,MAJe,YAAXG,GACFK,IAGK,WACLE,OAED,CAACP,EAAQK,EAAMR,IAMXA,EAAiB,SAAWG,EAGrC,IAAIiB,EAAY,CAAC,YAAa,aAAc,OACxCC,EAAa,CAAC,cAAe,WAAY,MAAO,SAAU,QAAS,MAAO,UAAW,iBAAkB,eACvGC,EAA2BC,EAAAA,YAAiB,SAAU/B,EAAOgC,GAC/D,IAAIC,EAAYjC,EAAMiC,UAClBC,EAAalC,EAAMkC,WACnBC,EAAMnC,EAAMmC,IACZC,EAAO1C,EAA8BM,EAAO4B,GAEhD,OAAoBG,EAAAA,cAAoB,MAAOnD,EAAS,CACtDyD,MAAOJ,EACPK,OAAQJ,EACRF,IAAKA,EACLG,IAAKA,GACJC,OASDG,GAAuBC,EAAAA,EAAAA,KAAW,SAAUxC,EAAOgC,GACrD,IAAIS,EAAczC,EAAMyC,YACpBC,EAAW1C,EAAM0C,SACjBxC,EAAMF,EAAME,IACZC,EAASH,EAAMG,OACfwC,EAAQ3C,EAAM2C,MACdC,EAAM5C,EAAM4C,IACZ3C,EAAUD,EAAMC,QAChBO,EAAiBR,EAAMQ,eACvBF,EAAcN,EAAMM,YACpB8B,EAAO1C,EAA8BM,EAAO6B,GAO5CgB,EAA0B,MAAX5C,GAAmBO,QAAkCsC,IAAhBL,QAA0CK,IAAbJ,EAEjF/B,EAASZ,EAASnB,EAAS,GAAIoB,EAAO,CACxCQ,eAAgBqC,KAGdE,EAASnE,EAAS,CACpBoD,IAAKA,EACLgB,UAAWJ,EACXK,eAAgBN,GACfE,EAAeT,GAAOc,EAAAA,EAAAA,IAAKd,EAAM,CAAC,UAAW,YAEhD,MAAe,WAAXzB,EAKE+B,GACgBX,EAAAA,cAAoBoB,EAAAA,GAAAA,IAAYvE,EAAS,CAC3DwE,GAAItB,EACJuB,UAAW,4BACXnD,IAAKuC,GACJM,IAGehB,EAAAA,cAAoBoB,EAAAA,GAAAA,IAAYvE,EAAS,CAC3DwE,GAAItB,EACJ5B,IAAKA,EACLC,OAAQA,EACRG,YAAaA,EACbL,QAASA,EACToD,UAAW,gBACVN,OAeDO,EAAAA,KACFf,EAAQgB,YAAc,uBClNxB,SAAS7D,EAA8BP,EAAQQ,GAC7C,GAAc,MAAVR,EAAgB,MAAO,GAC3B,IAEIC,EAAKJ,EAFLD,EAAS,GACTa,EAAaf,OAAOgB,KAAKV,GAG7B,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IACjCI,EAAMQ,EAAWZ,GACbW,EAASG,QAAQV,IAAQ,IAC7BL,EAAOK,GAAOD,EAAOC,IAGvB,OAAOL,EAGT,SAASH,IAeP,OAdAA,EAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,IAK3B,OAAOL,GAGFH,EAASY,MAAMC,KAAMR,WAG9B,IAAIuE,EAAc,CAAC,OAAQ,eACvB3B,EAAa,CAAC,MAAO,SAAU,OAAQ,aAAc,eAAgB,UAAW,cAAe,OAAQ,YAAa,UAAW,WAAY,cAAe,kBAM1J4B,GAA2BjB,EAAAA,EAAAA,KAAW,SAAUxC,EAAOgC,GACzD,IAEI0B,EAAc9E,EAAS,CACzB+E,SAAU,WACVC,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBC,SAAU,IACVC,OAAQ,MARGC,EAAAA,EAAAA,MASHC,OAEV,OAAoBnC,EAAAA,cAAoBoB,EAAAA,GAAAA,IAAYvE,EAAS,CAC3DoD,IAAKA,GACJhC,EAAO,CACRqD,WAAWc,EAAAA,EAAAA,IAAG,uBAAwBnE,EAAMqD,WAC5Ce,MAAOV,QAQX,SAASW,EAASC,GAChB,IAAIC,EAAcD,EAAKE,MAAM,KACzBC,EAAYF,EAAY,GACxBG,EAAWH,EAAY,GAE3B,OAAOE,GAAaC,EAAW,GAAKD,EAAUE,OAAO,GAAKD,EAASC,OAAO,GAAKF,EAAUE,OAAO,GAT9FrB,EAAAA,KACFG,EAAYF,YAAc,eAc5B,IAAIqB,EAAa,SAAoB5E,GACnC,IAAIsE,EAAOtE,EAAMsE,KACbO,EAAc7E,EAAM6E,YACpBzC,EAAO1C,EAA8BM,EAAOwD,GAE5CsB,GAASb,EAAAA,EAAAA,MACb,OAAoBlC,EAAAA,cAAoBoB,EAAAA,GAAAA,IAAYvE,EAAS,CAC3DmG,KAAM,MACN,aAAcT,GACblC,EAAM,CACPgC,MAAOU,EAAOE,QACZV,EAAsB,MAAfO,OAAsB,EAASA,EAAYP,GAAQ,OAQ5DW,EAAc,SAAqBjF,GACrC,OAAoB+B,EAAAA,cAAoBoB,EAAAA,GAAAA,IAAYvE,EAAS,CAC3DsG,QAAS,cACTC,MAAO,OACP9C,MAAO,OACPC,OAAQ,OACRe,UAAW,sBACVrD,GAAqB+B,EAAAA,cAAoB,OAAQ,CAClDqD,KAAM,eACNC,EAAG,kMACYtD,EAAAA,cAAoB,OAAQ,CAC3CqD,KAAM,eACNC,EAAG,iMAIHC,EAAY,CACd1B,QAAS,cACTC,WAAY,SACZC,eAAgB,SAChByB,UAAW,SACXC,cAAe,YACfC,WAAY,SACZ9B,SAAU,WACV+B,WAAY,GAOVC,GAAsBnD,EAAAA,EAAAA,KAAW,SAAUxC,EAAOgC,GACpD,IAAI8C,GAASc,EAAAA,EAAAA,IAAoB,SAAU5F,GAEvC6F,GAAoBC,EAAAA,EAAAA,IAAiB9F,GACrCE,EAAM2F,EAAkB3F,IACxBC,EAAS0F,EAAkB1F,OAC3BmE,EAAOuB,EAAkBvB,KACzByB,EAAaF,EAAkBE,WAC/BC,EAAwBH,EAAkBI,aAC1CA,OAAyC,IAA1BD,EAAmC,OAASA,EAC3D3F,EAAUwF,EAAkBxF,QAC5B6F,EAAwBL,EAAkBhB,YAC1CA,OAAwC,IAA1BqB,EAAmC7B,EAAW6B,EAC5DC,EAAwBN,EAAkBO,KAC1CA,OAAiC,IAA1BD,EAAgDpE,EAAAA,cAAoBkD,EAAa,MAAQkB,EAChGE,EAAyBR,EAAkBS,UAC3CA,OAAuC,IAA3BD,EAAoC,UAAYA,EAC5DpG,EAAU4F,EAAkB5F,QAC5BsG,EAAWV,EAAkBU,SAC7BC,EAAcX,EAAkBW,YAChChG,EAAiBqF,EAAkBrF,eACnC4B,EAAO1C,EAA8BmG,EAAmBhE,GAExD4E,EAAe7H,EAAS,CAC1BqH,aAAcA,EACdS,YAAaX,EAAa,WAAQjD,GACjCwC,EAAWR,EAAO6B,WAMrB,OAJIH,IACFC,EAAaD,YAAcA,GAGTzE,EAAAA,cAAoBoB,EAAAA,GAAAA,KAAavE,EAAS,CAC5DoD,IAAKA,GACJI,EAAM,CACPiB,WAAWc,EAAAA,EAAAA,IAAG,gBAAiBnE,EAAMqD,WACrCe,MAAOqC,IACQ1E,EAAAA,cAAoB6E,EAAAA,GAAgB,CACnDC,MAAO/B,GACO/C,EAAAA,cAAoB+E,EAAa,CAC/C5G,IAAKA,EACLC,OAAQA,EACRF,QAASA,EACTI,QAASA,EACTwE,YAAaA,EACbP,KAAMA,EACN2B,aAAcA,EACdG,KAAMA,EACNE,UAAWA,EACX9F,eAAgBA,IACd+F,OAGFjD,EAAAA,KACFqC,EAAOpC,YAAc,UAGvB,IAAIuD,EAAc,SAAqB9G,GACrC,IAAIE,EAAMF,EAAME,IACZC,EAASH,EAAMG,OACfE,EAAUL,EAAMK,QAChBwE,EAAc7E,EAAM6E,YACpBP,EAAOtE,EAAMsE,KACb2B,EAAejG,EAAMiG,aACrBhG,EAAUD,EAAMC,QAChBqG,EAAYtG,EAAMsG,UAClBS,EAAc/G,EAAMoG,KACpBA,OAAuB,IAAhBW,EAAsChF,EAAAA,cAAoBkD,EAAa,MAAQ8B,EAMtFpG,EAASZ,EAAS,CACpBG,IAAKA,EACLG,QAASA,EACTG,eARmBR,EAAMQ,iBAqB3B,OAFoBN,KATO,WAAXS,GAYP2D,EAAoBvC,EAAAA,cAAoB6C,EAAY,CACzDvB,UAAW,0BACXwB,YAAaA,EACbP,KAAMA,IACUvC,EAAAA,aAAmBqE,EAAM,CACzCrB,KAAM,MACN,aAAcuB,IAQEvE,EAAAA,cAAoBoB,EAAAA,GAAAA,IAAY,CAClDjD,IAAKA,EACLC,OAAQA,EACRgC,IAAKmC,EACLjB,UAAW,qBACXpD,QAASA,EACTmE,MAAO,CACL/B,MAAO,OACPC,OAAQ,OACRU,UAAW,QACXiD,aAAcA,MAKhB3C,EAAAA,KACFwD,EAAYvD,YAAc,eAG5B,IAAI3B,EAAY,CAAC,WAAY,cAAe,MAAO,UAAW,gBAK1DoF,GAA2BxE,EAAAA,EAAAA,KAAW,SAAUxC,EAAOgC,GACzD,IAAI8C,GAASc,EAAAA,EAAAA,IAAoB,SAAU5F,GAEvC6F,GAAoBC,EAAAA,EAAAA,IAAiB9F,GACrCuG,EAAWV,EAAkBU,SAC7BC,EAAcX,EAAkBW,YAChCS,EAAMpB,EAAkBoB,IACxBC,EAAwBrB,EAAkBsB,QAC1CA,OAAoC,IAA1BD,EAAmC,WAAaA,EAC1DlB,EAAwBH,EAAkBI,aAC1CA,OAAyC,IAA1BD,EAAmC,OAASA,EAC3D5D,EAAO1C,EAA8BmG,EAAmBjE,GAExDwF,GAAgBC,EAAAA,EAAAA,IAAiBd,GAKjCe,EAAoBL,EAAMG,EAAcG,MAAM,EAAGN,GAAOG,EAKxDI,EAAgB,MAAPP,GAAeG,EAAclI,OAAS+H,EAO/CQ,EADmBH,EAAkBI,UACXC,KAAI,SAAUC,EAAOC,GACjD,IAAIC,EAGAC,EAAa,CACfC,UAF4B,IAAVH,EAES,EAAIV,EAC/Bc,KAAMjI,EAAMiI,KACZzB,YAAkE,OAApDsB,EAAwBF,EAAM5H,MAAMwG,aAAuBsB,EAAwBtB,EACjGT,YAAY,GAEd,OAAoBhE,EAAAA,aAAmB6F,GAAOM,EAAAA,EAAAA,IAAgBH,OAS5DI,EAAevJ,EAAS,CAC1BqH,aAAcA,EACdmC,YAAajB,GACZ7B,EAAWR,EAAOuD,aAErB,OAAoBtG,EAAAA,cAAoBoB,EAAAA,GAAAA,IAAYvE,EAAS,CAC3DoD,IAAKA,EACL+C,KAAM,QACNX,MAfgB,CAChBR,QAAS,OACTC,WAAY,SACZC,eAAgB,WAChBwE,cAAe,gBAYdlG,EAAM,CACPiB,WAAWc,EAAAA,EAAAA,IAAG,uBAAwBnE,EAAMqD,aAC1CmE,EAAS,GAAkBzF,EAAAA,cAAoBoB,EAAAA,GAAAA,KAAa,CAC9DE,UAAW,wBACXe,MAAO+D,GACN,IAAMX,GAASC,MAGhBnE,EAAAA,KACF0D,EAAYzD,YAAc,yOC5G5B,IAAID,GAAUiF,GAwDA,SAAiBC,GAC7B,IAAIC,EAAQ,IAAIC,QAwBAC,EAnClB,SAAaC,EAAKC,EAAMnG,EAAUmF,GAChC,IAAIzI,EAAsB,kBAATyJ,EAAoBA,EAAKrE,MAAM,KAAO,CAACqE,GAExD,IAAKhB,EAAQ,EAAGA,EAAQzI,EAAIF,QACrB0J,EAD6Bf,GAAS,EAE3Ce,EAAMA,EAAIxJ,EAAIyI,IAGhB,YAAe/E,IAAR8F,EAAoBlG,EAAWkG,KA0PV,qBAAXE,SAA0BA,OAAOC,UAAYD,OAAOC,SAASC,cAqH1D,CAAC,wBAAyB,yBAA0B,2BAA4B,QAAS,SAAU,SAAU,UAAW,aAAc,yBAA0B,aAAc,kBAAmB,kBAAmB,mCAAoC,sBACpOC,OAgK1C,SAASC,EAAKV,GACZ,IAAIW,EACJ,OAAO,WACL,GAAIX,EAAI,CACN,IAAK,IAAIY,EAAQnK,UAAUC,OAAQmK,EAAO,IAAIC,MAAMF,GAAQG,EAAQ,EAAGA,EAAQH,EAAOG,IACpFF,EAAKE,GAAStK,UAAUsK,GAG1BJ,EAASX,EAAGhJ,MAAMC,KAAM4J,GACxBb,EAAK,KAGP,OAAOW,GAIAD,GAAK,SAAUM,GACxB,OAAO,WACWA,EAAQC,UACVD,EAAQE,YAOdR,GAAK,SAAUM,GACzB,OAAO,WACWA,EAAQC,UACVD,EAAQE,YAiLLC,OAAOC,iBACPD,OAAOE,iBA+dVhL,OAAOiL,OAAO,CAAC,OAAQ,KAAM,KAAM,KAAM,KAAM,sBC18CjE,SAASlL,IAeP,OAdAA,EAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,IAK3B,OAAOL,GAGFH,EAASY,MAAMC,KAAMR,WAkB9B,IAAI2C,EAAY,CAAC,KAAM,UAAW,QAAS,YAAa,WAAY,YAAa,SAC7EmI,EAAe,CACjBlB,KAAmB9G,EAAAA,cAAoB,IAAK,CAC1CiI,OAAQ,eACRC,YAAa,OACClI,EAAAA,cAAoB,OAAQ,CAC1CmI,cAAe,QACf9E,KAAM,OACNC,EAAG,uDACYtD,EAAAA,cAAoB,OAAQ,CAC3CqD,KAAM,eACN8E,cAAe,QACf7E,EAAG,gEACYtD,EAAAA,cAAoB,SAAU,CAC7CqD,KAAM,OACN+E,iBAAkB,KAClBhG,GAAI,KACJiG,GAAI,KACJC,EAAG,WAELnF,QAAS,aAEPoF,GAAoB9H,EAAAA,EAAAA,KAAW,SAAUxC,EAAOgC,GAClD,IAAIuI,EAAUvK,EAAMoD,GAChB8B,EAAUlF,EAAMkF,QAChBsF,EAAexK,EAAMmF,MACrBA,OAAyB,IAAjBqF,EAA0B,eAAiBA,EACnDC,EAAmBzK,EAAM0K,UACzBA,OAAiC,IAArBD,GAAsCA,EAClDlE,EAAWvG,EAAMuG,SACjBlD,EAAYrD,EAAMqD,UAClBe,EAAQpE,EAAMoE,MACdhC,EA/CN,SAAuCjD,EAAQQ,GAC7C,GAAc,MAAVR,EAAgB,MAAO,GAC3B,IAEIC,EAAKJ,EAFLD,EAAS,GACTa,EAAaf,OAAOgB,KAAKV,GAG7B,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IACjCI,EAAMQ,EAAWZ,GACbW,EAASG,QAAQV,IAAQ,IAC7BL,EAAOK,GAAOD,EAAOC,IAGvB,OAAOL,EAmCIW,CAA8BM,EAAO4B,GAE5C+I,ED4cG,WACP,IAAK,IAAIC,EAAO3L,UAAUC,OAAQ2L,EAAa,IAAIvB,MAAMsB,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IACrFD,EAAWC,GAAQ7L,UAAU6L,GAG/B,OAAOD,EAAWE,OAAOC,SAAS/B,KAAK,KCjdtB9E,CAAG,cAAed,GAW/BN,EAAS,CACXf,IAAKA,EACL0I,UAAWA,EACXrH,UAAWsH,EACXvG,MAbWxF,EAAS,CACpBqM,EAAG,MACHC,EAAG,MACHtH,QAAS,eACTuH,WAAY,MACZzF,WAAY,EACZP,MAAOA,GACNf,IASCgH,EAAsB,MAAXlG,EAAkBA,EAAU6E,EAAa7E,QAOxD,GAAIqF,GAA8B,kBAAZA,EACpB,OAAoBxI,EAAAA,cAAoBoB,EAAAA,GAAAA,IAAYvE,EAAS,CAC3DwE,GAAImH,GACHxH,EAAQX,IAGb,IAAIiJ,EAAoB,MAAZ9E,EAAmBA,EAAWwD,EAAalB,KAEvD,OAAoB9G,EAAAA,cAAoBoB,EAAAA,GAAAA,IAAYvE,EAAS,CAC3D0M,cAAe,SACfpG,QAASkG,GACRrI,EAAQX,GAAOiJ,MASpB,SAASE,EAAW/B,GAClB,IAAIgC,EAAmBhC,EAAQtE,QAC3BA,OAA+B,IAArBsG,EAA8B,YAAcA,EACtDC,EAAiBjC,EAAQnE,EACzBwD,EAAOW,EAAQX,KAEf6C,GADclC,EAAQjG,YACEiG,EAAQmC,cAChCA,OAAyC,IAA1BD,EAAmC,GAAKA,EACvDE,GAAoBpJ,EAAAA,EAAAA,KAAW,SAAUxC,EAAOgC,GAClD,OAAoBD,EAAAA,cAAoBuI,EAAM1L,EAAS,CACrDoD,IAAKA,EACLkD,QAASA,GACRyG,EAAc3L,GAAgB,MAAR6I,EAAeA,EAAoB9G,EAAAA,cAAoB,OAAQ,CACtFqD,KAAM,eACNC,EAAGoG,QAQP,OAAOG,ECtIML,EAAW,CACxBlG,EAAG,kIACH9B,YAAa,aAGEgI,EAAW,CAC1BlG,EAAG,kMACH9B,YAAa,eAGGgI,EAAW,CAC3BlG,EAAG,iMACH9B,YAAa,gBAGAgI,EAAW,CACxBlG,EAAG,qOACH9B,YAAa,aAGDgI,EAAW,CACvBhI,YAAa,UACbsF,KAAmB9G,EAAAA,cAAoB,IAAK,CAC1C8J,eAAgB,QAChB3B,cAAe,QACfD,YAAa,IACb7E,KAAM,OACN4E,OAAQ,gBACMjI,EAAAA,cAAoB,SAAU,CAC5CoC,GAAI,KACJiG,GAAI,KACJC,EAAG,MACYtI,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,YACYtD,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,aACYtD,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,yBACYtD,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,2BACYtD,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,YACYtD,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,aACYtD,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,0BACYtD,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,6BA/CP,IAmDIyG,EAAUP,EAAW,CACvBlG,EAAG,kOACH9B,YAAa,YAkCXwI,GA/BeR,EAAW,CAC5BhI,YAAa,eACb2B,QAAS,YACT2D,KAAmB9G,EAAAA,cAAoB,OAAQ,CAC7CqD,KAAM,eACNC,EAAG,qIACH2G,SAAU,cAIKT,EAAW,CAC5BrG,QAAS,YACTG,EAAG,qdACH9B,YAAa,iBAGOgI,EAAW,CAC/BhI,YAAa,kBACb8B,EAAG,uLAGUkG,EAAW,CACxBlG,EAAG,qRACH9B,YAAa,aAGEgI,EAAW,CAC1BlG,EAAG,wRACH9B,YAAa,eAGAgI,EAAW,CACxBhI,YAAa,WACbsF,KAAmB9G,EAAAA,cAAoB,IAAK,CAC1CqD,KAAM,gBACQrD,EAAAA,cAAoB,OAAQ,CAC1CsD,EAAG,yQACYtD,EAAAA,cAAoB,SAAU,CAC7CoC,GAAI,KACJiG,GAAI,KACJC,EAAG,UA4EH4B,GAxEcV,EAAW,CAC3BhI,YAAa,cACbsF,KAAmB9G,EAAAA,cAAoB,IAAK,CAC1CqD,KAAM,gBACQrD,EAAAA,cAAoB,OAAQ,CAC1CsD,EAAG,saACYtD,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,wTAIYkG,EAAW,CAC5BlG,EAAG,+MACH9B,YAAa,eACb2B,QAAS,cAGMqG,EAAW,CAC1BhI,YAAa,aACbsF,KAAmB9G,EAAAA,cAAoB,IAAK,CAC1CqD,KAAM,gBACQrD,EAAAA,cAAoB,OAAQ,CAC1CsD,EAAG,2cAIUkG,EAAW,CAC1BhI,YAAa,aACbsF,KAAmB9G,EAAAA,cAAoB,IAAK,CAC1CqD,KAAM,gBACQrD,EAAAA,cAAoB,OAAQ,CAC1CsD,EAAG,wXACYtD,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,oZAIekG,EAAW,CAC/BhI,YAAa,kBACbsF,KAAmB9G,EAAAA,cAAoB,IAAK,CAC1CqD,KAAM,gBACQrD,EAAAA,cAAoB,OAAQ,CAC1CsD,EAAG,+GACYtD,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,0TAIQkG,EAAW,CACxBhI,YAAa,WACbsF,KAAmB9G,EAAAA,cAAoB,IAAK,CAC1CqD,KAAM,OACN4E,OAAQ,eACRE,cAAe,QACfD,YAAa,KACClI,EAAAA,cAAoB,OAAQ,CAC1CsD,EAAG,+DACYtD,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,+DAIekG,EAAW,CAC/BlG,EAAG,gDACH9B,YAAa,oBAGQgI,EAAW,CAChClG,EAAG,iDACH9B,YAAa,qBAGOgI,EAAW,CAC/BhI,YAAa,kBACb8B,EAAG,kDAQD6G,GALgBX,EAAW,CAC7BlG,EAAG,iDACH9B,YAAa,kBAGKgI,EAAW,CAC7BlG,EAAG,+DACH9B,YAAa,mBAsMX4I,GAnMmBZ,EAAW,CAChClG,EAAG,4DACH9B,YAAa,qBAGGgI,EAAW,CAC3BlG,EAAG,8DACH9B,YAAa,gBAGOgI,EAAW,CAC/BrG,QAAS,YACTG,EAAG,oOACH9B,YAAa,oBAGKgI,EAAW,CAC7BlG,EAAG,iEACH9B,YAAa,kBAGQgI,EAAW,CAChChI,YAAa,mBACbsF,KAAmB9G,EAAAA,cAAoB,IAAK,CAC1CqD,KAAM,OACN4E,OAAQ,eACRE,cAAe,QACfD,YAAa,KACClI,EAAAA,cAAoB,OAAQ,CAC1CsD,EAAG,6DACYtD,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,cACYtD,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,mBAIQkG,EAAW,CACxBhI,YAAa,WACbsF,KAAmB9G,EAAAA,cAAoB,IAAK,CAC1CqD,KAAM,gBACQrD,EAAAA,cAAoB,OAAQ,CAC1CsD,EAAG,4SACYtD,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,gVAIckG,EAAW,CAC9BhI,YAAa,iBACbsF,KAAmB9G,EAAAA,cAAoB,IAAK,CAC1CqD,KAAM,OACN4E,OAAQ,eACRE,cAAe,QACfD,YAAa,KACClI,EAAAA,cAAoB,OAAQ,CAC1CO,OAAQ,KACRD,MAAO,KACP+J,GAAI,IACJC,GAAI,IACJC,EAAG,IACHC,EAAG,MACYxK,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,YACYtD,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,eAIYkG,EAAW,CAC5BhI,YAAa,eACb2B,QAAS,YACTG,EAAG,ukBAGUkG,EAAW,CACxBlG,EAAG,qtDACH9B,YAAa,WACb2B,QAAS,cAGIqG,EAAW,CACxBhI,YAAa,WACbsF,KAAmB9G,EAAAA,cAAoB,IAAK,CAC1CqD,KAAM,gBACQrD,EAAAA,cAAoB,OAAQ,CAC1CsD,EAAG,wGACYtD,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,wIAIckG,EAAW,CAC9BhI,YAAa,iBACbsF,KAAmB9G,EAAAA,cAAoB,IAAK,CAC1CqD,KAAM,gBACQrD,EAAAA,cAAoB,OAAQ,CAC1CsD,EAAG,iMACYtD,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,oMAIakG,EAAW,CAC7BhI,YAAa,gBACbsF,KAAmB9G,EAAAA,cAAoB,IAAK,CAC1CqD,KAAM,gBACQrD,EAAAA,cAAoB,OAAQ,CAC1CsD,EAAG,kMACYtD,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,+LAIUkG,EAAW,CAC1BhI,YAAa,aACb8B,EAAG,sbAGgBkG,EAAW,CAC9BhI,YAAa,iBACb8B,EAAG,sWAGYkG,EAAW,CAC1BhI,YAAa,aACb2B,QAAS,aACTG,EAAG,+eAGUkG,EAAW,CACxBlG,EAAG,iYACH9B,YAAa,aAGCgI,EAAW,CACzBhI,YAAa,YACbsF,KAAmB9G,EAAAA,cAAoB,IAAK,CAC1CqD,KAAM,gBACQrD,EAAAA,cAAoB,OAAQ,CAC1CsD,EAAG,sJACYtD,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,gZAISkG,EAAW,CACzBlG,EAAG,s3BACH9B,YAAa,YACb2B,QAAS,cAGUqG,EAAW,CAC9BrG,QAAS,YACTG,EAAG,4xBACH9B,YAAa,mBAGGgI,EAAW,CAC3BhI,YAAa,cACbsF,KAAmB9G,EAAAA,cAAoBA,EAAAA,SAAgB,KAAmBA,EAAAA,cAAoB,OAAQ,KAAmBA,EAAAA,cAAoB,iBAAkB,CAC7JyK,GAAI,UACJC,GAAI,SACJC,GAAI,UACJC,GAAI,UACJC,GAAI,KACU7K,EAAAA,cAAoB,OAAQ,CAC1C8K,UAAW,eACXC,OAAQ,OACO/K,EAAAA,cAAoB,OAAQ,CAC3C8K,UAAW,OACXE,YAAa,IACbD,OAAQ,WACS/K,EAAAA,cAAoB,IAAK,CAC1CiL,UAAW,eACX5H,KAAM,QACQrD,EAAAA,cAAoB,SAAU,CAC5CiI,OAAQ,UACRC,YAAa,IACb9F,GAAI,KACJiG,GAAI,KACJC,EAAG,OACYtI,EAAAA,cAAoB,OAAQ,CAC3CsD,EAAG,6BACH2E,OAAQ,eACRC,YAAa,MACElI,EAAAA,cAAoB,OAAQ,CAC3CqD,KAAM,eACNkH,EAAG,IACHjK,MAAO,IACPC,OAAQ,IACR8J,GAAI,UAIQb,EAAW,CACzBhI,YAAa,YACb8B,EAAG,sRAuDD4H,GApDiB1B,EAAW,CAC9BhI,YAAa,iBACb2B,QAAS,YACT2D,KAAmB9G,EAAAA,cAAoB,OAAQ,CAC7CsD,EAAG,oPACH2G,SAAU,UACV5G,KAAM,mBAIWmG,EAAW,CAC9BlG,EAAG,iPACH9B,YAAa,mBAGQgI,EAAW,CAChClG,EAAG,uMACH9B,YAAa,qBAGMgI,EAAW,CAC9BlG,EAAG,mMACH9B,YAAa,mBAGOgI,EAAW,CAC/BhI,YAAa,kBACbsF,KAAmB9G,EAAAA,cAAoB,IAAK,CAC1CqD,KAAM,eACN4E,OAAQ,eACRE,cAAe,SACfD,YAAa,KACClI,EAAAA,cAAoB,SAAU,CAC5CoC,GAAI,KACJiG,GAAI,KACJhF,KAAM,OACNiF,EAAG,KACHL,OAAQ,iBACOjI,EAAAA,cAAoB,OAAQ,CAC3CqD,KAAM,OACNoH,GAAI,SACJE,GAAI,SACJD,GAAI,KACJE,GAAI,OACW5K,EAAAA,cAAoB,SAAU,CAC7CoC,GAAI,SACJiG,GAAI,IACJC,EAAG,IACHL,OAAQ,YAIGuB,EAAW,CACxBhI,YAAa,WACb8B,EAAG,sKAGUkG,EAAW,CACxBlG,EAAG,sQAGckG,EAAW,CAC5BlG,EAAG,qNACH9B,YAAa,iBAGWgI,EAAW,CACnChI,YAAa,sBACbsF,KAAmB9G,EAAAA,cAAoB,IAAK,CAC1CiI,OAAQ,eACRC,YAAa,OACClI,EAAAA,cAAoB,OAAQ,CAC1CmI,cAAe,QACf9E,KAAM,OACNC,EAAG,uDACYtD,EAAAA,cAAoB,OAAQ,CAC3CqD,KAAM,OACN8E,cAAe,QACf7E,EAAG,gEACYtD,EAAAA,cAAoB,SAAU,CAC7CqD,KAAM,OACN+E,iBAAkB,KAClBhG,GAAI,KACJiG,GAAI,KACJC,EAAG,aAIWkB,EAAW,CAC3BlG,EAAG,0VACH9B,YAAa,gBAGMgI,EAAW,CAC9BhI,YAAa,iBACb8B,EAAG,6RAGWkG,EAAW,CACzBrG,QAAS,YACT2D,KAAmB9G,EAAAA,cAAoB,IAAK,CAC1CqD,KAAM,gBACQrD,EAAAA,cAAoB,UAAW,CAC7CmL,OAAQ,qFAII3B,EAAW,CACzBhI,YAAa,YACbsF,KAAmB9G,EAAAA,cAAoB,IAAK,CAC1CqD,KAAM,gBACQrD,EAAAA,cAAoB,OAAQ,CAC1CO,OAAQ,IACRD,MAAO,KACPiK,EAAG,IACHC,EAAG,UAIahB,EAAW,CAC7BhI,YAAa,gBACb2B,QAAS,YACTG,EAAG,sfCtfL,SAASzG,IAeP,OAdAA,EAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,IAK3B,OAAOL,GAGFH,EAASY,MAAMC,KAAMR,WAG9B,SAASS,EAA8BP,EAAQQ,GAC7C,GAAc,MAAVR,EAAgB,MAAO,GAC3B,IAEIC,EAAKJ,EAFLD,EAAS,GACTa,EAAaf,OAAOgB,KAAKV,GAG7B,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IACjCI,EAAMQ,EAAWZ,GACbW,EAASG,QAAQV,IAAQ,IAC7BL,EAAOK,GAAOD,EAAOC,IAGvB,OAAOL,EAGT,IAAIyE,EAAc,CAAC,KAAM,gBAAiB,cAAe,aAAc,SAAU,SAAU,gBAAiB,UAAW,SAAU,YAAa,eAAgB,YAAa,0BACvK2J,EAAe,CAAC,eAAgB,cAAe,eAAgB,UAAW,aAAc,cAAe,iBACvGC,EAAe,CAAC,OAAQ,aAMxBC,GAAwBC,EAAAA,EAAAA,KACxBC,EAA0BF,EAAsB,GAChDG,EAA4BH,EAAsB,GAClDI,EAAqBJ,EAAsB,GAC3CK,EAAoBL,EAAsB,GAE1CM,GAAiBC,EAAAA,EAAAA,IAAc,CACjCC,QAAQ,EACRvJ,KAAM,gBAEJwJ,EAAeH,EAAe,GAC9BI,EAAiBJ,EAAe,GAyPpC,SAASK,EAAiBjP,GACxB,IAAIkP,EAGJ,OAAOC,EAAAA,EAAAA,IAAcnP,MAAsE,OAAvDkP,EAAuBlP,EAAOoP,aAAa,WAAoBF,EAAqBG,WAAW,aAgJrI,SAASC,EAAYrO,EAAOsO,QACZ,IAAVtO,IACFA,EAAQ,SAGU,IAAhBsO,IACFA,EAAc,MAGhB,IAAIC,EAAUvO,EACVwO,EAAmBD,EAAQE,aAC3BC,EAAkBH,EAAQI,YAC1BC,EAAmBL,EAAQM,aAC3BC,EAAcP,EAAQQ,QACtBC,EAAaT,EAAQS,WACrBC,EAAcV,EAAQU,YACtBC,EAAgBX,EAAQW,cACxBC,EAAYzP,EAA8B6O,EAASpB,GAEnDiC,EAAOrB,IACPsB,EAAkBD,EAAKC,gBACvBC,EAAeF,EAAKE,aACpBC,EAAoBH,EAAKF,cACzBM,EAAUJ,EAAKI,QACfC,EAAUL,EAAKK,QACfC,EAASN,EAAKM,OACdC,EAASP,EAAKO,OACd3N,EAAMD,EAAAA,OAAa,MACnB6K,EAAK+C,EAAS,cAAeC,EAAAA,EAAAA,MAK7BC,EAAqBnC,EAAkB,CACzCoC,SAAUd,IAAeC,IAEvBpH,EAAQgI,EAAmBhI,MAC3BkI,EAAWF,EAAmBE,SAE9BtB,EAAe1M,EAAAA,aAAkB,SAAUR,GACzB,MAApBiN,GAAoCA,EAAiBjN,GACjDyN,GACJK,EAAgBxH,KACf,CAACwH,EAAiBxH,EAAOmH,EAAYR,IACpCG,EAAc5M,EAAAA,aAAkB,SAAUR,GACzB,MAAnBmN,GAAmCA,EAAgBnN,GAE/CS,EAAIN,WAAYsO,EAAAA,EAAAA,IAAgBhO,EAAIN,UACtC+M,EAAalN,KAEd,CAACkN,EAAcC,IACdG,EAAe9M,EAAAA,aAAkB,SAAUR,GACzB,MAApBqN,GAAoCA,EAAiBrN,GACjDyN,GACJK,GAAiB,KAChB,CAACA,EAAiBL,EAAYJ,IAC7BG,EAAUhN,EAAAA,aAAkB,SAAUR,GACzB,MAAfuN,GAA+BA,EAAYvN,GACtCyM,EAAiBzM,EAAM0O,iBAMP,MAAjBf,EAAwBA,EAAgBK,IAC1CC,MAED,CAACA,EAASV,EAAaS,EAAmBL,IACzCgB,EAAYrI,IAAUyH,EACtBa,EAAgBnB,IAAeC,EAyBnC,OAxBAmB,EAAAA,EAAAA,KAAgB,WACTV,IAEDQ,IAAcC,GAAiBnO,EAAIN,SACrC2O,EAAAA,EAAAA,IAAMrO,EAAIN,QAAS,CACjB4O,UAAU,EACVC,mBAAmB,EACnBC,eAAe,IAERf,EAAQ/N,WAAYsO,EAAAA,EAAAA,IAAgBP,EAAQ/N,WACrD2O,EAAAA,EAAAA,IAAMZ,EAAQ/N,QAAS,CACrB8O,eAAe,OAGlB,CAACN,EAAWC,EAAeV,EAASC,IAUhC9Q,EAAS,GAAIuQ,GATCsB,EAAAA,EAAAA,GAAa,CAChC1B,QAASA,EACTN,aAAcA,EACdE,YAAaA,EACbE,aAAcA,EACd7M,KAAK0O,EAAAA,EAAAA,IAAUX,EAAU/N,EAAKsM,GAC9BU,WAAYA,EACZC,YAAaA,IAEgC,CAC7CrC,GAAIA,EACJ7H,KAAM,WACN4L,SAAUT,EAAY,GAAK,IAyG/B,IAAItO,EAAY,CAAC,eACbC,EAAa,CAAC,WAAY,MAC1B+O,EAAa,CAAC,aACdC,EAAa,CAAC,QACdC,EAAa,CAAC,OAAQ,cAAe,UAAW,iBAAkB,YAClEC,EAAa,CAAC,OAAQ,eAEtBC,EAAa,CAAC,QAAS,WAAY,aACnCC,EAAa,CAAC,YAAa,YAC3BC,EAAc,CAAC,aAMfC,EAAO,SAAcnR,GACvB,IAAIuG,EAAWvG,EAAMuG,SACjBzB,GAASc,EAAAA,EAAAA,IAAoB,OAAQ5F,GAMrCoR,EAtmBN,SAAiBpR,QACD,IAAVA,IACFA,EAAQ,IAGV,IAAIqR,EAASrR,EACT4M,EAAKyE,EAAOzE,GACZ0E,EAAuBD,EAAOnC,cAC9BA,OAAyC,IAAzBoC,GAAyCA,EACzDC,EAAqBF,EAAOG,YAC5BA,OAAqC,IAAvBD,GAAuCA,EACrDE,EAAoBJ,EAAOK,WAC3BA,OAAmC,IAAtBD,GAAsCA,EACnDE,EAASN,EAAOM,OAChBC,EAAaP,EAAO3B,OACpBmC,EAAgBR,EAAOQ,cACvBC,EAAcT,EAAO7B,QACrBuC,EAAaV,EAAOW,OACpBC,EAAmBZ,EAAOa,UAC1BA,OAAiC,IAArBD,EAA8B,eAAiBA,EAC3DE,EAAsBd,EAAOe,aAC7BA,OAAuC,IAAxBD,EAAiC,UAAYA,EAC5DE,EAAYhB,EAAOgB,UACnBC,EAAwBjB,EAAOkB,uBAC/BA,OAAmD,IAA1BD,GAA2CA,EACpEE,EAAc9S,EAA8B2R,EAAQ7N,GAMpDiM,EAAU1N,EAAAA,OAAa,MACvB0Q,EAAY1Q,EAAAA,OAAa,MAKzB2Q,EAAcjF,IACdkF,EAAY5Q,EAAAA,aAAkB,YAChCsO,EAAAA,EAAAA,IAAMZ,EAAQ/N,QAAS,CACrB4O,UAAU,EACVC,mBAAmB,MAEpB,IACCqC,EAAiB7Q,EAAAA,aAAkB,WACrC,IAAI6K,EAAKiG,YAAW,WAClB,IAAIC,EAAQJ,EAAYK,eACpBD,GAAOzD,EAAgByD,EAAMjL,UAEnCmL,EAAWtR,QAAQuR,IAAIrG,KACtB,CAAC8F,IACAQ,EAAgBnR,EAAAA,aAAkB,WACpC,IAAI6K,EAAKiG,YAAW,WAClB,IAAIM,EAAOT,EAAYU,cACnBD,GAAM9D,EAAgB8D,EAAKtL,UAEjCmL,EAAWtR,QAAQuR,IAAIrG,KACtB,CAAC8F,IACAW,EAAiBtR,EAAAA,aAAkB,WACvB,MAAdgQ,GAA8BA,IAE1BL,EACFkB,IAEAD,MAED,CAACjB,EAAYkB,EAAgBD,EAAWZ,IAEvCuB,GAAiBC,EAAAA,EAAAA,IAAc,CACjC7D,OAAQkC,EACRC,cAAeA,EACfrC,QAASsC,EACTE,OAAQqB,IAEN3D,EAAS4D,EAAe5D,OACxBsC,EAASsB,EAAetB,OACxBxC,EAAU8D,EAAe9D,QACzBgE,EAAWF,EAAeE,UAE9BC,EAAAA,EAAAA,IAAgB,CACdC,QAAShE,GAAU8B,EACnBxP,IAAKyN,EACLkE,QAAS,SAAiBpS,GACxB,IAAIqS,EAE8C,OAA3CA,EAAqBnB,EAAU/Q,UAAoBkS,EAAmBC,SAAStS,EAAMxC,SAC1FyQ,OAQN,IAAIsE,GAASC,EAAAA,EAAAA,GAAUnV,EAAS,GAAI4T,EAAa,CAC/CkB,QAAShE,GAAU6C,EACnBL,UAAWA,EACXG,UAAWA,KAGT2B,EAAkBjS,EAAAA,UAAgB,GAClCuN,EAAe0E,EAAgB,GAC/B3E,EAAkB2E,EAAgB,IAMtC5D,EAAAA,EAAAA,KAAgB,WACTV,GACHL,GAAiB,KAElB,CAACK,KACJuE,EAAAA,EAAAA,IAAexE,EAAS,CACtByE,SAAUzB,EACV0B,QAASzE,EACT0E,aAAa,IAEf,IAAIC,GAAiBC,EAAAA,EAAAA,GAAkB,CACrC5E,OAAQA,EACR1N,IAAKyN,IAMH8E,GAAUC,EAAAA,EAAAA,IAAO5H,EAAI,cAAe,aACpC6H,EAAWF,EAAQ,GACnB5E,EAAS4E,EAAQ,GAEjBG,EAAmB3S,EAAAA,aAAkB,WACvCiQ,IACAW,MACC,CAACX,EAAQW,IACRK,EAAajR,EAAAA,OAAa,IAAI4S,IAAI,KA+BtC,OA9BAC,EAAAA,EAAAA,KAAiB,WACf5B,EAAWtR,QAAQmT,SAAQ,SAAUjI,GACnC,OAAOkI,aAAalI,MAEtBoG,EAAWtR,QAAQqT,WA0Bd,CACLL,iBAAkBA,EAClBM,sBA1B0BjT,EAAAA,aAAkB,WAC5CiQ,IACAY,MACC,CAACA,EAAgBZ,IAwBlBiD,qBAvByBlT,EAAAA,aAAkB,WAC3CiQ,IACAkB,MACC,CAAClB,EAAQkB,IAqBVgC,gBApBYnT,EAAAA,aAAkB,WAC9B,IAAIoT,EAAkBC,EAElBC,GAAMC,EAAAA,EAAAA,IAAiB7F,EAAQ/N,SAC/B6T,EAAyD,OAAvCJ,EAAmB1F,EAAQ/N,cAAmB,EAASyT,EAAiBtB,SAASwB,EAAIG,eAE3G,GADoB9F,IAAW6F,EAC/B,CACA,IAAIE,EAA+D,OAAvDL,EAAoB1C,EAAYgD,KAAKpG,SAAyB,EAAS8F,EAAkBK,KAEjGA,IACFpF,EAAAA,EAAAA,IAAMoF,EAAM,CACVlF,mBAAmB,EACnBC,eAAe,OAGlB,CAACd,EAAQJ,EAAcoD,IAMxBiD,yBAA0BtB,EAC1B3B,YAAaA,EACboB,OAAQA,EACRW,SAAUA,EACV9E,OAAQA,EACRiG,YAAa9B,EAAO8B,YACpBC,YAAa,WACbnG,OAAQA,EACR8D,SAAUA,EACVxB,OAAQA,EACRxC,QAASA,EACTC,QAASA,EACTgD,UAAWA,EACXnD,aAAcA,EACdJ,cAAeA,EACfsC,YAAaA,EACbE,WAAYA,EACZrC,gBAAiBA,EACjBsC,OAAQA,EACRS,aAAcA,GAyaD0D,CAAQlX,EAAS,IALjBkH,EAAAA,EAAAA,IAAiB9F,GAKc,CAC5CqS,WAJc0D,EAAAA,EAAAA,MACU1D,aAKtBK,EAActB,EAASsB,YACvBsD,EAAMtW,EAA8B0R,EAAUxP,GAE9CqU,EAAUlU,EAAAA,SAAc,WAC1B,OAAOiU,IACN,CAACA,IACAtG,EAASuG,EAAQvG,OACjBF,EAAUyG,EAAQzG,QAClBoG,EAAcK,EAAQL,YAC1B,OAAoB7T,EAAAA,cAAoBwL,EAAyB,CAC/D1G,MAAO6L,GACO3Q,EAAAA,cAAoB+L,EAAc,CAChDjH,MAAOoP,GACOlU,EAAAA,cAAoB6E,EAAAA,GAAgB,CAClDC,MAAO/B,IACNoR,EAAAA,EAAAA,IAAQ3P,EAAU,CACnBmJ,OAAQA,EACRF,QAASA,EACToG,YAAaA,QAIbtS,EAAAA,KACF6N,EAAK5N,YAAc,QAGrB,IAAI4S,GAAgC3T,EAAAA,EAAAA,KAAW,SAAUxC,EAAOgC,GAC9D,IAAI8C,GAASb,EAAAA,EAAAA,MACb,OAAoBlC,EAAAA,cAAoBoB,EAAAA,GAAAA,OAAevE,EAAS,CAC9DoD,IAAKA,GACJhC,EAAO,CACRoE,MAAOxF,EAAS,CACdgF,QAAS,cACTwS,WAAY,OACZvS,WAAY,SACZwS,QAAS,GACRvR,EAAOwR,cAOVC,GAA0B/T,EAAAA,EAAAA,KAAW,SAAUxC,EAAOgC,GACxDhC,EAAMuG,SACF,IAAIiQ,EAAKxW,EAAMoD,GAGfqT,EAjdN,SAAuBzW,EAAOsO,QACd,IAAVtO,IACFA,EAAQ,SAGU,IAAhBsO,IACFA,EAAc,MAGhB,IAAIc,EAAOrB,IACPyF,EAAWpE,EAAKoE,SAChBM,EAAS1E,EAAK0E,OACdkB,EAAwB5F,EAAK4F,sBAC7BC,EAAuB7F,EAAK6F,qBAC5ByB,EAAY3U,EAAAA,aAAkB,SAAUR,GAC1C,IAAIoV,GAAWC,EAAAA,EAAAA,IAAkBrV,GAM7BsV,EALS,CACXC,MAAO9B,EACP+B,UAAW/B,EACXgC,QAAS/B,GAES0B,GAEhBE,IACFtV,EAAM0V,iBACN1V,EAAM2V,kBACNL,EAAOtV,MAER,CAACyT,EAAuBC,IAC3B,OAAOrW,EAAS,GAAIoB,EAAO,CACzBgC,KAAK0O,EAAAA,EAAAA,IAAUtB,EAAKqD,UAAWnE,EAAawF,EAAOqD,cACnDvK,GAAIwC,EAAKqF,SACT,eAAe2C,EAAAA,EAAAA,IAAShI,EAAKM,QAC7B,gBAAiBN,EAAKM,OACtB,gBAAiB,OACjB,gBAAiBN,EAAKO,OACtBZ,SAASsI,EAAAA,EAAAA,IAAgBrX,EAAM+O,QAASyE,GACxCkD,WAAWW,EAAAA,EAAAA,IAAgBrX,EAAM0W,UAAWA,KA4a5BY,CAFP5X,EAA8BM,EAAO6B,GAEVG,GAClCuV,EAAUf,GAAML,EACpB,OAAoBpU,EAAAA,cAAoBwV,EAAS3Y,EAAS,GAAI6X,EAAa,CACzEpT,WAAWc,EAAAA,EAAAA,IAAG,2BAA4BnE,EAAMqD,aACjCtB,EAAAA,cAAoBoB,EAAAA,GAAAA,KAAa,CAChDiB,MAAO,CACLoT,cAAe,OACfC,KAAM,WACNC,KAAM,IAEP1X,EAAMuG,cAGPjD,EAAAA,KACFiT,EAAWhT,YAAc,cAG3B,IAAIoU,EAAiB,CACnBC,MAAO,CACLC,WAAY,UACZC,QAAS,EACTC,MAAO,EACPC,WAAY,CACVC,SAAU,GACVC,KAAM,CAAC,GAAK,EAAG,GAAK,KAGxBC,KAAM,CACJC,cAAe,CACbP,WAAY,UAEdC,QAAS,EACTC,MAAO,GACPC,WAAY,CACVC,SAAU,GACVI,QAAS,aAKXC,EAAiB,WAAYC,EAAAA,EAASA,EAAAA,EAAAA,OAAcpV,EAAAA,GAAAA,MAAcoV,EAAAA,EAAAA,GAAOpV,EAAAA,GAAAA,KACzEqV,GAAwBhW,EAAAA,EAAAA,KAAW,SAAUxC,EAAOgC,GACtD,IAAIyW,EAAeC,EAEfC,EAAY3Y,EAAM2Y,UAClBvW,EAAO1C,EAA8BM,EAAO4Q,GAE5CgI,EAAkB7K,IAClB2B,EAASkJ,EAAgBlJ,OACzBwF,EAAkB0D,EAAgB1D,gBAClC2D,EAAWD,EAAgBjD,yBAE3BmD,EA1cN,SAAqB9Y,EAAOgC,QACZ,IAAVhC,IACFA,EAAQ,SAGE,IAARgC,IACFA,EAAM,MAGR,IAAIoN,EAAOrB,IAEX,IAAKqB,EACH,MAAM,IAAI2J,MAAM,0FAGlB,IAAIzJ,EAAeF,EAAKE,aACpBD,EAAkBD,EAAKC,gBACvBI,EAAUL,EAAKK,QACfC,EAASN,EAAKM,OACdF,EAAUJ,EAAKI,QACfG,EAASP,EAAKO,OACdgC,EAASvC,EAAKuC,OACdS,EAAehD,EAAKgD,aACpByG,EAAWzJ,EAAKuG,yBAChBjD,EAAclF,IAMdwL,GAAyBC,EAAAA,EAAAA,IAAY,CACvChC,eAAgB,SAAwB1V,GACtC,MAAqB,MAAdA,EAAMnC,KAAe4O,EAAiBzM,EAAMxC,WAGnD2X,EAAY3U,EAAAA,aAAkB,SAAUR,GAC1C,IAAIoV,GAAWC,EAAAA,EAAAA,IAAkBrV,GAC7B2X,EAAS,CACXC,IAAK,SAAa5X,GAChB,OAAOA,EAAM0V,kBAEfmC,OAAQ5J,EACRuH,UAAW,WACT,IAAIsC,EAAO3G,EAAY4G,YAAYhK,GAC/B+J,GAAMhK,EAAgBgK,EAAKxR,QAEjCmP,QAAS,WACP,IAAIuC,EAAO7G,EAAY8G,YAAYlK,GAC/BiK,GAAMlK,EAAgBkK,EAAK1R,SAG/BW,EAAK0Q,EAAOvC,GAEhB,GAAInO,EAGF,OAFAjH,EAAM0V,sBACNzO,EAAGjH,GASL,IAAIkY,EAAcT,GAAuB,SAAUU,GACjD,IAAIC,GAAWC,EAAAA,EAAAA,IAAsBlH,EAAYmH,SAAUH,GAAW,SAAUhE,GAC9E,IAAIoE,EAAuBC,EAE3B,OAA+H,OAAvHD,EAAgC,MAARpE,GAAoD,OAA3BqE,EAAarE,EAAKD,WAA5B,EAAqDsE,EAAWC,aAAuBF,EAAwB,KAC7JpH,EAAYgD,KAAKpG,IAEpB,GAAIqK,EAAU,CACZ,IAAI9R,EAAQ6K,EAAY5S,QAAQ6Z,EAASlE,MACzCpG,EAAgBxH,OAIhBmG,EAAiBzM,EAAMxC,SACzB0a,EAAYlY,KAEb,CAACmR,EAAapD,EAAc0J,EAAwBxJ,EAASH,IAC5D4K,EAAgBlY,EAAAA,QAAa,GAE7B2N,IACFuK,EAAcvY,SAAU,GAG1B,IAAIwY,GAAuBC,EAAAA,EAAAA,IAAsB,CAC/CC,gBAAiBH,EAAcvY,QAC/BiQ,OAAQA,EACRS,aAAcA,EACdiI,WAAYxB,EAASyB,UAEvB,OAAO1b,EAAS,GAAIoB,EAAO,CACzBgC,KAAK0O,EAAAA,EAAAA,IAAUjB,EAASzN,GACxBuE,SAAU2T,EAAuBla,EAAMuG,SAAW,KAClDoK,UAAW,EACX5L,KAAM,OACN6H,GAAI+C,EACJ4K,MAAO3b,EAAS,GAAIoB,EAAMua,MAAO,CAC/BC,gBAAiB,mCAEnB,mBAAoB,WACpB9D,WAAWW,EAAAA,EAAAA,IAAgBrX,EAAM0W,UAAWA,KAmW/B+D,CAAYrY,EAAMJ,GAC7B0Y,EA7VN,SAA2B1a,QACX,IAAVA,IACFA,EAAQ,IAGV,IAAI4Y,EAAkB7K,IAClB+F,EAAS8E,EAAgB9E,OACzBpE,EAASkJ,EAAgBlJ,OAE7B,OAAOoE,EAAO6G,eAAe/b,EAAS,GAAIoB,EAAO,CAC/Cua,MAAO3b,EAAS,CACdiZ,WAAYnI,EAAS,UAAY,UAChC1P,EAAMua,UAiVWK,CAAkBjC,GACpC7T,GAASb,EAAAA,EAAAA,MACb,OAAoBlC,EAAAA,cAAoBoB,EAAAA,GAAAA,IAAYvE,EAAS,GAAI8b,EAAiB,CAChFtW,MAAO,CACLyW,OAA0C,OAAjCpC,EAAgBzY,EAAM6a,QAAkBpC,EAAgD,OAA/BC,EAAe5T,EAAOgW,WAAgB,EAASpC,EAAamC,UAEjH9Y,EAAAA,cAAoBuW,EAAgB1Z,EAAS,GAAIka,EAAU,CAK1EiC,SAAU7F,EACV8F,qBAAqBC,EAAAA,EAAAA,IAAQpC,EAASqC,WAAYpC,EAASkC,qBAC3D3X,WAAWc,EAAAA,EAAAA,IAAG,yBAA0B2U,EAASzV,WACjD8X,SAAUxD,EACVyD,SAAS,EACTC,QAAS3L,EAAS,QAAU,OAC5BtL,MAAOxF,EAAS,CACdyX,QAAS,GACRvR,EAAOgW,aAIVxX,EAAAA,KACFkV,EAASjV,YAAc,YAGzB,IAAI+X,GAA8B9Y,EAAAA,EAAAA,KAAW,SAAUxC,EAAOgC,GAC5D,IAAIuZ,EAAOvb,EAAMub,KACbnZ,EAAO1C,EAA8BM,EAAO6Q,GAE5C/L,GAASb,EAAAA,EAAAA,MAOTuX,EAAUpZ,EAAKgB,GAAa,MAARmY,EAAeA,OAAOzY,EAAY,SAEtD2Y,EAAe7c,EAAS,CAC1B8c,eAAgB,OAChBvW,MAAO,UACPwW,WAAY,OACZ/X,QAAS,OACTvB,MAAO,OACPwB,WAAY,SACZ0B,UAAW,QACXkS,KAAM,WACNpB,QAAS,GACRvR,EAAO4Q,MAEV,OAAoB3T,EAAAA,cAAoBoB,EAAAA,GAAAA,OAAevE,EAAS,CAC9DoD,IAAKA,EACLuZ,KAAMC,GACLpZ,EAAM,CACPgC,MAAOqX,QAGPG,GAAwBpZ,EAAAA,EAAAA,KAAW,SAAUxC,EAAOgC,GACtD,IAAIoE,EAAOpG,EAAMoG,KACbyV,EAAqB7b,EAAM8b,YAC3BA,OAAqC,IAAvBD,EAAgC,UAAYA,EAC1DE,EAAU/b,EAAM+b,QAChBC,EAAwBhc,EAAMic,eAC9BA,OAA2C,IAA1BD,EAAmC,UAAYA,EAChEzV,EAAWvG,EAAMuG,SAGjB2V,EAAgB7N,EAFT3O,EAA8BM,EAAO8Q,GAEV9O,GAGlCma,EAFa/V,GAAQ2V,EAEiBha,EAAAA,cAAoB,OAAQ,CACpEwY,MAAO,CACL/C,cAAe,OACfC,KAAM,IAEPlR,GAAYA,EAEf,OAAoBxE,EAAAA,cAAoBuZ,EAAgB1c,EAAS,GAAIsd,EAAe,CAClF7Y,WAAWc,EAAAA,EAAAA,IAAG,wBAAyB+X,EAAc7Y,aACnD+C,GAAqBrE,EAAAA,cAAoBqa,EAAU,CACrDC,SAAU,QACVrU,UAAW8T,GACV1V,GAAO+V,EAAWJ,GAAwBha,EAAAA,cAAoBua,EAAa,CAC5ElU,YAAa6T,GACZF,OAGDzY,EAAAA,KACFsY,EAASrY,YAAc,YAGzB,IAAIgZ,EAAY,SAAmBvc,GACjC,OAAoB+B,EAAAA,cAAoB,MAAOnD,EAAS,CACtDsG,QAAS,YACT7C,MAAO,MACPC,OAAQ,OACPtC,GAAqB+B,EAAAA,cAAoB,UAAW,CACrDqD,KAAM,eACN8H,OAAQ,oFAIRsP,GAA8Bha,EAAAA,EAAAA,KAAW,SAAUxC,EAAOgC,GAC5D,IAAIoE,EAAOpG,EAAMoG,KACbqW,EAAsBzc,EAAM8b,YAC5BA,OAAsC,IAAxBW,EAAiC,UAAYA,EAC3Dra,EAAO1C,EAA8BM,EAAO+Q,GAE5C2L,EA/UN,SAAuB1c,EAAOgC,QACd,IAAVhC,IACFA,EAAQ,SAGE,IAARgC,IACFA,EAAM,MAGR,IAAI2a,EAAU3c,EACV4c,EAAeD,EAAQpB,KACvBA,OAAwB,IAAjBqB,EAA0B,QAAUA,EAC3CC,EAAYF,EAAQE,UAIxB,OAAOje,EAAS,GADDyP,EAFJ3O,EAA8Bid,EAASvP,GAEjBpL,GACH,CAC5B+C,KAAM,WAAawW,EACnB,eAAgBsB,IA6TAC,CAAc1a,EAAMJ,GACtC,OAAoBD,EAAAA,cAAoBuZ,EAAgB1c,EAAS,GAAI8d,EAAa,CAChFrZ,WAAWc,EAAAA,EAAAA,IAAG,+BAAgC/B,EAAKiB,aACpCtB,EAAAA,cAAoBqa,EAAU,CAC7CC,SAAU,QACVrU,UAAW8T,EACXhE,QAAS9X,EAAM6c,UAAY,EAAI,GAC9BzW,GAAqBrE,EAAAA,cAAoBwa,EAAW,OAAqBxa,EAAAA,cAAoB,OAAQ,CACtGwY,MAAO,CACL9C,KAAM,IAEPiF,EAAYnW,cAEjBiW,EAAe5P,GAAK,iBAEhBtJ,EAAAA,KACFkZ,EAAejZ,YAAc,kBAe3BD,EAAAA,GAIJ,IAAIyZ,GAAyBva,EAAAA,EAAAA,KAAW,SAAUxC,EAAOgC,GACvD,IAAIgb,EAAQhd,EAAMgd,MACdzW,EAAWvG,EAAMuG,SACjBlD,EAAYrD,EAAMqD,UAClBjB,EAAO1C,EAA8BM,EAAOgR,GAE5CrG,GAAaxG,EAAAA,EAAAA,IAAG,4BAA6Bd,GAE7CyB,GAASb,EAAAA,EAAAA,MACb,OAAoBlC,EAAAA,cAAoB,MAAO,CAC7CC,IAAKA,EACLqB,UAAW,qBACX0B,KAAM,SACLiY,GAAsBjb,EAAAA,cAAoBoB,EAAAA,GAAAA,EAAUvE,EAAS,CAC9DyE,UAAWsH,GACVvI,EAAM,CACPgC,MAAOU,EAAOmY,aACZD,GAAQzW,MAGVjD,EAAAA,KACFyZ,EAAUxZ,YAAc,aAG1B,IAAI+Y,GAA2B9Z,EAAAA,EAAAA,KAAW,SAAUxC,EAAOgC,GACzD,IAAI8C,GAASb,EAAAA,EAAAA,MACb,OAAoBlC,EAAAA,cAAoBoB,EAAAA,GAAAA,KAAavE,EAAS,CAC5DoD,IAAKA,GACJhC,EAAO,CACRoE,MAAOU,EAAOiX,QACd1Y,UAAW,6BAIXC,EAAAA,KACFgZ,EAAY/Y,YAAc,eAG5B,IAAI6Y,EAAW,SAAkBpc,GAC/B,IAAIqD,EAAYrD,EAAMqD,UAClBkD,EAAWvG,EAAMuG,SACjBnE,EAAO1C,EAA8BM,EAAOiR,GAE5CrJ,EAAQ7F,EAAAA,SAAAA,KAAoBwE,GAC5B2W,EAAqBnb,EAAAA,eAAqB6F,GAAsB7F,EAAAA,aAAmB6F,EAAO,CAC5F8C,UAAW,QACX,eAAe,EACfrH,WAAWc,EAAAA,EAAAA,IAAG,oBAAqByD,EAAM5H,MAAMqD,aAC5C,KAEDsH,GAAaxG,EAAAA,EAAAA,IAAG,4BAA6Bd,GAEjD,OAAoBtB,EAAAA,cAAoBoB,EAAAA,GAAAA,KAAavE,EAAS,CAC5DyE,UAAWsH,GACVvI,EAAM,CACPgC,MAAO,CACLsB,WAAY,KAEZwX,IAGF5Z,EAAAA,KACF8Y,EAAS7Y,YAAc,YAGzB,IAAI4Z,EAAc,SAAqBnd,GACrC,IAAIqD,EAAYrD,EAAMqD,UAClBjB,EAAO1C,EAA8BM,EAAOkR,GAE5CpM,GAASb,EAAAA,EAAAA,MACb,OAAoBlC,EAAAA,cAAoBoB,EAAAA,GAAAA,GAAWvE,EAAS,CAC1DmG,KAAM,YACN,mBAAoB,aACpB1B,WAAWc,EAAAA,EAAAA,IAAG,uBAAwBd,IACrCjB,EAAM,CACPgC,MAAOU,EAAOsY,YAId9Z,EAAAA,KACF6Z,EAAY5Z,YAAc,6YCt/BjB8Z,EAAc,kBACdC,EAAiB,2BCerB,SAASC,EAAaC,EAAMC,GAC/B,OCFG,SAAwBC,EAAcC,GACzC,IAAI3b,GAAMtB,EAAAA,EAAAA,WAAS,WAAc,MAAQ,CAErCmG,MAAO6W,EAEPC,SAAUA,EAEVC,OAAQ,CACAlc,cACA,OAAOM,EAAI6E,OAEXnF,YAAQmF,GACR,IAAIsM,EAAOnR,EAAI6E,MACXsM,IAAStM,IACT7E,EAAI6E,MAAQA,EACZ7E,EAAI2b,SAAS9W,EAAOsM,UAI7B,GAGP,OADAnR,EAAI2b,SAAWA,EACR3b,EAAI4b,ODpBJC,CAAeJ,GAAc,SAAUK,GAC1C,OAAON,EAAK3I,SAAQ,SAAU7S,GAAO,OELtC,SAAmBA,EAAK6E,GAO3B,MANmB,oBAAR7E,EACPA,EAAI6E,GAEC7E,IACLA,EAAIN,QAAUmF,GAEX7E,EFFyC+b,CAAU/b,EAAK8b,SGhB5D,IAAIE,EAAc,CACvB3b,MAAO,MACPC,OAAQ,MACR2b,QAAS,EACTC,SAAU,SACVva,SAAU,QACVwa,IAAK,MACLC,KAAM,OAGJC,EAAe,SAAsBC,GACvC,IAAI/X,EAAW+X,EAAK/X,SACpB,OAAoBxE,EAAAA,cAAoBA,EAAAA,SAAgB,KAAmBA,EAAAA,cAAoB,MAAO,CACpG3C,IAAK,cACL,oBAAoB,EACpB,yBAAyB,EACzBmb,MAAOyD,IACLzX,EAAUA,GAAyBxE,EAAAA,cAAoB,MAAO,CAChE3C,IAAK,aACL,oBAAoB,EACpB,yBAAyB,EACzBmb,MAAOyD,MAIXK,EAAaE,UAET,GACJF,EAAa1S,aAAe,CAC1BpF,SAAU,MCFL,IAAIiY,EAAW,WAQlB,OAPAA,EAAW3f,OAAOC,QAAU,SAAkB2f,GAC1C,IAAK,IAAIC,EAAG1f,EAAI,EAAG2f,EAAI1f,UAAUC,OAAQF,EAAI2f,EAAG3f,IAE5C,IAAK,IAAI4f,KADTF,EAAIzf,UAAUD,GACOH,OAAOQ,UAAUC,eAAeC,KAAKmf,EAAGE,KAAIH,EAAEG,GAAKF,EAAEE,IAE9E,OAAOH,GAEJD,EAAShf,MAAMC,KAAMR,YAGzB,SAAS4f,EAAOH,EAAGI,GACtB,IAAIL,EAAI,GACR,IAAK,IAAIG,KAAKF,EAAO7f,OAAOQ,UAAUC,eAAeC,KAAKmf,EAAGE,IAAME,EAAEhf,QAAQ8e,GAAK,IAC9EH,EAAEG,GAAKF,EAAEE,IACb,GAAS,MAALF,GAAqD,oBAAjC7f,OAAOkgB,sBACtB,KAAI/f,EAAI,EAAb,IAAgB4f,EAAI/f,OAAOkgB,sBAAsBL,GAAI1f,EAAI4f,EAAE1f,OAAQF,IAC3D8f,EAAEhf,QAAQ8e,EAAE5f,IAAM,GAAKH,OAAOQ,UAAU2f,qBAAqBzf,KAAKmf,EAAGE,EAAE5f,MACvEyf,EAAEG,EAAE5f,IAAM0f,EAAEE,EAAE5f,KAE1B,OAAOyf,EChDX,SAASQ,EAAKC,GACV,OAAOA,EAEX,SAASC,EAAkBC,EAAUC,QACd,IAAfA,IAAyBA,EAAaJ,GAC1C,IAAIK,EAAS,GACTC,GAAW,EA0Df,MAzDa,CACTC,KAAM,WACF,GAAID,EACA,MAAM,IAAIxG,MAAM,oGAEpB,OAAIuG,EAAOpgB,OACAogB,EAAOA,EAAOpgB,OAAS,GAE3BkgB,GAEXK,UAAW,SAAUC,GACjB,IAAIhK,EAAO2J,EAAWK,EAAMH,GAE5B,OADAD,EAAOK,KAAKjK,GACL,WACH4J,EAASA,EAAOvU,QAAO,SAAUuB,GAAK,OAAOA,IAAMoJ,OAG3DkK,iBAAkB,SAAUC,GAExB,IADAN,GAAW,EACJD,EAAOpgB,QAAQ,CAClB,IAAI4gB,EAAMR,EACVA,EAAS,GACTQ,EAAIjL,QAAQgL,GAEhBP,EAAS,CACLK,KAAM,SAAUrT,GAAK,OAAOuT,EAAGvT,IAC/BvB,OAAQ,WAAc,OAAOuU,KAGrCS,aAAc,SAAUF,GACpBN,GAAW,EACX,IAAIS,EAAe,GACnB,GAAIV,EAAOpgB,OAAQ,CACf,IAAI4gB,EAAMR,EACVA,EAAS,GACTQ,EAAIjL,QAAQgL,GACZG,EAAeV,EAEnB,IAAIW,EAAe,WACf,IAAIH,EAAME,EACVA,EAAe,GACfF,EAAIjL,QAAQgL,IAEZK,EAAQ,WAAc,OAAOC,QAAQC,UAAUC,KAAKJ,IACxDC,IACAZ,EAAS,CACLK,KAAM,SAAUrT,GACZ0T,EAAaL,KAAKrT,GAClB4T,KAEJnV,OAAQ,SAAUA,GAEd,OADAiV,EAAeA,EAAajV,OAAOA,GAC5BuU,MAOpB,SAASgB,EAAalB,EAAUC,GAEnC,YADmB,IAAfA,IAAyBA,EAAaJ,GACnCE,EAAkBC,EAAUC,GAEhC,SAASkB,EAAoB/W,QAChB,IAAZA,IAAsBA,EAAU,IACpC,IAAIgX,EAASrB,EAAkB,MAE/B,OADAqB,EAAOhX,QAAUiX,EAAiB,CAAEC,OAAO,EAAMC,KAAK,GAASnX,GACxDgX,EC1EJ,IAAII,EAAcN,EAAa,IAAI,SAAUhC,GAGlD,MAAO,CACLvf,OAHWuf,EAAKvf,OAIhBkR,cAHkBqO,EAAKrO,kBAMhB4Q,EAAaP,IACbQ,EAAeR,IACfS,EAAgBR,EAAoB,CAC7CG,OAAO,ICLLM,EAAa,GACbC,EAAyBlf,EAAAA,YAAiB,SAAqB/B,EAAOkhB,GACxE,IAAIC,EAEAnN,EAAkBjS,EAAAA,WAClBqf,EAAepN,EAAgB,GAC/BqN,EAAcrN,EAAgB,GAE9BsN,EAAWvf,EAAAA,SACXwf,EAAWxf,EAAAA,QAAa,GACxByf,EAAyBzf,EAAAA,OAAa,MACtCwE,EAAWvG,EAAMuG,SACjBuJ,EAAW9P,EAAM8P,SACjB2R,EAAgBzhB,EAAMyhB,cACtBC,EAAkB1hB,EAAM0hB,gBACxBC,EAAa3hB,EAAM2hB,WACnBC,EAAY5hB,EAAM4hB,UAElBC,GADqB7hB,EAAM8hB,mBACnB9hB,EAAM6hB,OACdxe,EAAYrD,EAAMqD,UAClB0e,EAAY/hB,EAAM+hB,UAClBC,EAAgBhiB,EAAMiiB,OACtBA,OAA2B,IAAlBD,EAA2BhB,EAAagB,EACjDE,EAAYliB,EAAMoD,GAClB+e,OAA0B,IAAdD,EAAuB,MAAQA,EAC3CE,EAAmBpiB,EAAMqiB,UACzBC,OAAsC,IAArBF,EAA8B,GAAKA,EACpDG,EAAUviB,EAAMwiB,QAChBC,EAAoBziB,EAAM0iB,YAC1BC,EAAuB3iB,EAAM4iB,aAC7BC,EAAyB7iB,EAAM8iB,eAG/BlW,EADmB7K,EAAAA,SAAe,IACZ,GAGtB6gB,EAAe7gB,EAAAA,aAAkB,WACnCyf,EAAuB9f,QAAU8f,EAAuB9f,SAAWqH,UAAYA,SAASyM,cAEpF8L,EAAS5f,SAAWihB,GACtBA,EAAqBrB,EAAS5f,SAGhC6f,EAAS7f,SAAU,IAClB,CAACihB,IACAG,EAAiB/gB,EAAAA,aAAkB,WACrCwf,EAAS7f,SAAU,EAEfmhB,GACFA,EAAuBvB,EAAS5f,WAEjC,CAACmhB,IACAH,EAAc3gB,EAAAA,aAAkB,SAAUghB,GAC5C,IAAIrhB,EAAU8f,EAAuB9f,QAErC,GAAIsJ,QAAQyX,IAAsB/gB,GAAWA,EAAQ2O,MAAO,CAC1D,IAAI2S,EAA4C,kBAAtBP,EAAiCA,OAAoB3f,EAC/E0e,EAAuB9f,QAAU,KAE7BqhB,EAGF5C,QAAQC,UAAUC,MAAK,WACrB,OAAO3e,EAAQ2O,MAAM2S,MAGvBthB,EAAQ2O,MAAM2S,MAGjB,CAACP,IAEAQ,EAAUlhB,EAAAA,aAAkB,SAAUR,GACpCggB,EAAS7f,SACXkf,EAAYnB,UAAUle,KAEvB,IACC2hB,EAASrC,EAAWpB,UAGpB0D,EAAiBphB,EAAAA,aAAkB,SAAUqhB,GAC3C9B,EAAS5f,UAAY0hB,IACvB9B,EAAS5f,QAAU0hB,EACnB/B,EAAY+B,MAEb,IAgBH,IAAIf,GAAYzjB,EAAAA,EAAAA,KAAUuiB,EAAY,IAAckC,GAA4BvT,GAAY,WAAYqR,EAAUkC,GAAyBxB,EAAOV,GAAYmB,GAE1JgB,GAAqC,IAAlB7B,EACnB8B,EAAmBD,GAAsC,SAAlB7B,EACvC+B,EAAYjG,EAAa,CAAC2D,EAAWiC,IACzC,OAAoBphB,EAAAA,cAAoBA,EAAAA,SAAgB,KAAMuhB,GAAoB,CAAcvhB,EAAAA,cAAoB,MAAO,CACzH3C,IAAK,cACL,oBAAoB,EACpBuR,SAAUb,GAAY,EAAI,EAC1ByK,MAAOyD,IAITjc,EAAAA,cAAoB,MAAO,CACzB3C,IAAK,gBACL,oBAAoB,EACpBuR,SAAUb,GAAY,EAAI,EAC1ByK,MAAOyD,MAELlO,GAAyB/N,EAAAA,cAAoBwgB,EAAS,CACxD3V,GAAIA,EACJ4V,QAASzB,EACTO,SAAUF,EACVtR,SAAUA,EACV4R,gBAAiBA,EACjBC,WAAYA,EACZC,UAAWA,EACXG,UAAWA,EACXE,OAAQA,EACRW,aAAcA,EACdE,eAAgBA,EAChBJ,YAAaA,IACE3gB,EAAAA,cAAoBogB,GAAWvjB,EAAAA,EAAAA,GAAS,CACvDoD,IAAKwhB,GACJnB,EAAW,CACZhf,UAAWA,EACX6f,OAAQA,EACRD,QAASA,IACP1c,GAAWgd,GAAiCxhB,EAAAA,cAAoB,MAAO,CACzE,oBAAoB,EACpB4O,SAAUb,GAAY,EAAI,EAC1ByK,MAAOyD,QAGXiD,EAAU1C,UAkBN,GACJ0C,EAAUtV,aAAe,CACvBpF,cAAUzD,EACVgN,UAAU,EACV4S,aAAa,EACbjB,eAAe,EACfG,WAAW,EACXF,iBAAiB,EACjBC,YAAY,EACZG,wBAAoBhf,EACpB+e,WAAO/e,EACPO,eAAWP,EACXif,eAAWjf,EACXmf,YAAQnf,EACRM,GAAI,MACJif,UAAW,GACXO,kBAAc9f,EACdggB,oBAAgBhgB,GAElB,gCC9GA,MA1EA,SAAwB2gB,EAAoBC,GAe1C,OAAO,SAAcC,GAOnB,IACIC,EADAC,EAAmB,GAGvB,SAASC,IACPF,EAAQH,EAAmBI,EAAiBlc,KAAI,SAAUoc,GACxD,OAAOA,EAAS/jB,UAElB0jB,EAA0BE,GAG5B,IAAII,EAA0B,SAAUC,GCnC7B,IAAwBC,EAAUC,EDsC3C,SAASH,IACP,OAAOC,EAAezkB,MAAMC,KAAMR,YAAcQ,KCvCP0kB,EDoChBF,GCpCMC,EDoClBF,GCnCV3kB,UAAYR,OAAOulB,OAAOD,EAAW9kB,WAC9C6kB,EAAS7kB,UAAUglB,YAAcH,GACjC,EAAAI,EAAA,GAAeJ,EAAUC,GDwCrBH,EAAWO,KAAO,WAChB,OAAOX,GAGT,IAAIY,EAASR,EAAW3kB,UAqBxB,OAnBAmlB,EAAOC,kBAAoB,WACzBZ,EAAiBlE,KAAKlgB,MACtBqkB,KAGFU,EAAOE,mBAAqB,WAC1BZ,KAGFU,EAAOG,qBAAuB,WAC5B,IAAI9c,EAAQgc,EAAiB/jB,QAAQL,MACrCokB,EAAiBe,OAAO/c,EAAO,GAC/Bic,KAGFU,EAAOK,OAAS,WACd,OAAoB9iB,EAAAA,cAAoB4hB,EAAkBlkB,KAAKO,QAG1DgkB,EAjCqB,CAkC5Bc,EAAAA,eAIF,OAFAC,EAAAA,EAAAA,GAAgBf,EAAY,cAAe,cAzD7C,SAAwBL,GACtB,OAAOA,EAAiBpgB,aAAeogB,EAAiBrf,MAAQ,YAwDL0gB,CAAerB,GAAoB,KAEvFK,IE1EPiB,EAAU,SAAUxP,GAAQ,MAAwB,UAAjBA,EAAKyP,SAAqC,UAAdzP,EAAK8F,MAO7D4J,EAAc,SAAU1P,EAAM2P,GACrC,OAAIH,EAAQxP,IAASA,EAAKnR,KAPN,SAAUmR,EAAM2P,GACpC,OAAOA,EACFra,OAAOka,GACPla,QAAO,SAAUsa,GAAM,OAAOA,EAAG/gB,OAASmR,EAAKnR,QAC/CyG,QAAO,SAAUsa,GAAM,OAAOA,EAAGC,WAAY,IAAM7P,EAI7C8P,CAAkB9P,EAAM2P,GAE5B3P,GCVA+P,EAAiB,SAAUJ,GAClC,OAAIA,EAAM,IAAMA,EAAMlmB,OAAS,EACpBimB,EAAYC,EAAM,GAAIA,GAE1BA,EAAM,IAENK,EAAgB,SAAUL,EAAOvd,GACxC,OAAIud,EAAMlmB,OAAS,EACRkmB,EAAMtlB,QAAQqlB,EAAYC,EAAMvd,GAAQud,IAE5Cvd,GCDP6d,EAAoB,SAAUjQ,EAAMkQ,GACpC,OAAQlQ,GACJA,IAAS1M,UACR0M,GAAQA,EAAKmQ,WAAaC,KAAKC,gBAblB,SAAUrQ,GAC5B,GAAIA,EAAKmQ,WAAaC,KAAKE,aACvB,OAAO,EAEX,IAAIC,EAAgBld,OAAOmd,iBAAiBxQ,EAAM,MAClD,SAAKuQ,IAAkBA,EAAcE,oBAGiB,SAA9CF,EAAcE,iBAAiB,YAA0E,WAAjDF,EAAcE,iBAAiB,eAMzFC,CAAgB1Q,IACdkQ,EAAYlQ,EAAK2Q,YAAc3Q,EAAK2Q,WAAWR,WAAaC,KAAKQ,uBAC3D5Q,EAAK2Q,WAAWE,KAChB7Q,EAAK2Q,aAEZG,EAAkB,SAAlBA,EAA4BC,EAAiB/Q,GACpD,IAAIgR,EAASD,EAAgBE,IAAIjR,GACjC,QAAe3S,IAAX2jB,EACA,OAAOA,EAEX,IAAItd,EAASuc,EAAkBjQ,EAAM8Q,EAAgBI,UAAK7jB,EAAW0jB,IAErE,OADAA,EAAgBI,IAAInR,EAAMtM,GACnBA,GAKA0d,EAAU,SAAUpR,GAAQ,OAAOzK,QAAQyK,GAAQA,EAAKqR,SAAWrR,EAAKqR,QAAQC,aAChFC,EAAc,SAAUvR,GAAQ,OAAQoR,EAAQpR,IAChDwR,EAAY,SAAU3a,GAAK,OAAOtB,QAAQsB,IC9B1C4a,EAAY,YACZC,EAAW,SAAUC,EAAYC,EAAY7R,EAAe8R,GACnE,IAAIC,EAAMH,EAAWloB,OACjBsoB,EAAaJ,EAAW,GACxBK,EAAYL,EAAWG,EAAM,GAC7BG,EAAYb,EAAQrR,GACxB,KAAI4R,EAAWtnB,QAAQ0V,IAAkB,GAAzC,CAGA,IAAImS,EAAcN,EAAWvnB,QAAQ0V,GACjCoS,EAAYN,EAAWD,EAAWvnB,QAAQwnB,GAAYK,EACtDE,EAAiBP,EAAWF,EAAWtnB,QAAQwnB,IAAa,EAC5DQ,EAAYH,EAAcC,EAC1BG,EAAiBV,EAAWvnB,QAAQ0nB,GACpCQ,EAAgBX,EAAWvnB,QAAQ2nB,GACnCQ,EHLkB,SAAU7C,GAChC,IAAI8C,EAAY,IAAIvT,IAEpB,OADAyQ,EAAMvQ,SAAQ,SAAUY,GAAQ,OAAOyS,EAAUjV,IAAIkS,EAAY1P,EAAM2P,OAChEA,EAAMra,QAAO,SAAU0K,GAAQ,OAAOyS,EAAUC,IAAI1S,MGEtC2S,CAAaf,GAC9BgB,EAAqBJ,EAAenoB,QAAQ0V,IAAkB8R,EAAWW,EAAenoB,QAAQwnB,GAAYK,GAC5GW,EAAkB7C,EAAc2B,EAAY,GAC5CmB,EAAiB9C,EAAc2B,EAAYG,EAAM,GACrD,OAAqB,IAAjBI,IAA0C,IAApBE,EACfX,GAENY,GAAaD,GAAkB,EACzBA,EAEPF,GAAeI,GAAkBL,GAAac,KAAKC,IAAIX,GAAa,EAC7DS,EAEPZ,GAAeK,GAAiBN,GAAac,KAAKC,IAAIX,GAAa,EAC5DQ,EAEPR,GAAaU,KAAKC,IAAIJ,GAAsB,EACrCR,EAEPF,GAAeI,EACRQ,EAEPZ,EAAcK,EACPM,EAEPR,EACIU,KAAKC,IAAIX,GAAa,EACfD,GAEHN,EAAMM,EAAiBC,GAAaP,OAJhD,IC3COmB,EAAU,SAAUxJ,GAE3B,IADA,IAAIyJ,EAAMrf,MAAM4V,EAAEhgB,QACTF,EAAI,EAAGA,EAAIkgB,EAAEhgB,SAAUF,EAC5B2pB,EAAI3pB,GAAKkgB,EAAElgB,GAEf,OAAO2pB,GAEAC,EAAU,SAAU1J,GAAK,OAAQ5V,MAAMuf,QAAQ3J,GAAKA,EAAI,CAACA,ICWhE4J,EAAe,SAAfA,EAAyBrT,GACzB,OAAOA,EAAK2Q,WAAa0C,EAAarT,EAAK2Q,YAAc3Q,GAElDsT,EAAsB,SAAUtT,GAEvC,OADYmT,EAAQnT,GACP1K,OAAOC,SAASge,QAAO,SAAUC,EAAKC,GAC/C,IAAIrH,EAAQqH,EAAY/a,aAAakP,GAIrC,OAHA4L,EAAItJ,KAAKngB,MAAMypB,EAAMpH,EAvBV,SAAUuD,GAGzB,IAFA,IAAI+D,EAAY,IAAIxU,IAChByU,EAAIhE,EAAMlmB,OACLF,EAAI,EAAGA,EAAIoqB,EAAGpqB,GAAK,EACxB,IAAK,IAAIqqB,EAAIrqB,EAAI,EAAGqqB,EAAID,EAAGC,GAAK,EAAG,CAC/B,IAAI1lB,EAAWyhB,EAAMpmB,GAAGsqB,wBAAwBlE,EAAMiE,KACjD1lB,EAAWkiB,KAAK0D,gCAAkC,GACnDJ,EAAUlW,IAAIoW,IAEb1lB,EAAWkiB,KAAK2D,4BAA8B,GAC/CL,EAAUlW,IAAIjU,GAI1B,OAAOomB,EAAMra,QAAO,SAAU0e,EAAG5hB,GAAS,OAAQshB,EAAUhB,IAAItgB,MAUtD6hB,CAAahB,EAAQI,EAAaI,GAAaS,iBAAiB,qBAA4B9H,EAAQ,WAAcvE,EAAiB,mBACnI,CAAC4L,IACAD,IACR,KC5BIW,EAAU,SAAU1K,EAAG2K,GAC9B,IAAIC,EAAU5K,EAAEvO,SAAWkZ,EAAElZ,SACzBmX,EAAY5I,EAAErX,MAAQgiB,EAAEhiB,MAC5B,GAAIiiB,EAAS,CACT,IAAK5K,EAAEvO,SACH,OAAO,EAEX,IAAKkZ,EAAElZ,SACH,OAAQ,EAGhB,OAAOmZ,GAAWhC,GAEXiC,EAAkB,SAAU3E,EAAO4E,EAAgBC,GAC1D,OAAOvB,EAAQtD,GACVzd,KAAI,SAAU8N,EAAM5N,GAAS,MAAQ,CACtC4N,KAAMA,EACN5N,MAAOA,EACP8I,SAAUsZ,IAAiC,IAAnBxU,EAAK9E,UAAoB8E,EAAKqR,SAAW,IAAIC,WAAa,GAAK,EAAKtR,EAAK9E,aAEhG5F,QAAO,SAAU2U,GAAQ,OAAQsK,GAAkBtK,EAAK/O,UAAY,KACpEuZ,KAAKN,ICnBVO,ECHmB,CACnB,iBACA,iBACA,mBACA,gBACA,UACA,aACA,UACA,SACA,SACA,QACA,kBACA,kBACA,aACA,oBACA,eDZ2BlhB,KAAK,KAChCmhB,EAAsBD,EAAiB,uBAChCE,EAAgB,SAAUC,EAASC,GAC1C,OAAOD,EAAQtB,QAAO,SAAUC,EAAKuB,GACjC,OAAOvB,EAAIwB,OAAO/B,EAAQ8B,EAAOb,iBAAiBY,EAAaH,EAAsBD,IAAkBK,EAAOpE,WACxGsC,EAAQ8B,EAAOpE,WAAWuD,iBAAiBQ,IAAiBpf,QAAO,SAAU0K,GAAQ,OAAOA,IAAS+U,KACrG,MACP,KENIE,EAAkB,SAAUtF,EAAOoB,GAC1C,OAAOkC,EAAQtD,GACVra,QAAO,SAAU0K,GAAQ,OAAO8Q,EAAgBC,EAAiB/Q,MACjE1K,QAAO,SAAU0K,GAAQ,OPqBN,SAAUA,GAClC,SAA2B,UAAjBA,EAAKyP,SAAwC,WAAjBzP,EAAKyP,WAAwC,WAAdzP,EAAK8F,MAAqB9F,EAAK3F,WOtB/D6a,CAAelV,OAE7CmV,EAAmB,SAAUC,EAAUrE,EAAiB+D,GAC/D,OAAOR,EAAgBW,EAAgBL,EAAcQ,EAAUN,GAAa/D,IAAkB,EAAM+D,IAE7FO,EAAsB,SAAUD,EAAUrE,GACjD,OAAOuD,EAAgBW,EAAgBL,EAAcQ,GAAWrE,IAAkB,IAE3EuE,EAAuB,SAAUC,EAASxE,GACjD,OAAOkE,EFJ0B,SAAUF,GAC3C,IAAIS,EAAcT,EAAOb,iBAAiB,2BAC1C,OAAOjB,EAAQuC,GACVtjB,KAAI,SAAU8N,GAAQ,OAAO4U,EAAc,CAAC5U,OAC5CuT,QAAO,SAAUC,EAAK7D,GAAS,OAAO6D,EAAIwB,OAAOrF,KAAW,IEA1C8F,CAAwBF,GAAUxE,ICdzD2E,EAAa,SAAbA,EAAuB1V,EAAM6U,GAM7B,YALgB,IAAZA,IAAsBA,EAAU,IACpCA,EAAQ3K,KAAKlK,GACTA,EAAK2Q,YACL+E,EAAW1V,EAAK2Q,WAAYkE,GAEzBA,GAEAc,EAAkB,SAAUC,EAAOC,GAG1C,IAFA,IAAIC,EAAWJ,EAAWE,GACtBG,EAAWL,EAAWG,GACjBtsB,EAAI,EAAGA,EAAIusB,EAASrsB,OAAQF,GAAK,EAAG,CACzC,IAAIysB,EAAgBF,EAASvsB,GAC7B,GAAIwsB,EAAS1rB,QAAQ2rB,IAAkB,EACnC,OAAOA,EAGf,OAAO,GAEAC,EAAqB,SAAUC,EAAmBC,EAAWC,GACpE,IAAIC,EAAiBlD,EAAQ+C,GACzBI,EAAcnD,EAAQgD,GACtBpW,EAAgBsW,EAAe,GAC/BE,GAAY,EAehB,OAdAD,EAAYhhB,OAAOC,SAAS6J,SAAQ,SAAUoX,GAC1CD,EAAYZ,EAAgBY,GAAaC,EAAOA,IAAUD,EAC1DH,EAAa9gB,OAAOC,SAAS6J,SAAQ,SAAUqX,GAC3C,IAAIC,EAASf,EAAgB5V,EAAe0W,GACxCC,IAEIH,GADCA,GAAaG,EAAOtY,SAASmY,GAClBG,EAGAf,EAAgBe,EAAQH,UAK7CA,GC1BAI,GAAgB,SAAUpB,EAAS1D,GAC1C,IAAI9R,EAAiBzM,UAAYA,SAASyM,cACtC6W,EAAUtD,EAAoBiC,GAASjgB,OAAOic,GAC9CsF,EAAeZ,EAAmBlW,GAAiBwV,EAASA,EAASqB,GACrE7F,EAAkB,IAAI+F,IACtBC,EAAe1B,EAAoBuB,EAAS7F,GAC5CiG,EAAgB7B,EAAiByB,EAAS7F,GAAiBzb,QAAO,SAAU2hB,GAC5E,IAAIjX,EAAOiX,EAAGjX,KACd,OAAOuR,EAAYvR,MAEvB,GAAKgX,EAAc,KACfA,EAAgBD,GACG,GAFvB,CAMA,IAxB4BG,EAwBxBtF,EAAayD,EAAoB,CAACwB,GAAe9F,GAAiB7e,KAAI,SAAU+kB,GAEhF,OADWA,EAAGjX,QAGdmX,EAzBW,SAAUC,EAAUC,GACnC,IAAIC,EAAQ,IAAIR,IAEhB,OADAO,EAASjY,SAAQ,SAAUmY,GAAU,OAAOD,EAAMnG,IAAIoG,EAAOvX,KAAMuX,MAC5DH,EAASllB,KAAI,SAAU8N,GAAQ,OAAOsX,EAAMrG,IAAIjR,MAAU1K,OAAOkc,GAsB7CgG,CAAa5F,EAAYoF,GAChDrF,EAAawF,EAAqBjlB,KAAI,SAAU+kB,GAEhD,OADWA,EAAGjX,QAGdyX,EAAQ/F,EAASC,EAAYC,EAAY7R,EAAe8R,GAC5D,GAAI4F,IAAUhG,EAAW,CACrB,IAAIiG,EAAgBX,EACf7kB,KAAI,SAAU+kB,GAEf,OADWA,EAAGjX,QAGb1K,QAxCmB4hB,EDoCK,SAAUN,EAAS7F,GACpD,OAAO6F,EAAQrD,QAAO,SAAUC,EAAKxT,GAAQ,OAAOwT,EAAIwB,OAAOM,EAAqBtV,EAAM+Q,MAAsB,ICGhF4G,CAAwBf,EAAS7F,GAxCZ,SAAU/Q,GAC/D,OAAOA,EAAK4X,WAAc5X,EAAKqR,WAAarR,EAAKqR,QAAQuG,WAAcV,EAAe7sB,QAAQ2V,IAAS,KAwCnG,MAAO,CACHA,KAAM0X,GAAiBA,EAAcjuB,OAASsmB,EAAe2H,GAAiB3H,EAAe4B,IAGrG,YAActkB,IAAVoqB,EACOA,EAEJN,EAAqBM,KC/C5BI,GAAa,EACbC,IAAe,ECEnB,GDDsB,SAAUvC,EAAS1D,GACrC,IAT2BvoB,EASvB2L,EAAY0hB,GAAcpB,EAAS1D,GACvC,IAAIiG,IAGA7iB,EAAW,CACX,GAAI4iB,GAAa,EAOb,OANAE,QAAQ/rB,MAAM,qJAEd8rB,IAAe,OACf1a,YAAW,WACP0a,IAAe,IAChB,GAGPD,MAvBuBvuB,EAwBf2L,EAAU+K,MAvBfpF,QACH,kBAAmBtR,GAAUA,EAAO0uB,eACpC1uB,EAAO0uB,cAAcpd,QAsBrBid,OEvBJI,GAAoB,SAAU1C,GAC9B,OAAOhgB,QAAQ0d,EAAQsC,EAAQrB,iBAAiB,WAAWgE,MAAK,SAAUlY,GAAQ,OAAoBA,IAFnD1M,SAASyM,mBAIrDoY,GAAc,SAAU5C,GAC/B,IAAIxV,EAAgBzM,UAAYA,SAASyM,cACzC,SAAKA,GAAkBA,EAAcsR,SAAWtR,EAAcsR,QAAQC,aAG/DgC,EAAoBiC,GAAShC,QAAO,SAAU7f,EAAQsM,GAAQ,OAAOtM,GAAUsM,EAAK5B,SAAS2B,IAAkBkY,GAAkBjY,MAAU,ICX/I,SAASoY,GAAYhX,GAE1B,IACIiX,EADUhlB,OACaglB,aAEC,qBAAjBA,EACTA,EAAajX,GAEbhE,WAAWgE,EAAQ,GAGhB,ICAHkX,GAAc,WAChB,OAJOhlB,UAAYA,SAASyM,gBAAkBzM,SAASilB,MCL9CjlB,UACH2f,EAAQ3f,SAAS4gB,iBAAiB,yBAA0BgE,MAAK,SAAUlY,GAAQ,OAAOA,EAAK5B,SAAS9K,SAASyM,mBDWrHyY,GAAiB,KACjBC,GAAkB,KAClBC,GAAsB,KACtBC,IAAwB,EAExBC,GAAmB,WACrB,OAAO,GAkBT,SAASC,GAAUC,EAAYC,EAAKC,EAAMC,GACxC,IAAIC,EAAY,KACZ3vB,EAAIuvB,EAER,EAAG,CACD,IAAI7Y,EAAOgZ,EAAS1vB,GAEpB,GAAI0W,EAAKkZ,MACHlZ,EAAKD,KAAKqR,QAAQ+H,iBACpBF,EAAYjZ,OAET,KAAIA,EAAKoZ,SAQd,MAPA,GAAI9vB,IAAMuvB,EAER,OAGFI,EAAY,aAIN3vB,GAAKyvB,KAAUD,GAErBG,IACFA,EAAUlZ,KAAK9E,SAAW,GAI9B,IAAIoe,GAAa,SAAoB/sB,GACnC,OAAOA,GAAO,YAAaA,EAAMA,EAAIN,QAAUM,GAa7CgtB,GAAe,WACjB,IA/CqDzkB,EA+CjDpB,GAAS,EAEb,GAAI8kB,GAAgB,CAClB,IAAIgB,EAAkBhB,GAClB3M,EAAW2N,EAAgB3N,SAC3BI,EAAkBuN,EAAgBvN,gBAClCE,EAAYqN,EAAgBrN,UAC5BK,EAASgN,EAAgBhN,OACzBN,EAAasN,EAAgBtN,WAC7BuN,EAAc5N,GAAY6M,IAAuBA,GAAoBgB,gBACrE3Z,EAAgBzM,UAAYA,SAASyM,cAEzC,GAAI0Z,EAAa,CACf,IAAIE,EAAc,CAACF,GAAazE,OAAOxI,EAAOta,IAAIonB,IAAYhkB,OAAOC,UAuBrE,GArBKwK,IAzEY,SAA0BA,GAC/C,OAAQyY,GAAelM,WAAasM,IAAkB7Y,GAwE5B6Z,CAAiB7Z,KACjCkM,IAAmCC,EAxBpC3W,QAAQojB,IAIgB,cAA1BA,MAoBsDL,OAAkBG,IAAmBtM,MACtFsN,GAAiBtB,GAAYwB,KAhEY7kB,EAgEwBiL,EA/DtE2Y,IAAuBA,GAAoBgB,kBAAoB5kB,KAgExDxB,WAAamlB,IAAmB1Y,IAAkBoM,GAEhDpM,EAAc8Z,MAChB9Z,EAAc8Z,OAGhBvmB,SAASilB,KAAK3d,UAEdlH,EAASomB,GAAgBH,EAAalB,IACtCC,GAAsB,KAI1BC,IAAwB,EACxBF,GAAkBnlB,UAAYA,SAASyM,eAIvCzM,SAAU,CACZ,IAAIymB,EAAmBzmB,UAAYA,SAASyM,cACxCkZ,EEpHiB,SAAU1D,GACnC,IAAIqB,EAAUtD,EAAoBiC,GAASjgB,OAAOic,GAC9CsF,EAAeZ,EAAmBV,EAASA,EAASqB,GACpD7F,EAAkB,IAAI+F,IACtBlF,EAAauD,EAAiB,CAAC0B,GAAe9F,GAAiB,GAC/DiG,EAAgB7B,EAAiByB,EAAS7F,GACzCzb,QAAO,SAAU2hB,GAClB,IAAIjX,EAAOiX,EAAGjX,KACd,OAAOuR,EAAYvR,MAElB9N,KAAI,SAAU+kB,GAEf,OADWA,EAAGjX,QAGlB,OAAO4R,EAAW1f,KAAI,SAAU+kB,GAC5B,IAAIjX,EAAOiX,EAAGjX,KACd,MAAQ,CACJA,KAAMA,EACN5N,MAHwB6kB,EAAG7kB,MAI3BinB,SAAUrC,EAAc3sB,QAAQ2V,IAAS,EACzCmZ,MAAO/H,EAAQpR,OFgGJga,CAAgBL,GAC3B9f,EAAeof,EAAS/mB,KAAI,SAAU2W,GAExC,OADWA,EAAK7I,QAEf3V,QAAQ0vB,GAEPlgB,GAAgB,IAElBof,EAAS3jB,QAAO,SAAU2kB,GACxB,IAAId,EAAQc,EAAMd,MACdnZ,EAAOia,EAAMja,KACjB,OAAOmZ,GAASnZ,EAAKqR,QAAQ+H,kBAC5Bha,SAAQ,SAAU8a,GAEnB,OADWA,EAAMla,KACLma,gBAAgB,eAE9BtB,GAAUhf,EAAcof,EAASxvB,OAAQ,EAAIwvB,GAC7CJ,GAAUhf,GAAe,GAAI,EAAGof,MAMxC,OAAOvlB,GAGL0mB,GAAS,SAAgBtuB,GACvBytB,MAAkBztB,IAEpBA,EAAM2V,kBACN3V,EAAM0V,mBAINiM,GAAS,WACX,OAAO2K,GAAYmB,KAGjB/L,GAAU,SAAiB1hB,GAE7B,IAAIpC,EAASoC,EAAMxC,OACfmqB,EAAc3nB,EAAM0O,cAEnBiZ,EAAYrV,SAAS1U,KAtI1BgvB,GAAsB,CACpB2B,aAsIa5G,EArIbiG,gBAqI0BhwB,KAoB1B4wB,GAAe,WACjB3B,GAAwB,OAExBvb,YAAW,WACTub,GAAwB,cACvB,IA6DLxN,EAAYhB,iBAAiBqD,IAC7BpC,EAAWd,aAAamD,IACxBpC,EAAaf,cAAa,SAAUF,GAClC,OAAOA,EAAG,CACR0P,gBAAiBA,GACjB3B,YAAaA,QAGjB,OAAeoC,GAtDf,SAA4BC,GAC1B,OAAOA,EAAUllB,QAAO,SAAUmlB,GAEhC,OADeA,EAAMpgB,eAKzB,SAAmCqgB,GACjC,IAAIC,EAAOD,EAAM5oB,OAAO,GAAG,GAEvB6oB,IAASnC,KArBbllB,SAASsnB,iBAAiB,UAAWR,IAAQ,GAC7C9mB,SAASsnB,iBAAiB,WAAYnN,IACtCpa,OAAOunB,iBAAiB,OAAQN,KAuBhC,IAAIO,EAAWrC,GACXsC,EAAWD,GAAYF,GAAQA,EAAKxjB,KAAO0jB,EAAS1jB,GACxDqhB,GAAiBmC,EAEbE,IAAaC,IACfD,EAASxN,iBAEJqN,EAAMplB,QAAO,SAAUylB,GAE1B,OADSA,EAAM5jB,KACD0jB,EAAS1jB,MACtB1N,QAEDoxB,EAAS5N,aAAa0N,IAItBA,GACFlC,GAAkB,KAEbqC,GAAYD,EAAShP,WAAa8O,EAAK9O,UAC1C8O,EAAKxN,eAGPoM,KACAnB,GAAYmB,MA3CdjmB,SAAS0nB,oBAAoB,UAAWZ,IAAQ,GAChD9mB,SAAS0nB,oBAAoB,WAAYvN,IACzCpa,OAAO2nB,oBAAoB,OAAQV,IA4CjC7B,GAAkB,QAatB,EA1FmB,WACjB,OAAO,QG3JLwC,GAAoC3uB,EAAAA,YAAiB,SAAgC/B,EAAOgC,GAC9F,OAAoBD,EAAAA,cAAoB4uB,GAAa/xB,EAAAA,EAAAA,GAAS,CAC5D4jB,QAASoO,GACT5uB,IAAKA,GACJhC,OAGDse,GAAOqS,EAAAA,WAAyB,GACtBrS,GAAKkE,QCtBJ,SAAuCrjB,EAAQQ,GAC5D,GAAc,MAAVR,EAAgB,MAAO,GAC3B,IAEIC,EAAKJ,EAFLD,EAAS,GACTa,EAAaf,OAAOgB,KAAKV,GAG7B,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IACjCI,EAAMQ,EAAWZ,GACbW,EAASG,QAAQV,IAAQ,IAC7BL,EAAOK,GAAOD,EAAOC,IDcTM,CAA8B4e,GAAM,CAAC,YAErDoS,GAAqBnS,UAAgE,GACrF,IExBA,GFwBA,cGtBI0C,GAAY,SAAmBjhB,GACjC,IAAI6wB,EAAkB7wB,EAAM6wB,gBACxBC,EAAgB9wB,EAAM8wB,cACtBC,EAAa/wB,EAAM+wB,WACnBC,EAAehxB,EAAMgxB,aACrBzqB,EAAWvG,EAAMuG,SACjByI,EAAahP,EAAMgP,WACnB4S,EAAY5hB,EAAM4hB,UAClBF,EAAkB1hB,EAAM0hB,gBACxBuP,EAAwBjxB,EAAMixB,sBAC9BrO,EAAe7gB,EAAAA,aAAkB,WACnC,GAAuB,MAAnB8uB,GAA2BA,EAAgBnvB,QAC7CmvB,EAAgBnvB,QAAQ2O,aACnB,GAAkB,MAAd0gB,GAAsBA,EAAWrvB,QAAS,CAGzB,KAFTwvB,EAAAA,GAAAA,IAAgBH,EAAWrvB,SAE7BxC,SACbmR,EAAAA,GAAAA,IAAM0gB,EAAWrvB,QAAS,CACxB4O,UAAU,OAIf,CAACugB,EAAiBE,IACjBjO,EAAiB/gB,EAAAA,aAAkB,WACrC,IAAIovB,EAEa,MAAjBL,GAAoF,OAAlDK,EAAwBL,EAAcpvB,UAA4ByvB,EAAsB9gB,UACzH,CAACygB,IACApO,EAAcsO,IAAiBF,EACnC,OAAoB/uB,EAAAA,cAAoBqvB,GAAgB,CACtDzP,WAAYsP,EACZvP,gBAAiBA,EACjBE,UAAWA,EACX9R,SAAUd,EACV4T,aAAcA,EACdE,eAAgBA,EAChBJ,YAAaA,GACZnc,IAGDjD,GAAAA,KACF2d,GAAU1d,YAAc,mFCzC1B,SAAS7D,GAA8BP,EAAQQ,GAC7C,GAAc,MAAVR,EAAgB,MAAO,GAC3B,IAEIC,EAAKJ,EAFLD,EAAS,GACTa,EAAaf,OAAOgB,KAAKV,GAG7B,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IACjCI,EAAMQ,EAAWZ,GACbW,EAASG,QAAQV,IAAQ,IAC7BL,EAAOK,GAAOD,EAAOC,IAGvB,OAAOL,EAGT,SAASH,KAeP,OAdAA,GAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,IAK3B,OAAOL,GAGFH,GAASY,MAAMC,KAAMR,WAG9B,IAAIoyB,GAAoB,CACtBnZ,KAAM,CAAC,IAAM,GAAK,IAAM,GACxBoZ,OAAQ,CAAC,GAAK,EAAG,EAAG,GACpBC,QAAS,CAAC,EAAG,EAAG,GAAK,GACrBC,UAAW,CAAC,GAAK,EAAG,GAAK,IAEvBC,GAiDS,CACT9tB,SAAU,CACRya,KAAM,EACND,IAAK,EACLna,OAAQ,EACR3B,MAAO,QAETuV,MAAO,CACLtL,EAAG,EACHC,EAAG,GAEL4L,KAAM,CACJ7L,EAAG,QACHC,EAAG,IA9DLklB,GAiEU,CACV9tB,SAAU,CACR+tB,MAAO,EACPvT,IAAK,EACLna,OAAQ,EACR3B,MAAO,QAETuV,MAAO,CACLtL,EAAG,EACHC,EAAG,GAEL4L,KAAM,CACJ7L,EAAG,OACHC,EAAG,IA9ELklB,GAiFO,CACP9tB,SAAU,CACRwa,IAAK,EACLC,KAAM,EACNsT,MAAO,EACPC,SAAU,SAEZ/Z,MAAO,CACLtL,EAAG,EACHC,EAAG,GAEL4L,KAAM,CACJ7L,EAAG,EACHC,EAAG,UA9FLklB,GAiGS,CACT9tB,SAAU,CACRK,OAAQ,EACRoa,KAAM,EACNsT,MAAO,EACPC,SAAU,SAEZ/Z,MAAO,CACLtL,EAAG,EACHC,EAAG,GAEL4L,KAAM,CACJ7L,EAAG,EACHC,EAAG,SAIT,SAASqlB,GAAgBpoB,GACvB,IAAIqoB,EAIJ,OAFkF,OAAtEA,EAAgC,MAAXroB,OAAkB,EAASA,EAAQ6I,WAAqBwf,EAAqB,SAG5G,IAAK,QAYL,QACE,OAAOJ,GAVT,IAAK,OACH,OAAOA,GAET,IAAK,SACH,OAAOA,GAET,IAAK,MACH,OAAOA,IAMb,IAAIK,GAAqB,CACvBla,MAAO,CACLK,SAAU,GACVC,KAAMmZ,GAAkBE,SAE1BpZ,KAAM,CACJF,SAAU,GACVC,KAAMmZ,GAAkBC,SAGxBS,GACK,SAAe/Z,EAAYga,GAChC,OAAOpzB,GAAS,GAAIoZ,EAAY,CAC9Bga,OAAOC,EAAAA,GAAAA,IAASD,GAASA,EAAiB,MAATA,OAAgB,EAASA,EAAK,SAHjED,GAMI,SAAc/Z,EAAYga,GAC9B,OAAOpzB,GAAS,GAAIoZ,EAAY,CAC9Bga,OAAOC,EAAAA,GAAAA,IAASD,GAASA,EAAiB,MAATA,OAAgB,EAASA,EAAK,QAKjEE,GAAc,CAAC,KAAM,gBAAiB,iBAAkB,iBAAkB,eAAgB,QAAS,YAAa,aAAc,iBAM9HC,GAAqB,CACvBha,KAAM,CACJ7V,OAAQ,CACN2V,SAAU,GACVC,KAAMmZ,GAAkBnZ,MAE1BJ,QAAS,CACPG,SAAU,GACVC,KAAMmZ,GAAkBnZ,OAG5BN,MAAO,CACLtV,OAAQ,CACN2V,SAAU,GACVC,KAAMmZ,GAAkBnZ,MAE1BJ,QAAS,CACPG,SAAU,GACVC,KAAMmZ,GAAkBnZ,QAI1Bka,GAAa,CACfja,KAAM,SAAcmG,GAClB,IAAI+T,EA5B2BxrB,EA8B3ByrB,EAAiBhU,EAAKgU,eACtBC,EAAiBjU,EAAKiU,eACtBva,EAAasG,EAAKtG,WAClBI,EAAgBkG,EAAKlG,cACrB4Z,EAAQ1T,EAAK0T,MACjB,OAAOpzB,GAAS,GAAI0zB,GAAkB,CACpCxa,SApC6BjR,EAoCV0rB,EAnCP,MAAT1rB,GAAiB2rB,SAAS3rB,EAAM4rB,WAAY,IAAM,EAmChB,EAAI,IACxC,CACDvU,SAAU,SACV5b,OAAQiwB,EACRna,cAAgC,MAAjBA,OAAwB,EAASA,EAAcD,KAC9DH,WAAkF,OAArEqa,EAAiC,MAAdra,OAAqB,EAASA,EAAWG,MAAgBka,EAAmBN,GAAeI,GAAmBha,KAAM6Z,MAGxJpa,MAAO,SAAe8X,GACpB,IAAIgD,EAEAJ,EAAiB5C,EAAM4C,eACvBK,EAAejD,EAAMiD,aACrB3a,EAAa0X,EAAM1X,WACnBI,EAAgBsX,EAAMtX,cACtB4Z,EAAQtC,EAAMsC,MAClB,OAAOpzB,GAAS,GAAI0zB,GAAkB,CACpCxa,QAAS,GACR,CACDxV,OAAQqwB,EACRva,cAAgC,MAAjBA,OAAwB,EAASA,EAAcR,MAC9DI,WAAoF,OAAvE0a,EAAkC,MAAd1a,OAAqB,EAASA,EAAWJ,OAAiB8a,EAAoBX,GAAgBI,GAAmBva,MAAOoa,OAI3JY,GAAwB7wB,EAAAA,YAAiB,SAAU/B,EAAOgC,GAC5D,IAAI0N,EAAS1P,EAAK,GACd6yB,EAAgB7yB,EAAM6yB,cACtBC,EAAwB9yB,EAAMsyB,eAC9BA,OAA2C,IAA1BQ,GAA0CA,EAC3DC,EAAwB/yB,EAAMuyB,eAC9BA,OAA2C,IAA1BQ,EAAmC,EAAIA,EACxDC,EAAsBhzB,EAAM2yB,aAC5BA,OAAuC,IAAxBK,EAAiC,OAASA,EACzDzY,EAAQva,EAAMua,MACdlX,EAAYrD,EAAMqD,UAClB2U,EAAahY,EAAMgY,WACnBI,EAAgBpY,EAAMoY,cACtBhW,EAAO1C,GAA8BM,EAAOkyB,IAE5Cle,EAAkBjS,EAAAA,UAAe,GACjCkxB,EAAUjf,EAAgB,GAC1Bkf,EAAalf,EAAgB,GAEjCjS,EAAAA,WAAgB,WACd,IAAIoxB,EAAUtgB,YAAW,WACvBqgB,GAAW,MAEb,OAAO,WACL,OAAOpe,aAAaqe,MAErB,KAQHC,EAAAA,GAAAA,IAAK,CACH3pB,UAAWuB,QAAQunB,EAAiB,GAAKM,GACzCnpB,QAAS,yFAEX,IAAI2pB,EAAoBC,WAAWf,EAAeE,YAAc,EAC5Dc,EAAS,CACXhB,eAAgBA,EAChBI,aAAcA,EACdL,eAAgBA,EAChBta,WAAaib,EAITjb,EAJmB,CACrBJ,MAAO,CACLK,SAAU,IAGdG,cAAeob,IAAAA,CAAUpb,EAAe,CACtCR,MAAO,CACLsG,SAAU,WAEZ/F,KAAM0a,OAAgB/vB,EAAY,CAChCc,QAASyvB,EAAoB,QAAU,WAIzCI,GAAOZ,GAAgBnjB,EACvB2L,EAAU3L,GAAUmjB,EAAgB,QAAU,OAClD,OAAoB9wB,EAAAA,cAAoB2xB,GAAAA,EAAiB,CACvDtY,SAAS,EACTmY,OAAQA,GACPE,GAAqB1xB,EAAAA,cAAoBwW,GAAAA,EAAAA,IAAY3Z,GAAS,CAC/DoD,IAAKA,GACJI,EAAM,CACPiB,WAAWc,EAAAA,GAAAA,IAAG,kBAAmBd,GACjCkX,MAAO3b,GAAS,CACdsf,SAAU,SACVta,QAAS,SACR2W,GACHgZ,OAAQA,EACRpY,SAAUiX,GACVhX,UAASyX,GAAgB,OACzBxX,QAASA,EACTlD,KAAM,cAIN7U,GAAAA,KACFsvB,GAASrvB,YAAc,YAGzB,IAAIowB,GAAc,CAAC,gBAAiB,KAAM,YAAa,aAAc,gBAAiB,SAClFC,GAAa,CACfhc,MAAO,SAAeic,GACpB,IAAInB,EAEApU,OAAiB,IAAVuV,EAAmB,GAAKA,EAC/B7b,EAAasG,EAAKtG,WAClBI,EAAgBkG,EAAKlG,cACrB4Z,EAAQ1T,EAAK0T,MAEjB,MAAO,CACLla,QAAS,EACTE,WAAoF,OAAvE0a,EAAkC,MAAd1a,OAAqB,EAASA,EAAWJ,OAAiB8a,EAAoBX,GAAgBD,GAAmBla,MAAOoa,GACzJ5Z,cAAgC,MAAjBA,OAAwB,EAASA,EAAcR,QAGlEO,KAAM,SAAc2b,GAClB,IAAIzB,EAEA3C,OAAmB,IAAXoE,EAAoB,GAAKA,EACjC9b,EAAa0X,EAAM1X,WACnBI,EAAgBsX,EAAMtX,cACtB4Z,EAAQtC,EAAMsC,MAElB,MAAO,CACLla,QAAS,EACTE,WAAkF,OAArEqa,EAAiC,MAAdra,OAAqB,EAASA,EAAWG,MAAgBka,EAAmBN,GAAeD,GAAmB3Z,KAAM6Z,GACpJ5Z,cAAgC,MAAjBA,OAAwB,EAASA,EAAcD,QAIhE4b,GAAa,CACf3Y,QAAS,OACTC,QAAS,QACTlD,KAAM,OACNgD,SAAUyY,IAERI,GAAoBjyB,EAAAA,YAAiB,SAAU/B,EAAOgC,GACxD,IAAI6wB,EAAgB7yB,EAAM6yB,cACtBnjB,EAAS1P,EAAK,GACdqD,EAAYrD,EAAMqD,UAClB2U,EAAahY,EAAMgY,WACnBI,EAAgBpY,EAAMoY,cACtB4Z,EAAQhyB,EAAMgyB,MACd5vB,EAAO1C,GAA8BM,EAAO2zB,IAE5CtY,EAAU3L,GAAUmjB,EAAgB,QAAU,OAC9CY,GAAOZ,GAAgBnjB,GAAUmjB,EACjCU,EAAS,CACXvb,WAAYA,EACZI,cAAeA,EACf4Z,MAAOA,GAET,OAAoBjwB,EAAAA,cAAoB2xB,GAAAA,EAAiB,CACvDH,OAAQA,GACPE,GAAqB1xB,EAAAA,cAAoBwW,GAAAA,EAAAA,IAAY3Z,GAAS,CAC/DoD,IAAKA,EACLqB,WAAWc,EAAAA,GAAAA,IAAG,cAAed,GAC7BkwB,OAAQA,GACPQ,GAAY,CACb1Y,QAASA,GACRjZ,QAGDkB,GAAAA,KACF0wB,GAAKzwB,YAAc,QAGrB,IAAI0wB,GAAc,CAAC,gBAAiB,KAAM,UAAW,eAAgB,YAAa,aAAc,gBAAiB,SAC7GC,GAAa,CACf/b,KAAM,SAAcmG,GAClB,IAAI+T,EAEA3qB,EAAU4W,EAAK5W,QACfysB,EAAe7V,EAAK6V,aACpBnc,EAAasG,EAAKtG,WAClBI,EAAgBkG,EAAKlG,cACrB4Z,EAAQ1T,EAAK0T,MACjB,OAAOpzB,GAAS,CACdkZ,QAAS,GACRpQ,EAAU,CACXqQ,MAAOoc,EACP/b,cAAgC,MAAjBA,OAAwB,EAASA,EAAcD,MAC5D,CACFC,cAAexZ,GAAS,CACtBmZ,MAAOoc,GACW,MAAjB/b,OAAwB,EAASA,EAAcD,OACjD,CACDH,WAAkF,OAArEqa,EAAiC,MAAdra,OAAqB,EAASA,EAAWG,MAAgBka,EAAmBN,GAAeD,GAAmB3Z,KAAM6Z,MAGxJpa,MAAO,SAAe8X,GACpB,IAAIgD,EAEAta,EAAgBsX,EAAMtX,cACtBJ,EAAa0X,EAAM1X,WACnBga,EAAQtC,EAAMsC,MAClB,MAAO,CACLla,QAAS,EACTC,MAAO,EACPC,WAAoF,OAAvE0a,EAAkC,MAAd1a,OAAqB,EAASA,EAAWJ,OAAiB8a,EAAoBX,GAAgBD,GAAmBla,MAAOoa,GACzJ5Z,cAAgC,MAAjBA,OAAwB,EAASA,EAAcR,SAIhEwc,GAAkB,CACpBhZ,QAAS,OACTC,QAAS,QACTlD,KAAM,OACNgD,SAAU+Y,IAERG,GAAyBtyB,EAAAA,YAAiB,SAAU/B,EAAOgC,GAC7D,IAAI6wB,EAAgB7yB,EAAM6yB,cACtBnjB,EAAS1P,EAAK,GACds0B,EAAiBt0B,EAAM0H,QACvBA,OAA6B,IAAnB4sB,GAAmCA,EAC7CC,EAAsBv0B,EAAMm0B,aAC5BA,OAAuC,IAAxBI,EAAiC,IAAOA,EACvDlxB,EAAYrD,EAAMqD,UAClB2U,EAAahY,EAAMgY,WACnBI,EAAgBpY,EAAMoY,cACtB4Z,EAAQhyB,EAAMgyB,MACd5vB,EAAO1C,GAA8BM,EAAOi0B,IAE5CR,GAAOZ,GAAgBnjB,GAAUmjB,EACjCxX,EAAU3L,GAAUmjB,EAAgB,QAAU,OAC9CU,EAAS,CACXY,aAAcA,EACdzsB,QAASA,EACTsQ,WAAYA,EACZI,cAAeA,EACf4Z,MAAOA,GAET,OAAoBjwB,EAAAA,cAAoB2xB,GAAAA,EAAiB,CACvDH,OAAQA,GACPE,GAAqB1xB,EAAAA,cAAoBwW,GAAAA,EAAAA,IAAY3Z,GAAS,CAC/DoD,IAAKA,EACLqB,WAAWc,EAAAA,GAAAA,IAAG,sBAAuBd,IACpC+wB,GAAiB,CAClB/Y,QAASA,EACTkY,OAAQA,GACPnxB,QAGDkB,GAAAA,KACF+wB,GAAU9wB,YAAc,aAG1B,IAAIC,GAAc,CAAC,YAAa,QAAS,gBAAiB,KAAM,YAAa,aAAc,gBAAiB,SACxGgxB,GAAoB,CACtBrc,KAAM,CACJF,SAAU,IACVC,KAAMmZ,GAAkBG,WAE1B5Z,MAAO,CACL2D,KAAM,SACNkZ,QAAS,GACTC,UAAW,MAGXC,GAAa,CACfxc,KAAM,SAAcmG,GAClB,IAAI+T,EAEAhgB,EAAYiM,EAAKjM,UACjB2F,EAAasG,EAAKtG,WAClBI,EAAgBkG,EAAKlG,cACrB4Z,EAAQ1T,EAAK0T,MAOjB,OAAOpzB,GAAS,GALOgzB,GAAgB,CACrCvf,UAAWA,IAEqB8F,KAEF,CAC9BH,WAAkF,OAArEqa,EAAiC,MAAdra,OAAqB,EAASA,EAAWG,MAAgBka,EAAmBN,GAAeyC,GAAkBrc,KAAM6Z,GACnJ5Z,cAAgC,MAAjBA,OAAwB,EAASA,EAAcD,QAGlEP,MAAO,SAAe8X,GACpB,IAAIgD,EAEArgB,EAAYqd,EAAMrd,UAClB+F,EAAgBsX,EAAMtX,cACtBJ,EAAa0X,EAAM1X,WACnBga,EAAQtC,EAAMsC,MAOlB,OAAOpzB,GAAS,GALQgzB,GAAgB,CACtCvf,UAAWA,IAEuBuF,MAEH,CAC/BI,WAAoF,OAAvE0a,EAAkC,MAAd1a,OAAqB,EAASA,EAAWJ,OAAiB8a,EAAoBX,GAAgByC,GAAkB5c,MAAOoa,GACxJ5Z,cAAgC,MAAjBA,OAAwB,EAASA,EAAcR,UAIhEgd,GAAqB7yB,EAAAA,YAAiB,SAAU/B,EAAOgC,GACzD,IAAI6yB,EAAmB70B,EAAMqS,UACzBA,OAAiC,IAArBwiB,EAA8B,QAAUA,EACpDta,EAAQva,EAAMua,MACdsY,EAAgB7yB,EAAM6yB,cACtBnjB,EAAS1P,EAAK,GACdqD,EAAYrD,EAAMqD,UAClB2U,EAAahY,EAAMgY,WACnBI,EAAgBpY,EAAMoY,cACtB4Z,EAAQhyB,EAAMgyB,MACd5vB,EAAO1C,GAA8BM,EAAOwD,IAE5CsxB,EAAmBlD,GAAgB,CACrCvf,UAAWA,IAET2T,EAAgBnnB,OAAOC,OAAO,CAChC6E,SAAU,SACTmxB,EAAiBnxB,SAAU4W,GAC1BkZ,GAAOZ,GAAgBnjB,GAAUmjB,EACjCxX,EAAU3L,GAAUmjB,EAAgB,QAAU,OAC9CU,EAAS,CACXnb,cAAeA,EACfJ,WAAYA,EACZ3F,UAAWA,EACX2f,MAAOA,GAET,OAAoBjwB,EAAAA,cAAoB2xB,GAAAA,EAAiB,CACvDH,OAAQA,GACPE,GAAqB1xB,EAAAA,cAAoBwW,GAAAA,EAAAA,IAAY3Z,GAAS,GAAIwD,EAAM,CACzEJ,IAAKA,EACLoZ,QAAS,OACT/X,WAAWc,EAAAA,GAAAA,IAAG,eAAgBd,GAC9BgY,QAASA,EACTlD,KAAM,OACNob,OAAQA,EACRpY,SAAUwZ,GACVpa,MAAOyL,SAIP1iB,GAAAA,KACFsxB,GAAMrxB,YAAc,SAGtB,IAAI3B,GAAY,CAAC,gBAAiB,KAAM,UAAW,YAAa,UAAW,UAAW,aAAc,gBAAiB,SACjHuZ,GAAW,CACbC,QAAS,SAAiBkD,GACxB,IAAI+T,EAEA0C,EAAUzW,EAAKyW,QACfC,EAAU1W,EAAK0W,QACfhd,EAAasG,EAAKtG,WAClBI,EAAgBkG,EAAKlG,cACrB4Z,EAAQ1T,EAAK0T,MACjB,MAAO,CACLla,QAAS,EACTxL,EAAGyoB,EACHxoB,EAAGyoB,EACHhd,WAAkF,OAArEqa,EAAiC,MAAdra,OAAqB,EAASA,EAAWG,MAAgBka,EAAmBN,GAAeD,GAAmB3Z,KAAM6Z,GACpJ5Z,cAAgC,MAAjBA,OAAwB,EAASA,EAAcD,OAGlEP,MAAO,SAAe8X,GACpB,IAAIgD,EAEA1a,EAAa0X,EAAM1X,WACnBI,EAAgBsX,EAAMtX,cACtB4Z,EAAQtC,EAAMsC,MAClB,MAAO,CACLla,QAAS,EACTxL,EAAG,EACHC,EAAG,EACHyL,WAAoF,OAAvE0a,EAAkC,MAAd1a,OAAqB,EAASA,EAAWJ,OAAiB8a,EAAoBX,GAAgBD,GAAmBla,MAAOoa,GACzJ5Z,cAAgC,MAAjBA,OAAwB,EAASA,EAAcR,QAGlEO,KAAM,SAAcwX,GAClB,IAAIsF,EAEAD,EAAUrF,EAAMqF,QAChBD,EAAUpF,EAAMoF,QAChB/c,EAAa2X,EAAM3X,WACnBI,EAAgBuX,EAAMvX,cACtB1Q,EAAUioB,EAAMjoB,QAChBsqB,EAAQrC,EAAMqC,MACdllB,EAAS,CACXR,EAAGyoB,EACHxoB,EAAGyoB,GAEL,OAAOp2B,GAAS,CACdkZ,QAAS,EACTE,WAAmF,OAAtEid,EAAkC,MAAdjd,OAAqB,EAASA,EAAWG,MAAgB8c,EAAoBlD,GAAeD,GAAmB3Z,KAAM6Z,IACrJtqB,EAAU9I,GAAS,GAAIkO,EAAQ,CAChCsL,cAAgC,MAAjBA,OAAwB,EAASA,EAAcD,OAC3D,CACHC,cAAexZ,GAAS,GAAIkO,EAAyB,MAAjBsL,OAAwB,EAASA,EAAcD,UAIrF+c,GAAkB,CACpB9Z,QAAS,UACTC,QAAS,QACTlD,KAAM,OACNgD,SAAUA,IAERga,GAAyBpzB,EAAAA,YAAiB,SAAU/B,EAAOgC,GAC7D,IAAI6wB,EAAgB7yB,EAAM6yB,cACtBnjB,EAAS1P,EAAK,GACds0B,EAAiBt0B,EAAM0H,QACvBA,OAA6B,IAAnB4sB,GAAmCA,EAC7CjxB,EAAYrD,EAAMqD,UAClB+xB,EAAiBp1B,EAAM+0B,QACvBA,OAA6B,IAAnBK,EAA4B,EAAIA,EAC1CC,EAAiBr1B,EAAMg1B,QACvBA,OAA6B,IAAnBK,EAA4B,EAAIA,EAC1Crd,EAAahY,EAAMgY,WACnBI,EAAgBpY,EAAMoY,cACtB4Z,EAAQhyB,EAAMgyB,MACd5vB,EAAO1C,GAA8BM,EAAO4B,IAE5C6xB,GAAOZ,GAAgBnjB,GAAUmjB,EACjCxX,EAAU3L,GAAUmjB,EAAgB,QAAU,OAC9CU,EAAS,CACXwB,QAASA,EACTC,QAASA,EACTttB,QAASA,EACTsQ,WAAYA,EACZI,cAAeA,EACf4Z,MAAOA,GAET,OAAoBjwB,EAAAA,cAAoB2xB,GAAAA,EAAiB,CACvDH,OAAQA,GACPE,GAAqB1xB,EAAAA,cAAoBwW,GAAAA,EAAAA,IAAY3Z,GAAS,CAC/DoD,IAAKA,EACLqB,WAAWc,EAAAA,GAAAA,IAAG,sBAAuBd,GACrCkwB,OAAQA,GACP2B,GAAiB,CAClB7Z,QAASA,GACRjZ,QAGDkB,GAAAA,KACF6xB,GAAU5xB,YAAc,uCC/qBf+xB,GAAqB,4BACrBC,GAAqB,0BCArBC,GAAYjV,ICInBkV,GAAU,aAMVC,GAAe3zB,EAAAA,YAAiB,SAAU/B,EAAOkhB,GACjD,IAAIlf,EAAMD,EAAAA,OAAa,MACnB2qB,EAAK3qB,EAAAA,SAAe,CACpB4zB,gBAAiBF,GACjBG,eAAgBH,GAChBI,mBAAoBJ,KACpBK,EAAYpJ,EAAG,GAAIqJ,EAAerJ,EAAG,GACrCsJ,EAAeh2B,EAAMg2B,aAAczvB,EAAWvG,EAAMuG,SAAUlD,EAAYrD,EAAMqD,UAAW4yB,EAAkBj2B,EAAMi2B,gBAAiBviB,EAAU1T,EAAM0T,QAASuO,EAASjiB,EAAMiiB,OAAQO,EAAUxiB,EAAMwiB,QAAS0T,EAAcl2B,EAAMk2B,YAAaC,EAAQn2B,EAAMm2B,MAAOC,EAAiBp2B,EAAMo2B,eAAgBC,EAAKr2B,EAAMoD,GAAI+e,OAAmB,IAAPkU,EAAgB,MAAQA,EAAIj0B,EAAOqe,EAAezgB,EAAO,CAAC,eAAgB,WAAY,YAAa,kBAAmB,UAAW,SAAU,UAAW,cAAe,QAAS,iBAAkB,OACrgBuiB,EAAUC,EACV8T,EAAe/Y,EAAa,CAC5Bvb,EACAkf,IAEAoB,EAAiB7B,EAAiB,GAAIre,EAAM0zB,GAChD,OAAQ/zB,EAAAA,cAAoBA,EAAAA,SAAgB,KACxC2R,GAAY3R,EAAAA,cAAoBwgB,EAAS,CAAEC,QAASgT,GAAWS,gBAAiBA,EAAiBhU,OAAQA,EAAQiU,YAAaA,EAAaC,MAAOA,EAAOJ,aAAcA,EAAcK,iBAAkBA,EAAgBG,QAASv0B,IAChOg0B,EAAgBj0B,EAAAA,aAAmBA,EAAAA,SAAAA,KAAoBwE,GAAWka,EAAiB,GAAI6B,EAAgB,CAAEtgB,IAAKs0B,KAAqBv0B,EAAAA,cAAoBogB,EAAW1B,EAAiB,GAAI6B,EAAgB,CAAEjf,UAAWA,EAAWrB,IAAKs0B,IAAiB/vB,OAE7PmvB,GAAa/pB,aAAe,CACxB+H,SAAS,EACTuiB,iBAAiB,EACjBE,OAAO,GAEXT,GAAa7qB,WAAa,CACtB2rB,UAAWjB,GACXkB,UAAWnB,IClCf,ICFIoB,GDEAnU,GAAU,SAAUmK,GACpB,IAAIlK,EAAUkK,EAAGlK,QAASpgB,EAAOqe,EAAeiM,EAAI,CAAC,YACrD,IAAKlK,EACD,MAAM,IAAIzJ,MAAM,sEAEpB,IAAI4d,EAASnU,EAAQhD,OACrB,IAAKmX,EACD,MAAM,IAAI5d,MAAM,4BAEpB,OAAOhX,EAAAA,cAAoB40B,EAAQlW,EAAiB,GAAIre,KAE5DmgB,GAAQqU,iBAAkB,EEZ1B,SAASC,KACL,IAAK9tB,SACD,OAAO,KACX,IAAI+tB,EAAM/tB,SAASC,cAAc,SACjC8tB,EAAIvb,KAAO,WACX,IAAIwb,EDDAL,IAIOM,EAAAA,GCCX,OAHID,GACAD,EAAIG,aAAa,QAASF,GAEvBD,EAcJ,IAAII,GAAsB,WAC7B,IAAIC,EAAU,EACVC,EAAa,KACjB,MAAO,CACHnkB,IAAK,SAAUsH,GAhBvB,IAAsBuc,EAAKO,EAiBA,GAAXF,IACIC,EAAaP,QAlBNQ,EAmBkB9c,GAnBvBuc,EAmBWM,GAlBrBE,WACJR,EAAIQ,WAAWC,QAAUF,EAGzBP,EAAIU,YAAYzuB,SAAS0uB,eAAeJ,IAGhD,SAAwBP,IACT/tB,SAAS2uB,MAAQ3uB,SAAS4uB,qBAAqB,QAAQ,IAC7DH,YAAYV,GAUDc,CAAeR,IAGvBD,KAEJU,OAAQ,cACJV,GACgBC,IACZA,EAAWhR,YAAcgR,EAAWhR,WAAW0R,YAAYV,GAC3DA,EAAa,SCxClBW,GAAiB,WACxB,IAAIC,ECAwB,WAC5B,IAAIC,EAAQf,KACZ,OAAO,SAAUpyB,GACb/C,EAAAA,WAAgB,WAEZ,OADAk2B,EAAMhlB,IAAInO,GACH,WACHmzB,EAAMJ,YAEX,KDRQK,GAMf,OALY,SAAUxL,GAClB,IAAI5nB,EAAS4nB,EAAG5nB,OAEhB,OADAkzB,EAASlzB,GACF,OENJqzB,GAAU,CACjB/Z,KAAM,EACND,IAAK,EACLuT,MAAO,EACP0G,IAAK,GAELC,GAAQ,SAAU/rB,GAAK,OAAOkmB,SAASlmB,GAAK,GAAI,KAAO,GAYhDgsB,GAAc,SAAUC,GAE/B,QADgB,IAAZA,IAAsBA,EAAU,UACd,qBAAXzvB,OACP,OAAOqvB,GAEX,IAAIK,EAhBQ,SAAUD,GACtB,IAAIE,EAAK3vB,OAAOmd,iBAAiBld,SAASilB,MACtC5P,EAAOqa,EAAe,YAAZF,EAAwB,cAAgB,cAClDpa,EAAMsa,EAAe,YAAZF,EAAwB,aAAe,aAChD7G,EAAQ+G,EAAe,YAAZF,EAAwB,eAAiB,eACxD,MAAO,CACHF,GAAMja,GACNia,GAAMla,GACNka,GAAM3G,IAQIgH,CAAUH,GACpBI,EAAgB5vB,SAAS6vB,gBAAgBC,YACzCC,EAAchwB,OAAOiwB,WACzB,MAAO,CACH3a,KAAMoa,EAAQ,GACdra,IAAKqa,EAAQ,GACb9G,MAAO8G,EAAQ,GACfJ,IAAK5P,KAAKvhB,IAAI,EAAG6xB,EAAcH,EAAgBH,EAAQ,GAAKA,EAAQ,MC1BxEQ,GAAQjB,KACRkB,GAAY,SAAUvM,EAAIwM,EAAeX,EAASY,GAClD,IAAI/a,EAAOsO,EAAGtO,KAAMD,EAAMuO,EAAGvO,IAAKuT,EAAQhF,EAAGgF,MAAO0G,EAAM1L,EAAG0L,IAE7D,YADgB,IAAZG,IAAsBA,EAAU,UAC7B,uDAA+DY,EAAY,wBAA0Bf,EAAM,MAAQe,EAAY,0CAA4CA,EAAY,UAAY,CACtMD,GAAiB,sBAAwBC,EAAY,IACzC,WAAZZ,GAAwB,uBAAyBna,EAAO,yBAA2BD,EAAM,2BAA6BuT,EAAQ,iEAAmE0G,EAAM,MAAQe,EAAY,UAC/M,YAAZZ,GAAyB,kBAAoBH,EAAM,MAAQe,EAAY,KACzEpuB,OAAOC,SAAS/B,KAAK,IAAM,iBAAmBqsB,GAAqB,kBAAoB8C,EAAM,MAAQe,EAAY,kBAAoB5D,GAAqB,yBAA2B6C,EAAM,MAAQe,EAAY,kBAAoB7D,GAAqB,KAAOA,GAAqB,oBAAsB6D,EAAY,kBAAoB5D,GAAqB,KAAOA,GAAqB,2BAA6B4D,EAJnZ,6DAI8df,EAAM,cAEpegB,GAAkB,SAAUp5B,GACnC,IAAI0sB,EAAK3qB,EAAAA,SAAeu2B,GAAYt4B,EAAMu4B,UAAWH,EAAM1L,EAAG,GAAI2M,EAAS3M,EAAG,GAC9E3qB,EAAAA,WAAgB,WACZs3B,EAAOf,GAAYt4B,EAAMu4B,YAC1B,CAACv4B,EAAMu4B,UACV,IAAIe,EAAat5B,EAAMs5B,WAAYC,EAAcv5B,EAAMu5B,YAAalD,EAAKr2B,EAAMu4B,QAASA,OAAiB,IAAPlC,EAAgB,SAAWA,EAC7H,OAAOt0B,EAAAA,cAAoBi3B,GAAO,CAAEl0B,OAAQm0B,GAAUb,GAAMkB,EAAYf,EAAUgB,EAA6B,GAAf,iBCRzFC,GAA0B,SAAUC,EAAMhkB,GACjD,IAAI/T,EAAU+T,EACd,EAAG,CAEC,GADmBikB,GAAuBD,EAAM/3B,GAC9B,CACd,IAAIgrB,EAAKiN,GAAmBF,EAAM/3B,GAClC,GADgDgrB,EAAG,GAAQA,EAAG,GAE1D,OAAO,EAGfhrB,EAAUA,EAAQ0kB,iBACb1kB,GAAWA,IAAYqH,SAASilB,MACzC,OAAO,GAUP0L,GAAyB,SAAUD,EAAMhkB,GACzC,MAAgB,MAATgkB,EAnCmB,SAAUhkB,GACpC,IAAI3Q,EAASgE,OAAOmd,iBAAiBxQ,GACrC,MAA6B,WAArB3Q,EAAO80B,aACT90B,EAAO80B,YAAc90B,EAAO+0B,WAAkC,YAArB/0B,EAAO80B,WAgChCE,CAAwBrkB,GA7BpB,SAAUA,GACpC,IAAI3Q,EAASgE,OAAOmd,iBAAiBxQ,GACrC,MAA6B,WAArB3Q,EAAO+0B,aACT/0B,EAAO80B,YAAc90B,EAAO+0B,WAAkC,YAArB/0B,EAAO+0B,WA0BAE,CAAwBtkB,IAE9EkkB,GAAqB,SAAUF,EAAMhkB,GACrC,MAAgB,MAATgkB,EAVA,EAFyB/M,EAYUjX,GAXvBukB,UAA0BtN,EAAGuN,aAA6BvN,EAAGwN,cAG1D,SAAUxN,GAEhC,MAAO,CADUA,EAAGyN,WAA0BzN,EAAG0N,YAA2B1N,EAAGmM,aAO7BwB,CAAoB5kB,GAZhD,IAAUiX,GC1BhC4N,IAAmB,EACvB,GAAsB,qBAAXxxB,OACP,IACI,IAAIU,GAAU3K,OAAO07B,eAAe,GAAI,UAAW,CAC/C7T,IAAK,WAED,OADA4T,IAAmB,GACZ,KAGfxxB,OAAOunB,iBAAiB,OAAQ7mB,GAASA,IACzCV,OAAO2nB,oBAAoB,OAAQjnB,GAASA,IAEhD,MAAOgxB,IACHF,IAAmB,EAGpB,IAAIG,KAAaH,IAAmB,CAAEI,SAAS,GCX3CC,GAAa,SAAUp5B,GAC9B,MAAO,mBAAoBA,EACrB,CAACA,EAAMq5B,eAAe,GAAGC,QAASt5B,EAAMq5B,eAAe,GAAGE,SAC1D,CAAC,EAAG,IAEHC,GAAa,SAAUx5B,GAAS,MAAO,CAACA,EAAMy5B,OAAQz5B,EAAM05B,SACnElM,GAAa,SAAU/sB,GACvB,OAAOA,GAAO,YAAaA,EAAMA,EAAIN,QAAUM,GAK/Ck5B,GAAgB,SAAUtuB,GAAM,MAAO,4BAA8BA,EAAK,oDAAsDA,EAAK,6BACrIuuB,GAAY,EACZC,GAAY,GChBhB,IVWsCC,GUXtC,IVWsCA,GSM/B,SAA6Br7B,GAChC,IAAIs7B,EAAqBv5B,EAAAA,OAAa,IAClCw5B,EAAgBx5B,EAAAA,OAAa,CAAC,EAAG,IACjCy5B,EAAaz5B,EAAAA,SACb6K,EAAK7K,EAAAA,SAAeo5B,MAAa,GACjCnC,EAAQj3B,EAAAA,UAAe,WAAc,OAAOg2B,QAAqB,GACjE0D,EAAY15B,EAAAA,OAAa/B,GAC7B+B,EAAAA,WAAgB,WACZ05B,EAAU/5B,QAAU1B,IACrB,CAACA,IACJ+B,EAAAA,WAAgB,WACZ,GAAI/B,EAAMm2B,MAAO,CACbptB,SAASilB,KAAK0N,UAAUzoB,IAAI,uBAAyBrG,GACrD,IAAI+uB,EAAU,CACV37B,EAAMu2B,QAAQ70B,SAChB+oB,QAAQzqB,EAAMiiB,QAAU,IAAIta,IAAIonB,KAAahkB,OAAOC,SAEtD,OADA2wB,EAAQ9mB,SAAQ,SAAUwQ,GAAM,OAAOA,EAAGqW,UAAUzoB,IAAI,uBAAyBrG,MAC1E,WACH7D,SAASilB,KAAK0N,UAAU7D,OAAO,uBAAyBjrB,GACxD+uB,EAAQ9mB,SAAQ,SAAUwQ,GACtB,OAAOA,EAAGqW,UAAU7D,OAAO,uBAAyBjrB,UAKjE,CAAC5M,EAAMm2B,MAAOn2B,EAAMu2B,QAAQ70B,QAAS1B,EAAMiiB,SAC9C,IAAI2Z,EAAoB75B,EAAAA,aAAkB,SAAUR,EAAOipB,GACvD,GAAI,YAAajpB,GAAkC,IAAzBA,EAAMs6B,QAAQ38B,OACpC,OAAQu8B,EAAU/5B,QAAQ00B,eAE9B,IAII0F,EAJAC,EAAQpB,GAAWp5B,GACnBy6B,EAAaT,EAAc75B,QAC3Bs5B,EAAS,WAAYz5B,EAAQA,EAAMy5B,OAASgB,EAAW,GAAKD,EAAM,GAClEd,EAAS,WAAY15B,EAAQA,EAAM05B,OAASe,EAAW,GAAKD,EAAM,GAElEh9B,EAASwC,EAAMxC,OACfk9B,EAAgBzT,KAAKC,IAAIuS,GAAUxS,KAAKC,IAAIwS,GAAU,IAAM,IAC5DiB,EAA+B1C,GAAwByC,EAAel9B,GAC1E,IAAKm9B,EACD,OAAO,EAUX,GARIA,EACAJ,EAAcG,GAGdH,EAAgC,MAAlBG,EAAwB,IAAM,IAC5CC,EAA+B1C,GAAwByC,EAAel9B,KAGrEm9B,EACD,OAAO,EAOX,IALKV,EAAW95B,SACZ,mBAAoBH,IACnBy5B,GAAUC,KACXO,EAAW95B,QAAUo6B,IAEpBA,EACD,OAAO,EAEX,IAAIK,EAAgBX,EAAW95B,SAAWo6B,EAC1C,OFzCkB,SAAUrC,EAAM2C,EAAW76B,EAAO86B,EAAaC,GACrE,IAAIC,EAAQF,EAERt9B,EAASwC,EAAMxC,OACfy9B,EAAeJ,EAAUvoB,SAAS9U,GAClC09B,GAAqB,EACrBC,EAAkBH,EAAQ,EAC1BI,EAAkB,EAClBC,EAAqB,EACzB,EAAG,CACC,IAAIlQ,EAAKiN,GAAmBF,EAAM16B,GAAS4E,EAAW+oB,EAAG,GACrDmQ,EADoEnQ,EAAG,GAAeA,EAAG,GACnD/oB,GACtCA,GAAYk5B,IACRnD,GAAuBD,EAAM16B,KAC7B49B,GAAmBE,EACnBD,GAAsBj5B,GAG9B5E,EAASA,EAAOqnB,kBAGlBoW,GAAgBz9B,IAAWgK,SAASilB,MAEjCwO,IAAiBJ,EAAUvoB,SAAS9U,IAAWq9B,IAAcr9B,IAWlE,OAVI29B,IACEJ,GAAoC,IAApBK,IACZL,GAAgBC,EAAQI,KAGxBD,IACJJ,GAAuC,IAAvBM,IACZN,IAAiBC,EAAQK,MAJ/BH,GAAqB,GAOlBA,EEOIK,CAAaX,EAAe3R,EAAQjpB,EAAyB,MAAlB46B,EAAwBnB,EAASC,GAAQ,KAC5F,IACC8B,EAAgBh7B,EAAAA,aAAkB,SAAUi7B,GAC5C,IAAIz7B,EAAQy7B,EACZ,GAAK5B,GAAUl8B,QAAUk8B,GAAUA,GAAUl8B,OAAS,KAAO85B,EAA7D,CAIA,IAAIuD,EAAQ,WAAYh7B,EAAQw5B,GAAWx5B,GAASo5B,GAAWp5B,GAC3D07B,EAAc3B,EAAmB55B,QAAQqJ,QAAO,SAAU+T,GAC1D,OAAOA,EAAExa,OAAS/C,EAAMga,MACpBuD,EAAE/f,SAAWwC,EAAMxC,SA9ENuN,EA+EAwS,EAAEyd,MA/EChwB,EA+EMgwB,EA9E3BjwB,EAAE,KAAOC,EAAE,IAAMD,EAAE,KAAOC,EAAE,IADpB,IAAUD,EAAGC,KAgFrB,GAEH,GAAI0wB,GAAeA,EAAYC,OAC3B37B,EAAM0V,sBAIV,IAAKgmB,EAAa,CACd,IAAIE,GAAc1B,EAAU/5B,QAAQugB,QAAU,IACzCta,IAAIonB,IACJhkB,OAAOC,SACPD,QAAO,SAAU0K,GAAQ,OAAOA,EAAK5B,SAAStS,EAAMxC,YACxCo+B,EAAWj+B,OAAS,EAC/B08B,EAAkBr6B,EAAO47B,EAAW,KACnC1B,EAAU/5B,QAAQw0B,cAErB30B,EAAM0V,qBAGf,IACCmmB,EAAer7B,EAAAA,aAAkB,SAAUuC,EAAMi4B,EAAOx9B,EAAQm+B,GAChE,IAAI37B,EAAQ,CAAE+C,KAAMA,EAAMi4B,MAAOA,EAAOx9B,OAAQA,EAAQm+B,OAAQA,GAChE5B,EAAmB55B,QAAQie,KAAKpe,GAChCsR,YAAW,WACPyoB,EAAmB55B,QAAU45B,EAAmB55B,QAAQqJ,QAAO,SAAU+T,GAAK,OAAOA,IAAMvd,OAC5F,KACJ,IACC87B,EAAmBt7B,EAAAA,aAAkB,SAAUR,GAC/Cg6B,EAAc75B,QAAUi5B,GAAWp5B,GACnCi6B,EAAW95B,aAAUoB,IACtB,IACCw6B,EAAcv7B,EAAAA,aAAkB,SAAUR,GAC1C67B,EAAa77B,EAAMga,KAAMwf,GAAWx5B,GAAQA,EAAMxC,OAAQ68B,EAAkBr6B,EAAOvB,EAAMu2B,QAAQ70B,YAClG,IACC67B,EAAkBx7B,EAAAA,aAAkB,SAAUR,GAC9C67B,EAAa77B,EAAMga,KAAMof,GAAWp5B,GAAQA,EAAMxC,OAAQ68B,EAAkBr6B,EAAOvB,EAAMu2B,QAAQ70B,YAClG,IACHK,EAAAA,WAAgB,WAUZ,OATAq5B,GAAUzb,KAAKqZ,GACfh5B,EAAM+1B,aAAa,CACfJ,gBAAiB2H,EACjB1H,eAAgB0H,EAChBzH,mBAAoB0H,IAExBx0B,SAASsnB,iBAAiB,QAAS0M,EAAetC,IAClD1xB,SAASsnB,iBAAiB,YAAa0M,EAAetC,IACtD1xB,SAASsnB,iBAAiB,aAAcgN,EAAkB5C,IACnD,WACHW,GAAYA,GAAUrwB,QAAO,SAAUyyB,GAAQ,OAAOA,IAASxE,KAC/DjwB,SAAS0nB,oBAAoB,QAASsM,EAAetC,IACrD1xB,SAAS0nB,oBAAoB,YAAasM,EAAetC,IACzD1xB,SAAS0nB,oBAAoB,aAAc4M,EAAkB5C,OAElE,IACH,IAAIxE,EAAkBj2B,EAAMi2B,gBAAiBE,EAAQn2B,EAAMm2B,MAC3D,OAAQp0B,EAAAA,cAAoBA,EAAAA,SAAgB,KACxCo0B,EAAQp0B,EAAAA,cAAoBi3B,EAAO,CAAEl0B,OAAQo2B,GAActuB,KAAS,KACpEqpB,EAAkBl0B,EAAAA,cAAoBq3B,GAAiB,CAAEb,QAAS,WAAc,OCpJ3D/C,GVYlB/V,UAAU4b,IACV9Y,IWZPkb,GAAoB17B,EAAAA,YAAiB,SAAU/B,EAAOgC,GAAO,OAAQD,EAAAA,cAAoB2zB,GAAcjV,EAAiB,GAAIzgB,EAAO,CAAEgC,IAAKA,EAAKwgB,QAASD,SAC5Jkb,GAAkB5yB,WAAa6qB,GAAa7qB,WAC5C,qBCCI6yB,GAAa,IAAIh1B,QACjBi1B,GAAoB,IAAIj1B,QACxBk1B,GAAY,GACZC,GAAY,EACLC,GAAa,SAAUC,EAAgB3X,EAAY4X,QACvC,IAAf5X,IAAyBA,EAZV,SAAU2X,GAC7B,MAAwB,qBAAbh1B,SACA,MAEQO,MAAMuf,QAAQkV,GAAkBA,EAAe,GAAKA,GACnDE,cAAcjQ,KAOQkQ,CAAiBH,SACxC,IAAfC,IAAyBA,EAAa,oBAC1C,IAAIG,EAAU70B,MAAMuf,QAAQkV,GAAkBA,EAAiB,CAACA,GAC3DH,GAAUI,KACXJ,GAAUI,GAAc,IAAIt1B,SAEhC,IAAI01B,EAAgBR,GAAUI,GAC1BK,EAAc,GACdC,EAAiB,IAAI3pB,IAQzBwpB,EAAQtpB,SAPI,SAAR0pB,EAAkBlZ,GACbA,IAAMiZ,EAAenW,IAAI9C,KAG9BiZ,EAAerrB,IAAIoS,GACnBkZ,EAAKlZ,EAAGe,gBAkCZ,OA/BW,SAAPoY,EAAiBhU,IACZA,GAAU2T,EAAQr+B,QAAQ0qB,IAAW,GAG1ClhB,MAAMjK,UAAUwV,QAAQtV,KAAKirB,EAAOjkB,UAAU,SAAUkP,GACpD,GAAI6oB,EAAenW,IAAI1S,GACnB+oB,EAAK/oB,OAEJ,CACD,IAAIgpB,EAAOhpB,EAAKtH,aAAa,eACzBuwB,EAAyB,OAATD,GAA0B,UAATA,EACjCE,GAAgBjB,GAAWhX,IAAIjR,IAAS,GAAK,EAC7CmpB,GAAeR,EAAc1X,IAAIjR,IAAS,GAAK,EACnDioB,GAAW9W,IAAInR,EAAMkpB,GACrBP,EAAcxX,IAAInR,EAAMmpB,GACxBP,EAAY1e,KAAKlK,GACI,IAAjBkpB,GAAsBD,GACtBf,GAAkB/W,IAAInR,GAAM,GAEZ,IAAhBmpB,GACAnpB,EAAKwhB,aAAa+G,EAAY,QAE7BU,GACDjpB,EAAKwhB,aAAa,cAAe,YAKjDuH,CAAKpY,GACLkY,EAAevpB,QACf8oB,KACO,WACHQ,EAAYxpB,SAAQ,SAAUY,GAC1B,IAAIkpB,EAAejB,GAAWhX,IAAIjR,GAAQ,EACtCmpB,EAAcR,EAAc1X,IAAIjR,GAAQ,EAC5CioB,GAAW9W,IAAInR,EAAMkpB,GACrBP,EAAcxX,IAAInR,EAAMmpB,GACnBD,IACIhB,GAAkBxV,IAAI1S,IACvBA,EAAKma,gBAAgB,eAEzB+N,GAAkBkB,OAAOppB,IAExBmpB,GACDnpB,EAAKma,gBAAgBoO,QAG7BH,KAEIH,GAAa,IAAIh1B,QACjBg1B,GAAa,IAAIh1B,QACjBi1B,GAAoB,IAAIj1B,QACxBk1B,GAAY,MCnExB,SAASl+B,GAA8BP,EAAQQ,GAC7C,GAAc,MAAVR,EAAgB,MAAO,GAC3B,IAEIC,EAAKJ,EAFLD,EAAS,GACTa,EAAaf,OAAOgB,KAAKV,GAG7B,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IACjCI,EAAMQ,EAAWZ,GACbW,EAASG,QAAQV,IAAQ,IAC7BL,EAAOK,GAAOD,EAAOC,IAGvB,OAAOL,EAGT,SAASH,KAeP,OAdAA,GAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,IAK3B,OAAOL,GAGFH,GAASY,MAAMC,KAAMR,WAG9B,IAAI00B,GAAc,CAAC,UACfmL,GAAc,CAChBC,cAAengC,GAAS,GAAIs2B,GAAiB,CAC3C3B,OAAQ,CACNyB,QAAS,GACTttB,SAAS,KAGbs3B,aAAcpgC,GAAS,GAAIs2B,GAAiB,CAC1C3B,OAAQ,CACNwB,QAAS,GACTrtB,SAAS,KAGbqQ,MAAOnZ,GAAS,GAAIw1B,GAAiB,CACnCb,OAAQ,CACNY,aAAc,IACdzsB,SAAS,KAGbu3B,KAAM,IAEJC,IAAS/7B,EAAAA,GAAAA,IAAOoV,GAAAA,EAAAA,SAChB4mB,GAA+Bp9B,EAAAA,YAAiB,SAAU/B,EAAOgC,GACnE,IAAIo9B,EAASp/B,EAAMo/B,OACfh9B,EAAO1C,GAA8BM,EAAO2zB,IAE5C0L,EAAcP,GAAYM,GAC9B,OAAoBr9B,EAAAA,cAAoBm9B,GAAQtgC,GAAS,CACvDoD,IAAKA,GACJq9B,EAAaj9B,OAkCdk9B,GAAU,IA1BkB,WAC9B,SAASC,IACP9/B,KAAK+/B,YAAS,EACd//B,KAAK+/B,OAAS,GAGhB,IAAIhb,EAAS+a,EAAalgC,UAiB1B,OAfAmlB,EAAOvR,IAAM,SAAawsB,GACxBhgC,KAAK+/B,OAAO7f,KAAK8f,IAGnBjb,EAAOqT,OAAS,SAAgB4H,GAC9BhgC,KAAK+/B,OAAS//B,KAAK+/B,OAAOz0B,QAAO,SAAU20B,GACzC,OAAOA,IAAWD,MAItBjb,EAAOmb,WAAa,SAAoBF,GAEtC,OADmBhgC,KAAK+/B,OAAO//B,KAAK+/B,OAAOtgC,OAAS,KAC5BugC,GAGnBF,EAvBuB,IA6ChC,SAASK,GAAS5/B,GAChB,IA8IqBgC,EAAK69B,EA9ItBnwB,EAAS1P,EAAM0P,OACfF,EAAUxP,EAAMwP,QAChB5C,EAAK5M,EAAM4M,GACXkzB,EAAwB9/B,EAAM+/B,oBAC9BA,OAAgD,IAA1BD,GAA0CA,EAChEE,EAAoBhgC,EAAMigC,WAC1BA,OAAmC,IAAtBD,GAAsCA,EACnDE,EAAkBlgC,EAAMmgC,SACxBA,OAA+B,IAApBD,GAAoCA,EAC/CE,EAAqBpgC,EAAMqgC,eAC3BC,EAAQtgC,EAAMsgC,MACdC,GAAYx/B,EAAAA,EAAAA,QAAO,MACnBy/B,GAAaz/B,EAAAA,EAAAA,QAAO,MAEpBwT,GAAUC,EAAAA,GAAAA,IAAO5H,EAAI,eAAgB,uBAAwB,sBAC7D6zB,EAAWlsB,EAAQ,GACnBmsB,EAAWnsB,EAAQ,GACnBosB,EAASpsB,EAAQ,GA6HAvS,EApHPu+B,EAoHYV,EApHDnwB,GAAUywB,GAqHnCt/B,EAAAA,EAAAA,YAAU,WACR,GAAKmB,EAAIN,QAAT,CACA,IAAIk/B,EAAO,KAMX,OAJIf,GAAc79B,EAAIN,UACpBk/B,EAAO9C,GAAW97B,EAAIN,UAGjB,WACDm+B,IACM,MAARe,GAAwBA,SAG3B,CAACf,EAAY79B,IA/KlB,SAAyBA,EAAK0N,IAC5B7O,EAAAA,EAAAA,YAAU,WAKR,OAJI6O,GACF4vB,GAAQrsB,IAAIjR,GAGP,WACLs9B,GAAQzH,OAAO71B,MAEhB,CAAC0N,EAAQ1N,IAyCZ6+B,CAAgBN,EAAW7wB,GAC3B,IAAIoxB,GAAkB//B,EAAAA,EAAAA,QAAO,MACzBggC,GAAc9/B,EAAAA,EAAAA,cAAY,SAAUM,GACtCu/B,EAAgBp/B,QAAUH,EAAMxC,SAC/B,IACC2X,GAAYzV,EAAAA,EAAAA,cAAY,SAAUM,GAClB,WAAdA,EAAMnC,MACRmC,EAAM2V,kBAEF+oB,IACS,MAAXzwB,GAA2BA,KAGpB,MAAT8wB,GAAyBA,OAE1B,CAACL,EAAYzwB,EAAS8wB,IAErB7/B,GAAYC,EAAAA,EAAAA,WAAS,GACrBsgC,EAAgBvgC,EAAU,GAC1BwgC,EAAmBxgC,EAAU,GAE7BygC,GAAaxgC,EAAAA,EAAAA,WAAS,GACtBygC,EAAcD,EAAW,GACzBE,EAAiBF,EAAW,GAE5BG,GAAiBpgC,EAAAA,EAAAA,cAAY,SAAUjB,EAAOgC,GAShD,YARc,IAAVhC,IACFA,EAAQ,SAGE,IAARgC,IACFA,EAAM,MAGDpD,GAAS,CACdmG,KAAM,UACL/E,EAAO,CACRgC,KAAK0O,EAAAA,GAAAA,IAAU1O,EAAKu+B,GACpB3zB,GAAI6zB,EACJ9vB,UAAW,EACX,cAAc,EACd,kBAAmBqwB,EAAgBN,OAAW59B,EAC9C,mBAAoBq+B,EAAcR,OAAS79B,EAC3CiM,SAASsI,EAAAA,GAAAA,IAAgBrX,EAAM+O,SAAS,SAAUxN,GAChD,OAAOA,EAAM2V,yBAGhB,CAACypB,EAAQQ,EAAaV,EAAUC,EAAUM,IACzCX,GAAiBp/B,EAAAA,EAAAA,cAAY,SAAUM,GACzCA,EAAM2V,kBAUF4pB,EAAgBp/B,UAAYH,EAAMxC,QAKjCugC,GAAQK,WAAWY,KAEpBR,IACS,MAAXvwB,GAA2BA,KAGP,MAAtB4wB,GAAsCA,OACrC,CAAC5wB,EAASuwB,EAAqBK,IAC9BkB,GAA0BrgC,EAAAA,EAAAA,cAAY,SAAUjB,EAAOgC,GASzD,YARc,IAAVhC,IACFA,EAAQ,SAGE,IAARgC,IACFA,EAAM,MAGDpD,GAAS,GAAIoB,EAAO,CACzBgC,KAAK0O,EAAAA,GAAAA,IAAU1O,EAAKw+B,GACpBzxB,SAASsI,EAAAA,GAAAA,IAAgBrX,EAAM+O,QAASsxB,GACxC3pB,WAAWW,EAAAA,GAAAA,IAAgBrX,EAAM0W,UAAWA,GAC5CqqB,aAAa1pB,EAAAA,GAAAA,IAAgBrX,EAAM+gC,YAAaA,OAEjD,CAACrqB,EAAWqqB,EAAaV,IAC5B,MAAO,CACL3wB,OAAQA,EACRF,QAASA,EACTkxB,SAAUA,EACVC,OAAQA,EACRS,eAAgBA,EAChBH,iBAAkBA,EAClBV,UAAWA,EACXC,WAAYA,EACZa,eAAgBA,EAChBC,wBAAyBA,GA8B7B,IAAIrN,GAAc,CAAC,YAAa,WAAY,kBACxC9mB,GAAe,CAAC,YAAa,cAC7ByD,GAAa,CAAC,aACdC,GAAa,CAAC,aACdC,GAAa,CAAC,aACdC,GAAa,CAAC,UAAW,aAEzBwwB,IAAmB3zB,EAAAA,GAAAA,IAAc,CACnCC,QAAQ,EACRvJ,KAAM,eACNk9B,aAAc,sGAEZC,GAAuBF,GAAiB,GACxCG,GAAkBH,GAAiB,GAQnCI,GAAQ,SAAe3hC,GACzB,IAAI4hC,EAAc5hC,EAAM4hC,YACpBr7B,EAAWvG,EAAMuG,SACjBqb,EAAY5hB,EAAM4hB,UAClBigB,EAAY7hC,EAAM6hC,UAClBhR,EAAkB7wB,EAAM6wB,gBACxBC,EAAgB9wB,EAAM8wB,cACtBgR,EAAqB9hC,EAAM8hC,mBAC3BC,EAAqB/hC,EAAM+hC,mBAC3B3L,EAAiBp2B,EAAMo2B,eACvB4L,EAAuBhiC,EAAMgiC,qBAC7BC,EAAejiC,EAAMiiC,aACrBhR,EAAwBjxB,EAAMixB,sBAC9BnsB,GAASc,EAAAA,GAAAA,IAAoB,QAAS5F,GAGtCiW,EAAUrX,GAAS,GAFXghC,GAAS5/B,GAEa,CAChC4hB,UAAWA,EACXigB,UAAWA,EACXhR,gBAAiBA,EACjBC,cAAeA,EACfgR,mBAAoBA,EACpBC,mBAAoBA,EACpB3L,eAAgBA,EAChB4L,qBAAsBA,EACtBC,aAAcA,EACdhR,sBAAuBA,IAGzB,OAAoBlvB,EAAAA,cAAoB0/B,GAAsB,CAC5D56B,MAAOoP,GACOlU,EAAAA,cAAoB6E,GAAAA,GAAgB,CAClDC,MAAO/B,GACO/C,EAAAA,cAAoB2xB,GAAAA,EAAiB,KAAMzd,EAAQvG,QAAuB3N,EAAAA,cAAoBmgC,GAAAA,GAAQN,EAAar7B,OAErIo7B,GAAMh2B,aAAe,CACnBslB,uBAAuB,EACvB6Q,oBAAoB,EACpBK,eAAgB,UAChBN,WAAW,EACXjgB,WAAW,EACXmgB,oBAAoB,EACpB3L,gBAAgB,EAChB6L,aAAc,SAGZ3+B,GAAAA,KACFq+B,GAAMp+B,YAAc,SAGtB,IAAI6+B,IAAYj/B,EAAAA,GAAAA,IAAOoV,GAAAA,EAAAA,KAMnB8pB,IAA4B7/B,EAAAA,GAAAA,KAAW,SAAUxC,EAAOgC,GAC1D,IAAIqB,EAAYrD,EAAMqD,UAClBkD,EAAWvG,EAAMuG,SACjBoS,EAAY3Y,EAAMsiB,eAClBlgB,EAAO1C,GAA8BM,EAAOi0B,IAE5CqO,EAAmBZ,KACnBL,EAAiBiB,EAAiBjB,eAClCC,EAA0BgB,EAAiBhB,wBAE3CiB,EAAclB,EAAej/B,EAAMJ,GACnCsgB,EAAiBgf,EAAwB3oB,GAEzChO,GAAaxG,EAAAA,GAAAA,IAAG,wBAAyBd,GAEzCyB,GAASb,EAAAA,GAAAA,MAETu+B,EAAe5jC,GAAS,CAC1BgF,QAAS,OACT0E,cAAe,SACf3E,SAAU,WACVtB,MAAO,OACPgU,QAAS,GACRvR,EAAO29B,QAENC,EAAwB9jC,GAAS,CACnCgF,QAAS,OACTvB,MAAO,QACPC,OAAQ,QACR,4CAA6C,CAC3CA,OAAQ,0BAEVqB,SAAU,QACVya,KAAM,EACND,IAAK,GACJrZ,EAAO69B,iBAGNV,EADoBP,KACaO,aAErC,OAAoBlgC,EAAAA,cAAoB6gC,GAAiB,KAAmB7gC,EAAAA,cAAoBoB,GAAAA,GAAAA,IAAYvE,GAAS,GAAI0jB,EAAgB,CACvIjf,UAAW,kCAEXsN,UAAW,EACXvM,MAAOs+B,IACQ3gC,EAAAA,cAAoBo9B,GAAiBvgC,GAAS,CAC7DwgC,OAAQ6C,EACR5+B,UAAWsH,GACV43B,EAAa,CACdn+B,MAAOo+B,IACLj8B,QAON,SAASq8B,GAAgB5iC,GACvB,IAAI6iC,EAAoBnB,KACpB9f,EAAYihB,EAAkBjhB,UAC9BigB,EAAYgB,EAAkBhB,UAC9BtB,EAAYsC,EAAkBtC,UAC9B1P,EAAkBgS,EAAkBhS,gBACpCkR,EAAqBc,EAAkBd,mBACvC3L,EAAiByM,EAAkBzM,eACnCtF,EAAgB+R,EAAkB/R,cAClCgR,EAAqBe,EAAkBf,mBACvCE,EAAuBa,EAAkBb,qBACzC/Q,EAAwB4R,EAAkB5R,sBAE1C6R,GAAeC,EAAAA,GAAAA,MACfC,EAAYF,EAAa,GACzBG,EAAeH,EAAa,GAOhC,OALA/gC,EAAAA,WAAgB,YACTihC,GAAaC,GAChBpwB,WAAWowB,KAEZ,CAACD,EAAWC,IACKlhC,EAAAA,cAAoBkf,GAAW,CACjDW,UAAWA,EACX5S,YAAa6yB,EACbhR,gBAAiBA,EACjBC,cAAeA,EACfE,aAAc8Q,EACd/Q,WAAYwP,EACZtP,sBAAuBA,GACTlvB,EAAAA,cAAoB2zB,GAAc,CAChDO,iBAAkB+L,EAClB5L,eAAgBA,EAChB1iB,QAASquB,EACT/L,cAAc,GACbh2B,EAAMuG,WAvCPjD,GAAAA,KACF++B,GAAa9+B,YAAc,gBA+C7B,IAAI2/B,IAA4B1gC,EAAAA,GAAAA,KAAW,SAAUxC,EAAOgC,GAC1D,IAAIqB,EAAYrD,EAAMqD,UAClBrD,EAAMgY,WACN,IAAI5V,EAAO1C,GAA8BM,EAAOmN,IAEhDxC,GAAaxG,EAAAA,GAAAA,IAAG,wBAAyBd,GAIzC8/B,EAAevkC,GAAS,CAC1BwkC,IAAK,QACLhlB,KAAM,IACND,IAAK,IACLlT,EAAG,QACHC,EAAG,UAPQjH,EAAAA,GAAAA,MAQHo/B,SAKNhE,EAA+B,SAHXqC,KACaO,aAEO,GAAKlO,GACjD,OAAoBhyB,EAAAA,cAAoBqgC,GAAWxjC,GAAS,GAAIygC,EAAa,CAC3Ej7B,MAAO++B,EACPnhC,IAAKA,EACLqB,UAAWsH,GACVvI,OAGDkB,GAAAA,KACF4/B,GAAa3/B,YAAc,gBAU7B,IAAI+/B,IAA2B9gC,EAAAA,GAAAA,KAAW,SAAUxC,EAAOgC,GACzD,IAAIqB,EAAYrD,EAAMqD,UAClBjB,EAAO1C,GAA8BM,EAAO4Q,IAE5C2yB,EAAoB7B,KACpBhB,EAAW6C,EAAkB7C,SAC7BO,EAAmBsC,EAAkBtC,iBAOzCl/B,EAAAA,WAAgB,WAEd,OADAk/B,GAAiB,GACV,WACL,OAAOA,GAAiB,MAEzB,CAACA,IAEJ,IAAIt2B,GAAaxG,EAAAA,GAAAA,IAAG,uBAAwBd,GAIxCmgC,EAAe5kC,GAAS,CAC1B6Y,KAAM,IAHKxT,EAAAA,GAAAA,MAIHw/B,QAEV,OAAoB1hC,EAAAA,cAAoBoB,GAAAA,GAAAA,OAAevE,GAAS,CAC9DoD,IAAKA,EACLqB,UAAWsH,EACXiC,GAAI8zB,GACHt+B,EAAM,CACPgC,MAAOo/B,QAIPlgC,GAAAA,KACFggC,GAAY//B,YAAc,eAU5B,IAAImgC,IAAyBlhC,EAAAA,GAAAA,KAAW,SAAUxC,EAAOgC,GACvD,IAAIqB,EAAYrD,EAAMqD,UAClBjB,EAAO1C,GAA8BM,EAAO6Q,IAE5C8yB,EAAoBjC,KACpBf,EAASgD,EAAkBhD,OAC3BS,EAAiBuC,EAAkBvC,eAOvCr/B,EAAAA,WAAgB,WAEd,OADAq/B,GAAe,GACR,WACL,OAAOA,GAAe,MAEvB,CAACA,IAEJ,IAAIz2B,GAAaxG,EAAAA,GAAAA,IAAG,qBAAsBd,GAEtCyB,GAASb,EAAAA,GAAAA,MACb,OAAoBlC,EAAAA,cAAoBoB,GAAAA,GAAAA,IAAYvE,GAAS,CAC3DoD,IAAKA,EACLqB,UAAWsH,EACXiC,GAAI+zB,GACHv+B,EAAM,CACPgC,MAAOU,EAAOkpB,WAId1qB,GAAAA,KACFogC,GAAUngC,YAAc,aAO1B,IAAIqgC,IAA2BphC,EAAAA,GAAAA,KAAW,SAAUxC,EAAOgC,GACzD,IAAIqB,EAAYrD,EAAMqD,UAClBjB,EAAO1C,GAA8BM,EAAO8Q,IAE5CnG,GAAaxG,EAAAA,GAAAA,IAAG,uBAAwBd,GAIxCwgC,EAAejlC,GAAS,CAC1BgF,QAAS,OACTC,WAAY,SACZC,eAAgB,aALLG,EAAAA,GAAAA,MAMH6/B,QAEV,OAAoB/hC,EAAAA,cAAoBoB,GAAAA,GAAAA,OAAevE,GAAS,CAC9DoD,IAAKA,GACJI,EAAM,CACPgC,MAAOy/B,EACPxgC,UAAWsH,QAIXrH,GAAAA,KACFsgC,GAAYrgC,YAAc,eAU5B,IAAIwgC,IAAgCvhC,EAAAA,GAAAA,KAAW,SAAUxC,EAAOgC,GAC9D,IAAI+M,EAAU/O,EAAM+O,QAChB1L,EAAYrD,EAAMqD,UAClBjB,EAAO1C,GAA8BM,EAAO+Q,IAG5CvB,EADoBkyB,KACQlyB,QAE5B7E,GAAaxG,EAAAA,GAAAA,IAAG,0BAA2Bd,GAE3CyB,GAASb,EAAAA,GAAAA,MACb,OAAoBlC,EAAAA,cAAoBiiC,EAAAA,EAAaplC,GAAS,CAC5DoD,IAAKA,EACLoC,MAAOU,EAAOm/B,YACd5gC,UAAWsH,EACXoE,SAASsI,EAAAA,GAAAA,IAAgBtI,GAAS,SAAUxN,GAC1CA,EAAM2V,kBACN1H,QAEDpN,OAGDkB,GAAAA,KACFygC,GAAiBxgC,YAAc,oBAYjC,IAOI3B,GAAY,CAAC,SAAU,UAAW,YAAa,YAC/CC,GAAa,CAAC,YAAa,YAE3B8L,IAAiBC,EAAAA,GAAAA,MACjBs2B,GAAwBv2B,GAAe,GACvCw2B,GAAmBx2B,GAAe,GAElCy2B,GAAe,CACjBC,MAAO,CACLC,IAAK,OACLC,IAAK,SAEP/V,IAAK,CACH8V,IAAK,QACLC,IAAK,SAWT,SAASC,GAAOxkC,GACd,IAAIykC,EAEA/0B,EAAS1P,EAAM0P,OACfF,EAAUxP,EAAMwP,QAChByC,EAAmBjS,EAAMkS,UACzBwyB,OAAqC,IAArBzyB,EAA8B,QAAUA,EACxD1L,EAAWvG,EAAMuG,SACjBnE,EAAO1C,GAA8BM,EAAO4B,IAE5C+iC,GAAQ5uB,EAAAA,GAAAA,MACR6uB,EAA8D,OAAzCH,EAAoBE,EAAME,iBAAsB,EAASJ,EAAkBD,OAChGtyB,EAnBN,SAA4BA,EAAW4yB,GACrC,IAAIC,EAAuBC,EAE3B,GAAK9yB,EACL,OAAsI,OAA9H6yB,EAA8E,OAArDC,EAAyBZ,GAAalyB,SAAsB,EAAS8yB,EAAuBF,IAAgBC,EAAwB7yB,EAerJ+yB,CAAmBP,EAAeC,EAAMtyB,WACxD,OAAoBtQ,EAAAA,cAAoBmiC,GAAuB,CAC7Dr9B,MAAO,CACLqL,UAAWA,IAECnQ,EAAAA,cAAoB4/B,GAAO/iC,GAAS,CAClD8Q,OAAQA,EACRF,QAASA,EACT01B,YAAaN,GACZxiC,GAAOmE,IAEZ,IAAI4+B,IAAchiC,EAAAA,GAAAA,IAAOyxB,IAMrBwQ,IAA6B5iC,EAAAA,GAAAA,KAAW,SAAUxC,EAAOgC,GAC3D,IAAIqB,EAAYrD,EAAMqD,UAClBkD,EAAWvG,EAAMuG,SACjBnE,EAAO1C,GAA8BM,EAAO6B,IAE5CygC,EAAmBZ,KACnBL,EAAiBiB,EAAiBjB,eAClCC,EAA0BgB,EAAiBhB,wBAC3C5xB,EAAS4yB,EAAiB5yB,OAE1B6yB,EAAclB,EAAej/B,EAAMJ,GACnCsgB,EAAiBgf,IAEjB32B,GAAaxG,EAAAA,GAAAA,IAAG,wBAAyBd,GAEzCyB,GAASb,EAAAA,GAAAA,MAETu+B,EAAe5jC,GAAS,CAC1BgF,QAAS,OACT0E,cAAe,SACf3E,SAAU,WACVtB,MAAO,OACPgU,QAAS,GACRvR,EAAO29B,QAENC,EAAwB9jC,GAAS,CACnCgF,QAAS,OACTvB,MAAO,QACPC,OAAQ,QACRqB,SAAU,QACVya,KAAM,EACND,IAAK,GACJrZ,EAAO69B,iBAGNzwB,EADoBiyB,KACUjyB,UAElC,OAAoBnQ,EAAAA,cAAoBoB,GAAAA,GAAAA,IAAYvE,GAAS,GAAI0jB,EAAgB,CAC/Ejf,UAAW,kCACXe,MAAOs+B,IACQ3gC,EAAAA,cAAoB6gC,GAAiB,KAAmB7gC,EAAAA,cAAoBojC,GAAavmC,GAAS,CACjHyT,UAAWH,EACX,GAAMxC,EACNrM,UAAWsH,GACV43B,EAAa,CACdn+B,MAAOo+B,IACLj8B,QAGFjD,GAAAA,KACF8hC,GAAc7hC,YAAc,0HCtwBf,SAAS8hC,EAAU5vB,GAChC,GAAY,MAARA,EACF,OAAO3M,OAGT,GAAwB,oBAApB2M,EAAKgd,WAAkC,CACzC,IAAIwL,EAAgBxoB,EAAKwoB,cACzB,OAAOA,GAAgBA,EAAcqH,aAAwBx8B,OAG/D,OAAO2M,ECRT,SAAS8vB,EAAU9vB,GAEjB,OAAOA,aADU4vB,EAAU5vB,GAAM8B,SACI9B,aAAgB8B,QAGvD,SAASrJ,EAAcuH,GAErB,OAAOA,aADU4vB,EAAU5vB,GAAM+vB,aACI/vB,aAAgB+vB,YAGvD,SAASC,EAAahwB,GAEpB,MAA0B,qBAAfiwB,aAKJjwB,aADU4vB,EAAU5vB,GAAMiwB,YACIjwB,aAAgBiwB,YCnBhD,IAAIz+B,EAAMuhB,KAAKvhB,IACX0+B,EAAMnd,KAAKmd,IACXC,EAAQpd,KAAKod,MCAT,SAASC,EAAsBt7B,EAASu7B,QAChC,IAAjBA,IACFA,GAAe,GAGjB,IAAIC,EAAOx7B,EAAQs7B,wBACfG,EAAS,EACTC,EAAS,EAEb,GAAI/3B,EAAc3D,IAAYu7B,EAAc,CAC1C,IAAII,EAAe37B,EAAQ27B,aACvBC,EAAc57B,EAAQ47B,YAGtBA,EAAc,IAChBH,EAASJ,EAAMG,EAAK1jC,OAAS8jC,GAAe,GAG1CD,EAAe,IACjBD,EAASL,EAAMG,EAAKzjC,QAAU4jC,GAAgB,GAIlD,MAAO,CACL7jC,MAAO0jC,EAAK1jC,MAAQ2jC,EACpB1jC,OAAQyjC,EAAKzjC,OAAS2jC,EACtB9nB,IAAK4nB,EAAK5nB,IAAM8nB,EAChBvU,MAAOqU,EAAKrU,MAAQsU,EACpBhiC,OAAQ+hC,EAAK/hC,OAASiiC,EACtB7nB,KAAM2nB,EAAK3nB,KAAO4nB,EAClB15B,EAAGy5B,EAAK3nB,KAAO4nB,EACfz5B,EAAGw5B,EAAK5nB,IAAM8nB,GChCH,SAASG,EAAgB3wB,GACtC,IAAI4wB,EAAMhB,EAAU5vB,GAGpB,MAAO,CACL0kB,WAHekM,EAAIC,YAInBtM,UAHcqM,EAAIE,aCJP,SAASC,EAAYj8B,GAClC,OAAOA,GAAWA,EAAQk8B,UAAY,IAAIC,cAAgB,KCA7C,SAASC,EAAmBp8B,GAEzC,QAASg7B,EAAUh7B,GAAWA,EAAQ0zB,cACtC1zB,EAAQxB,WAAaD,OAAOC,UAAU6vB,gBCDzB,SAASgO,EAAoBr8B,GAQ1C,OAAOs7B,EAAsBc,EAAmBp8B,IAAU6T,KAAOgoB,EAAgB77B,GAAS4vB,WCV7E,SAASlU,EAAiB1b,GACvC,OAAO86B,EAAU96B,GAAS0b,iBAAiB1b,GCD9B,SAASs8B,EAAet8B,GAErC,IAAIu8B,EAAoB7gB,EAAiB1b,GACrC2T,EAAW4oB,EAAkB5oB,SAC7B2b,EAAYiN,EAAkBjN,UAC9BD,EAAYkN,EAAkBlN,UAElC,MAAO,6BAA6BmN,KAAK7oB,EAAW0b,EAAYC,GCUnD,SAASmN,EAAiBC,EAAyBC,EAAcC,QAC9D,IAAZA,IACFA,GAAU,GAGZ,IAAIC,EAA0Bl5B,EAAcg5B,GACxCG,EAAuBn5B,EAAcg5B,IAf3C,SAAyB38B,GACvB,IAAIw7B,EAAOx7B,EAAQs7B,wBACfG,EAASJ,EAAMG,EAAK1jC,OAASkI,EAAQ47B,aAAe,EACpDF,EAASL,EAAMG,EAAKzjC,QAAUiI,EAAQ27B,cAAgB,EAC1D,OAAkB,IAAXF,GAA2B,IAAXC,EAWmCqB,CAAgBJ,GACtEtO,EAAkB+N,EAAmBO,GACrCnB,EAAOF,EAAsBoB,EAAyBI,GACtDE,EAAS,CACXpN,WAAY,EACZH,UAAW,GAETxB,EAAU,CACZlsB,EAAG,EACHC,EAAG,GAkBL,OAfI66B,IAA4BA,IAA4BD,MACxB,SAA9BX,EAAYU,IAChBL,EAAejO,MACb2O,ECnCS,SAAuB9xB,GACpC,OAAIA,IAAS4vB,EAAU5vB,IAAUvH,EAAcuH,GCJxC,CACL0kB,YAFyC5vB,EDQbkL,GCNR0kB,WACpBH,UAAWzvB,EAAQyvB,WDGZoM,EAAgB3wB,GCNZ,IAA8BlL,EFuC9Bi9B,CAAcN,IAGrBh5B,EAAcg5B,KAChB1O,EAAUqN,EAAsBqB,GAAc,IACtC56B,GAAK46B,EAAaO,WAC1BjP,EAAQjsB,GAAK26B,EAAaQ,WACjB9O,IACTJ,EAAQlsB,EAAIs6B,EAAoBhO,KAI7B,CACLtsB,EAAGy5B,EAAK3nB,KAAOmpB,EAAOpN,WAAa3B,EAAQlsB,EAC3CC,EAAGw5B,EAAK5nB,IAAMopB,EAAOvN,UAAYxB,EAAQjsB,EACzClK,MAAO0jC,EAAK1jC,MACZC,OAAQyjC,EAAKzjC,QGpDF,SAASqlC,EAAcp9B,GACpC,IAAIq9B,EAAa/B,EAAsBt7B,GAGnClI,EAAQkI,EAAQ47B,YAChB7jC,EAASiI,EAAQ27B,aAUrB,OARI1d,KAAKC,IAAImf,EAAWvlC,MAAQA,IAAU,IACxCA,EAAQulC,EAAWvlC,OAGjBmmB,KAAKC,IAAImf,EAAWtlC,OAASA,IAAW,IAC1CA,EAASslC,EAAWtlC,QAGf,CACLgK,EAAG/B,EAAQs9B,WACXt7B,EAAGhC,EAAQu9B,UACXzlC,MAAOA,EACPC,OAAQA,GCnBG,SAASylC,EAAcx9B,GACpC,MAA6B,SAAzBi8B,EAAYj8B,GACPA,EAMPA,EAAQy9B,cACRz9B,EAAQ6b,aACRqf,EAAal7B,GAAWA,EAAQ+b,KAAO,OAEvCqgB,EAAmBp8B,GCXR,SAAS09B,EAAgBxyB,GACtC,MAAI,CAAC,OAAQ,OAAQ,aAAa3V,QAAQ0mC,EAAY/wB,KAAU,EAEvDA,EAAKwoB,cAAcjQ,KAGxB9f,EAAcuH,IAASoxB,EAAepxB,GACjCA,EAGFwyB,EAAgBF,EAActyB,ICHxB,SAASyyB,EAAkB39B,EAASuQ,GACjD,IAAIqtB,OAES,IAATrtB,IACFA,EAAO,IAGT,IAAIstB,EAAeH,EAAgB19B,GAC/B89B,EAASD,KAAqE,OAAlDD,EAAwB59B,EAAQ0zB,oBAAyB,EAASkK,EAAsBna,MACpHqY,EAAMhB,EAAU+C,GAChBrpC,EAASspC,EAAS,CAAChC,GAAK5b,OAAO4b,EAAIiC,gBAAkB,GAAIzB,EAAeuB,GAAgBA,EAAe,IAAMA,EAC7GG,EAAcztB,EAAK2P,OAAO1rB,GAC9B,OAAOspC,EAASE,EAChBA,EAAY9d,OAAOyd,EAAkBH,EAAchpC,KCvBtC,SAASypC,EAAej+B,GACrC,MAAO,CAAC,QAAS,KAAM,MAAMzK,QAAQ0mC,EAAYj8B,KAAa,ECKhE,SAASk+B,EAAoBl+B,GAC3B,OAAK2D,EAAc3D,IACoB,UAAvC0b,EAAiB1b,GAAS5G,SAInB4G,EAAQ28B,aAHN,KAwCI,SAASwB,EAAgBn+B,GAItC,IAHA,IAAIzB,EAASu8B,EAAU96B,GACnB28B,EAAeuB,EAAoBl+B,GAEhC28B,GAAgBsB,EAAetB,IAA6D,WAA5CjhB,EAAiBihB,GAAcvjC,UACpFujC,EAAeuB,EAAoBvB,GAGrC,OAAIA,IAA+C,SAA9BV,EAAYU,IAA0D,SAA9BV,EAAYU,IAAwE,WAA5CjhB,EAAiBihB,GAAcvjC,UAC3HmF,EAGFo+B,GA5CT,SAA4B38B,GAC1B,IAAIo+B,GAAsE,IAA1DC,UAAUC,UAAUnC,cAAc5mC,QAAQ,WAG1D,IAFuD,IAA5C8oC,UAAUC,UAAU/oC,QAAQ,YAE3BoO,EAAc3D,IAII,UAFX0b,EAAiB1b,GAEnB5G,SACb,OAAO,KAMX,IAFA,IAAIulB,EAAc6e,EAAcx9B,GAEzB2D,EAAcgb,IAAgB,CAAC,OAAQ,QAAQppB,QAAQ0mC,EAAYtd,IAAgB,GAAG,CAC3F,IAAImO,EAAMpR,EAAiBiD,GAI3B,GAAsB,SAAlBmO,EAAIrqB,WAA4C,SAApBqqB,EAAIyR,aAA0C,UAAhBzR,EAAI0R,UAAiF,IAA1D,CAAC,YAAa,eAAejpC,QAAQu3B,EAAI2R,aAAsBL,GAAgC,WAAnBtR,EAAI2R,YAA2BL,GAAatR,EAAItsB,QAAyB,SAAfssB,EAAItsB,OACjO,OAAOme,EAEPA,EAAcA,EAAY9C,WAI9B,OAAO,KAiBgB6iB,CAAmB1+B,IAAYzB,EC9DjD,IAAIqV,EAAM,MACNna,EAAS,SACT0tB,EAAQ,QACRtT,EAAO,OACP8qB,EAAO,OACPC,EAAiB,CAAChrB,EAAKna,EAAQ0tB,EAAOtT,GACtCimB,EAAQ,QACR7V,EAAM,MAEN4a,EAAW,WACXt1B,EAAS,SAETu1B,EAAmCF,EAAengB,QAAO,SAAUC,EAAK/W,GACjF,OAAO+W,EAAIwB,OAAO,CAACvY,EAAY,IAAMmyB,EAAOnyB,EAAY,IAAMsc,MAC7D,IACQ8a,EAA0B,GAAG7e,OAAO0e,EAAgB,CAACD,IAAOlgB,QAAO,SAAUC,EAAK/W,GAC3F,OAAO+W,EAAIwB,OAAO,CAACvY,EAAWA,EAAY,IAAMmyB,EAAOnyB,EAAY,IAAMsc,MACxE,IAaQ+a,EAAiB,CAXJ,aACN,OACK,YAEC,aACN,OACK,YAEE,cACN,QACK,cC3BxB,SAASC,EAAMC,GACb,IAAI9hC,EAAM,IAAI4kB,IACVmd,EAAU,IAAI/0B,IACdxL,EAAS,GAKb,SAAS+gB,EAAKyf,GACZD,EAAQz2B,IAAI02B,EAASrlC,MACN,GAAGmmB,OAAOkf,EAASC,UAAY,GAAID,EAASE,kBAAoB,IACtEh1B,SAAQ,SAAUi1B,GACzB,IAAKJ,EAAQvhB,IAAI2hB,GAAM,CACrB,IAAIC,EAAcpiC,EAAI+e,IAAIojB,GAEtBC,GACF7f,EAAK6f,OAIX5gC,EAAOwW,KAAKgqB,GASd,OAzBAF,EAAU50B,SAAQ,SAAU80B,GAC1BhiC,EAAIif,IAAI+iB,EAASrlC,KAAMqlC,MAkBzBF,EAAU50B,SAAQ,SAAU80B,GACrBD,EAAQvhB,IAAIwhB,EAASrlC,OAExB4lB,EAAKyf,MAGFxgC,EC/BM,SAAS6gC,EAASxhC,GAC/B,IAAIyhC,EACJ,OAAO,WAUL,OATKA,IACHA,EAAU,IAAI9pB,SAAQ,SAAUC,GAC9BD,QAAQC,UAAUC,MAAK,WACrB4pB,OAAUnnC,EACVsd,EAAQ5X,YAKPyhC,GCEX,IAEIC,EAAkB,CACpBh4B,UAAW,SACXu3B,UAAW,GACXU,SAAU,YAGZ,SAASC,IACP,IAAK,IAAIx/B,EAAO3L,UAAUC,OAAQmK,EAAO,IAAIC,MAAMsB,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/EzB,EAAKyB,GAAQ7L,UAAU6L,GAGzB,OAAQzB,EAAKskB,MAAK,SAAUpjB,GAC1B,QAASA,GAAoD,oBAAlCA,EAAQs7B,0BAIhC,SAASwE,EAAgBC,QACL,IAArBA,IACFA,EAAmB,IAGrB,IAAIC,EAAoBD,EACpBE,EAAwBD,EAAkBE,iBAC1CA,OAA6C,IAA1BD,EAAmC,GAAKA,EAC3DE,EAAyBH,EAAkBI,eAC3CA,OAA4C,IAA3BD,EAAoCR,EAAkBQ,EAC3E,OAAO,SAAsBE,EAAW92B,EAAQtK,QAC9B,IAAZA,IACFA,EAAUmhC,GAGZ,IAAI/mB,EAAQ,CACV1R,UAAW,SACX24B,iBAAkB,GAClBrhC,QAAS3K,OAAOC,OAAO,GAAIorC,EAAiBS,GAC5CG,cAAe,GACfC,SAAU,CACRH,UAAWA,EACX92B,OAAQA,GAEVk3B,WAAY,GACZlmC,OAAQ,IAENmmC,EAAmB,GACnBC,GAAc,EACdnnB,EAAW,CACbH,MAAOA,EACPunB,WAAY,SAAoBC,GAC9B,IAAI5hC,EAAsC,oBAArB4hC,EAAkCA,EAAiBxnB,EAAMpa,SAAW4hC,EACzFC,IACAznB,EAAMpa,QAAU3K,OAAOC,OAAO,GAAI6rC,EAAgB/mB,EAAMpa,QAASA,GACjEoa,EAAM0nB,cAAgB,CACpBV,UAAWrF,EAAUqF,GAAa1C,EAAkB0C,GAAaA,EAAUW,eAAiBrD,EAAkB0C,EAAUW,gBAAkB,GAC1Iz3B,OAAQo0B,EAAkBp0B,IAI5B,IAAI+2B,EFvCG,SAAwBpB,GAErC,IAAIoB,EAAmBrB,EAAMC,GAE7B,OAAOF,EAAevgB,QAAO,SAAUC,EAAKuiB,GAC1C,OAAOviB,EAAIwB,OAAOogB,EAAiB9/B,QAAO,SAAU4+B,GAClD,OAAOA,EAAS6B,QAAUA,QAE3B,IE+B0BC,CCzEhB,SAAqBhC,GAClC,IAAIiC,EAASjC,EAAUzgB,QAAO,SAAU0iB,EAAQhqC,GAC9C,IAAIiqC,EAAWD,EAAOhqC,EAAQ4C,MAK9B,OAJAonC,EAAOhqC,EAAQ4C,MAAQqnC,EAAW9sC,OAAOC,OAAO,GAAI6sC,EAAUjqC,EAAS,CACrE8H,QAAS3K,OAAOC,OAAO,GAAI6sC,EAASniC,QAAS9H,EAAQ8H,SACrDkW,KAAM7gB,OAAOC,OAAO,GAAI6sC,EAASjsB,KAAMhe,EAAQge,QAC5Che,EACEgqC,IACN,IAEH,OAAO7sC,OAAOgB,KAAK6rC,GAAQ/jC,KAAI,SAAUvI,GACvC,OAAOssC,EAAOtsC,MD8D4BwsC,CAAY,GAAGnhB,OAAOggB,EAAkB7mB,EAAMpa,QAAQigC,aAyC5F,OAvCA7lB,EAAMinB,iBAAmBA,EAAiB9/B,QAAO,SAAU8gC,GACzD,OAAOA,EAAEn4B,WAqJbkQ,EAAMinB,iBAAiBh2B,SAAQ,SAAU8a,GACvC,IAAIrrB,EAAOqrB,EAAMrrB,KACbwnC,EAAgBnc,EAAMnmB,QACtBA,OAA4B,IAAlBsiC,EAA2B,GAAKA,EAC1CC,EAASpc,EAAMoc,OAEnB,GAAsB,oBAAXA,EAAuB,CAChC,IAAIC,EAAYD,EAAO,CACrBnoB,MAAOA,EACPtf,KAAMA,EACNyf,SAAUA,EACVva,QAASA,IAGPyiC,EAAS,aAEbhB,EAAiBtrB,KAAKqsB,GAAaC,OA/H9BloB,EAASmoB,UAOlBt2B,YAAa,WACX,IAAIs1B,EAAJ,CAIA,IAAIiB,EAAkBvoB,EAAMmnB,SACxBH,EAAYuB,EAAgBvB,UAC5B92B,EAASq4B,EAAgBr4B,OAG7B,GAAKs2B,EAAiBQ,EAAW92B,GAAjC,CASA8P,EAAMwoB,MAAQ,CACZxB,UAAW5D,EAAiB4D,EAAWlC,EAAgB50B,GAAoC,UAA3B8P,EAAMpa,QAAQ2gC,UAC9Er2B,OAAQ6zB,EAAc7zB,IAOxB8P,EAAMyoB,OAAQ,EACdzoB,EAAM1R,UAAY0R,EAAMpa,QAAQ0I,UAKhC0R,EAAMinB,iBAAiBh2B,SAAQ,SAAU80B,GACvC,OAAO/lB,EAAMknB,cAAcnB,EAASrlC,MAAQzF,OAAOC,OAAO,GAAI6qC,EAASjqB,SAIzE,IAFA,IAES7X,EAAQ,EAAGA,EAAQ+b,EAAMinB,iBAAiB3rC,OAAQ2I,IAUzD,IAAoB,IAAhB+b,EAAMyoB,MAAV,CAMA,IAAIC,EAAwB1oB,EAAMinB,iBAAiBhjC,GAC/CW,EAAK8jC,EAAsB9jC,GAC3B+jC,EAAyBD,EAAsB9iC,QAC/CgjC,OAAsC,IAA3BD,EAAoC,GAAKA,EACpDjoC,EAAOgoC,EAAsBhoC,KAEf,oBAAPkE,IACTob,EAAQpb,EAAG,CACTob,MAAOA,EACPpa,QAASgjC,EACTloC,KAAMA,EACNyf,SAAUA,KACNH,QAjBNA,EAAMyoB,OAAQ,EACdxkC,GAAS,KAsBfqkC,OAAQlC,GAAS,WACf,OAAO,IAAI7pB,SAAQ,SAAUC,GAC3B2D,EAASnO,cACTwK,EAAQwD,SAGZ6oB,QAAS,WACPpB,IACAH,GAAc,IAIlB,IAAKd,EAAiBQ,EAAW92B,GAK/B,OAAOiQ,EAmCT,SAASsnB,IACPJ,EAAiBp2B,SAAQ,SAAUrM,GACjC,OAAOA,OAETyiC,EAAmB,GAGrB,OAvCAlnB,EAASonB,WAAW3hC,GAAS6W,MAAK,SAAUuD,IACrCsnB,GAAe1hC,EAAQkjC,eAC1BljC,EAAQkjC,cAAc9oB,MAqCnBG,GAGJ,IE9PH2W,EAAU,CACZA,SAAS,GCFI,SAASiS,EAAiBz6B,GACvC,OAAOA,EAAU1N,MAAM,KAAK,GCFf,SAASooC,EAAa16B,GACnC,OAAOA,EAAU1N,MAAM,KAAK,GCDf,SAASqoC,EAAyB36B,GAC/C,MAAO,CAAC,MAAO,UAAUpS,QAAQoS,IAAc,EAAI,IAAM,ICG5C,SAAS46B,EAAexuB,GACrC,IAOIka,EAPAoS,EAAYtsB,EAAKssB,UACjBrgC,EAAU+T,EAAK/T,QACf2H,EAAYoM,EAAKpM,UACjB66B,EAAgB76B,EAAYy6B,EAAiBz6B,GAAa,KAC1D86B,EAAY96B,EAAY06B,EAAa16B,GAAa,KAClD+6B,EAAUrC,EAAUt+B,EAAIs+B,EAAUvoC,MAAQ,EAAIkI,EAAQlI,MAAQ,EAC9D6qC,EAAUtC,EAAUr+B,EAAIq+B,EAAUtoC,OAAS,EAAIiI,EAAQjI,OAAS,EAGpE,OAAQyqC,GACN,KAAK5uB,EACHqa,EAAU,CACRlsB,EAAG2gC,EACH1gC,EAAGq+B,EAAUr+B,EAAIhC,EAAQjI,QAE3B,MAEF,KAAK0B,EACHw0B,EAAU,CACRlsB,EAAG2gC,EACH1gC,EAAGq+B,EAAUr+B,EAAIq+B,EAAUtoC,QAE7B,MAEF,KAAKovB,EACH8G,EAAU,CACRlsB,EAAGs+B,EAAUt+B,EAAIs+B,EAAUvoC,MAC3BkK,EAAG2gC,GAEL,MAEF,KAAK9uB,EACHoa,EAAU,CACRlsB,EAAGs+B,EAAUt+B,EAAI/B,EAAQlI,MACzBkK,EAAG2gC,GAEL,MAEF,QACE1U,EAAU,CACRlsB,EAAGs+B,EAAUt+B,EACbC,EAAGq+B,EAAUr+B,GAInB,IAAI4gC,EAAWJ,EAAgBF,EAAyBE,GAAiB,KAEzE,GAAgB,MAAZI,EAAkB,CACpB,IAAIC,EAAmB,MAAbD,EAAmB,SAAW,QAExC,OAAQH,GACN,KAAK3I,EACH7L,EAAQ2U,GAAY3U,EAAQ2U,IAAavC,EAAUwC,GAAO,EAAI7iC,EAAQ6iC,GAAO,GAC7E,MAEF,KAAK5e,EACHgK,EAAQ2U,GAAY3U,EAAQ2U,IAAavC,EAAUwC,GAAO,EAAI7iC,EAAQ6iC,GAAO,IAOnF,OAAO5U,EClDT,ICTI6U,EAAa,CACflvB,IAAK,OACLuT,MAAO,OACP1tB,OAAQ,OACRoa,KAAM,QAgBD,SAASkvB,EAAY5d,GAC1B,IAAI6d,EAEAz5B,EAAS4b,EAAM5b,OACf05B,EAAa9d,EAAM8d,WACnBt7B,EAAYwd,EAAMxd,UAClB86B,EAAYtd,EAAMsd,UAClBxU,EAAU9I,EAAM8I,QAChB70B,EAAW+rB,EAAM/rB,SACjB8pC,EAAkB/d,EAAM+d,gBACxBC,EAAWhe,EAAMge,SACjBC,EAAeje,EAAMie,aACrBxG,EAAUzX,EAAMyX,QAChByG,EAAapV,EAAQlsB,EACrBA,OAAmB,IAAfshC,EAAwB,EAAIA,EAChCC,EAAarV,EAAQjsB,EACrBA,OAAmB,IAAfshC,EAAwB,EAAIA,EAEhCle,EAAgC,oBAAjBge,EAA8BA,EAAa,CAC5DrhC,EAAGA,EACHC,EAAGA,IACA,CACHD,EAAGA,EACHC,EAAGA,GAGLD,EAAIqjB,EAAMrjB,EACVC,EAAIojB,EAAMpjB,EACV,IAAIuhC,EAAOtV,EAAQl5B,eAAe,KAC9ByuC,EAAOvV,EAAQl5B,eAAe,KAC9B0uC,EAAQ5vB,EACR6vB,EAAQ9vB,EACRkoB,EAAMv9B,OAEV,GAAI4kC,EAAU,CACZ,IAAIxG,EAAewB,EAAgB50B,GAC/Bo6B,EAAa,eACbC,EAAY,cAchB,GAZIjH,IAAiB7B,EAAUvxB,IAGmB,WAA5CmS,EAFJihB,EAAeP,EAAmB7yB,IAECnQ,UAAsC,aAAbA,IAC1DuqC,EAAa,eACbC,EAAY,eAKhBjH,EAAeA,EAEXh1B,IAAciM,IAAQjM,IAAckM,GAAQlM,IAAcwf,IAAUsb,IAAcxe,EACpFyf,EAAQjqC,EAGRuI,IAFc46B,GAAWd,EAAIiC,eAAiBjC,EAAIiC,eAAehmC,OACjE4kC,EAAagH,IACEV,EAAWlrC,OAC1BiK,GAAKkhC,EAAkB,GAAK,EAG9B,GAAIv7B,IAAckM,IAASlM,IAAciM,GAAOjM,IAAclO,IAAWgpC,IAAcxe,EACrFwf,EAAQtc,EAGRplB,IAFc66B,GAAWd,EAAIiC,eAAiBjC,EAAIiC,eAAejmC,MACjE6kC,EAAaiH,IACEX,EAAWnrC,MAC1BiK,GAAKmhC,EAAkB,GAAK,EAIhC,IAgBMW,EAhBFC,EAAexvC,OAAOC,OAAO,CAC/B6E,SAAUA,GACT+pC,GAAYL,GAEXiB,GAAyB,IAAjBX,EAnFd,SAA2BrvB,GACzB,IAAIhS,EAAIgS,EAAKhS,EACTC,EAAI+R,EAAK/R,EAETgiC,EADMzlC,OACI0lC,kBAAoB,EAClC,MAAO,CACLliC,EAAGs5B,EAAMt5B,EAAIiiC,GAAOA,GAAO,EAC3BhiC,EAAGq5B,EAAMr5B,EAAIgiC,GAAOA,GAAO,GA4EOE,CAAkB,CACpDniC,EAAGA,EACHC,EAAGA,IACA,CACHD,EAAGA,EACHC,EAAGA,GAML,OAHAD,EAAIgiC,EAAMhiC,EACVC,EAAI+hC,EAAM/hC,EAENkhC,EAGK5uC,OAAOC,OAAO,GAAIuvC,IAAeD,EAAiB,IAAmBH,GAASF,EAAO,IAAM,GAAIK,EAAeJ,GAASF,EAAO,IAAM,GAAIM,EAAephC,WAAaq5B,EAAImI,kBAAoB,IAAM,EAAI,aAAeliC,EAAI,OAASC,EAAI,MAAQ,eAAiBD,EAAI,OAASC,EAAI,SAAU6hC,IAG5RvvC,OAAOC,OAAO,GAAIuvC,IAAed,EAAkB,IAAoBU,GAASF,EAAOxhC,EAAI,KAAO,GAAIghC,EAAgBS,GAASF,EAAOxhC,EAAI,KAAO,GAAIihC,EAAgBvgC,UAAY,GAAIugC,ICvE9L,OACEjpC,KAAM,SACNoP,SAAS,EACT83B,MAAO,OACP5B,SAAU,CAAC,iBACXphC,GA5BF,SAAgBknB,GACd,IAAI9L,EAAQ8L,EAAM9L,MACdpa,EAAUkmB,EAAMlmB,QAChBlF,EAAOorB,EAAMprB,KACboqC,EAAkBllC,EAAQsD,OAC1BA,OAA6B,IAApB4hC,EAA6B,CAAC,EAAG,GAAKA,EAC/ChvB,EAAO4pB,EAAAA,QAAkB,SAAUrgB,EAAK/W,GAE1C,OADA+W,EAAI/W,GA5BD,SAAiCA,EAAWk6B,EAAOt/B,GACxD,IAAIigC,EAAgBJ,EAAiBz6B,GACjCy8B,EAAiB,CAACvwB,EAAMD,GAAKre,QAAQitC,IAAkB,GAAK,EAAI,EAEhEzuB,EAAyB,oBAAXxR,EAAwBA,EAAOjO,OAAOC,OAAO,GAAIstC,EAAO,CACxEl6B,UAAWA,KACPpF,EACF8hC,EAAWtwB,EAAK,GAChBuwB,EAAWvwB,EAAK,GAIpB,OAFAswB,EAAWA,GAAY,EACvBC,GAAYA,GAAY,GAAKF,EACtB,CAACvwB,EAAMsT,GAAO5xB,QAAQitC,IAAkB,EAAI,CACjDzgC,EAAGuiC,EACHtiC,EAAGqiC,GACD,CACFtiC,EAAGsiC,EACHriC,EAAGsiC,GAWcC,CAAwB58B,EAAW0R,EAAMwoB,MAAOt/B,GAC1Dmc,IACN,IACC8lB,EAAwBrvB,EAAKkE,EAAM1R,WACnC5F,EAAIyiC,EAAsBziC,EAC1BC,EAAIwiC,EAAsBxiC,EAEW,MAArCqX,EAAMknB,cAAckE,gBACtBprB,EAAMknB,cAAckE,cAAc1iC,GAAKA,EACvCsX,EAAMknB,cAAckE,cAAcziC,GAAKA,GAGzCqX,EAAMknB,cAAcxmC,GAAQob,IC3C1BuvB,EAAO,CACT7wB,KAAM,QACNsT,MAAO,OACP1tB,OAAQ,MACRma,IAAK,UAEQ,SAAS+wB,EAAqBh9B,GAC3C,OAAOA,EAAUi9B,QAAQ,0BAA0B,SAAUC,GAC3D,OAAOH,EAAKG,MCRhB,IAAIH,GAAO,CACT5K,MAAO,MACP7V,IAAK,SAEQ,SAAS6gB,GAA8Bn9B,GACpD,OAAOA,EAAUi9B,QAAQ,cAAc,SAAUC,GAC/C,OAAOH,GAAKG,MCLD,SAASv7B,GAAS2W,EAAQ5iB,GACvC,IAAI0nC,EAAW1nC,EAAM2nC,aAAe3nC,EAAM2nC,cAE1C,GAAI/kB,EAAO3W,SAASjM,GAClB,OAAO,EAEJ,GAAI0nC,GAAY7J,EAAa6J,GAAW,CACzC,IAAIj2B,EAAOzR,EAEX,EAAG,CACD,GAAIyR,GAAQmR,EAAOglB,WAAWn2B,GAC5B,OAAO,EAITA,EAAOA,EAAK+M,YAAc/M,EAAKiN,WACxBjN,GAIb,OAAO,ECrBM,SAASo2B,GAAiB1J,GACvC,OAAOlnC,OAAOC,OAAO,GAAIinC,EAAM,CAC7B3nB,KAAM2nB,EAAKz5B,EACX6R,IAAK4nB,EAAKx5B,EACVmlB,MAAOqU,EAAKz5B,EAAIy5B,EAAK1jC,MACrB2B,OAAQ+hC,EAAKx5B,EAAIw5B,EAAKzjC,SCuB1B,SAASotC,GAA2BnlC,EAASolC,GAC3C,OAAOA,IAAmBvG,EAAWqG,GC1BxB,SAAyBllC,GACtC,IAAI87B,EAAMhB,EAAU96B,GAChBqlC,EAAOjJ,EAAmBp8B,GAC1B+9B,EAAiBjC,EAAIiC,eACrBjmC,EAAQutC,EAAK/W,YACbv2B,EAASstC,EAAK1V,aACd5tB,EAAI,EACJC,EAAI,EAuBR,OAjBI+7B,IACFjmC,EAAQimC,EAAejmC,MACvBC,EAASgmC,EAAehmC,OASnB,iCAAiCykC,KAAK6B,UAAUC,aACnDv8B,EAAIg8B,EAAeT,WACnBt7B,EAAI+7B,EAAeR,YAIhB,CACLzlC,MAAOA,EACPC,OAAQA,EACRgK,EAAGA,EAAIs6B,EAAoBr8B,GAC3BgC,EAAGA,GDRiDsjC,CAAgBtlC,IAAYg7B,EAAUoK,GAd9F,SAAoCplC,GAClC,IAAIw7B,EAAOF,EAAsBt7B,GASjC,OARAw7B,EAAK5nB,IAAM4nB,EAAK5nB,IAAM5T,EAAQm9B,UAC9B3B,EAAK3nB,KAAO2nB,EAAK3nB,KAAO7T,EAAQk9B,WAChC1B,EAAK/hC,OAAS+hC,EAAK5nB,IAAM5T,EAAQ2vB,aACjC6L,EAAKrU,MAAQqU,EAAK3nB,KAAO7T,EAAQsuB,YACjCkN,EAAK1jC,MAAQkI,EAAQsuB,YACrBkN,EAAKzjC,OAASiI,EAAQ2vB,aACtB6L,EAAKz5B,EAAIy5B,EAAK3nB,KACd2nB,EAAKx5B,EAAIw5B,EAAK5nB,IACP4nB,EAIuG+J,CAA2BH,GAAkBF,GEtB9I,SAAyBllC,GACtC,IAAI49B,EAEAyH,EAAOjJ,EAAmBp8B,GAC1BwlC,EAAY3J,EAAgB77B,GAC5ByjB,EAA0D,OAAlDma,EAAwB59B,EAAQ0zB,oBAAyB,EAASkK,EAAsBna,KAChG3rB,EAAQ4E,EAAI2oC,EAAKxV,YAAawV,EAAK/W,YAAa7K,EAAOA,EAAKoM,YAAc,EAAGpM,EAAOA,EAAK6K,YAAc,GACvGv2B,EAAS2E,EAAI2oC,EAAK3V,aAAc2V,EAAK1V,aAAclM,EAAOA,EAAKiM,aAAe,EAAGjM,EAAOA,EAAKkM,aAAe,GAC5G5tB,GAAKyjC,EAAU5V,WAAayM,EAAoBr8B,GAChDgC,GAAKwjC,EAAU/V,UAMnB,MAJiD,QAA7C/T,EAAiB+H,GAAQ4hB,GAAMv9B,YACjC/F,GAAKrF,EAAI2oC,EAAK/W,YAAa7K,EAAOA,EAAK6K,YAAc,GAAKx2B,GAGrD,CACLA,MAAOA,EACPC,OAAQA,EACRgK,EAAGA,EACHC,EAAGA,GFGuKyjC,CAAgBrJ,EAAmBp8B,KAuBlM,SAAS0lC,GAAgB1lC,EAAS2lC,EAAUC,GACzD,IAAIC,EAAmC,oBAAbF,EAlB5B,SAA4B3lC,GAC1B,IAAI8lC,EAAkBnI,EAAkBH,EAAcx9B,IAElD+lC,EADoB,CAAC,WAAY,SAASxwC,QAAQmmB,EAAiB1b,GAAS5G,WAAa,GACnDuK,EAAc3D,GAAWm+B,EAAgBn+B,GAAWA,EAE9F,OAAKg7B,EAAU+K,GAKRD,EAAgBtlC,QAAO,SAAU4kC,GACtC,OAAOpK,EAAUoK,IAAmB97B,GAAS87B,EAAgBW,IAAmD,SAAhC9J,EAAYmJ,MALrF,GAYkDY,CAAmBhmC,GAAW,GAAGkgB,OAAOylB,GAC/FG,EAAkB,GAAG5lB,OAAO2lB,EAAqB,CAACD,IAClDK,EAAsBH,EAAgB,GACtCI,EAAeJ,EAAgBrnB,QAAO,SAAU0nB,EAASf,GAC3D,IAAI5J,EAAO2J,GAA2BnlC,EAASolC,GAK/C,OAJAe,EAAQvyB,IAAMlX,EAAI8+B,EAAK5nB,IAAKuyB,EAAQvyB,KACpCuyB,EAAQhf,MAAQiU,EAAII,EAAKrU,MAAOgf,EAAQhf,OACxCgf,EAAQ1sC,OAAS2hC,EAAII,EAAK/hC,OAAQ0sC,EAAQ1sC,QAC1C0sC,EAAQtyB,KAAOnX,EAAI8+B,EAAK3nB,KAAMsyB,EAAQtyB,MAC/BsyB,IACNhB,GAA2BnlC,EAASimC,IAKvC,OAJAC,EAAapuC,MAAQouC,EAAa/e,MAAQ+e,EAAaryB,KACvDqyB,EAAanuC,OAASmuC,EAAazsC,OAASysC,EAAatyB,IACzDsyB,EAAankC,EAAImkC,EAAaryB,KAC9BqyB,EAAalkC,EAAIkkC,EAAatyB,IACvBsyB,EGnEM,SAASE,GAAmBC,GACzC,OAAO/xC,OAAOC,OAAO,GCDd,CACLqf,IAAK,EACLuT,MAAO,EACP1tB,OAAQ,EACRoa,KAAM,GDHuCwyB,GEFlC,SAASC,GAAgBhqC,EAAOhH,GAC7C,OAAOA,EAAKmpB,QAAO,SAAU8nB,EAAS1xC,GAEpC,OADA0xC,EAAQ1xC,GAAOyH,EACRiqC,IACN,ICMU,SAASC,GAAentB,EAAOpa,QAC5B,IAAZA,IACFA,EAAU,IAGZ,IAAIgjC,EAAWhjC,EACXwnC,EAAqBxE,EAASt6B,UAC9BA,OAAmC,IAAvB8+B,EAAgCptB,EAAM1R,UAAY8+B,EAC9DC,EAAoBzE,EAAS0D,SAC7BA,OAAiC,IAAtBe,EvBXY,kBuBWqCA,EAC5DC,EAAwB1E,EAAS2D,aACjCA,OAAyC,IAA1Be,EAAmC9H,EAAW8H,EAC7DC,EAAwB3E,EAAS4E,eACjCA,OAA2C,IAA1BD,EAAmCr9B,EAASq9B,EAC7DE,EAAuB7E,EAAS8E,YAChCA,OAAuC,IAAzBD,GAA0CA,EACxDE,EAAmB/E,EAASvuB,QAC5BA,OAA+B,IAArBszB,EAA8B,EAAIA,EAC5CX,EAAgBD,GAAsC,kBAAZ1yB,EAAuBA,EAAU4yB,GAAgB5yB,EAASkrB,IACpGqI,EAAaJ,IAAmBt9B,EvBlBf,YuBkBoCA,EACrD05B,EAAa5pB,EAAMwoB,MAAMt4B,OACzBvJ,EAAUqZ,EAAMmnB,SAASuG,EAAcE,EAAaJ,GACpDK,EAAqBxB,GAAgB1K,EAAUh7B,GAAWA,EAAUA,EAAQghC,gBAAkB5E,EAAmB/iB,EAAMmnB,SAASj3B,QAASo8B,EAAUC,GACnJuB,EAAsB7L,EAAsBjiB,EAAMmnB,SAASH,WAC3DoE,EAAgBlC,EAAe,CACjClC,UAAW8G,EACXnnC,QAASijC,EACTrD,SAAU,WACVj4B,UAAWA,IAETy/B,EAAmBlC,GAAiB5wC,OAAOC,OAAO,GAAI0uC,EAAYwB,IAClE4C,EAAoBR,IAAmBt9B,EAAS69B,EAAmBD,EAGnEG,EAAkB,CACpB1zB,IAAKszB,EAAmBtzB,IAAMyzB,EAAkBzzB,IAAMyyB,EAAczyB,IACpEna,OAAQ4tC,EAAkB5tC,OAASytC,EAAmBztC,OAAS4sC,EAAc5sC,OAC7Eoa,KAAMqzB,EAAmBrzB,KAAOwzB,EAAkBxzB,KAAOwyB,EAAcxyB,KACvEsT,MAAOkgB,EAAkBlgB,MAAQ+f,EAAmB/f,MAAQkf,EAAclf,OAExEogB,EAAaluB,EAAMknB,cAAch+B,OAErC,GAAIskC,IAAmBt9B,GAAUg+B,EAAY,CAC3C,IAAIhlC,EAASglC,EAAW5/B,GACxBrT,OAAOgB,KAAKgyC,GAAiBh9B,SAAQ,SAAUzV,GAC7C,IAAI2yC,EAAW,CAACrgB,EAAO1tB,GAAQlE,QAAQV,IAAQ,EAAI,GAAK,EACpDq6B,EAAO,CAACtb,EAAKna,GAAQlE,QAAQV,IAAQ,EAAI,IAAM,IACnDyyC,EAAgBzyC,IAAQ0N,EAAO2sB,GAAQsY,KAI3C,OAAOF,EC5DF,SAASG,GAAOrM,EAAK9+B,EAAOI,GACjC,OAAOgrC,EAAQtM,EAAKuM,EAAQrrC,EAAOI,ICqIrC,QACE3C,KAAM,kBACNoP,SAAS,EACT83B,MAAO,OACPhjC,GA/HF,SAAyB8V,GACvB,IAAIsF,EAAQtF,EAAKsF,MACbpa,EAAU8U,EAAK9U,QACflF,EAAOga,EAAKha,KACZ6tC,EAAoB3oC,EAAQ2jC,SAC5BiF,OAAsC,IAAtBD,GAAsCA,EACtDE,EAAmB7oC,EAAQ8oC,QAC3BC,OAAoC,IAArBF,GAAsCA,EACrDnC,EAAW1mC,EAAQ0mC,SACnBC,EAAe3mC,EAAQ2mC,aACvBmB,EAAc9nC,EAAQ8nC,YACtBrzB,EAAUzU,EAAQyU,QAClBu0B,EAAkBhpC,EAAQipC,OAC1BA,OAA6B,IAApBD,GAAoCA,EAC7CE,EAAwBlpC,EAAQmpC,aAChCA,OAAyC,IAA1BD,EAAmC,EAAIA,EACtDx0B,EAAW6yB,GAAentB,EAAO,CACnCssB,SAAUA,EACVC,aAAcA,EACdlyB,QAASA,EACTqzB,YAAaA,IAEXvE,EAAgBJ,EAAiB/oB,EAAM1R,WACvC86B,EAAYJ,EAAahpB,EAAM1R,WAC/B0gC,GAAmB5F,EACnBG,EAAWN,EAAyBE,GACpCuF,ECrCY,MDqCSnF,ECrCH,IAAM,IDsCxB6B,EAAgBprB,EAAMknB,cAAckE,cACpC6D,EAAgBjvB,EAAMwoB,MAAMxB,UAC5B4C,EAAa5pB,EAAMwoB,MAAMt4B,OACzBg/B,EAA4C,oBAAjBH,EAA8BA,EAAa9zC,OAAOC,OAAO,GAAI8kB,EAAMwoB,MAAO,CACvGl6B,UAAW0R,EAAM1R,aACbygC,EACFI,EAA2D,kBAAtBD,EAAiC,CACxE3F,SAAU2F,EACVR,QAASQ,GACPj0C,OAAOC,OAAO,CAChBquC,SAAU,EACVmF,QAAS,GACRQ,GACCE,EAAsBpvB,EAAMknB,cAAch+B,OAAS8W,EAAMknB,cAAch+B,OAAO8W,EAAM1R,WAAa,KACjGwN,EAAO,CACTpT,EAAG,EACHC,EAAG,GAGL,GAAKyiC,EAAL,CAIA,GAAIoD,EAAe,CACjB,IAAIa,EAEAC,EAAwB,MAAb/F,EAAmBhvB,EAAMC,EACpC+0B,EAAuB,MAAbhG,EAAmBnpC,EAAS0tB,EACtC0b,EAAmB,MAAbD,EAAmB,SAAW,QACpCrgC,EAASkiC,EAAc7B,GACvBxH,EAAM74B,EAASoR,EAASg1B,GACxBjsC,EAAM6F,EAASoR,EAASi1B,GACxBC,EAAWX,GAAUjF,EAAWJ,GAAO,EAAI,EAC3CiG,EAASrG,IAAc3I,EAAQwO,EAAczF,GAAOI,EAAWJ,GAC/DkG,EAAStG,IAAc3I,GAASmJ,EAAWJ,IAAQyF,EAAczF,GAGjEmG,EAAe3vB,EAAMmnB,SAASyI,MAC9BC,EAAYhB,GAAUc,EAAe5L,EAAc4L,GAAgB,CACrElxC,MAAO,EACPC,OAAQ,GAENoxC,EAAqB9vB,EAAMknB,cAAc,oBAAsBlnB,EAAMknB,cAAc,oBAAoB7sB,QJhFtG,CACLE,IAAK,EACLuT,MAAO,EACP1tB,OAAQ,EACRoa,KAAM,GI6EFu1B,GAAkBD,EAAmBR,GACrCU,GAAkBF,EAAmBP,GAMrCU,GAAW7B,GAAO,EAAGa,EAAczF,GAAMqG,EAAUrG,IACnD0G,GAAYlB,EAAkBC,EAAczF,GAAO,EAAIgG,EAAWS,GAAWF,GAAkBZ,EAA4B5F,SAAWkG,EAASQ,GAAWF,GAAkBZ,EAA4B5F,SACxM4G,GAAYnB,GAAmBC,EAAczF,GAAO,EAAIgG,EAAWS,GAAWD,GAAkBb,EAA4B5F,SAAWmG,EAASO,GAAWD,GAAkBb,EAA4B5F,SACzM6G,GAAoBpwB,EAAMmnB,SAASyI,OAAS9K,EAAgB9kB,EAAMmnB,SAASyI,OAC3ES,GAAeD,GAAiC,MAAb7G,EAAmB6G,GAAkBtM,WAAa,EAAIsM,GAAkBvM,YAAc,EAAI,EAC7HyM,GAAwH,OAAjGjB,EAA+C,MAAvBD,OAA8B,EAASA,EAAoB7F,IAAqB8F,EAAwB,EAEvJkB,GAAYrnC,EAASinC,GAAYG,GACjCE,GAAkBpC,GAAOS,EAASP,EAAQvM,EAF9B74B,EAASgnC,GAAYI,GAAsBD,IAEKtO,EAAK74B,EAAQ2lC,EAASR,EAAQhrC,EAAKktC,IAAaltC,GAChH+nC,EAAc7B,GAAYiH,GAC1B10B,EAAKytB,GAAYiH,GAAkBtnC,EAGrC,GAAIylC,EAAc,CAChB,IAAI8B,GAEAC,GAAyB,MAAbnH,EAAmBhvB,EAAMC,EAErCm2B,GAAwB,MAAbpH,EAAmBnpC,EAAS0tB,EAEvC8iB,GAAUxF,EAAcsD,GAExB1nC,GAAmB,MAAZ0nC,EAAkB,SAAW,QAEpCmC,GAAOD,GAAUt2B,EAASo2B,IAE1BI,GAAOF,GAAUt2B,EAASq2B,IAE1BI,IAAuD,IAAxC,CAACx2B,EAAKC,GAAMte,QAAQitC,GAEnC6H,GAAyH,OAAjGP,GAAgD,MAAvBrB,OAA8B,EAASA,EAAoBV,IAAoB+B,GAAyB,EAEzJQ,GAAaF,GAAeF,GAAOD,GAAU3B,EAAcjoC,IAAQ4iC,EAAW5iC,IAAQgqC,GAAuB7B,EAA4BT,QAEzIwC,GAAaH,GAAeH,GAAU3B,EAAcjoC,IAAQ4iC,EAAW5iC,IAAQgqC,GAAuB7B,EAA4BT,QAAUoC,GAE5IK,GAAmBtC,GAAUkC,GDzH9B,SAAwBhP,EAAK9+B,EAAOI,GACzC,IAAI+tC,EAAIhD,GAAOrM,EAAK9+B,EAAOI,GAC3B,OAAO+tC,EAAI/tC,EAAMA,EAAM+tC,ECuH2BC,CAAeJ,GAAYL,GAASM,IAAc9C,GAAOS,EAASoC,GAAaJ,GAAMD,GAAS/B,EAASqC,GAAaJ,IAEpK1F,EAAcsD,GAAWyC,GACzBr1B,EAAK4yB,GAAWyC,GAAmBP,GAGrC5wB,EAAMknB,cAAcxmC,GAAQob,IAS5BmqB,iBAAkB,CAAC,WEhDrB,QACEvlC,KAAM,QACNoP,SAAS,EACT83B,MAAO,OACPhjC,GA9EF,SAAe8V,GACb,IAAI42B,EAEAtxB,EAAQtF,EAAKsF,MACbtf,EAAOga,EAAKha,KACZkF,EAAU8U,EAAK9U,QACf+pC,EAAe3vB,EAAMmnB,SAASyI,MAC9BxE,EAAgBprB,EAAMknB,cAAckE,cACpCjC,EAAgBJ,EAAiB/oB,EAAM1R,WACvCunB,EAAOoT,EAAyBE,GAEhCK,EADa,CAAChvB,EAAMsT,GAAO5xB,QAAQitC,IAAkB,EAClC,SAAW,QAElC,GAAKwG,GAAiBvE,EAAtB,CAIA,IAAI4B,EAxBgB,SAAyB3yB,EAAS2F,GAItD,OAAO+sB,GAAsC,kBAH7C1yB,EAA6B,oBAAZA,EAAyBA,EAAQpf,OAAOC,OAAO,GAAI8kB,EAAMwoB,MAAO,CAC/El6B,UAAW0R,EAAM1R,aACb+L,GACkDA,EAAU4yB,GAAgB5yB,EAASkrB,IAoBvEgM,CAAgB3rC,EAAQyU,QAAS2F,GACjD6vB,EAAY9L,EAAc4L,GAC1B6B,EAAmB,MAAT3b,EAAetb,EAAMC,EAC/Bi3B,EAAmB,MAAT5b,EAAez1B,EAAS0tB,EAClC4jB,EAAU1xB,EAAMwoB,MAAMxB,UAAUwC,GAAOxpB,EAAMwoB,MAAMxB,UAAUnR,GAAQuV,EAAcvV,GAAQ7V,EAAMwoB,MAAMt4B,OAAOs5B,GAC9GmI,EAAYvG,EAAcvV,GAAQ7V,EAAMwoB,MAAMxB,UAAUnR,GACxDua,EAAoBtL,EAAgB6K,GACpCiC,EAAaxB,EAA6B,MAATva,EAAeua,EAAkB9Z,cAAgB,EAAI8Z,EAAkBnb,aAAe,EAAI,EAC3H4c,EAAoBH,EAAU,EAAIC,EAAY,EAG9C5P,EAAMiL,EAAcwE,GACpBnuC,EAAMuuC,EAAa/B,EAAUrG,GAAOwD,EAAcyE,GAClDK,EAASF,EAAa,EAAI/B,EAAUrG,GAAO,EAAIqI,EAC/C3oC,EAASklC,GAAOrM,EAAK+P,EAAQzuC,GAE7B0uC,EAAWlc,EACf7V,EAAMknB,cAAcxmC,KAAS4wC,EAAwB,IAA0BS,GAAY7oC,EAAQooC,EAAsBU,aAAe9oC,EAAS4oC,EAAQR,KA6CzJnJ,OA1CF,SAAgBrc,GACd,IAAI9L,EAAQ8L,EAAM9L,MAEdiyB,EADUnmB,EAAMlmB,QACWe,QAC3BgpC,OAAoC,IAArBsC,EAA8B,sBAAwBA,EAErD,MAAhBtC,IAKwB,kBAAjBA,IACTA,EAAe3vB,EAAMmnB,SAASj3B,OAAOgiC,cAAcvC,MAahD1/B,GAAS+P,EAAMmnB,SAASj3B,OAAQy/B,KAQrC3vB,EAAMmnB,SAASyI,MAAQD,IAUvB3J,SAAU,CAAC,iBACXC,iBAAkB,CAAC,oBChGrB,SAASkM,GAAe73B,EAAU6nB,EAAMiQ,GAQtC,YAPyB,IAArBA,IACFA,EAAmB,CACjB1pC,EAAG,EACHC,EAAG,IAIA,CACL4R,IAAKD,EAASC,IAAM4nB,EAAKzjC,OAAS0zC,EAAiBzpC,EACnDmlB,MAAOxT,EAASwT,MAAQqU,EAAK1jC,MAAQ2zC,EAAiB1pC,EACtDtI,OAAQka,EAASla,OAAS+hC,EAAKzjC,OAAS0zC,EAAiBzpC,EACzD6R,KAAMF,EAASE,KAAO2nB,EAAK1jC,MAAQ2zC,EAAiB1pC,GAIxD,SAAS2pC,GAAsB/3B,GAC7B,MAAO,CAACC,EAAKuT,EAAO1tB,EAAQoa,GAAMuP,MAAK,SAAUuoB,GAC/C,OAAOh4B,EAASg4B,IAAS,KAiC7B,IC3CIC,GAA4B9L,EAAgB,CAC9CI,iBAFqB,CxB+BvB,CACEnmC,KAAM,iBACNoP,SAAS,EACT83B,MAAO,QACPhjC,GAAI,aACJujC,OAxCF,SAAgBztB,GACd,IAAIsF,EAAQtF,EAAKsF,MACbG,EAAWzF,EAAKyF,SAChBva,EAAU8U,EAAK9U,QACf4sC,EAAkB5sC,EAAQ+9B,OAC1BA,OAA6B,IAApB6O,GAAoCA,EAC7CC,EAAkB7sC,EAAQ8sC,OAC1BA,OAA6B,IAApBD,GAAoCA,EAC7CvtC,EAASu8B,EAAUzhB,EAAMmnB,SAASj3B,QAClCw3B,EAAgB,GAAG7gB,OAAO7G,EAAM0nB,cAAcV,UAAWhnB,EAAM0nB,cAAcx3B,QAYjF,OAVIyzB,GACF+D,EAAcz2B,SAAQ,SAAUuzB,GAC9BA,EAAa/X,iBAAiB,SAAUtM,EAASmoB,OAAQxR,MAIzD4b,GACFxtC,EAAOunB,iBAAiB,SAAUtM,EAASmoB,OAAQxR,GAG9C,WACD6M,GACF+D,EAAcz2B,SAAQ,SAAUuzB,GAC9BA,EAAa3X,oBAAoB,SAAU1M,EAASmoB,OAAQxR,MAI5D4b,GACFxtC,EAAO2nB,oBAAoB,SAAU1M,EAASmoB,OAAQxR,KAY1Dhb,KAAM,IK7BR,CACEpb,KAAM,gBACNoP,SAAS,EACT83B,MAAO,OACPhjC,GApBF,SAAuB8V,GACrB,IAAIsF,EAAQtF,EAAKsF,MACbtf,EAAOga,EAAKha,KAKhBsf,EAAMknB,cAAcxmC,GAAQwoC,EAAe,CACzClC,UAAWhnB,EAAMwoB,MAAMxB,UACvBrgC,QAASqZ,EAAMwoB,MAAMt4B,OACrBq2B,SAAU,WACVj4B,UAAW0R,EAAM1R,aAUnBwN,KAAM,ICuJR,CACEpb,KAAM,gBACNoP,SAAS,EACT83B,MAAO,cACPhjC,GAzDF,SAAuB0nB,GACrB,IAAItM,EAAQsM,EAAMtM,MACdpa,EAAU0mB,EAAM1mB,QAChB+sC,EAAwB/sC,EAAQikC,gBAChCA,OAA4C,IAA1B8I,GAA0CA,EAC5DC,EAAoBhtC,EAAQkkC,SAC5BA,OAAiC,IAAtB8I,GAAsCA,EACjDC,EAAwBjtC,EAAQmkC,aAChCA,OAAyC,IAA1B8I,GAA0CA,EAYzDpI,EAAe,CACjBn8B,UAAWy6B,EAAiB/oB,EAAM1R,WAClC86B,UAAWJ,EAAahpB,EAAM1R,WAC9B4B,OAAQ8P,EAAMmnB,SAASj3B,OACvB05B,WAAY5pB,EAAMwoB,MAAMt4B,OACxB25B,gBAAiBA,EACjBtG,QAAoC,UAA3BvjB,EAAMpa,QAAQ2gC,UAGgB,MAArCvmB,EAAMknB,cAAckE,gBACtBprB,EAAM9e,OAAOgP,OAASjV,OAAOC,OAAO,GAAI8kB,EAAM9e,OAAOgP,OAAQw5B,EAAYzuC,OAAOC,OAAO,GAAIuvC,EAAc,CACvG7V,QAAS5U,EAAMknB,cAAckE,cAC7BrrC,SAAUigB,EAAMpa,QAAQ2gC,SACxBuD,SAAUA,EACVC,aAAcA,OAIe,MAA7B/pB,EAAMknB,cAAc0I,QACtB5vB,EAAM9e,OAAO0uC,MAAQ30C,OAAOC,OAAO,GAAI8kB,EAAM9e,OAAO0uC,MAAOlG,EAAYzuC,OAAOC,OAAO,GAAIuvC,EAAc,CACrG7V,QAAS5U,EAAMknB,cAAc0I,MAC7B7vC,SAAU,WACV+pC,UAAU,EACVC,aAAcA,OAIlB/pB,EAAMonB,WAAWl3B,OAASjV,OAAOC,OAAO,GAAI8kB,EAAMonB,WAAWl3B,OAAQ,CACnE,wBAAyB8P,EAAM1R,aAUjCwN,KAAM,ImBvGR,CACEpb,KAAM,cACNoP,SAAS,EACT83B,MAAO,QACPhjC,GA5EF,SAAqB8V,GACnB,IAAIsF,EAAQtF,EAAKsF,MACjB/kB,OAAOgB,KAAK+jB,EAAMmnB,UAAUl2B,SAAQ,SAAUvQ,GAC5C,IAAIiW,EAAQqJ,EAAM9e,OAAOR,IAAS,GAC9B0mC,EAAapnB,EAAMonB,WAAW1mC,IAAS,GACvCiG,EAAUqZ,EAAMmnB,SAASzmC,GAExB4J,EAAc3D,IAAai8B,EAAYj8B,KAO5C1L,OAAOC,OAAOyL,EAAQgQ,MAAOA,GAC7B1b,OAAOgB,KAAKmrC,GAAYn2B,SAAQ,SAAUvQ,GACxC,IAAIuC,EAAQmkC,EAAW1mC,IAET,IAAVuC,EACF0D,EAAQqlB,gBAAgBtrB,GAExBiG,EAAQ0sB,aAAa3yB,GAAgB,IAAVuC,EAAiB,GAAKA,WAwDvDklC,OAlDF,SAAgBrc,GACd,IAAI9L,EAAQ8L,EAAM9L,MACd8yB,EAAgB,CAClB5iC,OAAQ,CACNnQ,SAAUigB,EAAMpa,QAAQ2gC,SACxB/rB,KAAM,IACND,IAAK,IACLw4B,OAAQ,KAEVnD,MAAO,CACL7vC,SAAU,YAEZinC,UAAW,IASb,OAPA/rC,OAAOC,OAAO8kB,EAAMmnB,SAASj3B,OAAOyG,MAAOm8B,EAAc5iC,QACzD8P,EAAM9e,OAAS4xC,EAEX9yB,EAAMmnB,SAASyI,OACjB30C,OAAOC,OAAO8kB,EAAMmnB,SAASyI,MAAMj5B,MAAOm8B,EAAclD,OAGnD,WACL30C,OAAOgB,KAAK+jB,EAAMmnB,UAAUl2B,SAAQ,SAAUvQ,GAC5C,IAAIiG,EAAUqZ,EAAMmnB,SAASzmC,GACzB0mC,EAAapnB,EAAMonB,WAAW1mC,IAAS,GAGvCiW,EAFkB1b,OAAOgB,KAAK+jB,EAAM9e,OAAOxF,eAAegF,GAAQsf,EAAM9e,OAAOR,GAAQoyC,EAAcpyC,IAE7E0kB,QAAO,SAAUzO,EAAOq8B,GAElD,OADAr8B,EAAMq8B,GAAY,GACXr8B,IACN,IAEErM,EAAc3D,IAAai8B,EAAYj8B,KAI5C1L,OAAOC,OAAOyL,EAAQgQ,MAAOA,GAC7B1b,OAAOgB,KAAKmrC,GAAYn2B,SAAQ,SAAUgiC,GACxCtsC,EAAQqlB,gBAAgBinB,YAa9BjN,SAAU,CAAC,kBDxEsE98B,EE+HnF,CACExI,KAAM,OACNoP,SAAS,EACT83B,MAAO,OACPhjC,GA5HF,SAAc8V,GACZ,IAAIsF,EAAQtF,EAAKsF,MACbpa,EAAU8U,EAAK9U,QACflF,EAAOga,EAAKha,KAEhB,IAAIsf,EAAMknB,cAAcxmC,GAAMwyC,MAA9B,CAoCA,IAhCA,IAAI3E,EAAoB3oC,EAAQ2jC,SAC5BiF,OAAsC,IAAtBD,GAAsCA,EACtDE,EAAmB7oC,EAAQ8oC,QAC3BC,OAAoC,IAArBF,GAAqCA,EACpD0E,EAA8BvtC,EAAQwtC,mBACtC/4B,EAAUzU,EAAQyU,QAClBiyB,EAAW1mC,EAAQ0mC,SACnBC,EAAe3mC,EAAQ2mC,aACvBmB,EAAc9nC,EAAQ8nC,YACtB2F,EAAwBztC,EAAQ0tC,eAChCA,OAA2C,IAA1BD,GAA0CA,EAC3DE,EAAwB3tC,EAAQ2tC,sBAChCC,EAAqBxzB,EAAMpa,QAAQ0I,UACnC66B,EAAgBJ,EAAiByK,GAEjCJ,EAAqBD,IADHhK,IAAkBqK,IACqCF,EAAiB,CAAChI,EAAqBkI,IAjCtH,SAAuCllC,GACrC,GAAIy6B,EAAiBz6B,KAAeg3B,EAClC,MAAO,GAGT,IAAImO,EAAoBnI,EAAqBh9B,GAC7C,MAAO,CAACm9B,GAA8Bn9B,GAAYmlC,EAAmBhI,GAA8BgI,IA2BwCC,CAA8BF,IACrK9N,EAAa,CAAC8N,GAAoB3sB,OAAOusB,GAAoBhuB,QAAO,SAAUC,EAAK/W,GACrF,OAAO+W,EAAIwB,OAAOkiB,EAAiBz6B,KAAeg3B,ECvCvC,SAA8BtlB,EAAOpa,QAClC,IAAZA,IACFA,EAAU,IAGZ,IAAIgjC,EAAWhjC,EACX0I,EAAYs6B,EAASt6B,UACrBg+B,EAAW1D,EAAS0D,SACpBC,EAAe3D,EAAS2D,aACxBlyB,EAAUuuB,EAASvuB,QACnBi5B,EAAiB1K,EAAS0K,eAC1BK,EAAwB/K,EAAS2K,sBACjCA,OAAkD,IAA1BI,EAAmCC,EAAgBD,EAC3EvK,EAAYJ,EAAa16B,GACzBo3B,EAAa0D,EAAYkK,EAAiB7N,EAAsBA,EAAoBt+B,QAAO,SAAUmH,GACvG,OAAO06B,EAAa16B,KAAe86B,KAChC7D,EACDsO,EAAoBnO,EAAWv+B,QAAO,SAAUmH,GAClD,OAAOilC,EAAsBr3C,QAAQoS,IAAc,KAGpB,IAA7BulC,EAAkBv4C,SACpBu4C,EAAoBnO,GAQtB,IAAIoO,EAAYD,EAAkBzuB,QAAO,SAAUC,EAAK/W,GAOtD,OANA+W,EAAI/W,GAAa6+B,GAAentB,EAAO,CACrC1R,UAAWA,EACXg+B,SAAUA,EACVC,aAAcA,EACdlyB,QAASA,IACR0uB,EAAiBz6B,IACb+W,IACN,IACH,OAAOpqB,OAAOgB,KAAK63C,GAAWxtB,MAAK,SAAUhL,EAAG2K,GAC9C,OAAO6tB,EAAUx4B,GAAKw4B,EAAU7tB,MDDyB8tB,CAAqB/zB,EAAO,CACnF1R,UAAWA,EACXg+B,SAAUA,EACVC,aAAcA,EACdlyB,QAASA,EACTi5B,eAAgBA,EAChBC,sBAAuBA,IACpBjlC,KACJ,IACC2gC,EAAgBjvB,EAAMwoB,MAAMxB,UAC5B4C,EAAa5pB,EAAMwoB,MAAMt4B,OACzB8jC,EAAY,IAAIrrB,IAChBsrB,GAAqB,EACrBC,EAAwBxO,EAAW,GAE9BtqC,EAAI,EAAGA,EAAIsqC,EAAWpqC,OAAQF,IAAK,CAC1C,IAAIkT,EAAYo3B,EAAWtqC,GAEvB+4C,EAAiBpL,EAAiBz6B,GAElC8lC,EAAmBpL,EAAa16B,KAAemyB,EAC/C4T,EAAa,CAAC95B,EAAKna,GAAQlE,QAAQi4C,IAAmB,EACtD3K,EAAM6K,EAAa,QAAU,SAC7B/5B,EAAW6yB,GAAentB,EAAO,CACnC1R,UAAWA,EACXg+B,SAAUA,EACVC,aAAcA,EACdmB,YAAaA,EACbrzB,QAASA,IAEPi6B,EAAoBD,EAAaD,EAAmBtmB,EAAQtT,EAAO45B,EAAmBh0C,EAASma,EAE/F00B,EAAczF,GAAOI,EAAWJ,KAClC8K,EAAoBhJ,EAAqBgJ,IAG3C,IAAIC,EAAmBjJ,EAAqBgJ,GACxCE,EAAS,GAUb,GARIhG,GACFgG,EAAOz4B,KAAKzB,EAAS65B,IAAmB,GAGtCxF,GACF6F,EAAOz4B,KAAKzB,EAASg6B,IAAsB,EAAGh6B,EAASi6B,IAAqB,GAG1EC,EAAOC,OAAM,SAAUC,GACzB,OAAOA,KACL,CACFR,EAAwB5lC,EACxB2lC,GAAqB,EACrB,MAGFD,EAAUhxB,IAAI1U,EAAWkmC,GAG3B,GAAIP,EAqBF,IAnBA,IAEIU,EAAQ,SAAeC,GACzB,IAAIC,EAAmBnP,EAAWoP,MAAK,SAAUxmC,GAC/C,IAAIkmC,EAASR,EAAUlxB,IAAIxU,GAE3B,GAAIkmC,EACF,OAAOA,EAAO7wC,MAAM,EAAGixC,GAAIH,OAAM,SAAUC,GACzC,OAAOA,QAKb,GAAIG,EAEF,OADAX,EAAwBW,EACjB,SAIFD,EAnBYtB,EAAiB,EAAI,EAmBZsB,EAAK,EAAGA,IAAM,CAG1C,GAAa,UAFFD,EAAMC,GAEK,MAItB50B,EAAM1R,YAAc4lC,IACtBl0B,EAAMknB,cAAcxmC,GAAMwyC,OAAQ,EAClClzB,EAAM1R,UAAY4lC,EAClBl0B,EAAMyoB,OAAQ,KAUhBxC,iBAAkB,CAAC,UACnBnqB,KAAM,CACJo3B,OAAO,IFtIsF6B,GAAiBnF,GD4ClH,CACElvC,KAAM,OACNoP,SAAS,EACT83B,MAAO,OACP3B,iBAAkB,CAAC,mBACnBrhC,GAlCF,SAAc8V,GACZ,IAAIsF,EAAQtF,EAAKsF,MACbtf,EAAOga,EAAKha,KACZuuC,EAAgBjvB,EAAMwoB,MAAMxB,UAC5B4C,EAAa5pB,EAAMwoB,MAAMt4B,OACzBkiC,EAAmBpyB,EAAMknB,cAAc6N,gBACvCC,EAAoB7H,GAAentB,EAAO,CAC5CwtB,eAAgB,cAEdyH,EAAoB9H,GAAentB,EAAO,CAC5C0tB,aAAa,IAEXwH,EAA2B/C,GAAe6C,EAAmB/F,GAC7DkG,EAAsBhD,GAAe8C,EAAmBrL,EAAYwI,GACpEgD,EAAoB/C,GAAsB6C,GAC1CG,EAAmBhD,GAAsB8C,GAC7Cn1B,EAAMknB,cAAcxmC,GAAQ,CAC1Bw0C,yBAA0BA,EAC1BC,oBAAqBA,EACrBC,kBAAmBA,EACnBC,iBAAkBA,GAEpBr1B,EAAMonB,WAAWl3B,OAASjV,OAAOC,OAAO,GAAI8kB,EAAMonB,WAAWl3B,OAAQ,CACnE,+BAAgCklC,EAChC,sBAAuBC,oBK9B3B,SAASr6C,KAeP,OAdAA,GAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,IAK3B,OAAOL,GAGFH,GAASY,MAAMC,KAAMR,WAG9B,IAAIi6C,GAAQ,SAAeryC,EAAOnE,GAChC,MAAO,CACL,IAAOmE,EACPsyC,OAAQz2C,EAAW,OAASmE,EAAQ,KAAOnE,EAAW,IAAM,OAASmE,EAAQ,MAI7EuyC,GAAU,CACZC,iBAAkBH,GAAM,+BACxBI,UAAWJ,GAAM,sBAAuB,OACxCK,cAAeL,GAAM,4BACrBM,QAASN,GAAM,qBACf1+B,gBAAiB0+B,GAAM,6BACvBO,YAAaP,GAAM,0BAQrB,IAAIQ,GAAa,CACfv7B,IAAK,gBACL,YAAa,cACb,UAAW,eACXna,OAAQ,aACR,eAAgB,WAChB,aAAc,YACdoa,KAAM,eACN,aAAc,YACd,WAAY,eACZsT,MAAO,cACP,cAAe,WACf,YAAa,eAKXioB,GAAwB,CAC1BpS,QAAQ,EACR+O,QAAQ,GAyBV,IAAIsD,GAAa,CACft1C,KAAM,aACNoP,SAAS,EACT83B,MAAO,cACP5B,SAAU,CAAC,iBACXphC,GAAI,SAAY8V,GACd,IAAIsF,EAAQtF,EAAKsF,MACjBA,EAAM9e,OAAOgP,OAAOzR,MAAQuhB,EAAMwoB,MAAMxB,UAAUvoC,MAAQ,MAE5D0pC,OAAQ,SAAgBrc,GACtB,IAAI9L,EAAQ8L,EAAM9L,MAClB,OAAO,WACL,IAAIgnB,EAAYhnB,EAAMmnB,SAASH,UAC/BhnB,EAAMmnB,SAASj3B,OAAOyG,MAAMlY,MAAQuoC,EAAUzE,YAAc,QAW9D3rB,GAAkB,CACpBlW,KAAM,kBACNoP,SAAS,EACT83B,MAAO,QACPhjC,GAAI,SAAYmnB,GACd,IAAI/L,EAAQ+L,EAAM/L,MAClBi2B,GAAmBj2B,IAErBmoB,OAAQ,SAAgBuC,GACtB,IAAI1qB,EAAQ0qB,EAAM1qB,MAClB,OAAO,WACLi2B,GAAmBj2B,MAKrBi2B,GAAqB,SAA4Bj2B,GAtE7B,IAA2B1R,EAuEjD0R,EAAMmnB,SAASj3B,OAAOyG,MAAMu/B,YAAYV,GAAQ5+B,gBAAR,KAvEStI,EAuEyC0R,EAAM1R,UAtEzFwnC,GAAWxnC,MA8EhB6nC,GAAgB,CAClBz1C,KAAM,gBACNoP,SAAS,EACT83B,MAAO,aACPhjC,GAAI,SAAY0nB,GACd,IAAItM,EAAQsM,EAAMtM,MAClBo2B,GAAep2B,KAIfo2B,GAAiB,SAAwBp2B,GAC3C,IAAIuoB,EAEJ,GAAKvoB,EAAM1R,UAAX,CACA,IAAI+nC,EAAYC,GAAgBt2B,EAAM1R,WAEtC,GAA0C,OAArCi6B,EAAkBvoB,EAAMmnB,WAAqBoB,EAAgBqH,OAASyG,EAAW,CACpF,IAAI7L,EAAgB+L,EAEpBt7C,OAAOC,OAAO8kB,EAAMmnB,SAASyI,MAAMj5B,QAAQ6zB,EAAiB,IAAmB6L,EAAUrD,UAAYqD,EAAUpzC,MAAOunC,EAAe/rC,MAAQ+2C,GAAQE,UAAUH,OAAQ/K,EAAe9rC,OAAS82C,GAAQE,UAAUH,OAAQ/K,EAAevzB,QAAU,EAAGuzB,IACrP,IAAIgM,IAAQD,EAAQ,IAAUf,GAAQG,cAAR,KAAgC,QAAUH,GAAQE,UAAUH,OAAS,QAASgB,EAAMf,GAAQK,YAAR,KAA8B,QAAUL,GAAQG,cAAcJ,OAAS,SAAUgB,GAEnM,IAAK,IAAIvD,KAAYwD,EACnBx2B,EAAMmnB,SAASyI,MAAMj5B,MAAMu/B,YAAYlD,EAAUwD,EAAKxD,OAKxDsD,GAAkB,SAAuBhoC,GAC3C,OAAIA,EAAU9D,WAAW,OAChB,CACLwoC,SAAU,SACV/vC,MAAOuyC,GAAQK,YAAYN,QAI3BjnC,EAAU9D,WAAW,UAChB,CACLwoC,SAAU,MACV/vC,MAAOuyC,GAAQK,YAAYN,QAI3BjnC,EAAU9D,WAAW,QAChB,CACLwoC,SAAU,QACV/vC,MAAOuyC,GAAQK,YAAYN,QAI3BjnC,EAAU9D,WAAW,SAChB,CACLwoC,SAAU,OACV/vC,MAAOuyC,GAAQK,YAAYN,aAH/B,GAaEkB,GAAa,CACf/1C,KAAM,aACNoP,SAAS,EACT83B,MAAO,OACP5B,SAAU,CAAC,SACXphC,GAAI,SAAYgoB,GACd,IAAI5M,EAAQ4M,EAAM5M,MAClB02B,GAAoB12B,IAEtBmoB,OAAQ,SAAgBwO,GACtB,IAAI32B,EAAQ22B,EAAM32B,MAClB,OAAO,WACL02B,GAAoB12B,MAKtB02B,GAAsB,SAA6B12B,GACrD,GAAKA,EAAMmnB,SAASyI,MAApB,CACA,IArLoBthC,EAqLhBsoC,EAAQ52B,EAAMmnB,SAASyI,MAAMsC,cAAc,6BAC/C,GAAK0E,EACL37C,OAAOC,OAAO07C,EAAMjgC,MAAO,CACzBvN,UAAW,gBACXytC,WAAYrB,GAAQI,QAAQL,OAC5Bh7B,IAAK,EACLC,KAAM,EACN/b,MAAO,OACPC,OAAQ,OACRqB,SAAU,WACVkX,OAAQ,UACR6/B,WAhMkBxoC,EAgMM0R,EAAM1R,UA/L5BA,EAAUyoC,SAAS,OAAe,iDAClCzoC,EAAUyoC,SAAS,UAAkB,mDACrCzoC,EAAUyoC,SAAS,SAAiB,kDACpCzoC,EAAUyoC,SAAS,QAAgB,uDAAvC,OAgMEC,GAAW,CACb,cAAe,CACbtW,IAAK,aACLC,IAAK,eAEP,YAAa,CACXD,IAAK,WACLC,IAAK,aAEP,YAAa,CACXD,IAAK,cACLC,IAAK,cAEP,UAAW,CACTD,IAAK,YACLC,IAAK,YAEPF,MAAO,CACLC,IAAK,OACLC,IAAK,SAEP/V,IAAK,CACH8V,IAAK,QACLC,IAAK,SAGLsW,GAAY,CACd,aAAc,WACd,WAAY,aACZ,YAAa,UACb,UAAW,YACX,eAAgB,aAChB,aAAc,gBAchB,IAAIj5C,GAAY,CAAC,OAAQ,cAAe,KAAM,SAC9C,SAASmS,GAAU/T,QACH,IAAVA,IACFA,EAAQ,IAGV,IAAIqR,EAASrR,EACT86C,EAAiBzpC,EAAOqC,QACxBA,OAA6B,IAAnBonC,GAAmCA,EAC7CrR,EAAYp4B,EAAOo4B,UACnBx3B,EAAmBZ,EAAOa,UAC1BwyB,OAAqC,IAArBzyB,EAA8B,SAAWA,EACzD8oC,EAAkB1pC,EAAO84B,SACzBA,OAA+B,IAApB4Q,EAA6B,WAAaA,EACrDC,EAAsB3pC,EAAO4pC,aAC7BA,OAAuC,IAAxBD,EAAiC,EAAIA,EACpDE,EAAwB7pC,EAAO8pC,eAC/BA,OAA2C,IAA1BD,GAA0CA,EAC3DpuC,EAASuE,EAAOvE,OAChBsuC,EAAgB/pC,EAAOgqC,OACvBA,OAA2B,IAAlBD,EAA2B,EAAIA,EACxCE,EAAcjqC,EAAOkqC,KACrBA,OAAuB,IAAhBD,GAAgCA,EACvCE,EAAkBnqC,EAAO6+B,SACzBA,OAA+B,IAApBsL,EAA6B,kBAAoBA,EAC5DC,EAAwBpqC,EAAOsnC,gBAC/BA,OAA4C,IAA1B8C,GAA0CA,EAC5DC,EAAerqC,EAAOuoC,WACtB/kB,EAAmBxjB,EAAOgB,UAC1BA,OAAiC,IAArBwiB,EAA8B,MAAQA,EAClD+V,GAAY7pC,EAAAA,GAAAA,QAAO,MACnB+S,GAAS/S,EAAAA,GAAAA,QAAO,MAChBgjB,GAAWhjB,EAAAA,GAAAA,QAAO,MAClBmR,EA7CN,SAA4BA,EAAW4yB,GACrC,IAAI6W,EAAqBC,OAEb,IAAR9W,IACFA,EAAM,OAGR,IAAIj+B,GAAwD,OAA9C80C,EAAsBf,GAAS1oC,SAAsB,EAASypC,EAAoB7W,KAAS5yB,EACzG,MAAY,QAAR4yB,EAAsBj+B,EAC8B,OAAhD+0C,EAAuBf,GAAU3oC,IAAsB0pC,EAAuB/0C,EAoCtEg1C,CAAmBnX,EAAeryB,GAC9CypC,GAAU/6C,EAAAA,GAAAA,SAAO,eACjBg7C,GAAc96C,EAAAA,GAAAA,cAAY,WA1PhC,IAAiC4F,EA2PxB6M,GAAYk3B,EAAUlpC,SAAYoS,EAAOpS,UAE3B,MAAnBo6C,EAAQp6C,SAA2Bo6C,EAAQp6C,UAC3CqiB,EAASriB,QAAUy0C,GAAavL,EAAUlpC,QAASoS,EAAOpS,QAAS,CACjEwQ,UAAWA,EACXu3B,UAAW,CAAC4Q,GAAYN,GAAev/B,GAAiB5b,GAAS,GAAIg7C,GAAY,CAC/ElmC,UAAWgoC,IACT98C,GAAS,CACX0F,KAAM,mBAnQmBuC,EAoQAs0C,EAjQV,kBAAVt0C,EACQ,CACf6M,SAAS,EACTlK,QAAS5K,GAAS,GAAI+6C,GAAuB9yC,IAG9B,CACf6M,QAAS7M,EACT2C,QAASmwC,MAyPoC,CAC3Cr1C,KAAM,QACNkF,QAAS,CACPyU,QAASg9B,IAEV,CACD32C,KAAM,SACNkF,QAAS,CACPsD,OAAkB,MAAVA,EAAiBA,EAAS,CAAC,EAAGuuC,KAEvC,CACD/2C,KAAM,OACNoP,UAAW6nC,EACX/xC,QAAS,CACPyU,QAAS,IAEV,CACD3Z,KAAM,kBACNoP,UAAWilC,EACXnvC,QAAS,CACP0mC,SAAUA,KAEXzlB,OAAoB,MAAbgf,EAAoBA,EAAY,IAC1CU,SAAUA,IAGZpmB,EAASriB,QAAQkU,cACjBkmC,EAAQp6C,QAAUqiB,EAASriB,QAAQ+qC,WAClC,CAACv6B,EAAWwB,EAAS+1B,EAAWiS,EAAcP,EAAgBF,EAAcnuC,EAAQuuC,EAAQE,EAAM5C,EAAiBzI,EAAU/F,KAChItpC,EAAAA,GAAAA,YAAU,WACR,OAAO,WAMH,IAAIm7C,EADDpR,EAAUlpC,SAAYoS,EAAOpS,UAGU,OAAzCs6C,EAAoBj4B,EAASriB,UAA4Bs6C,EAAkBvP,UAC5E1oB,EAASriB,QAAU,SAGtB,IACH,IAAIyV,GAAelW,EAAAA,GAAAA,cAAY,SAAUwU,GACvCm1B,EAAUlpC,QAAU+T,EACpBsmC,MACC,CAACA,IACAE,GAAoBh7C,EAAAA,GAAAA,cAAY,SAAUjB,EAAOgC,GASnD,YARc,IAAVhC,IACFA,EAAQ,SAGE,IAARgC,IACFA,EAAM,MAGDpD,GAAS,GAAIoB,EAAO,CACzBgC,KAAK0O,EAAAA,EAAAA,IAAUyG,EAAcnV,OAE9B,CAACmV,IACA+kC,GAAYj7C,EAAAA,GAAAA,cAAY,SAAUwU,GACpC3B,EAAOpS,QAAU+T,EACjBsmC,MACC,CAACA,IACAphC,GAAiB1Z,EAAAA,GAAAA,cAAY,SAAUjB,EAAOgC,GAShD,YARc,IAAVhC,IACFA,EAAQ,SAGE,IAARgC,IACFA,EAAM,MAGDpD,GAAS,GAAIoB,EAAO,CACzBgC,KAAK0O,EAAAA,EAAAA,IAAUwrC,EAAWl6C,GAC1BuY,MAAO3b,GAAS,GAAIoB,EAAMua,MAAO,CAC/B5W,SAAUwmC,EACVgS,SAAU,cACVC,MAAO,sBAGV,CAACjS,EAAU+R,IACVG,GAAgBp7C,EAAAA,GAAAA,cAAY,SAAUjB,EAAOgC,QACjC,IAAVhC,IACFA,EAAQ,SAGE,IAARgC,IACFA,EAAM,MAGR,IAAIuM,EAAUvO,EAOd,OANIuO,EAAQtG,KACRsG,EAAQ+tC,YACR/tC,EAAQguC,GACRhuC,EAAQgM,MAGL3b,GAAS,GAjbpB,SAAuCO,EAAQQ,GAC7C,GAAc,MAAVR,EAAgB,MAAO,GAC3B,IAEIC,EAAKJ,EAFLD,EAAS,GACTa,EAAaf,OAAOgB,KAAKV,GAG7B,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IACjCI,EAAMQ,EAAWZ,GACbW,EAASG,QAAQV,IAAQ,IAC7BL,EAAOK,GAAOD,EAAOC,IAGvB,OAAOL,EAmaUW,CAA8B6O,EAAS3M,IAE5B,CACxBI,IAAKA,EACL,oBAAqB,GACrBuY,MAAOiiC,GAAcx8C,OAEtB,IACCy8C,GAAqBx7C,EAAAA,GAAAA,cAAY,SAAUjB,EAAOgC,GASpD,YARc,IAAVhC,IACFA,EAAQ,SAGE,IAARgC,IACFA,EAAM,MAGDpD,GAAS,GAAIoB,EAAO,CACzBgC,IAAKA,EACL,0BAA2B,OAE5B,IACH,MAAO,CACLkqC,OAAQ,WACN,IAAIwQ,EAEuC,OAA1CA,EAAqB34B,EAASriB,UAA4Bg7C,EAAmBxQ,UAEhFt2B,YAAa,WACX,IAAI+mC,EAEuC,OAA1CA,EAAqB54B,EAASriB,UAA4Bi7C,EAAmB/mC,eAEhF4E,gBAAiB4+B,GAAQ5+B,gBAAgB2+B,OACzChiC,aAAcA,EACd+kC,UAAWA,EACXvhC,eAAgBA,EAChB0hC,cAAeA,EACfI,mBAAoBA,EACpBR,kBAAmBA,GAIvB,SAASO,GAAcx8C,GACrB,IAAIiI,EAAOjI,EAAMiI,KACbq0C,EAAct8C,EAAMs8C,YACpBC,EAAKv8C,EAAMu8C,GAGXv2B,EAAgBpnB,GAAS,GAFjBoB,EAAMua,MAEsB,CACtC5W,SAAU,aAeZ,OAZIsE,IACF+d,EAAc,uBAAyB/d,GAGrCq0C,IACFt2B,EAAc,+BAAiCs2B,GAG7CC,IACFv2B,EAAc,qBAAuBu2B,GAGhCv2B,iHC9eiB42B,EAAAA,GAAY76C,EAAAA,gBAAwBA,EAAAA,UA4F1DuB,EAAAA,GAYAA,EAAAA,2BCxGJ,SAAS1E,IAeP,OAdAA,EAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,IAK3B,OAAOL,GAGFH,EAASY,MAAMC,KAAMR,WAG9B,SAASS,EAA8BP,EAAQQ,GAC7C,GAAc,MAAVR,EAAgB,MAAO,GAC3B,IAEIC,EAAKJ,EAFLD,EAAS,GACTa,EAAaf,OAAOgB,KAAKV,GAG7B,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IACjCI,EAAMQ,EAAWZ,GACbW,EAASG,QAAQV,IAAQ,IAC7BL,EAAOK,GAAOD,EAAOC,IAGvB,OAAOL,EAGT,IAAI6C,EAAY,CAAC,aAAc,WAAY,WAAY,eAAgB,QAAS,aAG5Ei7C,GAAiB15C,EAAAA,EAAAA,IAAO,MAAO,CACjCmC,UAAW,CACTo1C,UAAW,OACXoC,eAAgB,cAChBC,OAAQ,UACR53C,MAAO,cACPqS,cAAe,OACfmE,WAAY,OACZ,yBAA0B,CACxB9D,WAAY,aAIdmlC,GAAOC,EAAAA,EAAAA,IAAU,CACnBC,KAAM,CACJplC,QAAS,GAEXqlC,GAAI,CACFrlC,QAAS,KAYTslC,GAAwB56C,EAAAA,EAAAA,KAAW,SAAUxC,EAAOgC,GACtD,IAAI8C,GAASu4C,EAAAA,EAAAA,IAAe,WAAYr9C,GACpCs9C,EAViB,WACrB,IAAIA,EAAgBv7C,EAAAA,QAAa,GAIjC,OAHAA,EAAAA,WAAgB,WACdu7C,EAAc57C,SAAU,IACvB,IACI47C,EAAc57C,QAKD67C,GAEhB13C,GAAoBC,EAAAA,EAAAA,IAAiB9F,GACrC6F,EAAkB23C,WAClB33C,EAAkB43C,SAClB,IAAIC,EAAW73C,EAAkB63C,SACjCC,EAAe93C,EAAkB83C,aACjC93C,EAAkB+3C,MAClB,IAAIv6C,EAAYwC,EAAkBxC,UAClCjB,EAAO1C,EAA8BmG,EAAmBjE,GAExDi8C,GAAsBC,EAAAA,EAAAA,IAAYJ,GAElC/yC,GAAaxG,EAAAA,EAAAA,IAAG,kBAAmBd,GAEvC,GAAIq6C,EAAU,CACZ,IAAIK,EAAYT,GAAiBO,EAAsB,OAASb,EAAO,IAAMW,EAAe,IAC5F,OAAoB57C,EAAAA,cAAoBoB,EAAAA,GAAAA,IAAYvE,EAAS,CAC3DoD,IAAKA,EACLqB,UAAWsH,EACXvG,MAAO,CACL25C,UAAWA,IAEZ37C,IAGL,OAAoBL,EAAAA,cAAoB86C,EAAgBj+C,EAAS,CAC/DoD,IAAKA,EACLqB,UAAWsH,GACVvI,EAAM,CACPgC,MAAOU,QAGXs4C,EAASzxC,aAAe,CACtBgyC,aAAc,GACdC,MAAO,IAGLt6C,EAAAA,KACF85C,EAAS75C,YAAc,YAgErBD,EAAAA,GAeAA,EAAAA,uLCtLJ,SAAS1E,IAeP,OAdAA,EAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,IAK3B,OAAOL,GAGFH,EAASY,MAAMC,KAAMR,WAG9B,SAASS,EAA8BP,EAAQQ,GAC7C,GAAc,MAAVR,EAAgB,MAAO,GAC3B,IAEIC,EAAKJ,EAFLD,EAAS,GACTa,EAAaf,OAAOgB,KAAKV,GAG7B,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IACjCI,EAAMQ,EAAWZ,GACbW,EAASG,QAAQV,IAAQ,IAC7BL,EAAOK,GAAOD,EAAOC,IAGvB,OAAOL,EAGT,IAAIgZ,EAAQ,CACVI,KAAM,CACJJ,MAAO,IACPD,QAAS,EACTE,WAAY,CACVF,QAAS,CACPG,SAAU,IACVI,QAAS,aAEXN,MAAO,CACLE,SAAU,GACVI,QAAS,eAIfT,MAAO,CACLG,MAAO,EACPD,QAAS,EACTE,WAAY,CACVF,QAAS,CACPO,QAAS,UACTJ,SAAU,IAEZF,MAAO,CACLE,SAAU,GACVC,KAAM,CAAC,KAAO,KAAO,GAAK,SAM9B1U,EAAc,CAAC,YAAa,aAAc,eAAgB,mBAAoB,SAAU,UAAW,YAAa,KAAM,SAAU,gBAAiB,YAAa,mBAAoB,eAAgB,YAAa,aAAc,SAAU,SAAU,aA6KrP,IAAI5B,EAAY,CAAC,WAAY,QAAS,qBAAsB,aAAc,WAAY,KAAM,eACxFo8C,GAAgB76C,EAAAA,EAAAA,IAAOoV,EAAAA,EAAAA,KAQvB0lC,GAAuBz7C,EAAAA,EAAAA,KAAW,SAAUxC,EAAOgC,GACrD,IAAI8C,GAASu4C,EAAAA,EAAAA,IAAe,UAAWr9C,GACnC8Y,GAAWhT,EAAAA,EAAAA,IAAiB9F,GAC5B2kC,GAAQ5uB,EAAAA,EAAAA,MAERxP,EAAWuS,EAASvS,SACpBvB,EAAQ8T,EAAS9T,MACjBk5C,EAAqBplC,EAASolC,mBAC9BC,EAAYrlC,EAAS,cACrBslC,EAAWtlC,EAASslC,SACpB7B,EAAKzjC,EAASyjC,GACd3a,EAAc9oB,EAAS8oB,YACvBx/B,EAAO1C,EAA8BoZ,EAAUlX,GAE/C26C,IACFz3C,EAAOy3C,GAAKA,EACZz3C,EAAOu5C,EAAAA,EAAAA,QAAAA,MAAgCC,EAAAA,EAAAA,IAAU3Z,EAAO,SAAU4X,IAGpE,IAIIgC,EAJAC,EAxMN,SAAoBx+C,QACJ,IAAVA,IACFA,EAAQ,IAGV,IAAIqR,EAASrR,EACTy+C,EAAmBptC,EAAOqtC,UAC1BA,OAAiC,IAArBD,EAA8B,EAAIA,EAC9CE,EAAoBttC,EAAOutC,WAC3BA,OAAmC,IAAtBD,EAA+B,EAAIA,EAChDE,EAAsBxtC,EAAOytC,aAC7BA,OAAuC,IAAxBD,GAAwCA,EACvDE,EAAmB1tC,EAAO0tC,iBAC1BhtC,EAAaV,EAAOW,OACpBF,EAAcT,EAAO7B,QACrB0C,EAAYb,EAAOa,UACnBtF,EAAKyE,EAAOzE,GACZgF,EAAaP,EAAO3B,OACpBmC,EAAgBR,EAAOQ,cACvBmtC,EAAmB3tC,EAAOioC,UAC1BA,OAAiC,IAArB0F,EAA8B,GAAKA,EAC/C3F,EAAmBhoC,EAAOgoC,iBAC1B4B,EAAe5pC,EAAO4pC,aACtBxR,EAAYp4B,EAAOo4B,UACnBz6B,EAAaqC,EAAOrC,WACpBqsC,EAAShqC,EAAOgqC,OAChBvuC,EAASuE,EAAOvE,OAChBuF,EAAYhB,EAAOgB,UACnBlD,EAAYzP,EAA8B2R,EAAQ7N,GAElD8P,GAAiBC,EAAAA,EAAAA,IAAc,CACjC7D,OAAQkC,EACRC,cAAeA,EACfG,OAAQD,EACRvC,QAASsC,IAEPpC,EAAS4D,EAAe5D,OACxBsC,EAASsB,EAAetB,OACxBxC,EAAU8D,EAAe9D,QAEzByvC,GAAalrC,EAAAA,EAAAA,GAAU,CACzBL,QAAShE,EACTwC,UAAWA,EACX+oC,aAAcA,EACdxR,UAAWA,EACX4R,OAAQA,EACRvuC,OAAQA,EACRuF,UAAWA,IAET8E,EAAe8nC,EAAW9nC,aAC1BwD,EAAiBskC,EAAWtkC,eAC5B8hC,EAAqBwC,EAAWxC,mBAChCJ,EAAgB4C,EAAW5C,cAE3B6C,GAAYtvC,EAAAA,EAAAA,IAAMhD,EAAI,WACtB5K,EAAMD,EAAAA,OAAa,MACnBo9C,EAAep9C,EAAAA,SACfq9C,EAAcr9C,EAAAA,SACds9C,EAAgBt9C,EAAAA,aAAkB,WAC/BiN,IACHmwC,EAAaz9C,QAAUoH,OAAO+J,WAAWb,EAAQ0sC,MAElD,CAAC1vC,EAAYgD,EAAQ0sC,IACpBY,EAAiBv9C,EAAAA,aAAkB,WACjCo9C,EAAaz9C,SACfoT,aAAaqqC,EAAaz9C,SAG5B09C,EAAY19C,QAAUoH,OAAO+J,WAAWrD,EAASovC,KAChD,CAACA,EAAYpvC,IACZT,EAAUhN,EAAAA,aAAkB,WAC1B+8C,GACFQ,MAED,CAACR,EAAcQ,IACdve,EAAch/B,EAAAA,aAAkB,WAC9Bg9C,GACFO,MAED,CAACP,EAAkBO,IAClB5oC,EAAY3U,EAAAA,aAAkB,SAAUR,GACtCmO,GAAwB,WAAdnO,EAAMnC,KAClBkgD,MAED,CAAC5vC,EAAQ4vC,KACZC,EAAAA,EAAAA,GAAiB,UAAW7oC,GAC5B3U,EAAAA,WAAgB,WACd,OAAO,WACL+S,aAAaqqC,EAAaz9C,SAC1BoT,aAAasqC,EAAY19C,YAE1B,KAQH69C,EAAAA,EAAAA,GAAiB,aAAcD,GAAgB,WAC7C,OAAOt9C,EAAIN,WAEb,IAAI89C,EAAkBz9C,EAAAA,aAAkB,SAAU/B,EAAOse,GAmBvD,YAlBc,IAAVte,IACFA,EAAQ,SAGG,IAATse,IACFA,EAAO,MAGU1f,EAAS,GAAIoB,EAAO,CACrCgC,KAAK0O,EAAAA,EAAAA,IAAU1O,EAAKsc,EAAMnH,GAC1B1I,cAAc4I,EAAAA,EAAAA,IAAgBrX,EAAMyO,aAAc4wC,GAClDtwC,SAASsI,EAAAA,EAAAA,IAAgBrX,EAAM+O,QAASA,GACxCgyB,aAAa1pB,EAAAA,EAAAA,IAAgBrX,EAAM+gC,YAAaA,GAChD9d,SAAS5L,EAAAA,EAAAA,IAAgBrX,EAAMijB,QAASo8B,GACxCn8B,QAAQ7L,EAAAA,EAAAA,IAAgBrX,EAAMkjB,OAAQo8B,GACtC,mBAAoB5vC,EAASwvC,OAAYp8C,MAI1C,CAACu8C,EAAeC,EAAgBve,EAAarxB,EAAQwvC,EAAWnwC,EAASoI,IACxEsoC,EAA4B19C,EAAAA,aAAkB,SAAU/B,EAAO0/C,GACjE,IAAIv+B,EAUJ,YARc,IAAVnhB,IACFA,EAAQ,SAGW,IAAjB0/C,IACFA,EAAe,MAGV/kC,EAAe/b,EAAS,GAAIoB,EAAO,CACxCua,MAAO3b,EAAS,GAAIoB,EAAMua,OAAQ4G,EAAY,GAAIA,EAAUk9B,EAAAA,EAAAA,UAAAA,KAAkC/E,GAAYqG,EAAAA,EAAAA,IAAGrG,QAAax2C,EAAWqe,EAAUk9B,EAAAA,EAAAA,iBAAAA,KAAyChF,EAAkBl4B,MACxMu+B,KACH,CAAC/kC,EAAgB2+B,EAAWD,IAC3BuG,GAAkB79C,EAAAA,aAAkB,SAAU/B,EAAOse,GAoBvD,YAnBc,IAAVte,IACFA,EAAQ,SAGG,IAATse,IACFA,EAAO,MAGU1f,EAAS,CAC1BoD,IAAKsc,GACJnP,EAAWnP,EAAO,CACnB4M,GAAIsyC,EACJn6C,KAAM,UACNwV,MAAO3b,EAAS,GAAIoB,EAAMua,MAAO,CAC/B5W,SAAU,WACV6W,gBAAiB6jC,EAAAA,EAAAA,gBAAAA,aAKpB,CAAClvC,EAAW+vC,IACf,MAAO,CACLxvC,OAAQA,EACR+jB,KAAM4rB,EACNQ,KAAMP,EACNE,gBAAiBA,EACjBI,gBAAiBA,GACjBH,0BAA2BA,EAC3BpD,cAAeA,EACfI,mBAAoBA,GAgCRqD,CAAWlhD,EAAS,GAAIwD,EAAM,CAC1CiQ,UAAWsyB,EAAMtyB,aAKnB,IAHiB0tC,EAAAA,EAAAA,IAASx5C,IAAa23C,EAIrCK,EAAuBx8C,EAAAA,cAAoBoB,EAAAA,GAAAA,KAAavE,EAAS,CAC/D+R,SAAU,GACT6tC,EAAQgB,mBAAoBj5C,OAC1B,CAIL,IAAIqB,EAAQ7F,EAAAA,SAAAA,KAAoBwE,GAChCg4C,EAAuBx8C,EAAAA,aAAmB6F,EAAO42C,EAAQgB,gBAAgB53C,EAAM5H,MAAO4H,EAAM5F,MAG9F,IAAIg+C,IAAiB7B,EAEjB8B,EAAgBzB,EAAQoB,gBAAgB,GAAI59C,GAE5Ck+C,EAAeF,GAAe98C,EAAAA,EAAAA,IAAK+8C,EAAe,CAAC,OAAQ,OAASA,EACpEE,GAAcC,EAAAA,EAAAA,IAAKH,EAAe,CAAC,OAAQ,OAM/C,OAAKj7C,EAIejD,EAAAA,cAAoBA,EAAAA,SAAgB,KAAMw8C,EAAsBx8C,EAAAA,cAAoB2xB,EAAAA,EAAiB,KAAM8qB,EAAQ9uC,QAAuB3N,EAAAA,cAAoBmgC,EAAAA,GAAQN,EAA0B7/B,EAAAA,cAAoBoB,EAAAA,GAAAA,IAAYvE,EAAS,GAAI4/C,EAAQiB,4BAA6B,CACpSr7C,MAAO,CACLyW,OAAQ/V,EAAO+V,OACfrD,cAAe,UAEFzV,EAAAA,cAAoBi8C,EAAep/C,EAAS,CAC3Duc,SAAUpD,GACTmoC,EAAc,CACf9kC,QAAS,OACTC,QAAS,QACTlD,KAAM,OACN/T,MAAOU,IACLE,EAAOg7C,GAA6Bj+C,EAAAA,cAAoBs+C,EAAAA,GAAgBF,EAAahC,GAAYC,GAAyBr8C,EAAAA,cAAoBoB,EAAAA,GAAAA,IAAY,CAC5J,qBAAqB,EACrBE,UAAW,iCACGtB,EAAAA,cAAoBoB,EAAAA,GAAAA,IAAY,CAC9C,2BAA2B,EAC3BE,UAAW,wBACXe,MAAO,CACLm4C,GAAIz3C,EAAOy3C,YAtBOx6C,EAAAA,cAAoBA,EAAAA,SAAgB,KAAMwE,MA2B9DjD,EAAAA,KACF26C,EAAQ16C,YAAc,+BChUxB,SAAS+8C,EAAQ13C,GACf,GAAIA,EAAK,OAWX,SAAeA,GACb,IAAK,IAAIxJ,KAAOkhD,EAAQjhD,UACtBuJ,EAAIxJ,GAAOkhD,EAAQjhD,UAAUD,GAE/B,OAAOwJ,EAfS23C,CAAM33C,GATxB43C,EAAQ,EAAUF,EAoClBA,EAAQjhD,UAAUohD,GAClBH,EAAQjhD,UAAUgxB,iBAAmB,SAAS9uB,EAAOiH,GAInD,OAHA/I,KAAKihD,WAAajhD,KAAKihD,YAAc,IACpCjhD,KAAKihD,WAAW,IAAMn/C,GAAS9B,KAAKihD,WAAW,IAAMn/C,IAAU,IAC7Doe,KAAKnX,GACD/I,MAaT6gD,EAAQjhD,UAAU6J,KAAO,SAAS3H,EAAOiH,GACvC,SAASi4C,IACPhhD,KAAKkhD,IAAIp/C,EAAOk/C,GAChBj4C,EAAGhJ,MAAMC,KAAMR,WAKjB,OAFAwhD,EAAGj4C,GAAKA,EACR/I,KAAKghD,GAAGl/C,EAAOk/C,GACRhhD,MAaT6gD,EAAQjhD,UAAUshD,IAClBL,EAAQjhD,UAAUuhD,eAClBN,EAAQjhD,UAAUwhD,mBAClBP,EAAQjhD,UAAUoxB,oBAAsB,SAASlvB,EAAOiH,GAItD,GAHA/I,KAAKihD,WAAajhD,KAAKihD,YAAc,GAGjC,GAAKzhD,UAAUC,OAEjB,OADAO,KAAKihD,WAAa,GACXjhD,KAIT,IAUIogB,EAVAiW,EAAYr2B,KAAKihD,WAAW,IAAMn/C,GACtC,IAAKu0B,EAAW,OAAOr2B,KAGvB,GAAI,GAAKR,UAAUC,OAEjB,cADOO,KAAKihD,WAAW,IAAMn/C,GACtB9B,KAKT,IAAK,IAAIT,EAAI,EAAGA,EAAI82B,EAAU52B,OAAQF,IAEpC,IADA6gB,EAAKiW,EAAU92B,MACJwJ,GAAMqX,EAAGrX,KAAOA,EAAI,CAC7BstB,EAAUlR,OAAO5lB,EAAG,GACpB,MAUJ,OAJyB,IAArB82B,EAAU52B,eACLO,KAAKihD,WAAW,IAAMn/C,GAGxB9B,MAWT6gD,EAAQjhD,UAAUyhD,KAAO,SAASv/C,GAChC9B,KAAKihD,WAAajhD,KAAKihD,YAAc,GAKrC,IAHA,IAAIr3C,EAAO,IAAIC,MAAMrK,UAAUC,OAAS,GACpC42B,EAAYr2B,KAAKihD,WAAW,IAAMn/C,GAE7BvC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IACpCqK,EAAKrK,EAAI,GAAKC,UAAUD,GAG1B,GAAI82B,EAEG,CAAI92B,EAAI,EAAb,IAAK,IAAWouC,GADhBtX,EAAYA,EAAUvuB,MAAM,IACIrI,OAAQF,EAAIouC,IAAOpuC,EACjD82B,EAAU92B,GAAGQ,MAAMC,KAAM4J,GAI7B,OAAO5J,MAIT6gD,EAAQjhD,UAAU0hD,aAAeT,EAAQjhD,UAAUyhD,KAUnDR,EAAQjhD,UAAU2hD,UAAY,SAASz/C,GAErC,OADA9B,KAAKihD,WAAajhD,KAAKihD,YAAc,GAC9BjhD,KAAKihD,WAAW,IAAMn/C,IAAU,IAWzC++C,EAAQjhD,UAAU4hD,aAAe,SAAS1/C,GACxC,QAAU9B,KAAKuhD,UAAUz/C,GAAOrC,8BC9KlCgiD,EAAOV,QAAU,CAAE,QAAWW,EAAQ,MAAqCC,YAAY,yBCAvFF,EAAOV,QAAU,CAAE,QAAWW,EAAQ,MAAqCC,YAAY,yBCAvFF,EAAOV,QAAU,CAAE,QAAWW,EAAQ,MAA8CC,YAAY,yBCAhGF,EAAOV,QAAU,CAAE,QAAWW,EAAQ,KAA+CC,YAAY,yBCAjGF,EAAOV,QAAU,CAAE,QAAWW,EAAQ,MAA+CC,YAAY,yBCAjGF,EAAOV,QAAU,CAAE,QAAWW,EAAQ,MAA8BC,YAAY,yBCAhFF,EAAOV,QAAU,CAAE,QAAWW,EAAQ,MAAuCC,YAAY,oCCEzFZ,EAAQY,YAAa,EAErBZ,EAAAA,QAAkB,SAAUz8B,EAAUs9B,GACpC,KAAMt9B,aAAoBs9B,GACxB,MAAM,IAAIC,UAAU,yECJxBd,EAAQY,YAAa,EAErB,IAIgCx4C,EAJ5Bmc,EAAkBo8B,EAAQ,MAE1BI,GAE4B34C,EAFcmc,IAEOnc,EAAIw4C,WAAax4C,EAAM,CAAE44C,QAAS54C,GAEvF43C,EAAAA,QAAkB,WAChB,SAASiB,EAAiB1iD,EAAQiB,GAChC,IAAK,IAAIhB,EAAI,EAAGA,EAAIgB,EAAMd,OAAQF,IAAK,CACrC,IAAI0iD,EAAa1hD,EAAMhB,GACvB0iD,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,IACjD,EAAIN,EAAiBC,SAASziD,EAAQ2iD,EAAWtiD,IAAKsiD,IAI1D,OAAO,SAAUL,EAAaS,EAAYC,GAGxC,OAFID,GAAYL,EAAiBJ,EAAYhiD,UAAWyiD,GACpDC,GAAaN,EAAiBJ,EAAaU,GACxCV,GAdO,sCCRlBb,EAAQY,YAAa,EAErB,IAIgCx4C,EAJ5Bo5C,EAAUb,EAAQ,MAElBc,GAE4Br5C,EAFMo5C,IAEep5C,EAAIw4C,WAAax4C,EAAM,CAAE44C,QAAS54C,GAEvF43C,EAAAA,QAAkByB,EAAST,SAAW,SAAUziD,GAC9C,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,IAK3B,OAAOL,sCCnBTyhD,EAAQY,YAAa,EAErB,IAEIc,EAAmBC,EAFDhB,EAAQ,OAM1BiB,EAAWD,EAFDhB,EAAQ,OAMlBkB,EAAWF,EAFAhB,EAAQ,OAIvB,SAASgB,EAAuBv5C,GAAO,OAAOA,GAAOA,EAAIw4C,WAAax4C,EAAM,CAAE44C,QAAS54C,GAEvF43C,EAAAA,QAAkB,SAAUt8B,EAAUC,GACpC,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIm9B,UAAU,4DAAoF,qBAAfn9B,EAA6B,aAAc,EAAIk+B,EAASb,SAASr9B,KAG5JD,EAAS7kB,WAAY,EAAI+iD,EAASZ,SAASr9B,GAAcA,EAAW9kB,UAAW,CAC7EglB,YAAa,CACXxd,MAAOqd,EACPy9B,YAAY,EACZE,UAAU,EACVD,cAAc,KAGdz9B,IAAY+9B,EAAiBV,SAAU,EAAIU,EAAiBV,SAASt9B,EAAUC,GAAcD,EAASo+B,UAAYn+B,uCC7BxHq8B,EAAQY,YAAa,EAErB,IAIgCx4C,EAJ5B25C,EAAWpB,EAAQ,MAEnBkB,GAE4Bz5C,EAFM25C,IAEe35C,EAAIw4C,WAAax4C,EAAM,CAAE44C,QAAS54C,GAEvF43C,EAAAA,QAAkB,SAAUgC,EAAMjjD,GAChC,IAAKijD,EACH,MAAM,IAAIC,eAAe,6DAG3B,OAAOljD,GAAuF,YAA7D,qBAATA,EAAuB,aAAc,EAAI8iD,EAASb,SAASjiD,KAAuC,oBAATA,EAA8BijD,EAAPjjD,sCCb1IihD,EAAQY,YAAa,EAErB,IAEIsB,EAAaP,EAFDhB,EAAQ,OAMpBwB,EAAWR,EAFDhB,EAAQ,OAIlByB,EAAsC,oBAArBD,EAASnB,SAAwD,kBAAvBkB,EAAWlB,QAAuB,SAAU54C,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAmC,oBAArB+5C,EAASnB,SAA0B54C,EAAIyb,cAAgBs+B,EAASnB,SAAW54C,IAAQ+5C,EAASnB,QAAQniD,UAAY,gBAAkBuJ,GAEjT,SAASu5C,EAAuBv5C,GAAO,OAAOA,GAAOA,EAAIw4C,WAAax4C,EAAM,CAAE44C,QAAS54C,GAEvF43C,EAAAA,QAA8C,oBAArBmC,EAASnB,SAA0D,WAAhCoB,EAAQF,EAAWlB,SAAwB,SAAU54C,GAC/G,MAAsB,qBAARA,EAAsB,YAAcg6C,EAAQh6C,IACxD,SAAUA,GACZ,OAAOA,GAAmC,oBAArB+5C,EAASnB,SAA0B54C,EAAIyb,cAAgBs+B,EAASnB,SAAW54C,IAAQ+5C,EAASnB,QAAQniD,UAAY,SAA0B,qBAARuJ,EAAsB,YAAcg6C,EAAQh6C,0BCnBrMu4C,EAAQ,MACRD,EAAOV,QAAU,EAAjBU,KAAAA,OAAAA,6BCDAC,EAAQ,MACR,IAAI0B,EAAU1B,EAAAA,KAAAA,OACdD,EAAOV,QAAU,SAAgBsC,EAAGC,GAClC,OAAOF,EAAQz+B,OAAO0+B,EAAGC,0BCH3B5B,EAAQ,MACR,IAAI0B,EAAU1B,EAAAA,KAAAA,OACdD,EAAOV,QAAU,SAAwBwC,EAAI5jD,EAAK6jD,GAChD,OAAOJ,EAAQtoB,eAAeyoB,EAAI5jD,EAAK6jD,yBCHzC9B,EAAQ,MACRD,EAAOV,QAAU,EAAjBU,KAAAA,OAAAA,qCCDAC,EAAQ,MACRD,EAAOV,QAAU,EAAjBU,KAAAA,OAAAA,qCCDAC,EAAQ,MACRA,EAAQ,MACRA,EAAQ,KACRA,EAAQ,MACRD,EAAOV,QAAU,EAAjBU,KAAAA,6BCJAC,EAAQ,MACRA,EAAQ,MACRD,EAAOV,QAAUW,EAAAA,MAAAA,EAAoC,8BCFrDD,EAAOV,QAAU,SAAUwC,GACzB,GAAiB,mBAANA,EAAkB,MAAM1B,UAAU0B,EAAK,uBAClD,OAAOA,qBCFT9B,EAAOV,QAAU,mCCAjB,IAAI0C,EAAW/B,EAAQ,MACvBD,EAAOV,QAAU,SAAUwC,GACzB,IAAKE,EAASF,GAAK,MAAM1B,UAAU0B,EAAK,sBACxC,OAAOA,yBCDT,IAAIG,EAAYhC,EAAQ,MACpBiC,EAAWjC,EAAQ,MACnBkC,EAAkBlC,EAAQ,MAC9BD,EAAOV,QAAU,SAAU8C,GACzB,OAAO,SAAUC,EAAOl+B,EAAIm+B,GAC1B,IAGI38C,EAHA48C,EAAIN,EAAUI,GACdrkD,EAASkkD,EAASK,EAAEvkD,QACpB2I,EAAQw7C,EAAgBG,EAAWtkD,GAIvC,GAAIokD,GAAej+B,GAAMA,GAAI,KAAOnmB,EAAS2I,GAG3C,IAFAhB,EAAQ48C,EAAE57C,OAEGhB,EAAO,OAAO,OAEtB,KAAM3H,EAAS2I,EAAOA,IAAS,IAAIy7C,GAAez7C,KAAS47C,IAC5DA,EAAE57C,KAAWwd,EAAI,OAAOi+B,GAAez7C,GAAS,EACpD,OAAQy7C,IAAgB,sBCpB9B,IAAI7wB,EAAW,GAAGA,SAElByuB,EAAOV,QAAU,SAAUwC,GACzB,OAAOvwB,EAASlzB,KAAKyjD,GAAIz7C,MAAM,GAAI,qBCHrC,IAAIm8C,EAAOxC,EAAOV,QAAU,CAAEmD,QAAS,UACrB,iBAAPC,MAAiBA,IAAMF,yBCAlC,IAAIG,EAAY1C,EAAQ,MACxBD,EAAOV,QAAU,SAAUh4C,EAAIs7C,EAAM5kD,GAEnC,GADA2kD,EAAUr7C,QACG1F,IAATghD,EAAoB,OAAOt7C,EAC/B,OAAQtJ,GACN,KAAK,EAAG,OAAO,SAAUggB,GACvB,OAAO1W,EAAGjJ,KAAKukD,EAAM5kC,IAEvB,KAAK,EAAG,OAAO,SAAUA,EAAG2K,GAC1B,OAAOrhB,EAAGjJ,KAAKukD,EAAM5kC,EAAG2K,IAE1B,KAAK,EAAG,OAAO,SAAU3K,EAAG2K,EAAGk6B,GAC7B,OAAOv7C,EAAGjJ,KAAKukD,EAAM5kC,EAAG2K,EAAGk6B,IAG/B,OAAO,WACL,OAAOv7C,EAAGhJ,MAAMskD,EAAM7kD,+BChB1BiiD,EAAOV,QAAU,SAAUwC,GACzB,QAAUlgD,GAANkgD,EAAiB,MAAM1B,UAAU,yBAA2B0B,GAChE,OAAOA,yBCFT9B,EAAOV,SAAWW,EAAQ,KAARA,EAAoB,WACpC,OAA+E,GAAxEtiD,OAAO07B,eAAe,GAAI,IAAK,CAAE7T,IAAK,WAAc,OAAO,KAAQxH,0BCF5E,IAAIgkC,EAAW/B,EAAQ,MACnBp4C,EAAWo4C,EAAAA,MAAAA,SAEX6C,EAAKd,EAASn6C,IAAam6C,EAASn6C,EAASC,eACjDk4C,EAAOV,QAAU,SAAUwC,GACzB,OAAOgB,EAAKj7C,EAASC,cAAcg6C,GAAM,sBCJ3C9B,EAAOV,QACL,gGACAh8C,MAAM,2BCFR,IAAIy/C,EAAU9C,EAAQ,MAClB+C,EAAO/C,EAAQ,MACfgD,EAAMhD,EAAQ,MAClBD,EAAOV,QAAU,SAAUwC,GACzB,IAAI75C,EAAS86C,EAAQjB,GACjBoB,EAAaF,EAAKG,EACtB,GAAID,EAKF,IAJA,IAGIhlD,EAHAklD,EAAUF,EAAWpB,GACrBuB,EAASJ,EAAIE,EACbrlD,EAAI,EAEDslD,EAAQplD,OAASF,GAAOulD,EAAOhlD,KAAKyjD,EAAI5jD,EAAMklD,EAAQtlD,OAAOmK,EAAOwW,KAAKvgB,GAChF,OAAO+J,yBCbX,IAAIq7C,EAASrD,EAAQ,MACjBuC,EAAOvC,EAAQ,KACfnrC,EAAMmrC,EAAQ,MACdtB,EAAOsB,EAAQ,MACfh5B,EAAMg5B,EAAQ,MAGdsD,EAAU,SAAVA,EAAoBlpC,EAAMjX,EAAMnF,GAClC,IASIC,EAAKslD,EAAKC,EATVC,EAAYrpC,EAAOkpC,EAAQI,EAC3BC,EAAYvpC,EAAOkpC,EAAQM,EAC3BC,EAAYzpC,EAAOkpC,EAAQQ,EAC3BC,EAAW3pC,EAAOkpC,EAAQ3B,EAC1BqC,EAAU5pC,EAAOkpC,EAAQW,EACzBC,EAAU9pC,EAAOkpC,EAAQa,EACzB9E,EAAUsE,EAAYpB,EAAOA,EAAKp/C,KAAUo/C,EAAKp/C,GAAQ,IACzDihD,EAAW/E,EAAO,UAClBzhD,EAAS+lD,EAAYN,EAASQ,EAAYR,EAAOlgD,IAASkgD,EAAOlgD,IAAS,IAAjB,UAG7D,IAAKlF,KADD0lD,IAAW3lD,EAASmF,GACZnF,GAEVulD,GAAOE,GAAa7lD,QAA0B+D,IAAhB/D,EAAOK,KAC1B+oB,EAAIq4B,EAASphD,KAExBulD,EAAMD,EAAM3lD,EAAOK,GAAOD,EAAOC,GAEjCohD,EAAQphD,GAAO0lD,GAAmC,mBAAf/lD,EAAOK,GAAqBD,EAAOC,GAEpE+lD,GAAWT,EAAM1uC,EAAI2uC,EAAKH,GAE1Ba,GAAWtmD,EAAOK,IAAQulD,EAAO,SAAUa,GAC3C,IAAIX,EAAI,SAAU3lC,EAAG2K,EAAGk6B,GACtB,GAAItkD,gBAAgB+lD,EAAG,CACrB,OAAQvmD,UAAUC,QAChB,KAAK,EAAG,OAAO,IAAIsmD,EACnB,KAAK,EAAG,OAAO,IAAIA,EAAEtmC,GACrB,KAAK,EAAG,OAAO,IAAIsmC,EAAEtmC,EAAG2K,GACxB,OAAO,IAAI27B,EAAEtmC,EAAG2K,EAAGk6B,GACrB,OAAOyB,EAAEhmD,MAAMC,KAAMR,YAGzB,OADA4lD,EAAC,UAAcW,EAAC,UACTX,EAX0B,CAahCF,GAAOO,GAA0B,mBAAPP,EAAoB3uC,EAAIyvC,SAASlmD,KAAMolD,GAAOA,EAEvEO,KACD1E,EAAQkF,UAAYlF,EAAQkF,QAAU,KAAKtmD,GAAOulD,EAE/CppC,EAAOkpC,EAAQkB,GAAKJ,IAAaA,EAASnmD,IAAMygD,EAAK0F,EAAUnmD,EAAKulD,MAK9EF,EAAQI,EAAI,EACZJ,EAAQM,EAAI,EACZN,EAAQQ,EAAI,EACZR,EAAQ3B,EAAI,EACZ2B,EAAQW,EAAI,GACZX,EAAQa,EAAI,GACZb,EAAQmB,EAAI,GACZnB,EAAQkB,EAAI,IACZzE,EAAOV,QAAUiE,oBC7DjBvD,EAAOV,QAAU,SAAUqF,GACzB,IACE,QAASA,IACT,MAAO/mC,GACP,OAAO,sBCHX,IAAI0lC,EAAStD,EAAOV,QAA2B,oBAAV13C,QAAyBA,OAAO0f,MAAQA,KACzE1f,OAAwB,oBAAR05C,MAAuBA,KAAKh6B,MAAQA,KAAOg6B,KAE3DiD,SAAS,cAATA,GACc,iBAAPK,MAAiBA,IAAMtB,qBCLlC,IAAIllD,EAAiB,GAAGA,eACxB4hD,EAAOV,QAAU,SAAUwC,EAAI5jD,GAC7B,OAAOE,EAAeC,KAAKyjD,EAAI5jD,0BCFjC,IAAI2mD,EAAK5E,EAAQ,MACb6E,EAAa7E,EAAQ,MACzBD,EAAOV,QAAUW,EAAQ,MAAoB,SAAU8E,EAAQ7mD,EAAKyH,GAClE,OAAOk/C,EAAG1B,EAAE4B,EAAQ7mD,EAAK4mD,EAAW,EAAGn/C,KACrC,SAAUo/C,EAAQ7mD,EAAKyH,GAEzB,OADAo/C,EAAO7mD,GAAOyH,EACPo/C,yBCNT,IAAIl9C,EAAWo4C,EAAAA,MAAAA,SACfD,EAAOV,QAAUz3C,GAAYA,EAAS6vB,sCCDtCsoB,EAAOV,SAAWW,EAAQ,QAAsBA,EAAQ,KAARA,EAAoB,WAClE,OAA4G,GAArGtiD,OAAO07B,eAAe4mB,EAAQ,IAARA,CAAyB,OAAQ,IAAK,CAAEz6B,IAAK,WAAc,OAAO,KAAQxH,2BCAzG,IAAIgnC,EAAM/E,EAAQ,MAElBD,EAAOV,QAAU3hD,OAAO,KAAKmgB,qBAAqB,GAAKngB,OAAS,SAAUmkD,GACxE,MAAkB,UAAXkD,EAAIlD,GAAkBA,EAAGx+C,MAAM,IAAM3F,OAAOmkD,0BCHrD,IAAIkD,EAAM/E,EAAQ,MAClBD,EAAOV,QAAUl3C,MAAMuf,SAAW,SAAiBs9B,GACjD,MAAmB,SAAZD,EAAIC,sBCHbjF,EAAOV,QAAU,SAAUwC,GACzB,MAAqB,kBAAPA,EAAyB,OAAPA,EAA4B,oBAAPA,sCCAvD,IAAI5+B,EAAS+8B,EAAQ,MACjBO,EAAaP,EAAQ,MACrBiF,EAAiBjF,EAAQ,KACzBkF,EAAoB,GAGxBlF,EAAQ,KAARA,CAAmBkF,EAAmBlF,EAAQ,KAARA,CAAkB,aAAa,WAAc,OAAO1hD,QAE1FyhD,EAAOV,QAAU,SAAUa,EAAaiF,EAAMjtC,GAC5CgoC,EAAYhiD,UAAY+kB,EAAOiiC,EAAmB,CAAEhtC,KAAMqoC,EAAW,EAAGroC,KACxE+sC,EAAe/E,EAAaiF,EAAO,iDCVrC,IAAIC,EAAUpF,EAAQ,MAClBsD,EAAUtD,EAAQ,MAClBqF,EAAWrF,EAAQ,MACnBtB,EAAOsB,EAAQ,MACfsF,EAAYtF,EAAQ,MACpBuF,EAAcvF,EAAQ,MACtBiF,EAAiBjF,EAAQ,KACzBwF,EAAiBxF,EAAQ,MACzByF,EAAWzF,EAAQ,KAARA,CAAkB,YAC7B0F,IAAU,GAAGhnD,MAAQ,QAAU,GAAGA,QAElCinD,EAAO,OACPC,EAAS,SAETC,EAAa,WAAc,OAAOvnD,MAEtCyhD,EAAOV,QAAU,SAAUyG,EAAMX,EAAMjF,EAAahoC,EAAM6tC,EAASC,EAAQC,GACzEV,EAAYrF,EAAaiF,EAAMjtC,GAC/B,IAeIguC,EAASjoD,EAAKinD,EAfdiB,EAAY,SAAUC,GACxB,IAAKV,GAASU,KAAQC,EAAO,OAAOA,EAAMD,GAC1C,OAAQA,GACN,KAAKT,EACL,KAAKC,EAAQ,OAAO,WAAoB,OAAO,IAAI1F,EAAY5hD,KAAM8nD,IACrE,OAAO,WAAqB,OAAO,IAAIlG,EAAY5hD,KAAM8nD,KAEzDE,EAAMnB,EAAO,YACboB,EAAaR,GAAWH,EACxBY,GAAa,EACbH,EAAQP,EAAK5nD,UACbuoD,EAAUJ,EAAMZ,IAAaY,EAnBjB,eAmBuCN,GAAWM,EAAMN,GACpEW,EAAWD,GAAWN,EAAUJ,GAChCY,EAAWZ,EAAWQ,EAAwBJ,EAAU,WAArBO,OAAkC/kD,EACrEilD,EAAqB,SAARzB,GAAkBkB,EAAMn7B,SAAqBu7B,EAwB9D,GArBIG,IACF1B,EAAoBM,EAAeoB,EAAWxoD,KAAK,IAAI0nD,OAC7BpoD,OAAOQ,WAAagnD,EAAkBhtC,OAE9D+sC,EAAeC,EAAmBoB,GAAK,GAElClB,GAAiD,mBAA/BF,EAAkBO,IAAyB/G,EAAKwG,EAAmBO,EAAUI,IAIpGU,GAAcE,GAAWA,EAAQtjD,OAASyiD,IAC5CY,GAAa,EACbE,EAAW,WAAoB,OAAOD,EAAQroD,KAAKE,QAG/C8mD,IAAWa,IAAYP,IAASc,GAAeH,EAAMZ,IACzD/G,EAAK2H,EAAOZ,EAAUiB,GAGxBpB,EAAUH,GAAQuB,EAClBpB,EAAUgB,GAAOT,EACbE,EAMF,GALAG,EAAU,CACRxtC,OAAQ6tC,EAAaG,EAAWP,EAAUP,GAC1ClnD,KAAMsnD,EAASU,EAAWP,EAAUR,GACpCz6B,QAASy7B,GAEPV,EAAQ,IAAKhoD,KAAOioD,EAChBjoD,KAAOooD,GAAQhB,EAASgB,EAAOpoD,EAAKioD,EAAQjoD,SAC7CqlD,EAAQA,EAAQ3B,EAAI2B,EAAQI,GAAKgC,GAASc,GAAarB,EAAMe,GAEtE,OAAOA,qBCnETnG,EAAOV,QAAU,SAAUwH,EAAMnhD,GAC/B,MAAO,CAAEA,MAAOA,EAAOmhD,OAAQA,sBCDjC9G,EAAOV,QAAU,qBCAjBU,EAAOV,SAAU,wBCAjB,IAAIyH,EAAO9G,EAAQ,KAARA,CAAkB,QACzB+B,EAAW/B,EAAQ,MACnBh5B,EAAMg5B,EAAQ,MACd+G,EAAU/G,EAAAA,MAAAA,EACVv0C,EAAK,EACLu7C,EAAetpD,OAAOspD,cAAgB,WACxC,OAAO,GAELC,GAAUjH,EAAQ,KAARA,EAAoB,WAChC,OAAOgH,EAAatpD,OAAOwpD,kBAAkB,QAE3CC,EAAU,SAAUtF,GACtBkF,EAAQlF,EAAIiF,EAAM,CAAEphD,MAAO,CACzB7H,EAAG,OAAQ4N,EACX3B,EAAG,OAgCHs9C,EAAOrH,EAAOV,QAAU,CAC1BgI,IAAKP,EACLQ,MAAM,EACNC,QAhCY,SAAU1F,EAAI5+B,GAE1B,IAAK8+B,EAASF,GAAK,MAAoB,iBAANA,EAAiBA,GAAmB,iBAANA,EAAiB,IAAM,KAAOA,EAC7F,IAAK76B,EAAI66B,EAAIiF,GAAO,CAElB,IAAKE,EAAanF,GAAK,MAAO,IAE9B,IAAK5+B,EAAQ,MAAO,IAEpBkkC,EAAQtF,GAER,OAAOA,EAAGiF,GAAMjpD,GAsBlB2pD,QApBY,SAAU3F,EAAI5+B,GAC1B,IAAK+D,EAAI66B,EAAIiF,GAAO,CAElB,IAAKE,EAAanF,GAAK,OAAO,EAE9B,IAAK5+B,EAAQ,OAAO,EAEpBkkC,EAAQtF,GAER,OAAOA,EAAGiF,GAAMh9C,GAYlB29C,SATa,SAAU5F,GAEvB,OADIoF,GAAUG,EAAKE,MAAQN,EAAanF,KAAQ76B,EAAI66B,EAAIiF,IAAOK,EAAQtF,GAChEA,uCC1CT,IAAI6F,EAAc1H,EAAQ,MACtB8C,EAAU9C,EAAQ,MAClB+C,EAAO/C,EAAQ,MACfgD,EAAMhD,EAAQ,MACd2H,EAAW3H,EAAQ,MACnB4H,EAAU5H,EAAQ,MAClB6H,EAAUnqD,OAAOC,OAGrBoiD,EAAOV,SAAWwI,GAAW7H,EAAQ,KAARA,EAAoB,WAC/C,IAAI8H,EAAI,GACJ7D,EAAI,GAEJH,EAAIiE,SACJC,EAAI,uBAGR,OAFAF,EAAEhE,GAAK,EACPkE,EAAE3kD,MAAM,IAAIqQ,SAAQ,SAAUu0C,GAAKhE,EAAEgE,GAAKA,KACd,GAArBJ,EAAQ,GAAIC,GAAGhE,IAAWpmD,OAAOgB,KAAKmpD,EAAQ,GAAI5D,IAAIn8C,KAAK,KAAOkgD,KACtE,SAAgBpqD,EAAQI,GAM3B,IALA,IAAIkqD,EAAIP,EAAS/pD,GACbuqD,EAAOrqD,UAAUC,OACjB2I,EAAQ,EACRu8C,EAAaF,EAAKG,EAClBE,EAASJ,EAAIE,EACViF,EAAOzhD,GAMZ,IALA,IAIIzI,EAJA6lD,EAAI8D,EAAQ9pD,UAAU4I,MACtBhI,EAAOukD,EAAaH,EAAQgB,GAAGx6B,OAAO25B,EAAWa,IAAMhB,EAAQgB,GAC/D/lD,EAASW,EAAKX,OACdmqB,EAAI,EAEDnqB,EAASmqB,GACdjqB,EAAMS,EAAKwpB,KACNw/B,IAAetE,EAAOhlD,KAAK0lD,EAAG7lD,KAAMiqD,EAAEjqD,GAAO6lD,EAAE7lD,IAEtD,OAAOiqD,GACPL,wBCpCJ,IAAIO,EAAWpI,EAAQ,MACnBqI,EAAMrI,EAAQ,MACdsI,EAActI,EAAQ,MACtBuI,EAAWvI,EAAQ,KAARA,CAAyB,YACpCwI,EAAQ,aAIRC,EAAa,WAEf,IAIIC,EAJAC,EAAS3I,EAAQ,IAARA,CAAyB,UAClCniD,EAAIyqD,EAAYvqD,OAcpB,IAVA4qD,EAAOvvC,MAAM3W,QAAU,OACvBu9C,EAAAA,MAAAA,YAA+B2I,GAC/BA,EAAO5pD,IAAM,eAGb2pD,EAAiBC,EAAOr8B,cAAc1kB,UACvBghD,OACfF,EAAeG,MAAMC,uCACrBJ,EAAeK,QACfN,EAAaC,EAAehF,EACrB7lD,YAAY4qD,EAAU,UAAYH,EAAYzqD,IACrD,OAAO4qD,KAGT1I,EAAOV,QAAU3hD,OAAOulB,QAAU,SAAgBq/B,EAAG0G,GACnD,IAAIhhD,EAQJ,OAPU,OAANs6C,GACFkG,EAAK,UAAcJ,EAAS9F,GAC5Bt6C,EAAS,IAAIwgD,EACbA,EAAK,UAAc,KAEnBxgD,EAAOugD,GAAYjG,GACdt6C,EAASygD,SACM9mD,IAAfqnD,EAA2BhhD,EAASqgD,EAAIrgD,EAAQghD,0BCvCzD,IAAIZ,EAAWpI,EAAQ,MACnBiJ,EAAiBjJ,EAAQ,MACzBkJ,EAAclJ,EAAQ,MACtB4E,EAAKlnD,OAAO07B,eAEhBimB,EAAQ6D,EAAIlD,EAAQ,MAAoBtiD,OAAO07B,eAAiB,SAAwBkpB,EAAGX,EAAGwH,GAI5F,GAHAf,EAAS9F,GACTX,EAAIuH,EAAYvH,GAAG,GACnByG,EAASe,GACLF,EAAgB,IAClB,OAAOrE,EAAGtC,EAAGX,EAAGwH,GAChB,MAAOxrC,IACT,GAAI,QAASwrC,GAAc,QAASA,EAAY,MAAMhJ,UAAU,4BAEhE,MADI,UAAWgJ,IAAY7G,EAAEX,GAAKwH,EAAWzjD,OACtC48C,yBCdT,IAAIsC,EAAK5E,EAAQ,MACboI,EAAWpI,EAAQ,MACnB8C,EAAU9C,EAAQ,MAEtBD,EAAOV,QAAUW,EAAQ,MAAoBtiD,OAAO4iD,iBAAmB,SAA0BgC,EAAG0G,GAClGZ,EAAS9F,GAKT,IAJA,IAGIX,EAHAjjD,EAAOokD,EAAQkG,GACfjrD,EAASW,EAAKX,OACdF,EAAI,EAEDE,EAASF,GAAG+mD,EAAG1B,EAAEZ,EAAGX,EAAIjjD,EAAKb,KAAMmrD,EAAWrH,IACrD,OAAOW,yBCXT,IAAIU,EAAMhD,EAAQ,MACd6E,EAAa7E,EAAQ,MACrBgC,EAAYhC,EAAQ,MACpBkJ,EAAclJ,EAAQ,MACtBh5B,EAAMg5B,EAAQ,MACdiJ,EAAiBjJ,EAAQ,MACzBoJ,EAAO1rD,OAAO2rD,yBAElBhK,EAAQ6D,EAAIlD,EAAQ,MAAoBoJ,EAAO,SAAkC9G,EAAGX,GAGlF,GAFAW,EAAIN,EAAUM,GACdX,EAAIuH,EAAYvH,GAAG,GACfsH,EAAgB,IAClB,OAAOG,EAAK9G,EAAGX,GACf,MAAOhkC,IACT,GAAIqJ,EAAIs7B,EAAGX,GAAI,OAAOkD,GAAY7B,EAAIE,EAAE9kD,KAAKkkD,EAAGX,GAAIW,EAAEX,2BCbxD,IAAIK,EAAYhC,EAAQ,MACpBsJ,EAAOtJ,EAAAA,MAAAA,EACP1uB,EAAW,GAAGA,SAEdi4B,EAA+B,iBAAV5hD,QAAsBA,QAAUjK,OAAO8rD,oBAC5D9rD,OAAO8rD,oBAAoB7hD,QAAU,GAUzCo4C,EAAOV,QAAQ6D,EAAI,SAA6BrB,GAC9C,OAAO0H,GAAoC,mBAArBj4B,EAASlzB,KAAKyjD,GATjB,SAAUA,GAC7B,IACE,OAAOyH,EAAKzH,GACZ,MAAOlkC,GACP,OAAO4rC,EAAYnjD,SAK0CqjD,CAAe5H,GAAMyH,EAAKtH,EAAUH,2BChBrG,IAAI6H,EAAQ1J,EAAQ,MAChB2J,EAAa3J,EAAAA,MAAAA,OAAmC,SAAU,aAE9DX,EAAQ6D,EAAIxlD,OAAO8rD,qBAAuB,SAA6BlH,GACrE,OAAOoH,EAAMpH,EAAGqH,wBCLlBtK,EAAQ6D,EAAIxlD,OAAOkgB,4CCCnB,IAAIoJ,EAAMg5B,EAAQ,MACd2H,EAAW3H,EAAQ,MACnBuI,EAAWvI,EAAQ,KAARA,CAAyB,YACpC4J,EAAclsD,OAAOQ,UAEzB6hD,EAAOV,QAAU3hD,OAAO8nD,gBAAkB,SAAUlD,GAElD,OADAA,EAAIqF,EAASrF,GACTt7B,EAAIs7B,EAAGiG,GAAkBjG,EAAEiG,GACH,mBAAjBjG,EAAEp/B,aAA6Bo/B,aAAaA,EAAEp/B,YAChDo/B,EAAEp/B,YAAYhlB,UACdokD,aAAa5kD,OAASksD,EAAc,4BCX/C,IAAI5iC,EAAMg5B,EAAQ,MACdgC,EAAYhC,EAAQ,MACpB6J,EAAe7J,EAAQ,KAARA,EAA6B,GAC5CuI,EAAWvI,EAAQ,KAARA,CAAyB,YAExCD,EAAOV,QAAU,SAAUyF,EAAQgF,GACjC,IAGI7rD,EAHAqkD,EAAIN,EAAU8C,GACdjnD,EAAI,EACJmK,EAAS,GAEb,IAAK/J,KAAOqkD,EAAOrkD,GAAOsqD,GAAUvhC,EAAIs7B,EAAGrkD,IAAQ+J,EAAOwW,KAAKvgB,GAE/D,KAAO6rD,EAAM/rD,OAASF,GAAOmpB,EAAIs7B,EAAGrkD,EAAM6rD,EAAMjsD,SAC7CgsD,EAAa7hD,EAAQ/J,IAAQ+J,EAAOwW,KAAKvgB,IAE5C,OAAO+J,yBCdT,IAAI0hD,EAAQ1J,EAAQ,MAChBsI,EAActI,EAAQ,MAE1BD,EAAOV,QAAU3hD,OAAOgB,MAAQ,SAAc4jD,GAC5C,OAAOoH,EAAMpH,EAAGgG,wBCLlBjJ,EAAQ6D,EAAI,GAAGrlC,2CCCf,IAAIylC,EAAUtD,EAAQ,MAClBuC,EAAOvC,EAAQ,KACf+J,EAAQ/J,EAAQ,MACpBD,EAAOV,QAAU,SAAUgI,EAAK3C,GAC9B,IAAIr9C,GAAMk7C,EAAK7kD,QAAU,IAAI2pD,IAAQ3pD,OAAO2pD,GACxC2C,EAAM,GACVA,EAAI3C,GAAO3C,EAAKr9C,GAChBi8C,EAAQA,EAAQQ,EAAIR,EAAQI,EAAIqG,GAAM,WAAc1iD,EAAG,MAAQ,SAAU2iD,sBCR3EjK,EAAOV,QAAU,SAAU4K,EAAQvkD,GACjC,MAAO,CACL86C,aAAuB,EAATyJ,GACdxJ,eAAyB,EAATwJ,GAChBvJ,WAAqB,EAATuJ,GACZvkD,MAAOA,0BCLXq6C,EAAOV,QAAU,EAAjBU,4BCEA,IAAIgC,EAAW/B,EAAQ,MACnBoI,EAAWpI,EAAQ,MACnB7I,EAAQ,SAAUmL,EAAG+D,GAEvB,GADA+B,EAAS9F,IACJP,EAASsE,IAAoB,OAAVA,EAAgB,MAAMlG,UAAUkG,EAAQ,8BAElEtG,EAAOV,QAAU,CACf55B,IAAK/nB,OAAOylB,iBAAmB,aAAe,GAC5C,SAAUyiB,EAAMskB,EAAOzkC,GACrB,KACEA,EAAMu6B,EAAQ,KAARA,CAAkBsE,SAASlmD,KAAM4hD,EAAAA,MAAAA,EAA4BtiD,OAAOQ,UAAW,aAAaunB,IAAK,IACnGmgB,EAAM,IACVskB,IAAUtkB,aAAgBz9B,OAC1B,MAAOwV,GAAKusC,GAAQ,EACtB,OAAO,SAAwB5H,EAAG+D,GAIhC,OAHAlP,EAAMmL,EAAG+D,GACL6D,EAAO5H,EAAEnB,UAAYkF,EACpB5gC,EAAI68B,EAAG+D,GACL/D,GAVX,CAYE,IAAI,QAAS3gD,GACjBw1C,MAAOA,wBCvBT,IAAIgT,EAAMnK,EAAAA,MAAAA,EACNh5B,EAAMg5B,EAAQ,MACdsG,EAAMtG,EAAQ,KAARA,CAAkB,eAE5BD,EAAOV,QAAU,SAAUwC,EAAIlsB,EAAKy0B,GAC9BvI,IAAO76B,EAAI66B,EAAKuI,EAAOvI,EAAKA,EAAG3jD,UAAWooD,IAAM6D,EAAItI,EAAIyE,EAAK,CAAE7F,cAAc,EAAM/6C,MAAOiwB,2BCLhG,IAAI/zB,EAASo+C,EAAQ,KAARA,CAAqB,QAC9BqK,EAAMrK,EAAQ,MAClBD,EAAOV,QAAU,SAAUphD,GACzB,OAAO2D,EAAO3D,KAAS2D,EAAO3D,GAAOosD,EAAIpsD,2BCH3C,IAAIskD,EAAOvC,EAAQ,KACfqD,EAASrD,EAAQ,MACjBsK,EAAS,qBACTC,EAAQlH,EAAOiH,KAAYjH,EAAOiH,GAAU,KAE/CvK,EAAOV,QAAU,SAAUphD,EAAKyH,GAC/B,OAAO6kD,EAAMtsD,KAASssD,EAAMtsD,QAAiB0D,IAAV+D,EAAsBA,EAAQ,MAChE,WAAY,IAAI8Y,KAAK,CACtBgkC,QAASD,EAAKC,QACdgI,KAAMxK,EAAQ,MAAgB,OAAS,SACvCyK,UAAW,kECVb,IAAIC,EAAY1K,EAAQ,MACpB2K,EAAU3K,EAAQ,MAGtBD,EAAOV,QAAU,SAAUuL,GACzB,OAAO,SAAUjI,EAAM1gB,GACrB,IAGIlkB,EAAG2K,EAHHnL,EAAIstC,OAAOF,EAAQhI,IACnB9kD,EAAI6sD,EAAUzoB,GACdha,EAAI1K,EAAExf,OAEV,OAAIF,EAAI,GAAKA,GAAKoqB,EAAU2iC,EAAY,QAAKjpD,GAC7Coc,EAAIR,EAAEutC,WAAWjtD,IACN,OAAUkgB,EAAI,OAAUlgB,EAAI,IAAMoqB,IAAMS,EAAInL,EAAEutC,WAAWjtD,EAAI,IAAM,OAAU6qB,EAAI,MACxFkiC,EAAYrtC,EAAE/Z,OAAO3F,GAAKkgB,EAC1B6sC,EAAYrtC,EAAEnX,MAAMvI,EAAGA,EAAI,GAA2B6qB,EAAI,OAAzB3K,EAAI,OAAU,IAAqB,8BCd5E,IAAI2sC,EAAY1K,EAAQ,MACpBl6C,EAAMuhB,KAAKvhB,IACX0+B,EAAMnd,KAAKmd,IACfub,EAAOV,QAAU,SAAU34C,EAAO3I,GAEhC,OADA2I,EAAQgkD,EAAUhkD,IACH,EAAIZ,EAAIY,EAAQ3I,EAAQ,GAAKymC,EAAI99B,EAAO3I,sBCJzD,IAAIgtD,EAAO1jC,KAAK0jC,KACZC,EAAQ3jC,KAAK2jC,MACjBjL,EAAOV,QAAU,SAAUwC,GACzB,OAAOoJ,MAAMpJ,GAAMA,GAAM,GAAKA,EAAK,EAAImJ,EAAQD,GAAMlJ,0BCHvD,IAAI+F,EAAU5H,EAAQ,MAClB2K,EAAU3K,EAAQ,MACtBD,EAAOV,QAAU,SAAUwC,GACzB,OAAO+F,EAAQ+C,EAAQ9I,2BCHzB,IAAI6I,EAAY1K,EAAQ,MACpBxb,EAAMnd,KAAKmd,IACfub,EAAOV,QAAU,SAAUwC,GACzB,OAAOA,EAAK,EAAIrd,EAAIkmB,EAAU7I,GAAK,kBAAoB,yBCHzD,IAAI8I,EAAU3K,EAAQ,MACtBD,EAAOV,QAAU,SAAUwC,GACzB,OAAOnkD,OAAOitD,EAAQ9I,2BCFxB,IAAIE,EAAW/B,EAAQ,MAGvBD,EAAOV,QAAU,SAAUwC,EAAIiC,GAC7B,IAAK/B,EAASF,GAAK,OAAOA,EAC1B,IAAIx6C,EAAI6jD,EACR,GAAIpH,GAAkC,mBAArBz8C,EAAKw6C,EAAGvwB,YAA4BywB,EAASmJ,EAAM7jD,EAAGjJ,KAAKyjD,IAAM,OAAOqJ,EACzF,GAAgC,mBAApB7jD,EAAKw6C,EAAGsJ,WAA2BpJ,EAASmJ,EAAM7jD,EAAGjJ,KAAKyjD,IAAM,OAAOqJ,EACnF,IAAKpH,GAAkC,mBAArBz8C,EAAKw6C,EAAGvwB,YAA4BywB,EAASmJ,EAAM7jD,EAAGjJ,KAAKyjD,IAAM,OAAOqJ,EAC1F,MAAM/K,UAAU,8DCVlB,IAAI10C,EAAK,EACL+yC,EAAKn3B,KAAK+jC,SACdrL,EAAOV,QAAU,SAAUphD,GACzB,MAAO,UAAUqrB,YAAe3nB,IAAR1D,EAAoB,GAAKA,EAAK,QAASwN,EAAK+yC,GAAIltB,SAAS,4BCHnF,IAAI+xB,EAASrD,EAAQ,MACjBuC,EAAOvC,EAAQ,KACfoF,EAAUpF,EAAQ,MAClBqL,EAASrL,EAAQ,MACjB5mB,EAAiB4mB,EAAAA,MAAAA,EACrBD,EAAOV,QAAU,SAAUl8C,GACzB,IAAImoD,EAAU/I,EAAKwF,SAAWxF,EAAKwF,OAAS3C,EAAU,GAAK/B,EAAO0E,QAAU,IACtD,KAAlB5kD,EAAKK,OAAO,IAAeL,KAAQmoD,GAAUlyB,EAAekyB,EAASnoD,EAAM,CAAEuC,MAAO2lD,EAAOnI,EAAE//C,4BCPnGk8C,EAAQ6D,EAAI,EAAZ7D,4BCAA,IAAIkL,EAAQvK,EAAQ,KAARA,CAAqB,OAC7BqK,EAAMrK,EAAQ,MACd+H,EAAS/H,EAAAA,MAAAA,OACTuL,EAA8B,mBAAVxD,GAEThI,EAAOV,QAAU,SAAUl8C,GACxC,OAAOonD,EAAMpnD,KAAUonD,EAAMpnD,GAC3BooD,GAAcxD,EAAO5kD,KAAUooD,EAAaxD,EAASsC,GAAK,UAAYlnD,MAGjEonD,MAAQA,qCCTjB,IAAIiB,EAAmBxL,EAAQ,MAC3B1yB,EAAO0yB,EAAQ,MACfsF,EAAYtF,EAAQ,MACpBgC,EAAYhC,EAAQ,MAMxBD,EAAOV,QAAUW,EAAQ,KAARA,CAA0B73C,MAAO,SAAS,SAAUsjD,EAAUrF,GAC7E9nD,KAAKotD,GAAK1J,EAAUyJ,GACpBntD,KAAK+4C,GAAK,EACV/4C,KAAKqtD,GAAKvF,KAET,WACD,IAAI9D,EAAIhkD,KAAKotD,GACTtF,EAAO9nD,KAAKqtD,GACZjlD,EAAQpI,KAAK+4C,KACjB,OAAKiL,GAAK57C,GAAS47C,EAAEvkD,QACnBO,KAAKotD,QAAK/pD,EACH2rB,EAAK,IAEaA,EAAK,EAApB,QAAR84B,EAA+B1/C,EACvB,UAAR0/C,EAAiC9D,EAAE57C,GACxB,CAACA,EAAO47C,EAAE57C,OACxB,UAGH4+C,EAAUsG,UAAYtG,EAAUn9C,MAEhCqjD,EAAiB,QACjBA,EAAiB,UACjBA,EAAiB,iCChCjB,IAAIlI,EAAUtD,EAAQ,MAEtBsD,EAAQA,EAAQQ,EAAIR,EAAQI,EAAG,SAAU,CAAE/lD,OAAQqiD,EAAQ,8BCH3D,IAAIsD,EAAUtD,EAAQ,MAEtBsD,EAAQA,EAAQQ,EAAG,SAAU,CAAE7gC,OAAQ+8B,EAAQ,8BCF/C,IAAIsD,EAAUtD,EAAQ,MAEtBsD,EAAQA,EAAQQ,EAAIR,EAAQI,GAAK1D,EAAQ,MAAmB,SAAU,CAAE5mB,eAAgB4mB,EAAAA,MAAAA,0BCDxF,IAAI2H,EAAW3H,EAAQ,MACnB6L,EAAkB7L,EAAQ,MAE9BA,EAAQ,KAARA,CAAyB,kBAAkB,WACzC,OAAO,SAAwB6B,GAC7B,OAAOgK,EAAgBlE,EAAS9F,8BCLpC,IAAIyB,EAAUtD,EAAQ,MACtBsD,EAAQA,EAAQQ,EAAG,SAAU,CAAE3gC,eAAgB68B,EAAAA,MAAAA,2DCD/C,IAAI8L,EAAM9L,EAAQ,KAARA,EAAwB,GAGlCA,EAAQ,KAARA,CAA0B6K,OAAQ,UAAU,SAAUY,GACpDntD,KAAKotD,GAAKb,OAAOY,GACjBntD,KAAK+4C,GAAK,KAET,WACD,IAEI0U,EAFAzJ,EAAIhkD,KAAKotD,GACThlD,EAAQpI,KAAK+4C,GAEjB,OAAI3wC,GAAS47C,EAAEvkD,OAAe,CAAE2H,WAAO/D,EAAWklD,MAAM,IACxDkF,EAAQD,EAAIxJ,EAAG57C,GACfpI,KAAK+4C,IAAM0U,EAAMhuD,OACV,CAAE2H,MAAOqmD,EAAOlF,MAAM,0CCb/B,IAAIxD,EAASrD,EAAQ,MACjBh5B,EAAMg5B,EAAQ,MACd0H,EAAc1H,EAAQ,MACtBsD,EAAUtD,EAAQ,MAClBqF,EAAWrF,EAAQ,MACnB8G,EAAO9G,EAAAA,MAAAA,IACPgM,EAAShM,EAAQ,MACjBp+C,EAASo+C,EAAQ,MACjBiF,EAAiBjF,EAAQ,KACzBqK,EAAMrK,EAAQ,MACdiM,EAAMjM,EAAQ,MACdqL,EAASrL,EAAQ,MACjBkM,EAAYlM,EAAQ,MACpBmM,EAAWnM,EAAQ,MACnBt4B,EAAUs4B,EAAQ,MAClBoI,EAAWpI,EAAQ,MACnB+B,EAAW/B,EAAQ,MACnB2H,EAAW3H,EAAQ,MACnBgC,EAAYhC,EAAQ,MACpBkJ,EAAclJ,EAAQ,MACtB6E,EAAa7E,EAAQ,MACrBoM,EAAUpM,EAAQ,MAClBqM,EAAUrM,EAAQ,MAClBsM,EAAQtM,EAAQ,MAChBuM,EAAQvM,EAAQ,MAChBwM,EAAMxM,EAAQ,MACd0J,EAAQ1J,EAAQ,MAChBoJ,EAAOkD,EAAMpJ,EACb0B,EAAK4H,EAAItJ,EACToG,EAAO+C,EAAQnJ,EACfoI,EAAUjI,EAAO0E,OACjB0E,EAAQpJ,EAAOqJ,KACfC,EAAaF,GAASA,EAAMG,UAE5BC,EAASZ,EAAI,WACba,EAAeb,EAAI,eACnB7I,EAAS,GAAGvlC,qBACZkvC,EAAiBnrD,EAAO,mBACxBorD,EAAaprD,EAAO,WACpBqrD,EAAYrrD,EAAO,cACnBgoD,EAAclsD,OAAM,UACpBwvD,EAA+B,mBAAX5B,KAA2BiB,EAAMrJ,EACrDiK,EAAU9J,EAAO8J,QAEjBC,GAAUD,IAAYA,EAAO,YAAgBA,EAAO,UAAYE,UAGhEC,EAAgB5F,GAAesE,GAAO,WACxC,OAES,GAFFI,EAAQxH,EAAG,GAAI,IAAK,CACzBr/B,IAAK,WAAc,OAAOq/B,EAAGtmD,KAAM,IAAK,CAAEoH,MAAO,IAAKqY,MACpDA,KACD,SAAU8jC,EAAI5jD,EAAK2jD,GACtB,IAAI2L,EAAYnE,EAAKQ,EAAa3rD,GAC9BsvD,UAAkB3D,EAAY3rD,GAClC2mD,EAAG/C,EAAI5jD,EAAK2jD,GACR2L,GAAa1L,IAAO+H,GAAahF,EAAGgF,EAAa3rD,EAAKsvD,IACxD3I,EAEA4I,EAAO,SAAU73B,GACnB,IAAI83B,EAAMT,EAAWr3B,GAAOy2B,EAAQd,EAAO,WAE3C,OADAmC,EAAI9B,GAAKh2B,EACF83B,GAGLC,EAAWR,GAAyC,iBAApB5B,EAAQqC,SAAuB,SAAU9L,GAC3E,MAAoB,iBAANA,GACZ,SAAUA,GACZ,OAAOA,aAAcyJ,GAGnBsC,EAAkB,SAAwB/L,EAAI5jD,EAAK2jD,GAKrD,OAJIC,IAAO+H,GAAagE,EAAgBX,EAAWhvD,EAAK2jD,GACxDwG,EAASvG,GACT5jD,EAAMirD,EAAYjrD,GAAK,GACvBmqD,EAASxG,GACL56B,EAAIgmC,EAAY/uD,IACb2jD,EAAEpB,YAIDx5B,EAAI66B,EAAIgL,IAAWhL,EAAGgL,GAAQ5uD,KAAM4jD,EAAGgL,GAAQ5uD,IAAO,GAC1D2jD,EAAIwK,EAAQxK,EAAG,CAAEpB,WAAYqE,EAAW,GAAG,OAJtC79B,EAAI66B,EAAIgL,IAASjI,EAAG/C,EAAIgL,EAAQhI,EAAW,EAAG,KACnDhD,EAAGgL,GAAQ5uD,IAAO,GAIXqvD,EAAczL,EAAI5jD,EAAK2jD,IACzBgD,EAAG/C,EAAI5jD,EAAK2jD,IAEnBiM,EAAoB,SAA0BhM,EAAIF,GACpDyG,EAASvG,GAKT,IAJA,IAGI5jD,EAHAS,EAAOytD,EAASxK,EAAIK,EAAUL,IAC9B9jD,EAAI,EACJoqB,EAAIvpB,EAAKX,OAENkqB,EAAIpqB,GAAG+vD,EAAgB/L,EAAI5jD,EAAMS,EAAKb,KAAM8jD,EAAE1jD,IACrD,OAAO4jD,GAKLiM,EAAwB,SAA8B7vD,GACxD,IAAI8vD,EAAI3K,EAAOhlD,KAAKE,KAAML,EAAMirD,EAAYjrD,GAAK,IACjD,QAAIK,OAASsrD,GAAe5iC,EAAIgmC,EAAY/uD,KAAS+oB,EAAIimC,EAAWhvD,QAC7D8vD,IAAM/mC,EAAI1oB,KAAML,KAAS+oB,EAAIgmC,EAAY/uD,IAAQ+oB,EAAI1oB,KAAMuuD,IAAWvuD,KAAKuuD,GAAQ5uD,KAAO8vD,IAE/FC,EAA4B,SAAkCnM,EAAI5jD,GAGpE,GAFA4jD,EAAKG,EAAUH,GACf5jD,EAAMirD,EAAYjrD,GAAK,GACnB4jD,IAAO+H,IAAe5iC,EAAIgmC,EAAY/uD,IAAS+oB,EAAIimC,EAAWhvD,GAAlE,CACA,IAAI2jD,EAAIwH,EAAKvH,EAAI5jD,GAEjB,OADI2jD,IAAK56B,EAAIgmC,EAAY/uD,IAAU+oB,EAAI66B,EAAIgL,IAAWhL,EAAGgL,GAAQ5uD,KAAO2jD,EAAEpB,YAAa,GAChFoB,IAELqM,EAAuB,SAA6BpM,GAKtD,IAJA,IAGI5jD,EAHA6rD,EAAQR,EAAKtH,EAAUH,IACvB75C,EAAS,GACTnK,EAAI,EAEDisD,EAAM/rD,OAASF,GACfmpB,EAAIgmC,EAAY/uD,EAAM6rD,EAAMjsD,OAASI,GAAO4uD,GAAU5uD,GAAO6oD,GAAM9+C,EAAOwW,KAAKvgB,GACpF,OAAO+J,GAEPkmD,GAAyB,SAA+BrM,GAM1D,IALA,IAII5jD,EAJAkwD,EAAQtM,IAAO+H,EACfE,EAAQR,EAAK6E,EAAQlB,EAAYjL,EAAUH,IAC3C75C,EAAS,GACTnK,EAAI,EAEDisD,EAAM/rD,OAASF,IAChBmpB,EAAIgmC,EAAY/uD,EAAM6rD,EAAMjsD,OAAUswD,IAAQnnC,EAAI4iC,EAAa3rD,IAAc+J,EAAOwW,KAAKwuC,EAAW/uD,IACxG,OAAO+J,GAINklD,IACH5B,EAAU,WACR,GAAIhtD,gBAAgBgtD,EAAS,MAAMnL,UAAU,gCAC7C,IAAIxqB,EAAM00B,EAAIvsD,UAAUC,OAAS,EAAID,UAAU,QAAK6D,GAChDysD,EAAO,SAAPA,EAAiB1oD,GACfpH,OAASsrD,GAAawE,EAAKhwD,KAAK6uD,EAAWvnD,GAC3CshB,EAAI1oB,KAAMuuD,IAAW7lC,EAAI1oB,KAAKuuD,GAASl3B,KAAMr3B,KAAKuuD,GAAQl3B,IAAO,GACrE23B,EAAchvD,KAAMq3B,EAAKkvB,EAAW,EAAGn/C,KAGzC,OADIgiD,GAAe0F,GAAQE,EAAc1D,EAAaj0B,EAAK,CAAE8qB,cAAc,EAAMh7B,IAAK2oC,IAC/EZ,EAAK73B,IAEd0vB,EAASiG,EAAO,UAAa,YAAY,WACvC,OAAOhtD,KAAKqtD,MAGdW,EAAMpJ,EAAI8K,EACVxB,EAAItJ,EAAI0K,EACR5N,EAAAA,MAAAA,EAA8BqM,EAAQnJ,EAAI+K,EAC1CjO,EAAAA,MAAAA,EAA6B8N,EAC7BvB,EAAMrJ,EAAIgL,GAENxG,IAAgB1H,EAAQ,OAC1BqF,EAASuE,EAAa,uBAAwBkE,GAAuB,GAGvEzC,EAAOnI,EAAI,SAAU//C,GACnB,OAAOqqD,EAAKvB,EAAI9oD,MAIpBmgD,EAAQA,EAAQM,EAAIN,EAAQa,EAAIb,EAAQI,GAAKwJ,EAAY,CAAEnF,OAAQuD,IAEnE,IAAK,IAAI+C,GAEP,iHACAhrD,MAAM,KAAM6kB,GAAI,EAAGmmC,GAAWtwD,OAASmqB,IAAG+jC,EAAIoC,GAAWnmC,OAE3D,IAAK,IAAIomC,GAAmB5E,EAAMuC,EAAI1B,OAAQtC,GAAI,EAAGqG,GAAiBvwD,OAASkqD,IAAIiE,EAAUoC,GAAiBrG,OAE9G3E,EAAQA,EAAQQ,EAAIR,EAAQI,GAAKwJ,EAAY,SAAU,CAErD,IAAO,SAAUjvD,GACf,OAAO+oB,EAAI+lC,EAAgB9uD,GAAO,IAC9B8uD,EAAe9uD,GACf8uD,EAAe9uD,GAAOqtD,EAAQrtD,IAGpCswD,OAAQ,SAAgBd,GACtB,IAAKC,EAASD,GAAM,MAAMtN,UAAUsN,EAAM,qBAC1C,IAAK,IAAIxvD,KAAO8uD,EAAgB,GAAIA,EAAe9uD,KAASwvD,EAAK,OAAOxvD,GAE1EuwD,UAAW,WAAcpB,GAAS,GAClCqB,UAAW,WAAcrB,GAAS,KAGpC9J,EAAQA,EAAQQ,EAAIR,EAAQI,GAAKwJ,EAAY,SAAU,CAErDjqC,OA/FY,SAAgB4+B,EAAIF,GAChC,YAAahgD,IAANggD,EAAkByK,EAAQvK,GAAMgM,EAAkBzB,EAAQvK,GAAKF,IAgGtEvoB,eAAgBw0B,EAEhBtN,iBAAkBuN,EAElBxE,yBAA0B2E,EAE1BxE,oBAAqByE,EAErBrwC,sBAAuBswC,KAKzB,IAAIQ,GAAsB1C,GAAO,WAAcO,EAAMrJ,EAAE,MAEvDI,EAAQA,EAAQQ,EAAIR,EAAQI,EAAIgL,GAAqB,SAAU,CAC7D9wC,sBAAuB,SAA+BikC,GACpD,OAAO0K,EAAMrJ,EAAEyE,EAAS9F,OAK5B4K,GAASnJ,EAAQA,EAAQQ,EAAIR,EAAQI,IAAMwJ,GAAclB,GAAO,WAC9D,IAAIlI,EAAIwH,IAIR,MAA0B,UAAnBqB,EAAW,CAAC7I,KAA2C,MAAxB6I,EAAW,CAAE5uC,EAAG+lC,KAAyC,MAAzB6I,EAAWjvD,OAAOomD,QACrF,OAAQ,CACX8I,UAAW,SAAmB/K,GAI5B,IAHA,IAEI8M,EAAUC,EAFV1mD,EAAO,CAAC25C,GACRhkD,EAAI,EAEDC,UAAUC,OAASF,GAAGqK,EAAKsW,KAAK1gB,UAAUD,MAEjD,GADA+wD,EAAYD,EAAWzmD,EAAK,IACvB65C,EAAS4M,SAAoBhtD,IAAPkgD,KAAoB6L,EAAS7L,GAMxD,OALKn6B,EAAQinC,KAAWA,EAAW,SAAU1wD,EAAKyH,GAEhD,GADwB,mBAAbkpD,IAAyBlpD,EAAQkpD,EAAUxwD,KAAKE,KAAML,EAAKyH,KACjEgoD,EAAShoD,GAAQ,OAAOA,IAE/BwC,EAAK,GAAKymD,EACHhC,EAAWtuD,MAAMouD,EAAOvkD,MAKnCojD,EAAO,UAAYwB,IAAiB9M,EAAQ,KAARA,CAAmBsL,EAAO,UAAawB,EAAcxB,EAAO,UAAYH,SAE5GlG,EAAeqG,EAAS,UAExBrG,EAAe59B,KAAM,QAAQ,GAE7B49B,EAAe5B,EAAOqJ,KAAM,QAAQ,wBCrPpC1M,EAAQ,KAARA,CAAyB,uCCAzBA,EAAQ,KAARA,CAAyB,oCCAzBA,EAAQ,MAYR,IAXA,IAAIqD,EAASrD,EAAQ,MACjBtB,EAAOsB,EAAQ,MACfsF,EAAYtF,EAAQ,MACpB6O,EAAgB7O,EAAQ,KAARA,CAAkB,eAElC8O,EAAe,wbAIUzrD,MAAM,KAE1BxF,EAAI,EAAGA,EAAIixD,EAAa/wD,OAAQF,IAAK,CAC5C,IAAIsnD,EAAO2J,EAAajxD,GACpBkxD,EAAa1L,EAAO8B,GACpBkB,EAAQ0I,GAAcA,EAAW7wD,UACjCmoD,IAAUA,EAAMwI,IAAgBnQ,EAAK2H,EAAOwI,EAAe1J,GAC/DG,EAAUH,GAAQG,EAAUn9C,yBCE9B,SAAS6mD,EAAQC,GACfA,EAAOA,GAAQ,GACf3wD,KAAK4wD,GAAKD,EAAKzqB,KAAO,IACtBlmC,KAAKwH,IAAMmpD,EAAKnpD,KAAO,IACvBxH,KAAK6wD,OAASF,EAAKE,QAAU,EAC7B7wD,KAAK8wD,OAASH,EAAKG,OAAS,GAAKH,EAAKG,QAAU,EAAIH,EAAKG,OAAS,EAClE9wD,KAAK+wD,SAAW,EApBlBtP,EAAOV,QAAU2P,EA8BjBA,EAAQ9wD,UAAU4Y,SAAW,WAC3B,IAAIo4C,EAAK5wD,KAAK4wD,GAAK7nC,KAAKioC,IAAIhxD,KAAK6wD,OAAQ7wD,KAAK+wD,YAC9C,GAAI/wD,KAAK8wD,OAAQ,CACf,IAAIG,EAAQloC,KAAK+jC,SACboE,EAAYnoC,KAAK2jC,MAAMuE,EAAOjxD,KAAK8wD,OAASF,GAChDA,EAAoC,IAAN,EAAxB7nC,KAAK2jC,MAAa,GAAPuE,IAAwBL,EAAKM,EAAYN,EAAKM,EAEjE,OAAgC,EAAzBnoC,KAAKmd,IAAI0qB,EAAI5wD,KAAKwH,MAS3BkpD,EAAQ9wD,UAAUgtC,MAAQ,WACxB5sC,KAAK+wD,SAAW,GASlBL,EAAQ9wD,UAAUuxD,OAAS,SAASjrB,GAClClmC,KAAK4wD,GAAK1qB,GASZwqB,EAAQ9wD,UAAUwxD,OAAS,SAAS5pD,GAClCxH,KAAKwH,IAAMA,GASbkpD,EAAQ9wD,UAAUyxD,UAAY,SAASP,GACrC9wD,KAAK8wD,OAASA,qBCzEhB,IACErP,EAAOV,QAAoC,qBAAnBuQ,gBACtB,oBAAqB,IAAIA,eAC3B,MAAOv2B,GAGP0mB,EAAOV,SAAU,sDCflB,kCAA+CwQ,KAAMC,QAAhC,qBAAdroB,YAAwCooB,KAW7CloD,QAAU,GAXyCmoD,QAWpC,SAASnoD,QAK3B,aAIA,IAAIooD,MAAQ,6BAERC,aAAe,GAEfC,qBAAuB,OAEvBC,eAAgB,EAQhBC,iBAAkB,EAClBC,SAAW,GACXC,kBACAC,SAAW,iCAAiC1qB,KAAK6B,UAAUC,WAC3D6oB,aAAe,GACfC,MACAC,MAAQppC,KAAKioC,IACboB,OAASrpC,KAAKspC,KACdC,QAAUvpC,KAAK2jC,MACf6F,MAAQxpC,KAAKvhB,IACbgrD,MAAQzpC,KAAKmd,IAEbusB,OAAS,GAUb,SAASC,mBAAqB,MAAO,IATpC,WACC,IACInzD,EADAozD,EAAgB,CAAC,MAAO,OAAQ,QAAS,OAAQ,QAAS,OAAQ,QAAS,QAAS,OAAQ,OAAQ,QAAS,QAAS,MAAO,OAAQ,MAAO,QAAS,SAAU,QAAS,OAAQ,MAAO,QAAS,OAAQ,QAAS,MAAO,MAAO,MAAO,SAAU,QAAS,OAAQ,MAAO,OAAQ,OAAQ,MAAO,OAAQ,QAAS,IAAK,OAAQ,MAAO,SAAU,QAAS,KAAM,UAAW,SAExWhlB,EAAMglB,EAAclzD,OACxB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBkzD,OAAOE,EAAcpzD,IAAMwpB,KAAK4pC,EAAcpzD,IALjD,GAWDkzD,OAAO3F,OAAS/jC,KAAK+jC,OACrB2F,OAAOzpC,IAAM,SAAU4jC,GAErB,GAAe,kBADKA,GACOA,EAAIntD,OAAQ,CACrC,IACIF,EADAqzD,EAASC,iBAAiBjG,EAAIntD,QAE9BkuC,EAAMif,EAAIntD,OACd,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBqzD,EAAOrzD,GAAKwpB,KAAKC,IAAI4jC,EAAIrtD,IAE3B,OAAOqzD,EAET,OAAO7pC,KAAKC,IAAI4jC,IAElB,IAAIkG,qBAAuB,IACvBC,UAAYhqC,KAAKiqC,GAAK,IACtBC,YAAc,MAElB,SAASC,YAAYC,GAEjBjB,MADEiB,EACMpqC,KAAKod,MAEL,SAAUymB,GAChB,OAAOA,GAMb,SAASwG,SAAStoD,GAChBA,EAAQgQ,MAAM5W,SAAW,WACzB4G,EAAQgQ,MAAM4D,IAAM,EACpB5T,EAAQgQ,MAAM6D,KAAO,EACrB7T,EAAQgQ,MAAM3W,QAAU,QACxB2G,EAAQgQ,MAAMC,gBAAkB,MAChCjQ,EAAQgQ,MAAMu4C,sBAAwB,MACtCvoD,EAAQgQ,MAAMw4C,mBAAqB,UACnCxoD,EAAQgQ,MAAMy4C,yBAA2B,UACzCzoD,EAAQgQ,MAAM04C,eAAiB,cAC/B1oD,EAAQgQ,MAAM24C,qBAAuB,cACrC3oD,EAAQgQ,MAAM44C,kBAAoB,cAGpC,SAASC,kBAAkB73C,EAAM83C,EAAaC,EAAWC,GACvD9zD,KAAK8b,KAAOA,EACZ9b,KAAK4zD,YAAcA,EACnB5zD,KAAK6zD,UAAYA,EACjB7zD,KAAK4S,UAAYkhD,EAAkB,GAAK,EAAI,EAG9C,SAASC,gBAAgBj4C,EAAMg4C,GAC7B9zD,KAAK8b,KAAOA,EACZ9b,KAAK4S,UAAYkhD,EAAkB,GAAK,EAAI,EAG9C,SAASE,oBAAoBl4C,EAAMm4C,EAAYC,EAAaJ,GAC1D9zD,KAAK8b,KAAOA,EACZ9b,KAAKk0D,YAAcA,EACnBl0D,KAAKi0D,WAAaA,EAClBj0D,KAAK4S,UAAYkhD,EAAkB,GAAK,EAAI,EAG9C,SAASK,oBAAoBr4C,EAAMs4C,EAAYC,GAC7Cr0D,KAAK8b,KAAOA,EACZ9b,KAAKo0D,WAAaA,EAClBp0D,KAAKq0D,YAAcA,EAGrB,SAASC,eAAex4C,EAAMxc,GAC5BU,KAAK8b,KAAOA,EACZ9b,KAAKV,OAASA,EAGhB,SAASi1D,wBAAwBC,EAAaZ,GAC5C5zD,KAAK8b,KAAO,mBACZ9b,KAAKw0D,YAAcA,EACnBx0D,KAAK4zD,YAAcA,EAGrB,SAASa,mBAAmBD,GAC1Bx0D,KAAK8b,KAAO,cACZ9b,KAAKw0D,YAAcA,EAGrB,SAASE,4BAA4B54C,EAAM04C,GACzCx0D,KAAK8b,KAAOA,EACZ9b,KAAKw0D,YAAcA,EA3DrBtB,aAAY,GA8DZ,IAAIyB,gBAAmB,WACrB,IAAIC,EAAS,EACb,OAAO,WAEL,OAAO9C,SAAW,qBADlB8C,GAAU,IAHS,GAQvB,SAASC,SAASppD,EAAGwT,EAAGs2B,GACtB,IAAI3qC,EACAkqD,EACA1qC,EACA7qB,EACAqlD,EACAzlC,EACA41C,EACA/1C,EAMJ,OAHAG,EAAIo2B,GAAK,EAAIt2B,GACb81C,EAAIxf,GAAK,GAFTqP,EAAQ,EAAJn5C,GADJlM,EAAIwpB,KAAK2jC,MAAU,EAAJjhD,KAGEwT,GACjBD,EAAIu2B,GAAK,GAAK,EAAIqP,GAAK3lC,GACf1f,EAAI,GACV,KAAK,EAAGqL,EAAI2qC,EAAGuf,EAAI91C,EAAGoL,EAAIjL,EAAG,MAC7B,KAAK,EAAGvU,EAAImqD,EAAGD,EAAIvf,EAAGnrB,EAAIjL,EAAG,MAC7B,KAAK,EAAGvU,EAAIuU,EAAG21C,EAAIvf,EAAGnrB,EAAIpL,EAAG,MAC7B,KAAK,EAAGpU,EAAIuU,EAAG21C,EAAIC,EAAG3qC,EAAImrB,EAAG,MAC7B,KAAK,EAAG3qC,EAAIoU,EAAG81C,EAAI31C,EAAGiL,EAAImrB,EAAG,MAC7B,KAAK,EAAG3qC,EAAI2qC,EAAGuf,EAAI31C,EAAGiL,EAAI2qC,EAG5B,MAAO,CAACnqD,EACNkqD,EACA1qC,GAGJ,SAAS4qC,SAASpqD,EAAGkqD,EAAG1qC,GACtB,IAGI3e,EAHAjE,EAAMuhB,KAAKvhB,IAAIoD,EAAGkqD,EAAG1qC,GACrB8b,EAAMnd,KAAKmd,IAAIt7B,EAAGkqD,EAAG1qC,GACrBxkB,EAAI4B,EAAM0+B,EAEVjnB,EAAa,IAARzX,EAAY,EAAI5B,EAAI4B,EACzB+tC,EAAI/tC,EAAM,IAEd,OAAQA,GACN,KAAK0+B,EAAKz6B,EAAI,EAAG,MACjB,KAAKb,EAAGa,EAAKqpD,EAAI1qC,EAAKxkB,GAAKkvD,EAAI1qC,EAAI,EAAI,GAAI3e,GAAK,EAAI7F,EAAG,MACvD,KAAKkvD,EAAGrpD,EAAK2e,EAAIxf,EAAS,EAAJhF,EAAO6F,GAAK,EAAI7F,EAAG,MACzC,KAAKwkB,EAAG3e,EAAKb,EAAIkqD,EAAS,EAAJlvD,EAAO6F,GAAK,EAAI7F,EAIxC,MAAO,CACL6F,EACAwT,EACAs2B,GAIJ,SAAS0f,mBAAmBvvD,EAAO2H,GACjC,IAAI6nD,EAAMF,SAAoB,IAAXtvD,EAAM,GAAqB,IAAXA,EAAM,GAAqB,IAAXA,EAAM,IAOzD,OANAwvD,EAAI,IAAM7nD,EACN6nD,EAAI,GAAK,EACXA,EAAI,GAAK,EACAA,EAAI,IAAM,IACnBA,EAAI,GAAK,GAEJL,SAASK,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAGtC,SAASC,mBAAmBzvD,EAAO2H,GACjC,IAAI6nD,EAAMF,SAAoB,IAAXtvD,EAAM,GAAqB,IAAXA,EAAM,GAAqB,IAAXA,EAAM,IAOzD,OANAwvD,EAAI,IAAM7nD,EACN6nD,EAAI,GAAK,EACXA,EAAI,GAAK,EACAA,EAAI,GAAK,IAClBA,EAAI,GAAK,GAEJL,SAASK,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAGtC,SAASE,YAAY1vD,EAAO2H,GAC1B,IAAI6nD,EAAMF,SAAoB,IAAXtvD,EAAM,GAAqB,IAAXA,EAAM,GAAqB,IAAXA,EAAM,IAOzD,OANAwvD,EAAI,IAAM7nD,EAAS,IACf6nD,EAAI,GAAK,EACXA,EAAI,IAAM,EACDA,EAAI,GAAK,IAClBA,EAAI,IAAM,GAELL,SAASK,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAGtC,IAAIG,SAAY,WACd,IACI91D,EACA+1D,EAFAC,EAAW,GAGf,IAAKh2D,EAAI,EAAGA,EAAI,IAAKA,GAAK,EACxB+1D,EAAM/1D,EAAEyzB,SAAS,IACjBuiC,EAASh2D,GAAoB,IAAf+1D,EAAI71D,OAAe,IAAM61D,EAAMA,EAG/C,OAAO,SAAU1qD,EAAGkqD,EAAG1qC,GAUrB,OATIxf,EAAI,IACNA,EAAI,GAEFkqD,EAAI,IACNA,EAAI,GAEF1qC,EAAI,IACNA,EAAI,GAEC,IAAMmrC,EAAS3qD,GAAK2qD,EAAST,GAAKS,EAASnrC,IAnBtC,GAuBhB,SAASorC,aACTA,UAAU51D,UAAY,CACpB61D,aAAc,SAAUC,EAAW9rD,GACjC,GAAI5J,KAAK21D,KAAKD,GAEZ,IADA,IAAIr/B,EAAYr2B,KAAK21D,KAAKD,GACjBn2D,EAAI,EAAGA,EAAI82B,EAAU52B,OAAQF,GAAK,EACzC82B,EAAU92B,GAAGqK,IAInBgnB,iBAAkB,SAAU8kC,EAAWx3C,GAMrC,OALKle,KAAK21D,KAAKD,KACb11D,KAAK21D,KAAKD,GAAa,IAEzB11D,KAAK21D,KAAKD,GAAWx1C,KAAKhC,GAEnB,WACLle,KAAKgxB,oBAAoB0kC,EAAWx3C,IACpCgJ,KAAKlnB,OAETgxB,oBAAqB,SAAU0kC,EAAWx3C,GACxC,GAAKA,GAEE,GAAIle,KAAK21D,KAAKD,GAAY,CAG/B,IAFA,IAAIn2D,EAAI,EACJouC,EAAM3tC,KAAK21D,KAAKD,GAAWj2D,OACxBF,EAAIouC,GACL3tC,KAAK21D,KAAKD,GAAWn2D,KAAO2e,IAC9Ble,KAAK21D,KAAKD,GAAWvwC,OAAO5lB,EAAG,GAC/BA,GAAK,EACLouC,GAAO,GAETpuC,GAAK,EAEFS,KAAK21D,KAAKD,GAAWj2D,SACxBO,KAAK21D,KAAKD,GAAa,YAbzB11D,KAAK21D,KAAKD,GAAa,OAqB7B,IAAIE,iBAAoB,WACtB,SAASC,EAAmB/5C,EAAM6xB,GAChC,IAEIvmC,EAFA7H,EAAI,EACJu2D,EAAM,GAEV,OAAQh6C,GACN,IAAK,QACL,IAAK,SACH1U,EAAQ,EACR,MACF,QACEA,EAAQ,IAGZ,IAAK7H,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBu2D,EAAI51C,KAAK9Y,GAEX,OAAO0uD,EAYT,MAAiC,oBAAtBC,mBAA4D,oBAAjBC,aAVtD,SAAiCl6C,EAAM6xB,GACrC,MAAa,YAAT7xB,EACK,IAAIk6C,aAAaroB,GACX,UAAT7xB,EACG,IAAIm6C,WAAWtoB,GACT,WAAT7xB,EACG,IAAIi6C,kBAAkBpoB,GAExBkoB,EAAmB/5C,EAAM6xB,IAK3BkoB,EAhCe,GAmCxB,SAAShD,iBAAiBllB,GACxB,OAAO9jC,MAAM9J,MAAM,KAAM,CAAEN,OAAQkuC,IAMrC,SAASuoB,SAASp6C,GAEhB,OAAOxS,SAAS6sD,gBAAgB1E,MAAO31C,GAKzC,SAASs6C,UAAUt6C,GAEjB,OAAOxS,SAASC,cAAcuS,GAGhC,SAASu6C,4BACTA,yBAAyBz2D,UAAY,CACnC02D,mBAAoB,SAAUC,IACkB,IAA1Cv2D,KAAKw2D,kBAAkBn2D,QAAQk2D,KACjCv2D,KAAKw2D,kBAAkBt2C,KAAKq2C,GAC5Bv2D,KAAKkH,UAAUovD,mBAAmBt2D,MAClCA,KAAKy2D,aAAc,IAGvBC,yBAA0B,WAExB,IAAIn3D,EADJS,KAAK22D,MAAO,EAEZ,IAAIhpB,EAAM3tC,KAAKw2D,kBAAkB/2D,OACjC,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKw2D,kBAAkBj3D,GAAGq3D,WACtB52D,KAAKw2D,kBAAkBj3D,GAAGo3D,OAC5B32D,KAAK22D,MAAO,IAIlBE,6BAA8B,SAAU3vD,GACtClH,KAAKkH,UAAYA,EACjBlH,KAAKw2D,kBAAoB,GACzBx2D,KAAK22D,MAAO,EACZ32D,KAAKy2D,aAAc,IAMvB,IAAIK,aAAgB,WAClB,IAAIC,EAAiB,CACnB,EAAG,cACH,EAAG,WACH,EAAG,SACH,EAAG,UACH,EAAG,SACH,EAAG,UACH,EAAG,cACH,EAAG,aACH,EAAG,aACH,EAAG,aACH,GAAI,aACJ,GAAI,YACJ,GAAI,MACJ,GAAI,aACJ,GAAI,QACJ,GAAI,cAGN,OAAO,SAAU7K,GACf,OAAO6K,EAAe7K,IAAS,IArBf,GA2BhB8K,YAAc,CAChB,EAAG,OACH,EAAG,QACH,EAAG,UAGDC,aAAe,CACjB,EAAG,QACH,EAAG,QACH,EAAG,SAkCDC,OAAU,WACZ,IAAIC,EAAOpuC,KAAKquC,IACZC,EAAOtuC,KAAKuuC,IACZC,EAAOxuC,KAAKyuC,IACZC,EAAO1uC,KAAKod,MAEhB,SAASyG,IAiBP,OAhBA5sC,KAAKO,MAAM,GAAK,EAChBP,KAAKO,MAAM,GAAK,EAChBP,KAAKO,MAAM,GAAK,EAChBP,KAAKO,MAAM,GAAK,EAChBP,KAAKO,MAAM,GAAK,EAChBP,KAAKO,MAAM,GAAK,EAChBP,KAAKO,MAAM,GAAK,EAChBP,KAAKO,MAAM,GAAK,EAChBP,KAAKO,MAAM,GAAK,EAChBP,KAAKO,MAAM,GAAK,EAChBP,KAAKO,MAAM,IAAM,EACjBP,KAAKO,MAAM,IAAM,EACjBP,KAAKO,MAAM,IAAM,EACjBP,KAAKO,MAAM,IAAM,EACjBP,KAAKO,MAAM,IAAM,EACjBP,KAAKO,MAAM,IAAM,EACVP,KAGT,SAAS03D,EAAOC,GACd,GAAc,IAAVA,EACF,OAAO33D,KAET,IAAI43D,EAAOT,EAAKQ,GACZE,EAAOR,EAAKM,GAChB,OAAO33D,KAAKotD,GAAGwK,GAAOC,EAAM,EAAG,EAAGA,EAAMD,EAAM,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAG3E,SAASE,EAAQH,GACf,GAAc,IAAVA,EACF,OAAO33D,KAET,IAAI43D,EAAOT,EAAKQ,GACZE,EAAOR,EAAKM,GAChB,OAAO33D,KAAKotD,GAAG,EAAG,EAAG,EAAG,EAAG,EAAGwK,GAAOC,EAAM,EAAG,EAAGA,EAAMD,EAAM,EAAG,EAAG,EAAG,EAAG,GAG3E,SAASG,EAAQJ,GACf,GAAc,IAAVA,EACF,OAAO33D,KAET,IAAI43D,EAAOT,EAAKQ,GACZE,EAAOR,EAAKM,GAChB,OAAO33D,KAAKotD,GAAGwK,EAAM,EAAGC,EAAM,EAAG,EAAG,EAAG,EAAG,GAAIA,EAAM,EAAGD,EAAM,EAAG,EAAG,EAAG,EAAG,GAG3E,SAASI,EAAQL,GACf,GAAc,IAAVA,EACF,OAAO33D,KAET,IAAI43D,EAAOT,EAAKQ,GACZE,EAAOR,EAAKM,GAChB,OAAO33D,KAAKotD,GAAGwK,GAAOC,EAAM,EAAG,EAAGA,EAAMD,EAAM,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAG3E,SAASK,EAAMC,EAAIC,GACjB,OAAOn4D,KAAKotD,GAAG,EAAG+K,EAAID,EAAI,EAAG,EAAG,GAGlC,SAASE,EAAKC,EAAIC,GAChB,OAAOt4D,KAAKi4D,MAAMV,EAAKc,GAAKd,EAAKe,IAGnC,SAASC,EAAaF,EAAIV,GACxB,IAAIC,EAAOT,EAAKQ,GACZE,EAAOR,EAAKM,GAChB,OAAO33D,KAAKotD,GAAGwK,EAAMC,EAAM,EAAG,GAAIA,EAAMD,EAAM,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACtExK,GAAG,EAAG,EAAG,EAAG,EAAGmK,EAAKc,GAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACvDjL,GAAGwK,GAAOC,EAAM,EAAG,EAAGA,EAAMD,EAAM,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAIlE,SAASt/C,EAAM4/C,EAAIC,EAAIK,GAIrB,OAHKA,GAAa,IAAPA,IACTA,EAAK,GAEI,IAAPN,GAAmB,IAAPC,GAAmB,IAAPK,EACnBx4D,KAEFA,KAAKotD,GAAG8K,EAAI,EAAG,EAAG,EAAG,EAAGC,EAAI,EAAG,EAAG,EAAG,EAAGK,EAAI,EAAG,EAAG,EAAG,EAAG,GAGjE,SAASC,EAAah5C,EAAG2K,EAAGk6B,EAAG1+C,EAAGyZ,EAAGulC,EAAGkQ,EAAGrpD,EAAGlM,EAAGqqB,EAAG+/B,EAAGhgC,EAAGyiB,EAAGltB,EAAGw5C,EAAGv5C,GAiBjE,OAhBAnf,KAAKO,MAAM,GAAKkf,EAChBzf,KAAKO,MAAM,GAAK6pB,EAChBpqB,KAAKO,MAAM,GAAK+jD,EAChBtkD,KAAKO,MAAM,GAAKqF,EAChB5F,KAAKO,MAAM,GAAK8e,EAChBrf,KAAKO,MAAM,GAAKqkD,EAChB5kD,KAAKO,MAAM,GAAKu0D,EAChB90D,KAAKO,MAAM,GAAKkL,EAChBzL,KAAKO,MAAM,GAAKhB,EAChBS,KAAKO,MAAM,GAAKqpB,EAChB5pB,KAAKO,MAAM,IAAMopD,EACjB3pD,KAAKO,MAAM,IAAMopB,EACjB3pB,KAAKO,MAAM,IAAM6rC,EACjBpsC,KAAKO,MAAM,IAAM2e,EACjBlf,KAAKO,MAAM,IAAMm4D,EACjB14D,KAAKO,MAAM,IAAM4e,EACVnf,KAGT,SAAS24D,EAAUC,EAAIC,EAAIC,GAEzB,OADAA,EAAKA,GAAM,EACA,IAAPF,GAAmB,IAAPC,GAAmB,IAAPC,EACnB94D,KAAKotD,GAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAGwL,EAAIC,EAAIC,EAAI,GAE1D94D,KAGT,SAASuN,EAAUwrD,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAC7E,IAAIC,EAAK/5D,KAAKO,MAEd,GAAW,IAAPw4D,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,EAStI,OANAK,EAAG,IAAMA,EAAG,IAAMhB,EAAKgB,EAAG,IAAMJ,EAChCI,EAAG,IAAMA,EAAG,IAAMX,EAAKW,EAAG,IAAMH,EAChCG,EAAG,IAAMA,EAAG,IAAMN,EAAKM,EAAG,IAAMF,EAChCE,EAAG,KAAOD,EAEV95D,KAAKg6D,qBAAsB,EACpBh6D,KAGT,IAAIi6D,EAAKF,EAAG,GACRG,EAAKH,EAAG,GACRI,EAAKJ,EAAG,GACRK,EAAKL,EAAG,GACRM,EAAKN,EAAG,GACRO,EAAKP,EAAG,GACRQ,EAAKR,EAAG,GACRS,EAAKT,EAAG,GACRU,EAAKV,EAAG,GACRW,EAAKX,EAAG,GACRY,EAAKZ,EAAG,IACRa,EAAKb,EAAG,IACRc,EAAKd,EAAG,IACRe,EAAKf,EAAG,IACRgB,EAAKhB,EAAG,IACRiB,EAAKjB,EAAG,IA4BZ,OArBAA,EAAG,GAAKE,EAAKlB,EAAKmB,EAAKf,EAAKgB,EAAKZ,EAAKa,EAAKT,EAC3CI,EAAG,GAAKE,EAAKjB,EAAKkB,EAAKd,EAAKe,EAAKX,EAAKY,EAAKR,EAC3CG,EAAG,GAAKE,EAAKhB,EAAKiB,EAAKb,EAAKc,EAAKV,EAAKW,EAAKP,EAC3CE,EAAG,GAAKE,EAAKf,EAAKgB,EAAKZ,EAAKa,EAAKT,EAAKU,EAAKN,EAE3CC,EAAG,GAAKM,EAAKtB,EAAKuB,EAAKnB,EAAKoB,EAAKhB,EAAKiB,EAAKb,EAC3CI,EAAG,GAAKM,EAAKrB,EAAKsB,EAAKlB,EAAKmB,EAAKf,EAAKgB,EAAKZ,EAC3CG,EAAG,GAAKM,EAAKpB,EAAKqB,EAAKjB,EAAKkB,EAAKd,EAAKe,EAAKX,EAC3CE,EAAG,GAAKM,EAAKnB,EAAKoB,EAAKhB,EAAKiB,EAAKb,EAAKc,EAAKV,EAE3CC,EAAG,GAAKU,EAAK1B,EAAK2B,EAAKvB,EAAKwB,EAAKpB,EAAKqB,EAAKjB,EAC3CI,EAAG,GAAKU,EAAKzB,EAAK0B,EAAKtB,EAAKuB,EAAKnB,EAAKoB,EAAKhB,EAC3CG,EAAG,IAAMU,EAAKxB,EAAKyB,EAAKrB,EAAKsB,EAAKlB,EAAKmB,EAAKf,EAC5CE,EAAG,IAAMU,EAAKvB,EAAKwB,EAAKpB,EAAKqB,EAAKjB,EAAKkB,EAAKd,EAE5CC,EAAG,IAAMc,EAAK9B,EAAK+B,EAAK3B,EAAK4B,EAAKxB,EAAKyB,EAAKrB,EAC5CI,EAAG,IAAMc,EAAK7B,EAAK8B,EAAK1B,EAAK2B,EAAKvB,EAAKwB,EAAKpB,EAC5CG,EAAG,IAAMc,EAAK5B,EAAK6B,EAAKzB,EAAK0B,EAAKtB,EAAKuB,EAAKnB,EAC5CE,EAAG,IAAMc,EAAK3B,EAAK4B,EAAKxB,EAAKyB,EAAKrB,EAAKsB,EAAKlB,EAE5C95D,KAAKg6D,qBAAsB,EACpBh6D,KAGT,SAASi7D,IAKP,OAJKj7D,KAAKg6D,sBACRh6D,KAAKk7D,YAAgC,IAAlBl7D,KAAKO,MAAM,IAA8B,IAAlBP,KAAKO,MAAM,IAA8B,IAAlBP,KAAKO,MAAM,IAA8B,IAAlBP,KAAKO,MAAM,IAA8B,IAAlBP,KAAKO,MAAM,IAA8B,IAAlBP,KAAKO,MAAM,IAA8B,IAAlBP,KAAKO,MAAM,IAA8B,IAAlBP,KAAKO,MAAM,IAA8B,IAAlBP,KAAKO,MAAM,IAA8B,IAAlBP,KAAKO,MAAM,IAA+B,IAAnBP,KAAKO,MAAM,KAAgC,IAAnBP,KAAKO,MAAM,KAAgC,IAAnBP,KAAKO,MAAM,KAAgC,IAAnBP,KAAKO,MAAM,KAAgC,IAAnBP,KAAKO,MAAM,KAAgC,IAAnBP,KAAKO,MAAM,KAC5XP,KAAKg6D,qBAAsB,GAEtBh6D,KAAKk7D,UAGd,SAASC,EAAOC,GAEd,IADA,IAAI77D,EAAI,EACDA,EAAI,IAAI,CACb,GAAI67D,EAAK76D,MAAMhB,KAAOS,KAAKO,MAAMhB,GAC/B,OAAO,EAETA,GAAK,EAEP,OAAO,EAGT,SAASke,EAAM29C,GACb,IAAI77D,EACJ,IAAKA,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACvB67D,EAAK76D,MAAMhB,GAAKS,KAAKO,MAAMhB,GAE7B,OAAO67D,EAGT,SAASC,EAAe96D,GACtB,IAAIhB,EACJ,IAAKA,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACvBS,KAAKO,MAAMhB,GAAKgB,EAAMhB,GAI1B,SAAS+7D,EAAazuD,EAAGC,EAAGyuD,GAC1B,MAAO,CACL1uD,EAAGA,EAAI7M,KAAKO,MAAM,GAAKuM,EAAI9M,KAAKO,MAAM,GAAKg7D,EAAIv7D,KAAKO,MAAM,GAAKP,KAAKO,MAAM,IAC1EuM,EAAGD,EAAI7M,KAAKO,MAAM,GAAKuM,EAAI9M,KAAKO,MAAM,GAAKg7D,EAAIv7D,KAAKO,MAAM,GAAKP,KAAKO,MAAM,IAC1Eg7D,EAAG1uD,EAAI7M,KAAKO,MAAM,GAAKuM,EAAI9M,KAAKO,MAAM,GAAKg7D,EAAIv7D,KAAKO,MAAM,IAAMP,KAAKO,MAAM,KAO/E,SAASi7D,EAAS3uD,EAAGC,EAAGyuD,GACtB,OAAO1uD,EAAI7M,KAAKO,MAAM,GAAKuM,EAAI9M,KAAKO,MAAM,GAAKg7D,EAAIv7D,KAAKO,MAAM,GAAKP,KAAKO,MAAM,IAEhF,SAASk7D,EAAS5uD,EAAGC,EAAGyuD,GACtB,OAAO1uD,EAAI7M,KAAKO,MAAM,GAAKuM,EAAI9M,KAAKO,MAAM,GAAKg7D,EAAIv7D,KAAKO,MAAM,GAAKP,KAAKO,MAAM,IAEhF,SAASm7D,EAAS7uD,EAAGC,EAAGyuD,GACtB,OAAO1uD,EAAI7M,KAAKO,MAAM,GAAKuM,EAAI9M,KAAKO,MAAM,GAAKg7D,EAAIv7D,KAAKO,MAAM,IAAMP,KAAKO,MAAM,IAGjF,SAASo7D,IACP,IAAIC,EAAc57D,KAAKO,MAAM,GAAKP,KAAKO,MAAM,GAAKP,KAAKO,MAAM,GAAKP,KAAKO,MAAM,GACzEkf,EAAIzf,KAAKO,MAAM,GAAKq7D,EACpBxxC,GAAKpqB,KAAKO,MAAM,GAAKq7D,EACrBtX,GAAKtkD,KAAKO,MAAM,GAAKq7D,EACrBh2D,EAAI5F,KAAKO,MAAM,GAAKq7D,EACpBv8C,GAAKrf,KAAKO,MAAM,GAAKP,KAAKO,MAAM,IAAMP,KAAKO,MAAM,GAAKP,KAAKO,MAAM,KAAOq7D,EACxEhX,IAAM5kD,KAAKO,MAAM,GAAKP,KAAKO,MAAM,IAAMP,KAAKO,MAAM,GAAKP,KAAKO,MAAM,KAAOq7D,EACzEC,EAAgB,IAAI3E,OAOxB,OANA2E,EAAct7D,MAAM,GAAKkf,EACzBo8C,EAAct7D,MAAM,GAAK6pB,EACzByxC,EAAct7D,MAAM,GAAK+jD,EACzBuX,EAAct7D,MAAM,GAAKqF,EACzBi2D,EAAct7D,MAAM,IAAM8e,EAC1Bw8C,EAAct7D,MAAM,IAAMqkD,EACnBiX,EAGT,SAASC,EAAaC,GAEpB,OADoB/7D,KAAK27D,mBACJK,kBAAkBD,EAAG,GAAIA,EAAG,GAAIA,EAAG,IAAM,GAGhE,SAASE,EAAcC,GACrB,IAAI38D,EACAouC,EAAMuuB,EAAIz8D,OACV08D,EAAS,GACb,IAAK58D,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB48D,EAAO58D,GAAKu8D,EAAaI,EAAI38D,IAE/B,OAAO48D,EAGT,SAASC,EAAoBC,EAAKC,EAAKC,GACrC,IAAIzG,EAAMF,iBAAiB,UAAW,GACtC,GAAI51D,KAAKi7D,aACPnF,EAAI,GAAKuG,EAAI,GACbvG,EAAI,GAAKuG,EAAI,GACbvG,EAAI,GAAKwG,EAAI,GACbxG,EAAI,GAAKwG,EAAI,GACbxG,EAAI,GAAKyG,EAAI,GACbzG,EAAI,GAAKyG,EAAI,OACR,CACL,IAAIC,EAAKx8D,KAAKO,MAAM,GAChBy6D,EAAKh7D,KAAKO,MAAM,GAChBk8D,EAAKz8D,KAAKO,MAAM,GAChBm8D,EAAK18D,KAAKO,MAAM,GAChBo8D,EAAM38D,KAAKO,MAAM,IACjBq8D,EAAM58D,KAAKO,MAAM,IACrBu1D,EAAI,GAAKuG,EAAI,GAAKG,EAAKH,EAAI,GAAKI,EAAKE,EACrC7G,EAAI,GAAKuG,EAAI,GAAKrB,EAAKqB,EAAI,GAAKK,EAAKE,EACrC9G,EAAI,GAAKwG,EAAI,GAAKE,EAAKF,EAAI,GAAKG,EAAKE,EACrC7G,EAAI,GAAKwG,EAAI,GAAKtB,EAAKsB,EAAI,GAAKI,EAAKE,EACrC9G,EAAI,GAAKyG,EAAI,GAAKC,EAAKD,EAAI,GAAKE,EAAKE,EACrC7G,EAAI,GAAKyG,EAAI,GAAKvB,EAAKuB,EAAI,GAAKG,EAAKE,EAEvC,OAAO9G,EAGT,SAASkG,EAAkBnvD,EAAGC,EAAGyuD,GAW/B,OATIv7D,KAAKi7D,aACD,CAACpuD,EAAGC,EAAGyuD,GAEP,CACJ1uD,EAAI7M,KAAKO,MAAM,GAAKuM,EAAI9M,KAAKO,MAAM,GAAKg7D,EAAIv7D,KAAKO,MAAM,GAAKP,KAAKO,MAAM,IACvEsM,EAAI7M,KAAKO,MAAM,GAAKuM,EAAI9M,KAAKO,MAAM,GAAKg7D,EAAIv7D,KAAKO,MAAM,GAAKP,KAAKO,MAAM,IACvEsM,EAAI7M,KAAKO,MAAM,GAAKuM,EAAI9M,KAAKO,MAAM,GAAKg7D,EAAIv7D,KAAKO,MAAM,IAAMP,KAAKO,MAAM,KAM9E,SAASs8D,EAAwBhwD,EAAGC,GAClC,GAAI9M,KAAKi7D,aACP,OAAOpuD,EAAI,IAAMC,EAEnB,IAAIitD,EAAK/5D,KAAKO,MACd,OAAOwoB,KAAKod,MAAyC,KAAlCt5B,EAAIktD,EAAG,GAAKjtD,EAAIitD,EAAG,GAAKA,EAAG,MAAc,IAAM,IAAMhxC,KAAKod,MAAyC,KAAlCt5B,EAAIktD,EAAG,GAAKjtD,EAAIitD,EAAG,GAAKA,EAAG,MAAc,IAG/H,SAAS+C,IASP,IAJA,IAAIv9D,EAAI,EACJgB,EAAQP,KAAKO,MACbw8D,EAAW,YAERx9D,EAAI,IACTw9D,GAAYtF,EAFN,IAEWl3D,EAAMhB,IAFjB,IAGNw9D,GAAkB,KAANx9D,EAAW,IAAM,IAC7BA,GAAK,EAEP,OAAOw9D,EAGT,SAASC,EAAoBpQ,GAE3B,OAAKA,EAAM,MAAYA,EAAM,GAAOA,GAAO,MAAYA,EAAM,EACpD6K,EAFD,IAEM7K,GAFN,IAIDA,EAGT,SAASqQ,IAKP,IAAI18D,EAAQP,KAAKO,MAOjB,MAAO,UANEy8D,EAAoBz8D,EAAM,IAMX,IALfy8D,EAAoBz8D,EAAM,IAKA,IAJ1By8D,EAAoBz8D,EAAM,IAIW,IAHrCy8D,EAAoBz8D,EAAM,IAGsB,IAFhDy8D,EAAoBz8D,EAAM,KAEiC,IAD3Dy8D,EAAoBz8D,EAAM,KAC4C,IAGjF,OAAO,WACLP,KAAK4sC,MAAQA,EACb5sC,KAAK03D,OAASA,EACd13D,KAAK83D,QAAUA,EACf93D,KAAK+3D,QAAUA,EACf/3D,KAAKg4D,QAAUA,EACfh4D,KAAKo4D,KAAOA,EACZp4D,KAAKu4D,aAAeA,EACpBv4D,KAAKi4D,MAAQA,EACbj4D,KAAKsY,MAAQA,EACbtY,KAAKy4D,aAAeA,EACpBz4D,KAAK24D,UAAYA,EACjB34D,KAAKuN,UAAYA,EACjBvN,KAAKs7D,aAAeA,EACpBt7D,KAAKw7D,SAAWA,EAChBx7D,KAAKy7D,SAAWA,EAChBz7D,KAAK07D,SAAWA,EAChB17D,KAAKg8D,kBAAoBA,EACzBh8D,KAAKo8D,oBAAsBA,EAC3Bp8D,KAAK68D,wBAA0BA,EAC/B78D,KAAK88D,MAAQA,EACb98D,KAAKi9D,QAAUA,EACfj9D,KAAKyd,MAAQA,EACbzd,KAAKq7D,eAAiBA,EACtBr7D,KAAKm7D,OAASA,EACdn7D,KAAKi8D,cAAgBA,EACrBj8D,KAAK87D,aAAeA,EACpB97D,KAAK27D,iBAAmBA,EACxB37D,KAAKotD,GAAKptD,KAAKuN,UACfvN,KAAKi7D,WAAaA,EAClBj7D,KAAKk7D,WAAY,EACjBl7D,KAAKg6D,qBAAsB,EAE3Bh6D,KAAKO,MAAQq1D,iBAAiB,UAAW,IACzC51D,KAAK4sC,SApYK,IAiad,SAAWswB,EAAMC,GAIb,IAAIpY,EAAS/kD,KACT4C,EAAQ,IAIRw6D,EAAaD,EAAKnM,IAAIpuD,EAHb,GAITy6D,EAAeF,EAAKnM,IAAI,EAHf,IAITvyC,EAA0B,EAAf4+C,EACXC,EAAO16D,IAgFX,SAAS26D,EAAK59D,GACV,IAAIqf,EAAGw+C,EAAS79D,EAAIF,OAChBg+D,EAAKz9D,KAAMT,EAAI,EAAGqqB,EAAI6zC,EAAGl+D,EAAIk+D,EAAG7zC,EAAI,EAAG3K,EAAIw+C,EAAGjY,EAAI,GAMtD,IAHKgY,IAAU79D,EAAM,CAAC69D,MAGfj+D,EAAIqD,GACPqc,EAAE1f,GAAKA,IAEX,IAAKA,EAAI,EAAGA,EAAIqD,EAAOrD,IACnB0f,EAAE1f,GAAK0f,EAAE2K,EAAI0zC,EAAQ1zC,EAAIjqB,EAAIJ,EAAIi+D,IAAWx+C,EAAIC,EAAE1f,KAClD0f,EAAE2K,GAAK5K,EAIXy+C,EAAG3I,EAAI,SAAS4I,GAIZ,IAFA,IAAI1+C,EAAGpU,EAAI,EACPrL,EAAIk+D,EAAGl+D,EAAGqqB,EAAI6zC,EAAG7zC,EAAG3K,EAAIw+C,EAAGjY,EACxBkY,KACH1+C,EAAIC,EAAE1f,EAAI+9D,EAAQ/9D,EAAI,GACtBqL,EAAIA,EAAIhI,EAAQqc,EAAEq+C,GAASr+C,EAAE1f,GAAK0f,EAAE2K,EAAI0zC,EAAQ1zC,EAAI5K,KAAQC,EAAE2K,GAAK5K,IAGvE,OADAy+C,EAAGl+D,EAAIA,EAAGk+D,EAAG7zC,EAAIA,EACVhf,GAWf,SAAS+yD,EAAK/Y,EAAG5lC,GAIb,OAHAA,EAAEzf,EAAIqlD,EAAErlD,EACRyf,EAAE4K,EAAIg7B,EAAEh7B,EACR5K,EAAEwmC,EAAIZ,EAAEY,EAAE19C,QACHkX,EAOX,SAAS4+C,EAAQz0D,EAAK00D,GAClB,IAAqCtH,EAAjC7sD,EAAS,GAAIo0D,SAAc30D,EAC/B,GAAI00D,GAAgB,UAAPC,EACT,IAAKvH,KAAQptD,EACT,IAAMO,EAAOwW,KAAK09C,EAAQz0D,EAAIotD,GAAOsH,EAAQ,IAAO,MAAOx+C,IAGnE,OAAQ3V,EAAOjK,OAASiK,EAAgB,UAAPo0D,EAAkB30D,EAAMA,EAAM,KAQnE,SAAS40D,EAAOC,EAAMr+D,GAElB,IADA,IAA4Bs+D,EAAxBC,EAAaF,EAAO,GAAWp0C,EAAI,EAChCA,EAAIs0C,EAAWz+D,QAClBE,EAAI29D,EAAO1zC,GACP0zC,GAASW,GAAyB,GAAhBt+D,EAAI29D,EAAO1zC,IAAWs0C,EAAW1R,WAAW5iC,KAEtE,OAAOu0C,EAASx+D,GAyBpB,SAASw+D,EAAS1+C,GACd,OAAO8sC,OAAO6R,aAAar+D,MAAM,EAAG0f,GA3GxC09C,EAAI,WA7DJ,SAAoBa,EAAMj0D,EAASmU,GAC/B,IAAIve,EAAM,GAIN0+D,EAAYN,EAAOH,GAHvB7zD,GAAuB,IAAZA,EAAoB,CAAEu0D,SAAS,GAAUv0D,GAAW,IAInDu0D,QAAU,CAACN,EAAMG,EAASjB,IACpB,OAATc,EA+Ib,WACI,IAEI,IAAI9Y,EAAM,IAAIqZ,WAAW37D,GAEzB,OADCmiD,EAAOyZ,QAAUzZ,EAAO0Z,UAAUC,gBAAgBxZ,GAC5CiZ,EAASjZ,GAClB,MAAO7lC,GACL,IAAIs/C,EAAU5Z,EAAO5b,UACjBy1B,EAAUD,GAAWA,EAAQC,QACjC,MAAO,EAAE,IAAIC,KAAQ9Z,EAAQ6Z,EAAS7Z,EAAO+Z,OAAQX,EAASjB,KAxJxC6B,GAAaf,EAAM,GAAIr+D,GAG7Cq/D,EAAO,IAAIzB,EAAK59D,GAIhBs/D,EAAO,WAIP,IAHA,IAAI//C,EAAI8/C,EAAKlK,EA5BR,GA6BDlvD,EAAIw3D,EACJvwD,EAAI,EACDqS,EAAIm+C,GACPn+C,GAAKA,EAAIrS,GAAKjK,EACdgD,GAAKhD,EACLiK,EAAImyD,EAAKlK,EAAE,GAEf,KAAO51C,GAAKT,GACRS,GAAK,EACLtZ,GAAK,EACLiH,KAAO,EAEX,OAAQqS,EAAIrS,GAAKjH,GAWrB,OARAq5D,EAAKC,MAAQ,WAAa,OAAmB,EAAZF,EAAKlK,EAAE,IACxCmK,EAAKE,MAAQ,WAAa,OAAOH,EAAKlK,EAAE,GAAK,YAC7CmK,EAAKG,OAASH,EAGdlB,EAAOI,EAASa,EAAKxZ,GAAI0X,IAGjBnzD,EAAQs1D,MAAQnhD,GACxB,SAAS+gD,EAAMjB,EAAMsB,EAAcn7C,GAU/B,OATIA,IAEIA,EAAMqhC,GAAKmY,EAAKx5C,EAAO66C,GAE3BC,EAAK96C,MAAQ,WAAa,OAAOw5C,EAAKqB,EAAM,MAK5CM,GAAgBnC,EAAI,OAAY8B,EAAajB,GAIrCiB,IAEZA,EACAZ,EACA,WAAYt0D,EAAUA,EAAQg7C,OAAU/kD,MAAQm9D,EAChDpzD,EAAQoa,QAuHhB45C,EAAOZ,EAAKrQ,SAAUoQ,GArM1B,CA8MI,GACAzK,QAGJ,IAAI8M,cAAiB,WAYnB,IAAIC,EAAK,CACTA,gBAGA,SAAyB//C,EAAG2K,EAAGk6B,EAAG1+C,EAAG65D,GACnC,IAAIC,EAAMD,IAAO,OAAShgD,EAAI,IAAM2K,EAAI,IAAMk6B,EAAI,IAAM1+C,GAAG8pC,QAAQ,MAAO,KAC1E,GAAIiwB,EAAQD,GACV,OAAOC,EAAQD,GAEjB,IAAIE,EAAY,IAAIC,EAAa,CAACpgD,EAAG2K,EAAGk6B,EAAG1+C,IAE3C,OADA+5D,EAAQD,GAAOE,EACRA,IATLD,EAAU,GAmBVG,EAAkB,GAElBC,EAAgD,oBAAjB/J,aAEnC,SAASxM,EAAEwW,EAAKC,GAAO,OAAO,EAAM,EAAMA,EAAM,EAAMD,EACtD,SAASra,EAAEqa,EAAKC,GAAO,OAAO,EAAMA,EAAM,EAAMD,EAChD,SAASja,EAAEia,GAAO,OAAO,EAAMA,EAG/B,SAASE,EAAWC,EAAIH,EAAKC,GAC3B,QAASzW,EAAEwW,EAAKC,GAAOE,EAAKxa,EAAEqa,EAAKC,IAAQE,EAAKpa,EAAEia,IAAQG,EAI5D,SAASC,EAASD,EAAIH,EAAKC,GACzB,OAAO,EAAMzW,EAAEwW,EAAKC,GAAOE,EAAKA,EAAK,EAAMxa,EAAEqa,EAAKC,GAAOE,EAAKpa,EAAEia,GAgClE,SAASH,EAAapyD,GACpBzN,KAAK+5D,GAAKtsD,EACVzN,KAAKqgE,eAAiBN,EAAwB,IAAI/J,aAlD7B,IAkD8D,IAAInsD,MAlDlE,IAmDrB7J,KAAKsgE,cAAe,EAEpBtgE,KAAKinB,IAAMjnB,KAAKinB,IAAIC,KAAKlnB,MAoE3B,OAjEA6/D,EAAajgE,UAAY,CAEvBqnB,IAAK,SAAUpa,GACb,IAAI0zD,EAAMvgE,KAAK+5D,GAAG,GAChByG,EAAMxgE,KAAK+5D,GAAG,GACd0G,EAAMzgE,KAAK+5D,GAAG,GACd2G,EAAM1gE,KAAK+5D,GAAG,GAEhB,OADK/5D,KAAKsgE,cAActgE,KAAK2gE,cACzBJ,IAAQC,GAAOC,IAAQC,EAAY7zD,EAE7B,IAANA,EAAgB,EACV,IAANA,EAAgB,EACbqzD,EAAWlgE,KAAK4gE,UAAU/zD,GAAI2zD,EAAKE,IAK5CC,YAAa,WACX,IAAIJ,EAAMvgE,KAAK+5D,GAAG,GAChByG,EAAMxgE,KAAK+5D,GAAG,GACd0G,EAAMzgE,KAAK+5D,GAAG,GACd2G,EAAM1gE,KAAK+5D,GAAG,GAChB/5D,KAAKsgE,cAAe,EAChBC,IAAQC,GAAOC,IAAQC,GAAO1gE,KAAK6gE,qBAGzCA,kBAAmB,WAGjB,IAFA,IAAIN,EAAMvgE,KAAK+5D,GAAG,GAChB0G,EAAMzgE,KAAK+5D,GAAG,GACPx6D,EAAI,EAAGA,EArFG,KAqFqBA,EACtCS,KAAKqgE,eAAe9gE,GAAK2gE,EAAW3gE,EAAIugE,EAAiBS,EAAKE,IAOlEG,UAAW,SAAUE,GASnB,IARA,IAAIP,EAAMvgE,KAAK+5D,GAAG,GAChB0G,EAAMzgE,KAAK+5D,GAAG,GACdgH,EAAgB/gE,KAAKqgE,eAEnBW,EAAgB,EAChBC,EAAgB,EACHC,KAEVD,GAAgCF,EAAcE,IAAkBH,IAAMG,EAC3ED,GAAiBlB,EAKnB,IACIqB,EAAYH,GADJF,EAAKC,IAHfE,KAGgDF,EAAcE,EAAgB,GAAKF,EAAcE,IAC5DnB,EAEnCsB,EAAehB,EAASe,EAAWZ,EAAKE,GAC5C,OAAIW,GApHe,KAuCvB,SAA8BN,EAAIO,EAASd,EAAKE,GAC9C,IAAK,IAAIlhE,EAAI,EAAGA,EAzCM,IAyCmBA,EAAG,CAC1C,IAAI+hE,EAAelB,EAASiB,EAASd,EAAKE,GAC1C,GAAqB,IAAjBa,EAAsB,OAAOD,EAEjCA,IADenB,EAAWmB,EAASd,EAAKE,GAAOK,GACzBQ,EAExB,OAAOD,EAuEIE,CAAqBT,EAAIK,EAAWZ,EAAKE,GAC3B,IAAjBW,EACGD,EAhGb,SAAyBL,EAAIU,EAAIC,EAAIlB,EAAKE,GACxC,IAAIiB,EACFC,EACApiE,EAAI,EACN,IAEEmiE,EAAWxB,EADXyB,EAAWH,GAAMC,EAAKD,GAAM,EACIjB,EAAKE,GAAOK,GAC7B,EACbW,EAAKE,EAELH,EAAKG,QAEA54C,KAAKC,IAAI04C,GAlCQ,QAkC+BniE,EAjC1B,IAkC/B,OAAOoiE,EAqFEC,CAAgBd,EAAIE,EAAeA,EAAgBlB,EAAiBS,EAAKE,KAI7EjB,EAzJY,GAwLrB,SAASqC,gBAAgBC,EAASC,GAChC,IAAIxiE,EAEAyiE,EADAr0B,EAAMm0B,EAAQriE,OAElB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAExB,IAAK,IAAIy/B,KADTgjC,EAAkBF,EAAQviE,GAAGK,UAEvBR,OAAOQ,UAAUC,eAAeC,KAAKkiE,EAAiBhjC,KAAO+iC,EAAYniE,UAAUo/B,GAAQgjC,EAAgBhjC,IAKrH,SAASijC,cAAczb,EAAQ+P,GAC7B,OAAOn3D,OAAO2rD,yBAAyBvE,EAAQ+P,GAGjD,SAAS2L,oBAAoBtiE,GAC3B,SAASuiE,KAET,OADAA,EAAcviE,UAAYA,EACnBuiE,EAMT,SAASC,cACP,IAAIjF,EAAOp0C,KAEX,SAASs5C,EAAct1D,EAAIC,EAAIC,EAAIC,EAAIo1D,EAAIC,GACzC,IAAIC,EAAQz1D,EAAKG,EAAOF,EAAKs1D,EAAOr1D,EAAKs1D,EAAOD,EAAKp1D,EAAOq1D,EAAKx1D,EAAOE,EAAKD,EAC7E,OAAOw1D,GAAQ,MAASA,EAAO,KAyBjC,IAAIC,EACK,SAAUpG,EAAKC,EAAKC,EAAKmG,GAC9B,IACI/Y,EACApqD,EACAouC,EACAg1B,EACAC,EAEAC,EAPAC,EAAgBhQ,qBAMhBiQ,EAAc,EAEdtV,EAAQ,GACRuV,EAAY,GACZC,EAAaC,iBAAiBC,aAElC,IADAx1B,EAAM4uB,EAAI98D,OACLkqD,EAAI,EAAGA,EAAImZ,EAAenZ,GAAK,EAAG,CAGrC,IAFAiZ,EAAOjZ,GAAKmZ,EAAgB,GAC5BD,EAAa,EACRtjE,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBojE,EAAUxQ,MAAM,EAAIyQ,EAAM,GAAKvG,EAAI98D,GAAK,EAAI4yD,MAAM,EAAIyQ,EAAM,GAAKA,EAAOrG,EAAIh9D,GAAK,GAAK,EAAIqjE,GAAQzQ,MAAMyQ,EAAM,GAAKF,EAAInjE,GAAK4yD,MAAMyQ,EAAM,GAAKtG,EAAI/8D,GACjJkuD,EAAMluD,GAAKojE,EACU,OAAjBK,EAAUzjE,KACZsjE,GAAc1Q,MAAM1E,EAAMluD,GAAKyjE,EAAUzjE,GAAI,IAE/CyjE,EAAUzjE,GAAKkuD,EAAMluD,GAEnBsjE,IAEFE,GADAF,EAAazQ,OAAOyQ,IAGtBI,EAAWG,SAASzZ,GAAKiZ,EACzBK,EAAWI,QAAQ1Z,GAAKoZ,EAG1B,OADAE,EAAWF,YAAcA,EAClBE,GA0BX,SAASK,EAAW7jE,GAClBO,KAAKujE,cAAgB,EACrBvjE,KAAKyN,OAAS,IAAI5D,MAAMpK,GAG1B,SAAS+jE,EAAUC,EAAShW,GAC1BztD,KAAK0jE,cAAgBD,EACrBzjE,KAAKytD,MAAQA,EAGf,IAAIkW,EAAmB,WACrB,IAAIC,EAAa,GAEjB,OAAO,SAAUvH,EAAKC,EAAKC,EAAKmG,GAC9B,IAAImB,GAAcxH,EAAI,GAAK,IAAMA,EAAI,GAAK,IAAMC,EAAI,GAAK,IAAMA,EAAI,GAAK,IAAMC,EAAI,GAAK,IAAMA,EAAI,GAAK,IAAMmG,EAAI,GAAK,IAAMA,EAAI,IAAIhzB,QAAQ,MAAO,KAClJ,IAAKk0B,EAAWC,GAAa,CAC3B,IACIla,EACApqD,EACAouC,EACAg1B,EACAC,EAEAC,EACApV,EARAqV,EAAgBhQ,qBAMhBiQ,EAAc,EAGdC,EAAY,KACG,IAAf3G,EAAI58D,SAAiB48D,EAAI,KAAOC,EAAI,IAAMD,EAAI,KAAOC,EAAI,KAAO+F,EAAchG,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,GAAID,EAAI,GAAKE,EAAI,GAAIF,EAAI,GAAKE,EAAI,KAAO8F,EAAchG,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAKoG,EAAI,GAAIpG,EAAI,GAAKoG,EAAI,MACjOI,EAAgB,GAElB,IAAIgB,EAAa,IAAIR,EAAWR,GAEhC,IADAn1B,EAAM4uB,EAAI98D,OACLkqD,EAAI,EAAGA,EAAImZ,EAAenZ,GAAK,EAAG,CAIrC,IAHA8D,EAAQoF,iBAAiBllB,GACzBi1B,EAAOjZ,GAAKmZ,EAAgB,GAC5BD,EAAa,EACRtjE,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBojE,EAAUxQ,MAAM,EAAIyQ,EAAM,GAAKvG,EAAI98D,GAAK,EAAI4yD,MAAM,EAAIyQ,EAAM,GAAKA,GAAQvG,EAAI98D,GAAKg9D,EAAIh9D,IAAM,GAAK,EAAIqjE,GAAQzQ,MAAMyQ,EAAM,IAAMtG,EAAI/8D,GAAKmjE,EAAInjE,IAAM4yD,MAAMyQ,EAAM,GAAKtG,EAAI/8D,GACvKkuD,EAAMluD,GAAKojE,EACO,OAAdK,IACFH,GAAc1Q,MAAM1E,EAAMluD,GAAKyjE,EAAUzjE,GAAI,IAIjDwjE,GADAF,EAAazQ,OAAOyQ,GAEpBiB,EAAWr2D,OAAOk8C,GAAK,IAAI6Z,EAAUX,EAAYpV,GACjDuV,EAAYvV,EAEdqW,EAAWP,cAAgBR,EAC3Ba,EAAWC,GAAcC,EAE3B,OAAOF,EAAWC,IAxCC,GA4CvB,SAASE,EAAgBnB,EAAMkB,GAC7B,IAAIV,EAAWU,EAAWV,SACtBC,EAAUS,EAAWT,QACrB11B,EAAMy1B,EAAS3jE,OACfukE,EAAU1R,SAAS3kB,EAAM,GAAKi1B,GAC9BqB,EAAYrB,EAAOkB,EAAWf,YAC9BmB,EAAQ,EACZ,GAAIF,IAAYr2B,EAAM,GAAiB,IAAZq2B,GAAiBC,IAAcZ,EAAQW,GAChE,OAAOZ,EAASY,GAIlB,IAFA,IAAI3+B,EAAMg+B,EAAQW,GAAWC,GAAa,EAAI,EAC1C9Q,GAAO,EACJA,GAOL,GANIkQ,EAAQW,IAAYC,GAAaZ,EAAQW,EAAU,GAAKC,GAC1DC,GAASD,EAAYZ,EAAQW,KAAaX,EAAQW,EAAU,GAAKX,EAAQW,IACzE7Q,GAAO,GAEP6Q,GAAW3+B,EAET2+B,EAAU,GAAKA,GAAWr2B,EAAM,EAAG,CAErC,GAAIq2B,IAAYr2B,EAAM,EACpB,OAAOy1B,EAASY,GAElB7Q,GAAO,EAGX,OAAOiQ,EAASY,IAAYZ,EAASY,EAAU,GAAKZ,EAASY,IAAYE,EAW3E,IAAIC,EAAsBvO,iBAAiB,UAAW,GA4CtD,MAAO,CACLwO,kBA/JF,SAA2BC,GACzB,IAKI9kE,EALA+kE,EAAiBC,mBAAmBpB,aACpCqB,EAASH,EAAU/f,EACnBmgB,EAAQJ,EAAU9uB,EAClBmvB,EAAQL,EAAU3L,EAClBiM,EAAQN,EAAU9kE,EAElBouC,EAAM02B,EAAUO,QAChBvB,EAAUiB,EAAejB,QACzBwB,EAAc,EAClB,IAAKtlE,EAAI,EAAGA,EAAIouC,EAAM,EAAGpuC,GAAK,EAC5B8jE,EAAQ9jE,GAAKkjE,EAAgBgC,EAAMllE,GAAIklE,EAAMllE,EAAI,GAAImlE,EAAMnlE,GAAIolE,EAAMplE,EAAI,IACzEslE,GAAexB,EAAQ9jE,GAAGwjE,YAO5B,OALIyB,GAAU72B,IACZ01B,EAAQ9jE,GAAKkjE,EAAgBgC,EAAMllE,GAAIklE,EAAM,GAAIC,EAAMnlE,GAAIolE,EAAM,IACjEE,GAAexB,EAAQ9jE,GAAGwjE,aAE5BuB,EAAeO,YAAcA,EACtBP,GA6IPQ,cA5CF,SAAuBzI,EAAKC,EAAKC,EAAKmG,EAAKqC,EAAWC,EAASlB,GACzDiB,EAAY,EACdA,EAAY,EACHA,EAAY,IACrBA,EAAY,GAEd,IAGIxlE,EAHA0lE,EAAKlB,EAAgBgB,EAAWjB,GAEhCoB,EAAKnB,EADTiB,EAAUA,EAAU,EAAI,EAAIA,EACMlB,GAE9Bn2B,EAAM0uB,EAAI58D,OACV0lE,EAAK,EAAIF,EACTG,EAAK,EAAIF,EACTG,EAASF,EAAKA,EAAKA,EACnBG,EAAWL,EAAKE,EAAKA,EAAK,EAC1BI,EAAWN,EAAKA,EAAKE,EAAK,EAC1BK,EAASP,EAAKA,EAAKA,EAEnBQ,EAASN,EAAKA,EAAKC,EACnBM,EAAWT,EAAKE,EAAKC,EAAKD,EAAKF,EAAKG,EAAKD,EAAKA,EAAKD,EACnDS,EAAWV,EAAKA,EAAKG,EAAKD,EAAKF,EAAKC,EAAKD,EAAKE,EAAKD,EACnDU,EAASX,EAAKA,EAAKC,EAEnBW,EAASV,EAAKC,EAAKA,EACnBU,EAAWb,EAAKG,EAAKA,EAAKD,EAAKD,EAAKE,EAAKD,EAAKC,EAAKF,EACnDa,EAAWd,EAAKC,EAAKE,EAAKD,EAAKD,EAAKA,EAAKD,EAAKG,EAAKF,EACnDc,EAASf,EAAKC,EAAKA,EAEnBe,EAASb,EAAKA,EAAKA,EACnBc,EAAWhB,EAAKE,EAAKA,EAAKA,EAAKF,EAAKE,EAAKA,EAAKA,EAAKF,EACnDiB,EAAWjB,EAAKA,EAAKE,EAAKA,EAAKF,EAAKA,EAAKA,EAAKE,EAAKF,EACnDkB,EAASlB,EAAKA,EAAKA,EACvB,IAAK3lE,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB4kE,EAAwB,EAAJ5kE,GAAS49D,EAAKh3B,MAAoF,KAA7Ek/B,EAAShJ,EAAI98D,GAAK+lE,EAAW/I,EAAIh9D,GAAKgmE,EAAW7C,EAAInjE,GAAKimE,EAASlJ,EAAI/8D,KAAc,IAC9H4kE,EAAwB,EAAJ5kE,EAAQ,GAAK49D,EAAKh3B,MAAoF,KAA7Es/B,EAASpJ,EAAI98D,GAAKmmE,EAAWnJ,EAAIh9D,GAAKomE,EAAWjD,EAAInjE,GAAKqmE,EAAStJ,EAAI/8D,KAAc,IAClI4kE,EAAwB,EAAJ5kE,EAAQ,GAAK49D,EAAKh3B,MAAoF,KAA7E0/B,EAASxJ,EAAI98D,GAAKumE,EAAWvJ,EAAIh9D,GAAKwmE,EAAWrD,EAAInjE,GAAKymE,EAAS1J,EAAI/8D,KAAc,IAClI4kE,EAAwB,EAAJ5kE,EAAQ,GAAK49D,EAAKh3B,MAAoF,KAA7E8/B,EAAS5J,EAAI98D,GAAK2mE,EAAW3J,EAAIh9D,GAAK4mE,EAAWzD,EAAInjE,GAAK6mE,EAAS9J,EAAI/8D,KAAc,IAGpI,OAAO4kE,GAMPkC,kBAvDF,SAA2BhK,EAAKC,EAAKC,EAAKmG,EAAK4D,EAASxC,GACtD,IAAIoB,EAAKnB,EAAgBuC,EAASxC,GAC9BsB,EAAK,EAAIF,EAGb,MAAO,CAFG/H,EAAKh3B,MAAwK,KAAjKi/B,EAAKA,EAAKA,EAAK/I,EAAI,IAAM6I,EAAKE,EAAKA,EAAKA,EAAKF,EAAKE,EAAKA,EAAKA,EAAKF,GAAM3I,EAAI,IAAM2I,EAAKA,EAAKE,EAAKA,EAAKF,EAAKA,EAAKA,EAAKE,EAAKF,GAAMxC,EAAI,GAAKwC,EAAKA,EAAKA,EAAK5I,EAAI,KAAc,IACrLa,EAAKh3B,MAAwK,KAAjKi/B,EAAKA,EAAKA,EAAK/I,EAAI,IAAM6I,EAAKE,EAAKA,EAAKA,EAAKF,EAAKE,EAAKA,EAAKA,EAAKF,GAAM3I,EAAI,IAAM2I,EAAKA,EAAKE,EAAKA,EAAKF,EAAKA,EAAKA,EAAKE,EAAKF,GAAMxC,EAAI,GAAKwC,EAAKA,EAAKA,EAAK5I,EAAI,KAAc,MAoD/LqH,gBAAiBA,EACjBtB,cAAeA,EACfkE,cA/NF,SAAuBx5D,EAAIC,EAAIw5D,EAAIv5D,EAAIC,EAAIu5D,EAAInE,EAAIC,EAAImE,GACrD,GAAW,IAAPF,GAAmB,IAAPC,GAAmB,IAAPC,EAC1B,OAAOrE,EAAct1D,EAAIC,EAAIC,EAAIC,EAAIo1D,EAAIC,GAE3C,IAGIoE,EAHAC,EAAQzJ,EAAK9K,KAAK8K,EAAKnM,IAAI/jD,EAAKF,EAAI,GAAKowD,EAAKnM,IAAI9jD,EAAKF,EAAI,GAAKmwD,EAAKnM,IAAIyV,EAAKD,EAAI,IAClFK,EAAQ1J,EAAK9K,KAAK8K,EAAKnM,IAAIsR,EAAKv1D,EAAI,GAAKowD,EAAKnM,IAAIuR,EAAKv1D,EAAI,GAAKmwD,EAAKnM,IAAI0V,EAAKF,EAAI,IAClFM,EAAQ3J,EAAK9K,KAAK8K,EAAKnM,IAAIsR,EAAKr1D,EAAI,GAAKkwD,EAAKnM,IAAIuR,EAAKr1D,EAAI,GAAKiwD,EAAKnM,IAAI0V,EAAKD,EAAI,IAatF,OATIE,EAFAC,EAAQC,EACND,EAAQE,EACCF,EAAQC,EAAQC,EAEhBA,EAAQD,EAAQD,EAEpBE,EAAQD,EACNC,EAAQD,EAAQD,EAEhBC,EAAQD,EAAQE,IAEV,MAAUH,EAAW,QAhF3C,WAGC,IAFA,IAAII,EAAW,EACXC,EAAU,CAAC,KAAM,MAAO,SAAU,KAC7Bn6D,EAAI,EAAGA,EAAIm6D,EAAQvnE,SAAW4J,OAAO49D,wBAAyBp6D,EACrExD,OAAO49D,sBAAwB59D,OAAO29D,EAAQn6D,GAAK,yBACnDxD,OAAO69D,qBAAuB79D,OAAO29D,EAAQn6D,GAAK,yBAA2BxD,OAAO29D,EAAQn6D,GAAK,+BAE9FxD,OAAO49D,wBACV59D,OAAO49D,sBAAwB,SAAU/oD,GACvC,IAAIipD,GAAW,IAAItI,MAAOuI,UACtBC,EAAat+C,KAAKvhB,IAAI,EAAG,IAAM2/D,EAAWJ,IAC1C55D,EAAKiG,YAAW,WAClB8K,EAASipD,EAAWE,KAEtBA,GAEA,OADAN,EAAWI,EAAWE,EACfl6D,IAGN9D,OAAO69D,uBACV79D,OAAO69D,qBAAuB,SAAU/5D,GACtCkI,aAAalI,KArBlB,GAgSD,IAAIm6D,IAAMlF,cAINmF,YAAe,WACjB,IAEIC,EACAC,EAHAC,EAAa,EACbC,EAAY,GAGZC,EAAc,CAChBC,UAAW,aAGXC,YAAa,SAAU1+D,GACrBo+D,EAAS,CACPvnD,KAAM7W,MAIR2+D,EAAc,CAChBD,YAAa,SAAU7nD,GACrB2nD,EAAYC,UAAU,CACpB5nD,KAAMA,MAeZ,SAAS+nD,IACFP,IACHA,EAbJ,SAAsB1+D,GACpB,GAAIM,OAAO4+D,QAAU5+D,OAAO6+D,MAAQtW,cAAe,CACjD,IAAIuW,EAAO,IAAID,KAAK,CAAC,4CAA6Cn/D,EAAGiqB,YAAa,CAAElX,KAAM,oBAEtFssD,EAAMC,IAAIC,gBAAgBH,GAC9B,OAAO,IAAIF,OAAOG,GAGpB,OADAZ,EAAWz+D,EACJ6+D,EAKYW,EAAa,SAAqBlpD,GAgejD,GA9DK0oD,EAAYR,cACfQ,EAAYR,YAhad,WAGE,SAASiB,EAAeC,EAAQC,GAC9B,IAAIC,EACAppE,EAEAqqB,EACAg/C,EACAjf,EACAkf,EAJAl7B,EAAM86B,EAAOhpE,OAKjB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAExB,GAAK,OADLopE,EAAYF,EAAOlpE,MACSopE,EAAUG,UAAW,CAK/C,GAJAH,EAAUG,WAAY,EAClBH,EAAUI,KACZN,EAAOlpE,EAAI,GAAGypE,GAAKL,EAAUI,IAE3BJ,EAAUM,QAAS,CACrB,IAAIC,EAAYP,EAAUQ,gBAE1B,IADAP,EAAOM,EAAUzpE,OACZmqB,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EACzB,GAAIs/C,EAAUt/C,GAAGmyC,GAAGpS,EAAEpqD,EACpB6pE,EAA6BF,EAAUt/C,GAAGmyC,GAAGpS,QAG7C,IADAkf,EAAOK,EAAUt/C,GAAGmyC,GAAGpS,EAAElqD,OACpBkqD,EAAI,EAAGA,EAAIkf,EAAMlf,GAAK,EACrBuf,EAAUt/C,GAAGmyC,GAAGpS,EAAEA,GAAG1qC,GACvBmqD,EAA6BF,EAAUt/C,GAAGmyC,GAAGpS,EAAEA,GAAG1qC,EAAE,IAElDiqD,EAAUt/C,GAAGmyC,GAAGpS,EAAEA,GAAGtqC,GACvB+pD,EAA6BF,EAAUt/C,GAAGmyC,GAAGpS,EAAEA,GAAGtqC,EAAE,IAMzC,IAAjBspD,EAAU9P,IACZ8P,EAAUF,OAASY,EAAeV,EAAUW,MAAOZ,GACnDF,EAAeG,EAAUF,OAAQC,IACP,IAAjBC,EAAU9P,GACnB0Q,EAAeZ,EAAUa,QACC,IAAjBb,EAAU9P,IACnB4Q,EAAad,IAMrB,SAASU,EAAel8D,EAAIu7D,GAG1B,IAFA,IAAInpE,EAAI,EACJouC,EAAM+6B,EAAMjpE,OACTF,EAAIouC,GAAK,CACd,GAAI+6B,EAAMnpE,GAAG4N,KAAOA,EAClB,OAAKu7D,EAAMnpE,GAAGkpE,OAAOiB,OAIdtb,KAAKx1B,MAAMw1B,KAAKE,UAAUoa,EAAMnpE,GAAGkpE,UAHxCC,EAAMnpE,GAAGkpE,OAAOiB,QAAS,EAClBhB,EAAMnpE,GAAGkpE,QAIpBlpE,GAAK,EAEP,OAAO,KAGT,SAASgqE,EAAezT,GACtB,IAAIv2D,EAEAqqB,EACAg/C,EACJ,IAAKrpE,EAHKu2D,EAAIr2D,OAGC,EAAGF,GAAK,EAAGA,GAAK,EAC7B,GAAkB,OAAdu2D,EAAIv2D,GAAGs5D,GACT,GAAI/C,EAAIv2D,GAAGoqE,GAAGhgB,EAAEpqD,EACd6pE,EAA6BtT,EAAIv2D,GAAGoqE,GAAGhgB,QAGvC,IADAif,EAAO9S,EAAIv2D,GAAGoqE,GAAGhgB,EAAElqD,OACdmqB,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EACrBksC,EAAIv2D,GAAGoqE,GAAGhgB,EAAE//B,GAAG3K,GACjBmqD,EAA6BtT,EAAIv2D,GAAGoqE,GAAGhgB,EAAE//B,GAAG3K,EAAE,IAE5C62C,EAAIv2D,GAAGoqE,GAAGhgB,EAAE//B,GAAGvK,GACjB+pD,EAA6BtT,EAAIv2D,GAAGoqE,GAAGhgB,EAAE//B,GAAGvK,EAAE,QAI7B,OAAdy2C,EAAIv2D,GAAGs5D,IAChB0Q,EAAezT,EAAIv2D,GAAGgkD,IAK5B,SAAS6lB,EAA6BhgE,GACpC,IAAI7J,EACAouC,EAAMvkC,EAAK7J,EAAEE,OACjB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB6J,EAAK7J,EAAEA,GAAG,IAAM6J,EAAKmsC,EAAEh2C,GAAG,GAC1B6J,EAAK7J,EAAEA,GAAG,IAAM6J,EAAKmsC,EAAEh2C,GAAG,GAC1B6J,EAAKsvD,EAAEn5D,GAAG,IAAM6J,EAAKmsC,EAAEh2C,GAAG,GAC1B6J,EAAKsvD,EAAEn5D,GAAG,IAAM6J,EAAKmsC,EAAEh2C,GAAG,GAI9B,SAASqqE,EAAaC,EAASC,GAC7B,IAAIC,EAAcD,EAAoBA,EAAkB/kE,MAAM,KAAO,CAAC,IAAK,IAAK,KAChF,OAAI8kE,EAAQ,GAAKE,EAAY,MAEvBA,EAAY,GAAKF,EAAQ,MAG3BA,EAAQ,GAAKE,EAAY,MAEvBA,EAAY,GAAKF,EAAQ,MAG3BA,EAAQ,GAAKE,EAAY,MAEvBA,EAAY,GAAKF,EAAQ,KAGxB,OAGT,IAAIG,EAAa,WACf,IAAIC,EAAiB,CAAC,EAAG,EAAG,IAE5B,SAASC,EAAgBC,GACvB,IAAIC,EAAeD,EAAUnrD,EAAEpZ,EAC/BukE,EAAUnrD,EAAEpZ,EAAI,CACd+jD,EAAG,CACD,CACE1qC,EAAGmrD,EACHprD,EAAG,KAMX,SAASqrD,EAAc5B,GACrB,IAAIlpE,EACAouC,EAAM86B,EAAOhpE,OACjB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACH,IAAjBkpE,EAAOlpE,GAAGs5D,IACZqR,EAAgBzB,EAAOlpE,IAK7B,OAAO,SAAU+qE,GACf,GAAIV,EAAaK,EAAgBK,EAAc/0B,KAC7C80B,EAAcC,EAAc7B,QACxB6B,EAAcC,QAAQ,CACxB,IAAIhrE,EACAouC,EAAM28B,EAAcC,OAAO9qE,OAC/B,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACpB+qE,EAAcC,OAAOhrE,GAAGkpE,QAC1B4B,EAAcC,EAAcC,OAAOhrE,GAAGkpE,UAjCjC,GAyCb+B,EAAc,WAChB,IAAIP,EAAiB,CAAC,EAAG,EAAG,IAC5B,OAAO,SAAUK,GACf,GAAIA,EAAcG,QAAUb,EAAaK,EAAgBK,EAAc/0B,GAAI,CACzE,IAAIh2C,EAEAqqB,EACAg/C,EACA8B,EACAC,EAJAh9B,EAAM28B,EAAcG,MAAMhrE,OAK9B,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB,GAAI+qE,EAAcG,MAAMlrE,GAAG0gB,MAAQqqD,EAAcG,MAAMlrE,GAAG0gB,KAAKupD,OAI7D,IAFAZ,GADA+B,EAAQL,EAAcG,MAAMlrE,GAAG0gB,KAAKupD,OAAO,GAAGjmB,IACjC9jD,OAERmqB,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,GACzB8gD,EAAWC,EAAM/gD,GAAG+/C,GAAGhgB,GACTihB,cACZxB,EAA6BuB,EAAM/gD,GAAG+/C,GAAGhgB,GACzC+gB,EAASE,aAAc,KAnBnB,GA4BdC,EAAuB,WACzB,IAAIZ,EAAiB,CAAC,EAAG,EAAG,IAE5B,SAASC,EAAgBC,GACvB,IAAIO,EAAWP,EAAUnrD,EAAEG,EACD,kBAAfurD,EAASjrD,IAClBirD,EAASjrD,EAAI,CACXA,EAAG,EACHkqC,EAAG+gB,EAASjrD,IAGU,kBAAfirD,EAASvrD,IAClBurD,EAASvrD,EAAI,CACXM,EAAG,EACHkqC,EAAG+gB,EAASvrD,IAGU,kBAAfurD,EAAS9/D,IAClB8/D,EAAS9/D,EAAI,CACX6U,EAAG,EACHkqC,EAAG+gB,EAAS9/D,IAKlB,SAASy/D,EAAc5B,GACrB,IAAIlpE,EACAouC,EAAM86B,EAAOhpE,OACjB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACH,IAAjBkpE,EAAOlpE,GAAGs5D,IACZqR,EAAgBzB,EAAOlpE,IAK7B,OAAO,SAAU+qE,GACf,GAAIV,EAAaK,EAAgBK,EAAc/0B,KAC7C80B,EAAcC,EAAc7B,QACxB6B,EAAcC,QAAQ,CACxB,IAAIhrE,EACAouC,EAAM28B,EAAcC,OAAO9qE,OAC/B,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACpB+qE,EAAcC,OAAOhrE,GAAGkpE,QAC1B4B,EAAcC,EAAcC,OAAOhrE,GAAGkpE,UA3CvB,GAmDvBqC,EAAe,WACjB,IAAIb,EAAiB,CAAC,EAAG,EAAG,GAE5B,SAASc,EAAcvB,GACrB,IAAIjqE,EAEAqqB,EACAg/C,EAFAj7B,EAAM67B,EAAO/pE,OAGjB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB,GAAqB,OAAjBiqE,EAAOjqE,GAAGs5D,GACZkS,EAAcvB,EAAOjqE,GAAGgkD,SACnB,GAAqB,OAAjBimB,EAAOjqE,GAAGs5D,IAAgC,OAAjB2Q,EAAOjqE,GAAGs5D,GAC5C,GAAI2Q,EAAOjqE,GAAG+kD,EAAEqF,GAAK6f,EAAOjqE,GAAG+kD,EAAEqF,EAAE,GAAGpqD,EAEpC,IADAqpE,EAAOY,EAAOjqE,GAAG+kD,EAAEqF,EAAElqD,OAChBmqB,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EACrB4/C,EAAOjqE,GAAG+kD,EAAEqF,EAAE//B,GAAG3K,IACnBuqD,EAAOjqE,GAAG+kD,EAAEqF,EAAE//B,GAAG3K,EAAE,IAAM,IACzBuqD,EAAOjqE,GAAG+kD,EAAEqF,EAAE//B,GAAG3K,EAAE,IAAM,IACzBuqD,EAAOjqE,GAAG+kD,EAAEqF,EAAE//B,GAAG3K,EAAE,IAAM,IACzBuqD,EAAOjqE,GAAG+kD,EAAEqF,EAAE//B,GAAG3K,EAAE,IAAM,KAEvBuqD,EAAOjqE,GAAG+kD,EAAEqF,EAAE//B,GAAGvK,IACnBmqD,EAAOjqE,GAAG+kD,EAAEqF,EAAE//B,GAAGvK,EAAE,IAAM,IACzBmqD,EAAOjqE,GAAG+kD,EAAEqF,EAAE//B,GAAGvK,EAAE,IAAM,IACzBmqD,EAAOjqE,GAAG+kD,EAAEqF,EAAE//B,GAAGvK,EAAE,IAAM,IACzBmqD,EAAOjqE,GAAG+kD,EAAEqF,EAAE//B,GAAGvK,EAAE,IAAM,UAI7BmqD,EAAOjqE,GAAG+kD,EAAEqF,EAAE,IAAM,IACpB6f,EAAOjqE,GAAG+kD,EAAEqF,EAAE,IAAM,IACpB6f,EAAOjqE,GAAG+kD,EAAEqF,EAAE,IAAM,IACpB6f,EAAOjqE,GAAG+kD,EAAEqF,EAAE,IAAM,IAM5B,SAAS0gB,EAAc5B,GACrB,IAAIlpE,EACAouC,EAAM86B,EAAOhpE,OACjB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACH,IAAjBkpE,EAAOlpE,GAAGs5D,IACZkS,EAActC,EAAOlpE,GAAGiqE,QAK9B,OAAO,SAAUc,GACf,GAAIV,EAAaK,EAAgBK,EAAc/0B,KAC7C80B,EAAcC,EAAc7B,QACxB6B,EAAcC,QAAQ,CACxB,IAAIhrE,EACAouC,EAAM28B,EAAcC,OAAO9qE,OAC/B,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACpB+qE,EAAcC,OAAOhrE,GAAGkpE,QAC1B4B,EAAcC,EAAcC,OAAOhrE,GAAGkpE,UAxD/B,GAgEfuC,EAAe,WACjB,IAAIf,EAAiB,CAAC,EAAG,EAAG,IAE5B,SAASgB,EAAsBnV,GAC7B,IAAIv2D,EAEAqqB,EACAg/C,EACJ,IAAKrpE,EAHKu2D,EAAIr2D,OAGC,EAAGF,GAAK,EAAGA,GAAK,EAC7B,GAAkB,OAAdu2D,EAAIv2D,GAAGs5D,GACT,GAAI/C,EAAIv2D,GAAGoqE,GAAGhgB,EAAEpqD,EACdu2D,EAAIv2D,GAAGoqE,GAAGhgB,EAAErF,EAAIwR,EAAIv2D,GAAGilE,YAGvB,IADAoE,EAAO9S,EAAIv2D,GAAGoqE,GAAGhgB,EAAElqD,OACdmqB,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EACrBksC,EAAIv2D,GAAGoqE,GAAGhgB,EAAE//B,GAAG3K,IACjB62C,EAAIv2D,GAAGoqE,GAAGhgB,EAAE//B,GAAG3K,EAAE,GAAGqlC,EAAIwR,EAAIv2D,GAAGilE,QAE7B1O,EAAIv2D,GAAGoqE,GAAGhgB,EAAE//B,GAAGvK,IACjBy2C,EAAIv2D,GAAGoqE,GAAGhgB,EAAE//B,GAAGvK,EAAE,GAAGilC,EAAIwR,EAAIv2D,GAAGilE,YAId,OAAd1O,EAAIv2D,GAAGs5D,IAChBoS,EAAsBnV,EAAIv2D,GAAGgkD,IAKnC,SAAS8mB,EAAc5B,GACrB,IAAIE,EACAppE,EAEAqqB,EACAg/C,EACAjf,EACAkf,EAJAl7B,EAAM86B,EAAOhpE,OAKjB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAAG,CAE3B,IADAopE,EAAYF,EAAOlpE,IACL0pE,QAAS,CACrB,IAAIC,EAAYP,EAAUQ,gBAE1B,IADAP,EAAOM,EAAUzpE,OACZmqB,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EACzB,GAAIs/C,EAAUt/C,GAAGmyC,GAAGpS,EAAEpqD,EACpB2pE,EAAUt/C,GAAGmyC,GAAGpS,EAAErF,EAAI4kB,EAAUt/C,GAAGshD,QAGnC,IADArC,EAAOK,EAAUt/C,GAAGmyC,GAAGpS,EAAElqD,OACpBkqD,EAAI,EAAGA,EAAIkf,EAAMlf,GAAK,EACrBuf,EAAUt/C,GAAGmyC,GAAGpS,EAAEA,GAAG1qC,IACvBiqD,EAAUt/C,GAAGmyC,GAAGpS,EAAEA,GAAG1qC,EAAE,GAAGqlC,EAAI4kB,EAAUt/C,GAAGshD,IAEzChC,EAAUt/C,GAAGmyC,GAAGpS,EAAEA,GAAGtqC,IACvB6pD,EAAUt/C,GAAGmyC,GAAGpS,EAAEA,GAAGtqC,EAAE,GAAGilC,EAAI4kB,EAAUt/C,GAAGshD,IAMhC,IAAjBvC,EAAU9P,IACZoS,EAAsBtC,EAAUa,SAKtC,OAAO,SAAUc,GACf,GAAIV,EAAaK,EAAgBK,EAAc/0B,KAC7C80B,EAAcC,EAAc7B,QACxB6B,EAAcC,QAAQ,CACxB,IAAIhrE,EACAouC,EAAM28B,EAAcC,OAAO9qE,OAC/B,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACpB+qE,EAAcC,OAAOhrE,GAAGkpE,QAC1B4B,EAAcC,EAAcC,OAAOhrE,GAAGkpE,UAxE/B,GA6FnB,SAASgB,EAAaxpD,GACI,IAApBA,EAAKjB,EAAES,EAAEhgB,QAAkB,MAAOwgB,EAAKjB,EAAEG,IAC3Cc,EAAKkrD,aAAc,GAIvB,IAAIC,EAAW,CACfA,aApBA,SAAsBd,GAChBA,EAAce,aAGlBP,EAAYR,GACZN,EAAUM,GACVE,EAAWF,GACXO,EAAoBP,GACpBU,EAAYV,GACZ9B,EAAe8B,EAAc7B,OAAQ6B,EAAcC,QACnDD,EAAce,YAAa,KAiB7B,OANAD,EAASN,YAAcA,EACvBM,EAASZ,WAAaA,EACtBY,EAASP,oBAAsBA,EAC/BO,EAASJ,YAAcA,EACvBI,EAAS5C,eAAiBA,EAEnB4C,EAGmBE,IAIvBvD,EAAYwD,cACfxD,EAAYwD,YAAe,WACzB,SAASC,EAAeC,GAGtB,IAAIC,EAAoBD,EAAIE,kBAAkB,gBAC9C,OAAID,GAA0C,SAArBD,EAAIG,eAAkE,IAAvCF,EAAkBrrE,QAAQ,SAG9EorE,EAAII,UAAoC,kBAAjBJ,EAAII,SAFtBJ,EAAII,SAIPJ,EAAII,UAAoC,kBAAjBJ,EAAII,SACxBzd,KAAKx1B,MAAM6yC,EAAII,UAClBJ,EAAIK,aACD1d,KAAKx1B,MAAM6yC,EAAIK,cAEjB,KAmCT,MAAO,CACLvqE,KAjCF,SAAmB6H,EAAM2iE,EAAU7tD,EAAU8tD,GAC3C,IAAIH,EACAJ,EAAM,IAAIna,eAEd,IAEEma,EAAIG,aAAe,OACnB,MAAO7wC,IACT0wC,EAAIQ,mBAAqB,WACvB,GAAuB,IAAnBR,EAAIS,WACN,GAAmB,MAAfT,EAAIvqE,OACN2qE,EAAWL,EAAeC,GAC1BvtD,EAAS2tD,QAET,IACEA,EAAWL,EAAeC,GAC1BvtD,EAAS2tD,GACT,MAAO9wC,GACHixC,GACFA,EAAcjxC,KAMxB,IACE0wC,EAAInhB,KAAK,MAAOlhD,GAAM,GACtB,MAAOpH,GACPypE,EAAInhB,KAAK,MAAOyhB,EAAW,IAAM3iE,GAAM,GAEzCqiE,EAAIU,SAhDmB,IAwDT,kBAAhB9sD,EAAEY,KAAKnE,KACTisD,EAAYwD,YAAYhqE,KACtB8d,EAAEY,KAAK7W,KACPiW,EAAEY,KAAK8rD,UACP,SAAU9rD,GACR8nD,EAAYR,YAAY6E,aAAansD,GACrC8nD,EAAYD,YAAY,CACtB36D,GAAIkS,EAAEY,KAAK9S,GACXk/D,QAASpsD,EACT/e,OAAQ,eAGZ,WACE6mE,EAAYD,YAAY,CACtB36D,GAAIkS,EAAEY,KAAK9S,GACXjM,OAAQ,kBAIT,GAAoB,aAAhBme,EAAEY,KAAKnE,KAAqB,CACrC,IAAIwiC,EAAYj/B,EAAEY,KAAKq+B,UACvBypB,EAAYR,YAAY6E,aAAa9tB,GACrCypB,EAAYD,YAAY,CACtB36D,GAAIkS,EAAEY,KAAK9S,GACXk/D,QAAS/tB,EACTp9C,OAAQ,gBAEe,aAAhBme,EAAEY,KAAKnE,MAChBisD,EAAYwD,YAAYhqE,KACtB8d,EAAEY,KAAK7W,KACPiW,EAAEY,KAAK8rD,UACP,SAAU9rD,GACR8nD,EAAYD,YAAY,CACtB36D,GAAIkS,EAAEY,KAAK9S,GACXk/D,QAASpsD,EACT/e,OAAQ,eAGZ,WACE6mE,EAAYD,YAAY,CACtB36D,GAAIkS,EAAEY,KAAK9S,GACXjM,OAAQ,gBAOlBumE,EAAeI,UAAY,SAAU/lE,GACnC,IAAIme,EAAOne,EAAMme,KACb9S,EAAK8S,EAAK9S,GACVrE,EAAU6+D,EAAUx6D,GACxBw6D,EAAUx6D,GAAM,KACI,YAAhB8S,EAAK/e,OACP4H,EAAQ2S,WAAWwE,EAAKosD,SACfvjE,EAAQlI,SACjBkI,EAAQlI,YAMhB,SAAS0rE,EAAc7wD,EAAY7a,GAEjC,IAAIuM,EAAK,cADTu6D,GAAc,GAMd,OAJAC,EAAUx6D,GAAM,CACdsO,WAAYA,EACZ7a,QAASA,GAEJuM,EAmCT,MAAO,CACLo/D,cAjCF,SAAuBnjE,EAAMqS,EAAY7a,GACvConE,IACA,IAAIwE,EAAYF,EAAc7wD,EAAY7a,GAC1C6mE,EAAeK,YAAY,CACzBhsD,KAAM,gBACN1S,KAAMA,EACN2iE,SAAU1iE,OAAOojE,SAASC,OAASrjE,OAAOojE,SAASE,SACnDx/D,GAAIq/D,KA2BNI,SAvBF,SAAkBxjE,EAAMqS,EAAY7a,GAClConE,IACA,IAAIwE,EAAYF,EAAc7wD,EAAY7a,GAC1C6mE,EAAeK,YAAY,CACzBhsD,KAAM,WACN1S,KAAMA,EACN2iE,SAAU1iE,OAAOojE,SAASC,OAASrjE,OAAOojE,SAASE,SACnDx/D,GAAIq/D,KAiBNK,kBAbF,SAA2BC,EAAMrxD,EAAY7a,GAC3ConE,IACA,IAAIwE,EAAYF,EAAc7wD,EAAY7a,GAC1C6mE,EAAeK,YAAY,CACzBhsD,KAAM,WACNwiC,UAAWwuB,EACX3/D,GAAIq/D,MAvmBS,GAonBnB,SAASO,kBAAkBC,GAOzB,IANA,IAAI3nE,EAAS2nE,EAASC,OAASD,EAASC,OAAOloE,MAAM,KAAO,GAExDmoE,EAAU,SACZD,EAAS,SACPt/B,EAAMtoC,EAAO5F,OAERF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAE5B,OADY8F,EAAO9F,GAAG0nC,eAEpB,IAAK,SACHgmC,EAAS,SACT,MACF,IAAK,OACHC,EAAU,MACV,MACF,IAAK,QACHA,EAAU,MACV,MACF,IAAK,SACHA,EAAU,MACV,MACF,IAAK,UACL,IAAK,SACHA,EAAU,MACV,MACF,IAAK,QACL,IAAK,OACHA,EAAU,MAOhB,MAAO,CACLpyD,MAAOmyD,EACPE,OAAQH,EAASE,SAAWA,GAOhC,IAAIE,YAAe,WACjB,IACIC,EAAY,CACd7hE,EAAG,EACHhD,KAAM,EACNghE,OAAQ,IAEN8D,EAAqB,GAEzBA,EAAqBA,EAAmBtiD,OAAO,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAC9F,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KACxE,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,OAE9D,IAAIuiD,EAAqB,CACvB,WACA,WACA,WACA,WACA,YAGEC,EAAkB,CAAC,MAAO,MAe9B,SAASC,EAAUC,EAAMC,GACvB,IAAIhnD,EAAayvC,UAAU,QAE3BzvC,EAAW6Q,aAAa,eAAe,GACvC7Q,EAAW7L,MAAM8yD,WAAaD,EAC9B,IAAI33D,EAAOogD,UAAU,QAErBpgD,EAAK63D,UAAY,iBAEjBlnD,EAAW7L,MAAM5W,SAAW,WAC5ByiB,EAAW7L,MAAM6D,KAAO,WACxBgI,EAAW7L,MAAM4D,IAAM,WAEvBiI,EAAW7L,MAAM8B,SAAW,QAE5B+J,EAAW7L,MAAMgzD,YAAc,SAC/BnnD,EAAW7L,MAAMizD,UAAY,SAC7BpnD,EAAW7L,MAAM9U,WAAa,SAC9B2gB,EAAW7L,MAAMkzD,cAAgB,IACjCrnD,EAAWoR,YAAY/hB,GACvB1M,SAASilB,KAAKwJ,YAAYpR,GAG1B,IAAI/jB,EAAQoT,EAAK0wB,YAEjB,OADA1wB,EAAK8E,MAAM8yD,WArCb,SAAyBF,GACvB,IACInuE,EADA0uE,EAAcP,EAAK3oE,MAAM,KAEzB4oC,EAAMsgC,EAAYxuE,OAClByuE,EAAkB,GACtB,IAAK3uE,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACD,eAAnB0uE,EAAY1uE,IAA0C,cAAnB0uE,EAAY1uE,IACjD2uE,EAAgBhuD,KAAK+tD,EAAY1uE,IAGrC,OAAO2uE,EAAgB1kE,KAAK,KA2BJ2kE,CAAgBT,GAAQ,KAAOC,EAChD,CAAE33D,KAAMA,EAAMxK,EAAG5I,EAAOmoB,OAAQpE,GA0CzC,SAASynD,EAAaviB,EAAKmhB,GACzB,IAAIqB,EAAUnY,SAAS,QACvBmY,EAAQvzD,MAAM8B,SAAW,QAGzB,IAAI0xD,EAAYvB,kBAAkBC,GAelC,OAdAqB,EAAQ72C,aAAa,cAAew1C,EAASuB,SAC7CF,EAAQ72C,aAAa,aAAc82C,EAAUxzD,OAC7CuzD,EAAQ72C,aAAa,cAAe82C,EAAUnB,QAC9CkB,EAAQ9zD,YAAc,IAClByyD,EAASwB,QACXH,EAAQvzD,MAAM8yD,WAAa,UAC3BS,EAAQ72C,aAAa,QAASw1C,EAASwB,SAEvCH,EAAQvzD,MAAM8yD,WAAaZ,EAASuB,QAEtC1iB,EAAI9zB,YAAYs2C,GACIjY,UAAU,UAAUqY,WAAW,MACrCf,KAAOV,EAASE,QAAU,IAAMF,EAASC,OAAS,UAAYD,EAASuB,QAE9EF,EAsMT,IAAIK,EAAO,WACT1uE,KAAK2uE,MAAQ,GACb3uE,KAAKyqE,MAAQ,KACbzqE,KAAK4uE,cAAgB,EACrB5uE,KAAKi+C,UAAW,EAChBj+C,KAAK6uE,SAAU,EACf7uE,KAAK8uE,SAAWjQ,KAAKkQ,MACrB/uE,KAAKgvE,kBAAoBhvE,KAAKivE,YAAY/nD,KAAKlnB,MAC/CA,KAAKkvE,uBAAyBlvE,KAAKmvE,iBAAiBjoD,KAAKlnB,OAE3D0uE,EAAKU,WA9BL,SAAoBC,EAAeC,GACjC,IAAIC,EAAMF,EAAcr8C,SAAS,IAAMs8C,EAAet8C,SAAS,IAC/D,OAA4C,IAArCu6C,EAAmBltE,QAAQkvE,IA6BpCb,EAAKc,kBA1BL,SAA2BH,EAAeC,GACxC,OAAKA,EAGED,IAAkB7B,EAAgB,IAAM8B,IAAmB9B,EAAgB,GAFzE6B,IAAkB7B,EAAgB,IAyB7CkB,EAAKe,oBApBL,SAA6BC,GAC3B,OAA6C,IAAtCpC,EAAmBjtE,QAAQqvE,IAqBpC,IAAIC,EAAgB,CAClBC,SAtHF,SAAkBnF,GAChB,GAAKA,EAAL,CAMA,IAAIlrE,EAHCS,KAAKyqE,QACRzqE,KAAKyqE,MAAQ,IAGf,IACI7gD,EAEAimD,EAHAliC,EAAM88B,EAAMhrE,OAEZmpE,EAAO5oE,KAAKyqE,MAAMhrE,OAEtB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAAG,CAG3B,IAFAqqB,EAAI,EACJimD,GAAQ,EACDjmD,EAAIg/C,GACL5oE,KAAKyqE,MAAM7gD,GAAG9O,QAAU2vD,EAAMlrE,GAAGub,OAAS9a,KAAKyqE,MAAM7gD,GAAG2kD,UAAY9D,EAAMlrE,GAAGgvE,SAAWvuE,KAAKyqE,MAAM7gD,GAAGkmD,KAAOrF,EAAMlrE,GAAGuwE,KACxHD,GAAQ,GAEVjmD,GAAK,EAEFimD,IACH7vE,KAAKyqE,MAAMvqD,KAAKuqD,EAAMlrE,IACtBqpE,GAAQ,MAgGZmH,SAnNF,SAAkB/C,EAAUgD,GAC1B,GAAKhD,EAAL,CAIA,GAAIhtE,KAAKyqE,MAGP,OAFAzqE,KAAKi+C,UAAW,OAChBj+C,KAAK2uE,MAAQ3B,EAAS3xD,MAIxB,IACI9b,EADA0wE,EAAUjD,EAAS3xD,KAEnBsyB,EAAMsiC,EAAQxwE,OACdywE,EAAgBviC,EACpB,IAAKpuC,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAAG,CAC3B,IACI4wE,EACAvmD,EAFAwmD,GAAiB,EAMrB,GAHAH,EAAQ1wE,GAAG8wE,QAAS,EACpBJ,EAAQ1wE,GAAG+wE,SAAW7C,EAAUwC,EAAQ1wE,GAAGgvE,QAAS,aACpD0B,EAAQ1wE,GAAGgxE,SAAW9C,EAAUwC,EAAQ1wE,GAAGgvE,QAAS,cAC/C0B,EAAQ1wE,GAAGixE,OAGT,GAA2B,MAAvBP,EAAQ1wE,GAAGkxE,SAAyC,IAAtBR,EAAQ1wE,GAAGmtE,QAOlD,IANAyD,EAAiB7mE,SAAS4gB,iBAAiB,kCAAoC+lD,EAAQ1wE,GAAGgvE,QAAU,qCAAuC0B,EAAQ1wE,GAAGgvE,QAAU,OAE7I9uE,OAAS,IAC1B2wE,GAAiB,GAGfA,EAAgB,CAClB,IAAInxD,EAAIm3C,UAAU,SAClBn3C,EAAEuY,aAAa,YAAay4C,EAAQ1wE,GAAGkxE,SACvCxxD,EAAEuY,aAAa,WAAYy4C,EAAQ1wE,GAAGmtE,QACtCztD,EAAEuY,aAAa,WAAYy4C,EAAQ1wE,GAAGgvE,SACtCtvD,EAAEnD,KAAO,WACTmD,EAAE4uD,UAAY,4BAA8BoC,EAAQ1wE,GAAGgvE,QAAU,mCAAqC0B,EAAQ1wE,GAAGixE,MAAQ,OACzHR,EAAKj4C,YAAY9Y,SAEd,GAA2B,MAAvBgxD,EAAQ1wE,GAAGkxE,SAAyC,IAAtBR,EAAQ1wE,GAAGmtE,OAAc,CAGhE,IAFAyD,EAAiB7mE,SAAS4gB,iBAAiB,2CAEtCN,EAAI,EAAGA,EAAIumD,EAAe1wE,OAAQmqB,GAAK,GACgB,IAAtDumD,EAAevmD,GAAG8mD,KAAKrwE,QAAQ4vE,EAAQ1wE,GAAGixE,SAE5CJ,GAAiB,GAIrB,GAAIA,EAAgB,CAClB,IAAIzmD,EAAIysC,UAAU,QAClBzsC,EAAE6N,aAAa,YAAay4C,EAAQ1wE,GAAGkxE,SACvC9mD,EAAE6N,aAAa,WAAYy4C,EAAQ1wE,GAAGmtE,QACtC/iD,EAAE7N,KAAO,WACT6N,EAAEgnD,IAAM,aACRhnD,EAAE+mD,KAAOT,EAAQ1wE,GAAGixE,MACpBlnE,SAASilB,KAAKwJ,YAAYpO,SAEvB,GAA2B,MAAvBsmD,EAAQ1wE,GAAGkxE,SAAyC,IAAtBR,EAAQ1wE,GAAGmtE,OAAc,CAGhE,IAFAyD,EAAiB7mE,SAAS4gB,iBAAiB,+CAEtCN,EAAI,EAAGA,EAAIumD,EAAe1wE,OAAQmqB,GAAK,EACtCqmD,EAAQ1wE,GAAGixE,QAAUL,EAAevmD,GAAGnpB,MAEzC2vE,GAAiB,GAIrB,GAAIA,EAAgB,CAClB,IAAIQ,EAAKxa,UAAU,QACnBwa,EAAGp5C,aAAa,YAAay4C,EAAQ1wE,GAAGkxE,SACxCG,EAAGp5C,aAAa,WAAYy4C,EAAQ1wE,GAAGmtE,QACvCkE,EAAGp5C,aAAa,MAAO,cACvBo5C,EAAGp5C,aAAa,OAAQy4C,EAAQ1wE,GAAGixE,OACnCR,EAAKj4C,YAAY64C,UArDnBX,EAAQ1wE,GAAG8wE,QAAS,EACpBH,GAAiB,EAuDnBD,EAAQ1wE,GAAGsxE,OAASzC,EAAa4B,EAAMC,EAAQ1wE,IAC/C0wE,EAAQ1wE,GAAGyJ,MAAQ,GACnBhJ,KAAK2uE,MAAMzuD,KAAK+vD,EAAQ1wE,IAEJ,IAAlB2wE,EACFlwE,KAAKi+C,UAAW,EAIhB7qC,WAAWpT,KAAKmvE,iBAAiBjoD,KAAKlnB,MAAO,UAtF7CA,KAAKi+C,UAAW,GAkNlB6yB,YA5FF,SAAqBpB,EAAM50D,EAAO4yD,GAGhC,IAFA,IAAInuE,EAAI,EACJouC,EAAM3tC,KAAKyqE,MAAMhrE,OACdF,EAAIouC,GAAK,CACd,GAAI3tC,KAAKyqE,MAAMlrE,GAAGuwE,KAAOJ,GAAQ1vE,KAAKyqE,MAAMlrE,GAAGub,QAAUA,GAAS9a,KAAKyqE,MAAMlrE,GAAGgvE,UAAYb,EAC1F,OAAO1tE,KAAKyqE,MAAMlrE,GAEpBA,GAAK,EAUP,OARsB,kBAATmwE,GAA4C,KAAvBA,EAAKljB,WAAW,KAAekjB,IACtD3hD,SACAA,QAAQ4F,OACP3zB,KAAK6uE,UAEf7uE,KAAK6uE,SAAU,EACf9gD,QAAQ4F,KAAK,oDAAqD+7C,EAAM50D,EAAO4yD,IAE1EL,GA4EP0D,cAlDF,SAAuBlsE,GAGrB,IAFA,IAAItF,EAAI,EACJouC,EAAM3tC,KAAK2uE,MAAMlvE,OACdF,EAAIouC,GAAK,CACd,GAAI3tC,KAAK2uE,MAAMpvE,GAAGyxE,QAAUnsE,EAC1B,OAAO7E,KAAK2uE,MAAMpvE,GAEpBA,GAAK,EAEP,OAAOS,KAAK2uE,MAAM,IA0ClBsC,YA1EF,SAAqBvB,EAAMwB,EAAU1oE,GACnC,IAAIwkE,EAAWhtE,KAAK+wE,cAAcG,GAC9B9oE,EAAQsnE,EAAKljB,WAAW,GAC5B,IAAKwgB,EAAShkE,MAAMZ,EAAQ,GAAI,CAC9B,IAAIimE,EAAUrB,EAAS6D,OAKvB,GAAa,MAATnB,EAAc,CAChBrB,EAAQ9zD,YAAc,IAAMm1D,EAAO,IACnC,IAAIyB,EAAa9C,EAAQ+C,wBACzB/C,EAAQ9zD,YAAc,KACtB,IAAI82D,EAAahD,EAAQ+C,wBACzBpE,EAAShkE,MAAMZ,EAAQ,IAAM+oE,EAAaE,GAAc,SAExDhD,EAAQ9zD,YAAcm1D,EACtB1C,EAAShkE,MAAMZ,EAAQ,GAAMimE,EAAQ+C,wBAA2B,IAGpE,OAAOpE,EAAShkE,MAAMZ,EAAQ,GAAKI,GAuDnC2mE,iBArRF,WACE,IAAI5vE,EAEAyW,EACAxK,EAFAmiC,EAAM3tC,KAAK2uE,MAAMlvE,OAGjB6xE,EAAc3jC,EAClB,IAAKpuC,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACpBS,KAAK2uE,MAAMpvE,GAAG8wE,OAChBiB,GAAe,EACoB,MAA1BtxE,KAAK2uE,MAAMpvE,GAAGkxE,SAA4C,IAAzBzwE,KAAK2uE,MAAMpvE,GAAGmtE,OACxD1sE,KAAK2uE,MAAMpvE,GAAG8wE,QAAS,GAEvBr6D,EAAOhW,KAAK2uE,MAAMpvE,GAAG+wE,SAASt6D,KAC9BxK,EAAIxL,KAAK2uE,MAAMpvE,GAAG+wE,SAAS9kE,EACvBwK,EAAK0wB,cAAgBl7B,GACvB8lE,GAAe,EACftxE,KAAK2uE,MAAMpvE,GAAG8wE,QAAS,IAEvBr6D,EAAOhW,KAAK2uE,MAAMpvE,GAAGgxE,SAASv6D,KAC9BxK,EAAIxL,KAAK2uE,MAAMpvE,GAAGgxE,SAAS/kE,EACvBwK,EAAK0wB,cAAgBl7B,IACvB8lE,GAAe,EACftxE,KAAK2uE,MAAMpvE,GAAG8wE,QAAS,IAGvBrwE,KAAK2uE,MAAMpvE,GAAG8wE,SAChBrwE,KAAK2uE,MAAMpvE,GAAGgxE,SAASxlD,OAAOpE,WAAW0R,YAAYr4B,KAAK2uE,MAAMpvE,GAAGgxE,SAASxlD,QAC5E/qB,KAAK2uE,MAAMpvE,GAAG+wE,SAASvlD,OAAOpE,WAAW0R,YAAYr4B,KAAK2uE,MAAMpvE,GAAG+wE,SAASvlD,UAK9D,IAAhBumD,GAAqBzS,KAAKkQ,MAAQ/uE,KAAK8uE,SA/FxB,IAgGjB17D,WAAWpT,KAAKkvE,uBAAwB,IAExC97D,WAAWpT,KAAKgvE,kBAAmB,KAmPrCC,YAzBF,WACEjvE,KAAKi+C,UAAW,IA6BlB,OAFAywB,EAAK9uE,UAAY+vE,EAEVjB,EA3VU,GAiWf6C,gBAAmB,WACrB,IAAIC,EAAY7f,oBACZ8f,EAAU1oD,KAAKC,IAEnB,SAAS0oD,EAAiBC,EAAUC,GAClC,IACIvzD,EADAwzD,EAAa7xE,KAAK6xE,WAEA,qBAAlB7xE,KAAK8xE,WACPzzD,EAAWu3C,iBAAiB,UAAW51D,KAAK+xE,GAAGtyE,SAUjD,IARA,IAIIuyE,EACAC,EACAC,EAyBAvoB,EACAkf,EACAjG,EACAgG,EACAh/C,EACAuoD,EApCAC,EAAiBR,EAAQzpD,UACzB5oB,EAAI6yE,EACJzkC,EAAM3tC,KAAKw9C,UAAU/9C,OAAS,EAC9B0zD,GAAO,EAKJA,GAAM,CAGX,GAFA6e,EAAUhyE,KAAKw9C,UAAUj+C,GACzB0yE,EAAcjyE,KAAKw9C,UAAUj+C,EAAI,GAC7BA,IAAMouC,EAAM,GAAKgkC,GAAYM,EAAYjzD,EAAI6yD,EAAY,CACvDG,EAAQvmE,IACVumE,EAAUC,GAEZG,EAAiB,EACjB,MAEF,GAAKH,EAAYjzD,EAAI6yD,EAAcF,EAAU,CAC3CS,EAAiB7yE,EACjB,MAEEA,EAAIouC,EAAM,EACZpuC,GAAK,GAEL6yE,EAAiB,EACjBjf,GAAO,GAGX+e,EAAmBlyE,KAAKqyE,kBAAkB9yE,IAAM,GAQhD,IAEI+yE,EAFAC,EAAcN,EAAYjzD,EAAI6yD,EAC9BW,EAAUR,EAAQhzD,EAAI6yD,EAE1B,GAAIG,EAAQt0B,GAAI,CACTw0B,EAAiBpO,aACpBoO,EAAiBpO,WAAawD,IAAI3D,gBAAgBqO,EAAQ/yD,EAAGgzD,EAAYhzD,GAAK+yD,EAAQ3yD,EAAG2yD,EAAQt0B,GAAIs0B,EAAQS,KAE/G,IAAI3O,EAAaoO,EAAiBpO,WAClC,GAAI6N,GAAYY,GAAeZ,EAAWa,EAAS,CACjD,IAAIE,EAAMf,GAAYY,EAAczO,EAAWr2D,OAAOhO,OAAS,EAAI,EAEnE,IADAopE,EAAO/E,EAAWr2D,OAAOilE,GAAKjlB,MAAMhuD,OAC/BkqD,EAAI,EAAGA,EAAIkf,EAAMlf,GAAK,EACzBtrC,EAASsrC,GAAKma,EAAWr2D,OAAOilE,GAAKjlB,MAAM9D,OAGxC,CACDuoB,EAAiBS,OACnBR,EAAMD,EAAiBS,QAEvBR,EAAM5S,cAAcqT,gBAAgBZ,EAAQtZ,EAAE7rD,EAAGmlE,EAAQtZ,EAAE5rD,EAAGklE,EAAQzyE,EAAEsN,EAAGmlE,EAAQzyE,EAAEuN,EAAGklE,EAAQ9yD,GAAG+H,IACnGirD,EAAiBS,OAASR,GAE5BvP,EAAOuP,GAAKR,EAAWa,IAAYD,EAAcC,IACjD,IAEIK,EAFAC,EAAiBhP,EAAWP,cAAgBX,EAG5CG,EAAe6O,EAAQmB,UAAYpB,GAAYC,EAAQoB,qBAAuBzzE,EAAKqyE,EAAQqB,iBAAmB,EAIlH,IAHArpD,EAAKgoD,EAAQmB,UAAYpB,GAAYC,EAAQoB,qBAAuBzzE,EAAKqyE,EAAQsB,WAAa,EAC9F/f,GAAO,EACPyV,EAAO9E,EAAWr2D,OAAOhO,OAClB0zD,GAAM,CAEX,GADA4P,GAAee,EAAWr2D,OAAOmc,GAAG85C,cACb,IAAnBoP,GAAiC,IAATlQ,GAAch5C,IAAMk6C,EAAWr2D,OAAOhO,OAAS,EAAG,CAE5E,IADAopE,EAAO/E,EAAWr2D,OAAOmc,GAAG6jC,MAAMhuD,OAC7BkqD,EAAI,EAAGA,EAAIkf,EAAMlf,GAAK,EACzBtrC,EAASsrC,GAAKma,EAAWr2D,OAAOmc,GAAG6jC,MAAM9D,GAE3C,MACK,GAAImpB,GAAkB/P,GAAe+P,EAAiB/P,EAAce,EAAWr2D,OAAOmc,EAAI,GAAG85C,cAAe,CAGjH,IAFAmP,GAAeC,EAAiB/P,GAAee,EAAWr2D,OAAOmc,EAAI,GAAG85C,cACxEmF,EAAO/E,EAAWr2D,OAAOmc,GAAG6jC,MAAMhuD,OAC7BkqD,EAAI,EAAGA,EAAIkf,EAAMlf,GAAK,EACzBtrC,EAASsrC,GAAKma,EAAWr2D,OAAOmc,GAAG6jC,MAAM9D,IAAMma,EAAWr2D,OAAOmc,EAAI,GAAG6jC,MAAM9D,GAAKma,EAAWr2D,OAAOmc,GAAG6jC,MAAM9D,IAAMkpB,EAEtH,MAEEjpD,EAAIg/C,EAAO,EACbh/C,GAAK,EAELupC,GAAO,EAGXye,EAAQsB,WAAatpD,EACrBgoD,EAAQqB,iBAAmBlQ,EAAce,EAAWr2D,OAAOmc,GAAG85C,cAC9DkO,EAAQoB,mBAAqBzzE,OAE1B,CACL,IAAI4zE,EACAC,EACAC,EACAC,EACAC,EAGJ,GAFA5lC,EAAMqkC,EAAQ/yD,EAAExf,OAChB6yE,EAAWL,EAAYhzD,GAAK+yD,EAAQ3yD,EAChCrf,KAAKwzE,IAAoB,IAAdxB,EAAQvmE,EACjBkmE,GAAYY,GACdl0D,EAAS,GAAKi0D,EAAS,GACvBj0D,EAAS,GAAKi0D,EAAS,GACvBj0D,EAAS,GAAKi0D,EAAS,IACdX,GAAYa,GACrBn0D,EAAS,GAAK2zD,EAAQ/yD,EAAE,GACxBZ,EAAS,GAAK2zD,EAAQ/yD,EAAE,GACxBZ,EAAS,GAAK2zD,EAAQ/yD,EAAE,IAqGhC,SAA2BimC,EAAKuuB,GAC9B,IAAIC,EAAKD,EAAK,GACVE,EAAKF,EAAK,GACVG,EAAKH,EAAK,GACVI,EAAKJ,EAAK,GACVK,EAAU/qD,KAAKgrD,MAAM,EAAIJ,EAAKE,EAAK,EAAIH,EAAKE,EAAI,EAAI,EAAID,EAAKA,EAAK,EAAIC,EAAKA,GAC3EI,EAAWjrD,KAAKkrD,KAAK,EAAIP,EAAKC,EAAK,EAAIC,EAAKC,GAC5CK,EAAOnrD,KAAKgrD,MAAM,EAAIL,EAAKG,EAAK,EAAIF,EAAKC,EAAI,EAAI,EAAIF,EAAKA,EAAK,EAAIE,EAAKA,GAC5E1uB,EAAI,GAAK4uB,EAAU/gB,UACnB7N,EAAI,GAAK8uB,EAAWjhB,UACpB7N,EAAI,GAAKgvB,EAAOnhB,UA1GVohB,CAAkB91D,EAsD1B,SAAeoB,EAAG2K,EAAGpL,GACnB,IAUIo1D,EACAC,EACAC,EACAC,EACAC,EAdAtvB,EAAM,GACNmT,EAAK54C,EAAE,GACP64C,EAAK74C,EAAE,GACPg1D,EAAKh1D,EAAE,GACPi1D,EAAKj1D,EAAE,GACPk1D,EAAKvqD,EAAE,GACPwqD,EAAKxqD,EAAE,GACPyqD,EAAKzqD,EAAE,GACP0qD,EAAK1qD,EAAE,GA8BX,OAtBAiqD,EAAQhc,EAAKsc,EAAKrc,EAAKsc,EAAKH,EAAKI,EAAKH,EAAKI,GAC/B,IACVT,GAASA,EACTM,GAAMA,EACNC,GAAMA,EACNC,GAAMA,EACNC,GAAMA,GAEH,EAAMT,EAAS,MAClBD,EAAQrrD,KAAKgsD,KAAKV,GAClBC,EAAQvrD,KAAKuuC,IAAI8c,GACjBG,EAASxrD,KAAKuuC,KAAK,EAAMt4C,GAAKo1D,GAASE,EACvCE,EAASzrD,KAAKuuC,IAAIt4C,EAAIo1D,GAASE,IAE/BC,EAAS,EAAMv1D,EACfw1D,EAASx1D,GAEXkmC,EAAI,GAAKqvB,EAASlc,EAAKmc,EAASG,EAChCzvB,EAAI,GAAKqvB,EAASjc,EAAKkc,EAASI,EAChC1vB,EAAI,GAAKqvB,EAASE,EAAKD,EAASK,EAChC3vB,EAAI,GAAKqvB,EAASG,EAAKF,EAASM,EAEzB5vB,EA7F2B8vB,CAHZC,EAAiBjD,EAAQ/yD,GAC3Bg2D,EAAiB3C,IACnBX,EAAWa,IAAYD,EAAcC,UAInD,IAAKjzE,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACN,IAAdyyE,EAAQvmE,IACNkmE,GAAYY,EACd3P,EAAO,EACE+O,EAAWa,EACpB5P,EAAO,GAEHoP,EAAQtZ,EAAE7rD,EAAE+X,cAAgB/a,OACzBqoE,EAAiBS,SACpBT,EAAiBS,OAAS,IAEvBT,EAAiBS,OAAOpzE,GAQ3B4yE,EAAMD,EAAiBS,OAAOpzE,IAP9B4zE,OAA0B9vE,IAAnB2uE,EAAQtZ,EAAE7rD,EAAEtN,GAAmByyE,EAAQtZ,EAAE7rD,EAAE,GAAKmlE,EAAQtZ,EAAE7rD,EAAEtN,GACnE6zE,OAA0B/vE,IAAnB2uE,EAAQtZ,EAAE5rD,EAAEvN,GAAmByyE,EAAQtZ,EAAE5rD,EAAE,GAAKklE,EAAQtZ,EAAE5rD,EAAEvN,GACnE8zE,OAAyBhwE,IAAnB2uE,EAAQzyE,EAAEsN,EAAEtN,GAAmByyE,EAAQzyE,EAAEsN,EAAE,GAAKmlE,EAAQzyE,EAAEsN,EAAEtN,GAClE+zE,OAAyBjwE,IAAnB2uE,EAAQzyE,EAAEuN,EAAEvN,GAAmByyE,EAAQzyE,EAAEuN,EAAE,GAAKklE,EAAQzyE,EAAEuN,EAAEvN,GAClE4yE,EAAM5S,cAAcqT,gBAAgBO,EAAMC,EAAMC,EAAKC,GAAKrsD,IAC1DirD,EAAiBS,OAAOpzE,GAAK4yE,IAIrBD,EAAiBS,OAQ3BR,EAAMD,EAAiBS,QAPvBQ,EAAOnB,EAAQtZ,EAAE7rD,EACjBumE,EAAOpB,EAAQtZ,EAAE5rD,EACjBumE,EAAMrB,EAAQzyE,EAAEsN,EAChBymE,EAAMtB,EAAQzyE,EAAEuN,EAChBqlE,EAAM5S,cAAcqT,gBAAgBO,EAAMC,EAAMC,EAAKC,GAAKrsD,IAC1D+qD,EAAQE,iBAAmBC,GAI7BvP,EAAOuP,GAAKR,EAAWa,IAAYD,EAAcC,MAIrDF,EAAWL,EAAYhzD,GAAK+yD,EAAQ3yD,EACpCk0D,EAAyB,IAAdvB,EAAQvmE,EAAUumE,EAAQ/yD,EAAE1f,GAAKyyE,EAAQ/yD,EAAE1f,IAAM+yE,EAAS/yE,GAAKyyE,EAAQ/yD,EAAE1f,IAAMqjE,EAEpE,qBAAlB5iE,KAAK8xE,SACPzzD,EAAS9e,GAAKg0E,EAEdl1D,EAAWk1D,EAMnB,OADA3B,EAAQzpD,UAAYiqD,EACb/zD,EA2DT,SAAS42D,EAAiB76D,GACxB,IAAI05D,EAAU15D,EAAO,GAAK24C,UACtBihB,EAAW55D,EAAO,GAAK24C,UACvBmhB,EAAO95D,EAAO,GAAK24C,UACnBoH,EAAKpxC,KAAKquC,IAAI0c,EAAU,GACxB7a,EAAKlwC,KAAKquC,IAAI4c,EAAW,GACzBkB,EAAKnsD,KAAKquC,IAAI8c,EAAO,GACrBiB,EAAKpsD,KAAKuuC,IAAIwc,EAAU,GACxBsB,EAAKrsD,KAAKuuC,IAAI0c,EAAW,GACzBqB,EAAKtsD,KAAKuuC,IAAI4c,EAAO,GAMzB,MAAO,CAJCiB,EAAKC,EAAKF,EAAK/a,EAAKlB,EAAKoc,EACzBF,EAAKlc,EAAKic,EAAK/a,EAAKib,EAAKC,EACzBlb,EAAKib,EAAKF,EAAKC,EAAKlc,EAAKoc,EAHzBlb,EAAKlB,EAAKic,EAAKC,EAAKC,EAAKC,GAQnC,SAASC,IACP,IAAI3D,EAAW3xE,KAAKu1E,KAAKC,cAAgBx1E,KAAK6xE,WAC1C/C,EAAW9uE,KAAKw9C,UAAU,GAAGx+B,EAAIhf,KAAK6xE,WACtC4D,EAAUz1E,KAAKw9C,UAAUx9C,KAAKw9C,UAAU/9C,OAAS,GAAGuf,EAAIhf,KAAK6xE,WACjE,KAAMF,IAAa3xE,KAAK01E,SAAS3C,WAAc/yE,KAAK01E,SAAS3C,YAAcvB,IAAexxE,KAAK01E,SAAS3C,WAAa0C,GAAW9D,GAAY8D,GAAaz1E,KAAK01E,SAAS3C,UAAYjE,GAAY6C,EAAW7C,IAAc,CAClN9uE,KAAK01E,SAAS3C,WAAapB,IAC7B3xE,KAAK01E,SAAS1C,oBAAsB,EACpChzE,KAAK01E,SAASvtD,UAAY,GAG5B,IAAIwtD,EAAe31E,KAAK0xE,iBAAiBC,EAAU3xE,KAAK01E,UACxD11E,KAAK+xE,GAAK4D,EAGZ,OADA31E,KAAK01E,SAAS3C,UAAYpB,EACnB3xE,KAAK+xE,GAGd,SAAS6D,EAAUhpB,GACjB,IAAIipB,EACJ,GAAsB,mBAAlB71E,KAAK8xE,SACP+D,EAAkBjpB,EAAM5sD,KAAK81E,KACzBrE,EAAQzxE,KAAKu1C,EAAIsgC,GAAmB,OACtC71E,KAAKu1C,EAAIsgC,EACT71E,KAAK22D,MAAO,QAKd,IAFA,IAAIp3D,EAAI,EACJouC,EAAM3tC,KAAKu1C,EAAE91C,OACVF,EAAIouC,GACTkoC,EAAkBjpB,EAAIrtD,GAAKS,KAAK81E,KAC5BrE,EAAQzxE,KAAKu1C,EAAEh2C,GAAKs2E,GAAmB,OACzC71E,KAAKu1C,EAAEh2C,GAAKs2E,EACZ71E,KAAK22D,MAAO,GAEdp3D,GAAK,EAKX,SAASw2E,IACP,GAAI/1E,KAAKg2E,KAAKC,WAAWC,UAAYl2E,KAAKk2E,SAAYl2E,KAAKm2E,gBAAgB12E,OAG3E,GAAIO,KAAKo2E,KACPp2E,KAAK41E,UAAU51E,KAAK+xE,QADtB,CAMA,IAAIxyE,EAFJS,KAAKo2E,MAAO,EACZp2E,KAAK22D,KAAO32D,KAAKq2E,cAEjB,IAAI1oC,EAAM3tC,KAAKm2E,gBAAgB12E,OAC3B62E,EAAat2E,KAAKu2E,GAAKv2E,KAAK+xE,GAAK/xE,KAAKigB,KAAK0pC,EAC/C,IAAKpqD,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB+2E,EAAat2E,KAAKm2E,gBAAgB52E,GAAG+2E,GAEvCt2E,KAAK41E,UAAUU,GACft2E,KAAKq2E,eAAgB,EACrBr2E,KAAKo2E,MAAO,EACZp2E,KAAKk2E,QAAUl2E,KAAKg2E,KAAKC,WAAWC,SAGtC,SAASM,EAAUC,GACjBz2E,KAAKm2E,gBAAgBj2D,KAAKu2D,GAC1Bz2E,KAAKkH,UAAUovD,mBAAmBt2D,MAGpC,SAAS02E,EAAcV,EAAM/1D,EAAM61D,EAAM5uE,GACvClH,KAAK8xE,SAAW,iBAChB9xE,KAAK81E,KAAOA,GAAQ,EACpB91E,KAAKigB,KAAOA,EACZjgB,KAAKu1C,EAAIugC,EAAO71D,EAAK0pC,EAAImsB,EAAO71D,EAAK0pC,EACrC3pD,KAAK+xE,GAAK9xD,EAAK0pC,EACf3pD,KAAK22D,MAAO,EACZ32D,KAAKg2E,KAAOA,EACZh2E,KAAKkH,UAAYA,EACjBlH,KAAKu1E,KAAOS,EAAKT,KACjBv1E,KAAK2pD,GAAI,EACT3pD,KAAKu2E,IAAK,EACVv2E,KAAK22E,IAAM,EACX32E,KAAKm2E,gBAAkB,GACvBn2E,KAAKq2E,eAAgB,EACrBr2E,KAAK42D,SAAWmf,EAChB/1E,KAAK41E,UAAYA,EACjB51E,KAAKw2E,UAAYA,EAGnB,SAASI,EAAyBZ,EAAM/1D,EAAM61D,EAAM5uE,GAWlD,IAAI3H,EAVJS,KAAK8xE,SAAW,mBAChB9xE,KAAK81E,KAAOA,GAAQ,EACpB91E,KAAKigB,KAAOA,EACZjgB,KAAK22D,MAAO,EACZ32D,KAAKg2E,KAAOA,EACZh2E,KAAKkH,UAAYA,EACjBlH,KAAKu1E,KAAOS,EAAKT,KACjBv1E,KAAK2pD,GAAI,EACT3pD,KAAKu2E,IAAK,EACVv2E,KAAKk2E,SAAW,EAEhB,IAAIvoC,EAAM1tB,EAAK0pC,EAAElqD,OAIjB,IAHAO,KAAKu1C,EAAIqgB,iBAAiB,UAAWjoB,GACrC3tC,KAAK+xE,GAAKnc,iBAAiB,UAAWjoB,GACtC3tC,KAAK22E,IAAM/gB,iBAAiB,UAAWjoB,GAClCpuC,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKu1C,EAAEh2C,GAAK0gB,EAAK0pC,EAAEpqD,GAAKS,KAAK81E,KAC7B91E,KAAK+xE,GAAGxyE,GAAK0gB,EAAK0pC,EAAEpqD,GAEtBS,KAAKq2E,eAAgB,EACrBr2E,KAAKm2E,gBAAkB,GACvBn2E,KAAK42D,SAAWmf,EAChB/1E,KAAK41E,UAAYA,EACjB51E,KAAKw2E,UAAYA,EAGnB,SAASK,EAAuBb,EAAM/1D,EAAM61D,EAAM5uE,GAChDlH,KAAK8xE,SAAW,iBAChB9xE,KAAKw9C,UAAYv9B,EAAK0pC,EACtB3pD,KAAKqyE,kBAAoB,GACzBryE,KAAK6xE,WAAamE,EAAK/1D,KAAK62D,GAC5B92E,KAAKk2E,SAAW,EAChBl2E,KAAK01E,SAAW,CACd3C,UAAWvB,EAAWrpD,UAAW,EAAG/gB,MAAO,EAAG4rE,oBAAqB,GAErEhzE,KAAK2pD,GAAI,EACT3pD,KAAKu2E,IAAK,EACVv2E,KAAKigB,KAAOA,EACZjgB,KAAK81E,KAAOA,GAAQ,EACpB91E,KAAKg2E,KAAOA,EACZh2E,KAAKkH,UAAYA,EACjBlH,KAAKu1E,KAAOS,EAAKT,KACjBv1E,KAAKu1C,EAAIi8B,EACTxxE,KAAK+xE,GAAKP,EACVxxE,KAAKq2E,eAAgB,EACrBr2E,KAAK42D,SAAWmf,EAChB/1E,KAAK41E,UAAYA,EACjB51E,KAAK0xE,iBAAmBA,EACxB1xE,KAAKm2E,gBAAkB,CAACb,EAAsBpuD,KAAKlnB,OACnDA,KAAKw2E,UAAYA,EAGnB,SAASO,EAAkCf,EAAM/1D,EAAM61D,EAAM5uE,GAE3D,IAAI3H,EADJS,KAAK8xE,SAAW,mBAEhB,IACI7yD,EACAI,EACAq+B,EACA+0B,EAJA9kC,EAAM1tB,EAAK0pC,EAAElqD,OAKjB,IAAKF,EAAI,EAAGA,EAAIouC,EAAM,EAAGpuC,GAAK,EACxB0gB,EAAK0pC,EAAEpqD,GAAGm+C,IAAMz9B,EAAK0pC,EAAEpqD,GAAG0f,GAAKgB,EAAK0pC,EAAEpqD,EAAI,IAAM0gB,EAAK0pC,EAAEpqD,EAAI,GAAG0f,IAChEA,EAAIgB,EAAK0pC,EAAEpqD,GAAG0f,EACdI,EAAIY,EAAK0pC,EAAEpqD,EAAI,GAAG0f,EAClBy+B,EAAKz9B,EAAK0pC,EAAEpqD,GAAGm+C,GACf+0B,EAAKxyD,EAAK0pC,EAAEpqD,GAAGkzE,IACG,IAAbxzD,EAAExf,SAAkBwf,EAAE,KAAOI,EAAE,IAAMJ,EAAE,KAAOI,EAAE,KAAOioD,IAAIjF,cAAcpjD,EAAE,GAAIA,EAAE,GAAII,EAAE,GAAIA,EAAE,GAAIJ,EAAE,GAAKy+B,EAAG,GAAIz+B,EAAE,GAAKy+B,EAAG,KAAO4pB,IAAIjF,cAAcpjD,EAAE,GAAIA,EAAE,GAAII,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAKozD,EAAG,GAAIpzD,EAAE,GAAKozD,EAAG,KAAsB,IAAbxzD,EAAExf,SAAkBwf,EAAE,KAAOI,EAAE,IAAMJ,EAAE,KAAOI,EAAE,IAAMJ,EAAE,KAAOI,EAAE,KAAOioD,IAAIf,cAActnD,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAII,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIJ,EAAE,GAAKy+B,EAAG,GAAIz+B,EAAE,GAAKy+B,EAAG,GAAIz+B,EAAE,GAAKy+B,EAAG,KAAO4pB,IAAIf,cAActnD,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAII,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAKozD,EAAG,GAAIpzD,EAAE,GAAKozD,EAAG,GAAIpzD,EAAE,GAAKozD,EAAG,OACrdxyD,EAAK0pC,EAAEpqD,GAAGm+C,GAAK,KACfz9B,EAAK0pC,EAAEpqD,GAAGkzE,GAAK,MAEbxzD,EAAE,KAAOI,EAAE,IAAMJ,EAAE,KAAOI,EAAE,IAAgB,IAAVq+B,EAAG,IAAsB,IAAVA,EAAG,IAAsB,IAAV+0B,EAAG,IAAsB,IAAVA,EAAG,KACnE,IAAbxzD,EAAExf,QAAiBwf,EAAE,KAAOI,EAAE,IAAgB,IAAVq+B,EAAG,IAAsB,IAAV+0B,EAAG,MACxDxyD,EAAK0pC,EAAEpqD,GAAGm+C,GAAK,KACfz9B,EAAK0pC,EAAEpqD,GAAGkzE,GAAK,OAKvBzyE,KAAKm2E,gBAAkB,CAACb,EAAsBpuD,KAAKlnB,OACnDA,KAAKigB,KAAOA,EACZjgB,KAAKw9C,UAAYv9B,EAAK0pC,EACtB3pD,KAAKqyE,kBAAoB,GACzBryE,KAAK6xE,WAAamE,EAAK/1D,KAAK62D,GAC5B92E,KAAK2pD,GAAI,EACT3pD,KAAKu2E,IAAK,EACVv2E,KAAKq2E,eAAgB,EACrBr2E,KAAK81E,KAAOA,GAAQ,EACpB91E,KAAKg2E,KAAOA,EACZh2E,KAAKkH,UAAYA,EACjBlH,KAAKu1E,KAAOS,EAAKT,KACjBv1E,KAAK42D,SAAWmf,EAChB/1E,KAAK41E,UAAYA,EACjB51E,KAAK0xE,iBAAmBA,EACxB1xE,KAAKk2E,SAAW,EAChB,IAAIc,EAAS/2D,EAAK0pC,EAAE,GAAG1qC,EAAExf,OAGzB,IAFAO,KAAKu1C,EAAIqgB,iBAAiB,UAAWohB,GACrCh3E,KAAK+xE,GAAKnc,iBAAiB,UAAWohB,GACjCz3E,EAAI,EAAGA,EAAIy3E,EAAQz3E,GAAK,EAC3BS,KAAKu1C,EAAEh2C,GAAKiyE,EACZxxE,KAAK+xE,GAAGxyE,GAAKiyE,EAEfxxE,KAAK01E,SAAW,CAAE3C,UAAWvB,EAAWrpD,UAAW,EAAG/gB,MAAOwuD,iBAAiB,UAAWohB,IACzFh3E,KAAKw2E,UAAYA,EA8BnB,MAHS,CACPS,QAzBF,SAAiBjB,EAAM/1D,EAAMnE,EAAMg6D,EAAM5uE,GACvC,IAAIiY,EACJ,GAAKc,EAAK0pC,EAAElqD,OAEL,GAA2B,kBAAfwgB,EAAK0pC,EAAE,GACxBxqC,EAAI,IAAIy3D,EAAyBZ,EAAM/1D,EAAM61D,EAAM5uE,QAEnD,OAAQ4U,GACN,KAAK,EACHqD,EAAI,IAAI03D,EAAuBb,EAAM/1D,EAAM61D,EAAM5uE,GACjD,MACF,KAAK,EACHiY,EAAI,IAAI43D,EAAkCf,EAAM/1D,EAAM61D,EAAM5uE,QAThEiY,EAAI,IAAIu3D,EAAcV,EAAM/1D,EAAM61D,EAAM5uE,GAkB1C,OAHIiY,EAAEg3D,gBAAgB12E,QACpByH,EAAUovD,mBAAmBn3C,GAExBA,IAhdY,GA4dnB+3D,yBAA4B,WAC9B,IAAIC,EAAgB,CAAC,EAAG,GAiKxB,SAASC,EAAkBpB,EAAM/1D,EAAM/Y,GAmBrC,GAlBAlH,KAAKg2E,KAAOA,EACZh2E,KAAKk2E,SAAW,EAChBl2E,KAAK8xE,SAAW,YAChB9xE,KAAKigB,KAAOA,EACZjgB,KAAKu1C,EAAI,IAAI2hB,OAEbl3D,KAAKq3E,IAAM,IAAIngB,OACfl3D,KAAKs3E,uBAAyB,EAC9Bt3E,KAAK62D,6BAA6B3vD,GAAa8uE,GAC3C/1D,EAAKd,GAAKc,EAAKd,EAAEF,GACnBjf,KAAKkgD,GAAKqxB,gBAAgB0F,QAAQjB,EAAM/1D,EAAKd,EAAEtS,EAAG,EAAG,EAAG7M,MACxDA,KAAKu3E,GAAKhG,gBAAgB0F,QAAQjB,EAAM/1D,EAAKd,EAAErS,EAAG,EAAG,EAAG9M,MACpDigB,EAAKd,EAAEo8C,IACTv7D,KAAKw3E,GAAKjG,gBAAgB0F,QAAQjB,EAAM/1D,EAAKd,EAAEo8C,EAAG,EAAG,EAAGv7D,QAG1DA,KAAKmf,EAAIoyD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKd,GAAK,CAAEwqC,EAAG,CAAC,EAAG,EAAG,IAAM,EAAG,EAAG3pD,MAEvEigB,EAAKtT,GAAI,CAIX,GAHA3M,KAAK2M,GAAK4kE,gBAAgB0F,QAAQjB,EAAM/1D,EAAKtT,GAAI,EAAGomD,UAAW/yD,MAC/DA,KAAK4M,GAAK2kE,gBAAgB0F,QAAQjB,EAAM/1D,EAAKrT,GAAI,EAAGmmD,UAAW/yD,MAC/DA,KAAKy3E,GAAKlG,gBAAgB0F,QAAQjB,EAAM/1D,EAAKw3D,GAAI,EAAG1kB,UAAW/yD,MAC3DigB,EAAKy3D,GAAG/tB,EAAE,GAAG8oB,GAAI,CACnB,IAAIlzE,EACAouC,EAAM1tB,EAAKy3D,GAAG/tB,EAAElqD,OACpB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB0gB,EAAKy3D,GAAG/tB,EAAEpqD,GAAGm+C,GAAK,KAClBz9B,EAAKy3D,GAAG/tB,EAAEpqD,GAAGkzE,GAAK,KAGtBzyE,KAAK03E,GAAKnG,gBAAgB0F,QAAQjB,EAAM/1D,EAAKy3D,GAAI,EAAG3kB,UAAW/yD,MAE/DA,KAAK03E,GAAGlE,IAAK,OAEbxzE,KAAK4K,EAAI2mE,gBAAgB0F,QAAQjB,EAAM/1D,EAAKrV,GAAK,CAAE++C,EAAG,GAAK,EAAGoJ,UAAW/yD,MAEvEigB,EAAK03D,KACP33E,KAAK23E,GAAKpG,gBAAgB0F,QAAQjB,EAAM/1D,EAAK03D,GAAI,EAAG5kB,UAAW/yD,MAC/DA,KAAK43E,GAAKrG,gBAAgB0F,QAAQjB,EAAM/1D,EAAK23D,GAAI,EAAG7kB,UAAW/yD,OAEjEA,KAAKyf,EAAI8xD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKR,GAAK,CAAEkqC,EAAG,CAAC,EAAG,EAAG,IAAM,EAAG,EAAG3pD,MACzEA,KAAKif,EAAIsyD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKhB,GAAK,CAAE0qC,EAAG,CAAC,IAAK,IAAK,MAAQ,EAAG,IAAM3pD,MAE9EigB,EAAKy4C,EACP14D,KAAK04D,EAAI6Y,gBAAgB0F,QAAQjB,EAAM/1D,EAAKy4C,EAAG,EAAG,IAAMsd,GAExDh2E,KAAK04D,EAAI,CAAE/B,MAAM,EAAOphB,EAAG,GAE7Bv1C,KAAK63E,UAAW,EACX73E,KAAKw2D,kBAAkB/2D,QAC1BO,KAAK42D,UAAS,GAmBlB,OAfAwgB,EAAkBx3E,UAAY,CAC5Bk4E,cAvNF,SAAuBC,GACrB,IAAIphB,EAAO32D,KAAK22D,KAChB32D,KAAK02D,2BACL12D,KAAK22D,KAAO32D,KAAK22D,MAAQA,EACrB32D,KAAKyf,GACPs4D,EAAIpf,WAAW34D,KAAKyf,EAAE81B,EAAE,IAAKv1C,KAAKyf,EAAE81B,EAAE,GAAIv1C,KAAKyf,EAAE81B,EAAE,IAEjDv1C,KAAKif,GACP84D,EAAIz/D,MAAMtY,KAAKif,EAAEs2B,EAAE,GAAIv1C,KAAKif,EAAEs2B,EAAE,GAAIv1C,KAAKif,EAAEs2B,EAAE,IAE3Cv1C,KAAK23E,IACPI,EAAIxf,cAAcv4D,KAAK23E,GAAGpiC,EAAGv1C,KAAK43E,GAAGriC,GAEnCv1C,KAAK4K,EACPmtE,EAAIrgB,QAAQ13D,KAAK4K,EAAE2qC,GAEnBwiC,EAAI/f,SAASh4D,KAAKy3E,GAAGliC,GAAGwiB,QAAQ/3D,KAAK4M,GAAG2oC,GAAGuiB,QAAQ93D,KAAK2M,GAAG4oC,GAAGyiB,SAASh4D,KAAK03E,GAAGniC,EAAE,IAC9EwiB,QAAQ/3D,KAAK03E,GAAGniC,EAAE,IAClBuiB,QAAQ93D,KAAK03E,GAAGniC,EAAE,IAEnBv1C,KAAKigB,KAAKd,EAAEF,EACVjf,KAAKigB,KAAKd,EAAEo8C,EACdwc,EAAIpf,UAAU34D,KAAKkgD,GAAG3K,EAAGv1C,KAAKu3E,GAAGhiC,GAAIv1C,KAAKw3E,GAAGjiC,GAE7CwiC,EAAIpf,UAAU34D,KAAKkgD,GAAG3K,EAAGv1C,KAAKu3E,GAAGhiC,EAAG,GAGtCwiC,EAAIpf,UAAU34D,KAAKmf,EAAEo2B,EAAE,GAAIv1C,KAAKmf,EAAEo2B,EAAE,IAAKv1C,KAAKmf,EAAEo2B,EAAE,KA6LpDqhB,SA1LF,SAAqBohB,GACnB,GAAIh4E,KAAKg2E,KAAKC,WAAWC,UAAYl2E,KAAKk2E,QAA1C,CAUA,GAPIl2E,KAAK63E,WACP73E,KAAKi4E,qBACLj4E,KAAK63E,UAAW,GAGlB73E,KAAK02D,2BAED12D,KAAK22D,MAAQqhB,EAAa,CAC5B,IAAIE,EAkBJ,GAjBAl4E,KAAKu1C,EAAE8lB,eAAer7D,KAAKq3E,IAAI92E,OAC3BP,KAAKs3E,uBAAyB,GAChCt3E,KAAKu1C,EAAEojB,WAAW34D,KAAKyf,EAAE81B,EAAE,IAAKv1C,KAAKyf,EAAE81B,EAAE,GAAIv1C,KAAKyf,EAAE81B,EAAE,IAEpDv1C,KAAKs3E,uBAAyB,GAChCt3E,KAAKu1C,EAAEj9B,MAAMtY,KAAKif,EAAEs2B,EAAE,GAAIv1C,KAAKif,EAAEs2B,EAAE,GAAIv1C,KAAKif,EAAEs2B,EAAE,IAE9Cv1C,KAAK23E,IAAM33E,KAAKs3E,uBAAyB,GAC3Ct3E,KAAKu1C,EAAEgjB,cAAcv4D,KAAK23E,GAAGpiC,EAAGv1C,KAAK43E,GAAGriC,GAEtCv1C,KAAK4K,GAAK5K,KAAKs3E,uBAAyB,EAC1Ct3E,KAAKu1C,EAAEmiB,QAAQ13D,KAAK4K,EAAE2qC,IACZv1C,KAAK4K,GAAK5K,KAAKs3E,uBAAyB,GAClDt3E,KAAKu1C,EAAEyiB,SAASh4D,KAAKy3E,GAAGliC,GAAGwiB,QAAQ/3D,KAAK4M,GAAG2oC,GAAGuiB,QAAQ93D,KAAK2M,GAAG4oC,GAAGyiB,SAASh4D,KAAK03E,GAAGniC,EAAE,IACjFwiB,QAAQ/3D,KAAK03E,GAAGniC,EAAE,IAClBuiB,QAAQ93D,KAAK03E,GAAGniC,EAAE,IAEnBv1C,KAAKm4E,aAAc,CACrB,IAAIC,EACAC,EAEJ,GADAH,EAAYl4E,KAAKg2E,KAAKC,WAAWiC,UAC7Bl4E,KAAKmf,GAAKnf,KAAKmf,EAAEq+B,WAAax9C,KAAKmf,EAAEm5D,eACnCt4E,KAAKmf,EAAEu2D,SAAS3C,UAAY/yE,KAAKmf,EAAE0yD,YAAc7xE,KAAKmf,EAAEq+B,UAAU,GAAGx+B,GACvEo5D,EAAKp4E,KAAKmf,EAAEm5D,gBAAgBt4E,KAAKmf,EAAEq+B,UAAU,GAAGx+B,EAAI,KAAQk5D,EAAW,GACvEG,EAAKr4E,KAAKmf,EAAEm5D,eAAet4E,KAAKmf,EAAEq+B,UAAU,GAAGx+B,EAAIk5D,EAAW,IACrDl4E,KAAKmf,EAAEu2D,SAAS3C,UAAY/yE,KAAKmf,EAAE0yD,YAAc7xE,KAAKmf,EAAEq+B,UAAUx9C,KAAKmf,EAAEq+B,UAAU/9C,OAAS,GAAGuf,GACxGo5D,EAAKp4E,KAAKmf,EAAEm5D,eAAgBt4E,KAAKmf,EAAEq+B,UAAUx9C,KAAKmf,EAAEq+B,UAAU/9C,OAAS,GAAGuf,EAAIk5D,EAAY,GAC1FG,EAAKr4E,KAAKmf,EAAEm5D,gBAAgBt4E,KAAKmf,EAAEq+B,UAAUx9C,KAAKmf,EAAEq+B,UAAU/9C,OAAS,GAAGuf,EAAI,KAAQk5D,EAAW,KAEjGE,EAAKp4E,KAAKmf,EAAE4yD,GACZsG,EAAKr4E,KAAKmf,EAAEm5D,gBAAgBt4E,KAAKmf,EAAEu2D,SAAS3C,UAAY/yE,KAAKmf,EAAE0yD,WAAa,KAAQqG,EAAWl4E,KAAKmf,EAAE0yD,kBAEnG,GAAI7xE,KAAKkgD,IAAMlgD,KAAKkgD,GAAG1C,WAAax9C,KAAKu3E,GAAG/5B,WAAax9C,KAAKkgD,GAAGo4B,gBAAkBt4E,KAAKu3E,GAAGe,eAAgB,CAChHF,EAAK,GACLC,EAAK,GACL,IAAIn4B,EAAKlgD,KAAKkgD,GACVq3B,EAAKv3E,KAAKu3E,GACVr3B,EAAGw1B,SAAS3C,UAAY7yB,EAAG2xB,YAAc3xB,EAAG1C,UAAU,GAAGx+B,GAC3Do5D,EAAG,GAAKl4B,EAAGo4B,gBAAgBp4B,EAAG1C,UAAU,GAAGx+B,EAAI,KAAQk5D,EAAW,GAClEE,EAAG,GAAKb,EAAGe,gBAAgBf,EAAG/5B,UAAU,GAAGx+B,EAAI,KAAQk5D,EAAW,GAClEG,EAAG,GAAKn4B,EAAGo4B,eAAgBp4B,EAAG1C,UAAU,GAAGx+B,EAAKk5D,EAAW,GAC3DG,EAAG,GAAKd,EAAGe,eAAgBf,EAAG/5B,UAAU,GAAGx+B,EAAKk5D,EAAW,IAClDh4B,EAAGw1B,SAAS3C,UAAY7yB,EAAG2xB,YAAc3xB,EAAG1C,UAAU0C,EAAG1C,UAAU/9C,OAAS,GAAGuf,GACxFo5D,EAAG,GAAKl4B,EAAGo4B,eAAgBp4B,EAAG1C,UAAU0C,EAAG1C,UAAU/9C,OAAS,GAAGuf,EAAIk5D,EAAY,GACjFE,EAAG,GAAKb,EAAGe,eAAgBf,EAAG/5B,UAAU+5B,EAAG/5B,UAAU/9C,OAAS,GAAGuf,EAAIk5D,EAAY,GACjFG,EAAG,GAAKn4B,EAAGo4B,gBAAgBp4B,EAAG1C,UAAU0C,EAAG1C,UAAU/9C,OAAS,GAAGuf,EAAI,KAAQk5D,EAAW,GACxFG,EAAG,GAAKd,EAAGe,gBAAgBf,EAAG/5B,UAAU+5B,EAAG/5B,UAAU/9C,OAAS,GAAGuf,EAAI,KAAQk5D,EAAW,KAExFE,EAAK,CAACl4B,EAAG6xB,GAAIwF,EAAGxF,IAChBsG,EAAG,GAAKn4B,EAAGo4B,gBAAgBp4B,EAAGw1B,SAAS3C,UAAY7yB,EAAG2xB,WAAa,KAAQqG,EAAWh4B,EAAG2xB,YACzFwG,EAAG,GAAKd,EAAGe,gBAAgBf,EAAG7B,SAAS3C,UAAYwE,EAAG1F,WAAa,KAAQqG,EAAWX,EAAG1F,kBAI3FuG,EADAC,EAAKlB,EAGPn3E,KAAKu1C,EAAEmiB,QAAQ3uC,KAAKgrD,MAAMqE,EAAG,GAAKC,EAAG,GAAID,EAAG,GAAKC,EAAG,KAElDr4E,KAAKigB,KAAKd,GAAKnf,KAAKigB,KAAKd,EAAEF,EACzBjf,KAAKigB,KAAKd,EAAEo8C,EACdv7D,KAAKu1C,EAAEojB,UAAU34D,KAAKkgD,GAAG3K,EAAGv1C,KAAKu3E,GAAGhiC,GAAIv1C,KAAKw3E,GAAGjiC,GAEhDv1C,KAAKu1C,EAAEojB,UAAU34D,KAAKkgD,GAAG3K,EAAGv1C,KAAKu3E,GAAGhiC,EAAG,GAGzCv1C,KAAKu1C,EAAEojB,UAAU34D,KAAKmf,EAAEo2B,EAAE,GAAIv1C,KAAKmf,EAAEo2B,EAAE,IAAKv1C,KAAKmf,EAAEo2B,EAAE,IAGzDv1C,KAAKk2E,QAAUl2E,KAAKg2E,KAAKC,WAAWC,UA0GpC+B,mBAvGF,WACE,IAAKj4E,KAAKyf,EAAEkqC,IACV3pD,KAAKq3E,IAAI1e,WAAW34D,KAAKyf,EAAE81B,EAAE,IAAKv1C,KAAKyf,EAAE81B,EAAE,GAAIv1C,KAAKyf,EAAE81B,EAAE,IACxDv1C,KAAKs3E,uBAAyB,GAI3Bt3E,KAAKif,EAAEk3D,gBAAgB12E,QAA5B,CAMA,GALEO,KAAKq3E,IAAI/+D,MAAMtY,KAAKif,EAAEs2B,EAAE,GAAIv1C,KAAKif,EAAEs2B,EAAE,GAAIv1C,KAAKif,EAAEs2B,EAAE,IAClDv1C,KAAKs3E,uBAAyB,EAI5Bt3E,KAAK23E,GAAI,CACX,GAAK33E,KAAK23E,GAAGxB,gBAAgB12E,QAAWO,KAAK43E,GAAGzB,gBAAgB12E,OAI9D,OAHAO,KAAKq3E,IAAI9e,cAAcv4D,KAAK23E,GAAGpiC,EAAGv1C,KAAK43E,GAAGriC,GAC1Cv1C,KAAKs3E,uBAAyB,EAK9Bt3E,KAAK4K,EACF5K,KAAK4K,EAAEurE,gBAAgB12E,SAC1BO,KAAKq3E,IAAI3f,QAAQ13D,KAAK4K,EAAE2qC,GACxBv1C,KAAKs3E,uBAAyB,GAEtBt3E,KAAKy3E,GAAGtB,gBAAgB12E,QAAWO,KAAK4M,GAAGupE,gBAAgB12E,QAAWO,KAAK2M,GAAGwpE,gBAAgB12E,QAAWO,KAAK03E,GAAGvB,gBAAgB12E,SAC3IO,KAAKq3E,IAAIrf,SAASh4D,KAAKy3E,GAAGliC,GAAGwiB,QAAQ/3D,KAAK4M,GAAG2oC,GAAGuiB,QAAQ93D,KAAK2M,GAAG4oC,GAAGyiB,SAASh4D,KAAK03E,GAAGniC,EAAE,IACnFwiB,QAAQ/3D,KAAK03E,GAAGniC,EAAE,IAClBuiB,QAAQ93D,KAAK03E,GAAGniC,EAAE,IACrBv1C,KAAKs3E,uBAAyB,KA0EhCiB,WAtEF,cAyEA1W,gBAAgB,CAACxL,0BAA2B+gB,GAC5CA,EAAkBx3E,UAAU02D,mBArE5B,SAA4BC,GAC1Bv2D,KAAKw4E,oBAAoBjiB,GACzBv2D,KAAKg2E,KAAK1f,mBAAmBC,GAC7Bv2D,KAAK63E,UAAW,GAmElBT,EAAkBx3E,UAAU44E,oBAAsBniB,yBAAyBz2D,UAAU02D,mBAM9E,CACLmiB,qBALF,SAA8BzC,EAAM/1D,EAAM/Y,GACxC,OAAO,IAAIkwE,EAAkBpB,EAAM/1D,EAAM/Y,KArOb,GA+OhC,SAASwxE,YACP14E,KAAKskD,GAAI,EACTtkD,KAAK4kE,QAAU,EACf5kE,KAAK24E,WAAa,EAClB34E,KAAKu1C,EAAIsd,iBAAiB7yD,KAAK24E,YAC/B34E,KAAK04D,EAAI7F,iBAAiB7yD,KAAK24E,YAC/B34E,KAAKT,EAAIszD,iBAAiB7yD,KAAK24E,YAGjCD,UAAU94E,UAAUg5E,YAAc,SAAUpU,EAAQ72B,GAClD3tC,KAAKskD,EAAIkgB,EACTxkE,KAAK64E,UAAUlrC,GAEf,IADA,IAAIpuC,EAAI,EACDA,EAAIouC,GACT3tC,KAAKu1C,EAAEh2C,GAAKu5E,UAAU3V,aACtBnjE,KAAK04D,EAAEn5D,GAAKu5E,UAAU3V,aACtBnjE,KAAKT,EAAEA,GAAKu5E,UAAU3V,aACtB5jE,GAAK,GAITm5E,UAAU94E,UAAUi5E,UAAY,SAAUlrC,GACxC,KAAO3tC,KAAK24E,WAAahrC,GACvB3tC,KAAK+4E,oBAEP/4E,KAAK4kE,QAAUj3B,GAGjB+qC,UAAU94E,UAAUm5E,kBAAoB,WACtC/4E,KAAKu1C,EAAIv1C,KAAKu1C,EAAEvqB,OAAO6nC,iBAAiB7yD,KAAK24E,aAC7C34E,KAAKT,EAAIS,KAAKT,EAAEyrB,OAAO6nC,iBAAiB7yD,KAAK24E,aAC7C34E,KAAK04D,EAAI14D,KAAK04D,EAAE1tC,OAAO6nC,iBAAiB7yD,KAAK24E,aAC7C34E,KAAK24E,YAAc,GAGrBD,UAAU94E,UAAUo5E,QAAU,SAAUnsE,EAAGC,EAAGgP,EAAM6nB,EAAK+L,GACvD,IAAIomB,EAKJ,OAJA91D,KAAK4kE,QAAU77C,KAAKvhB,IAAIxH,KAAK4kE,QAASjhC,EAAM,GACxC3jC,KAAK4kE,SAAW5kE,KAAK24E,YACvB34E,KAAK+4E,oBAECj9D,GACN,IAAK,IACHg6C,EAAM91D,KAAKu1C,EACX,MACF,IAAK,IACHugB,EAAM91D,KAAKT,EACX,MACF,IAAK,IACHu2D,EAAM91D,KAAK04D,EACX,MACF,QACE5C,EAAM,KAGLA,EAAInyB,IAASmyB,EAAInyB,KAAS+L,KAC7BomB,EAAInyB,GAAOm1C,UAAU3V,cAEvBrN,EAAInyB,GAAK,GAAK92B,EACdipD,EAAInyB,GAAK,GAAK72B,GAGhB4rE,UAAU94E,UAAUq5E,YAAc,SAAUC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAI51C,EAAK+L,GACvE1vC,KAAKg5E,QAAQE,EAAIC,EAAI,IAAKx1C,EAAK+L,GAC/B1vC,KAAKg5E,QAAQI,EAAIC,EAAI,IAAK11C,EAAK+L,GAC/B1vC,KAAKg5E,QAAQM,EAAIC,EAAI,IAAK51C,EAAK+L,IAGjCgpC,UAAU94E,UAAUqI,QAAU,WAC5B,IAAIuxE,EAAU,IAAId,UAClBc,EAAQZ,YAAY54E,KAAKskD,EAAGtkD,KAAK4kE,SACjC,IAAI6U,EAAWz5E,KAAKu1C,EAChBmkC,EAAY15E,KAAK04D,EACjBihB,EAAW35E,KAAKT,EAChBq6E,EAAO,EACP55E,KAAKskD,IACPk1B,EAAQP,YAAYQ,EAAS,GAAG,GAAIA,EAAS,GAAG,GAAIE,EAAS,GAAG,GAAIA,EAAS,GAAG,GAAID,EAAU,GAAG,GAAIA,EAAU,GAAG,GAAI,GAAG,GACzHE,EAAO,GAET,IAGIr6E,EAHAuoB,EAAM9nB,KAAK4kE,QAAU,EACrBj3B,EAAM3tC,KAAK4kE,QAGf,IAAKrlE,EAAIq6E,EAAMr6E,EAAIouC,EAAKpuC,GAAK,EAC3Bi6E,EAAQP,YAAYQ,EAAS3xD,GAAK,GAAI2xD,EAAS3xD,GAAK,GAAI6xD,EAAS7xD,GAAK,GAAI6xD,EAAS7xD,GAAK,GAAI4xD,EAAU5xD,GAAK,GAAI4xD,EAAU5xD,GAAK,GAAIvoB,GAAG,GACrIuoB,GAAO,EAET,OAAO0xD,GAOT,IAAIK,qBAAwB,WAC1B,IAAIrI,GAAa,OAEjB,SAASsI,EAAiBnI,EAAUoI,EAAenI,GACjD,IACIoI,EACAC,EACAC,EACAtwD,EACA+/B,EACAif,EACAC,EACAjG,EACAuX,EATA/H,EAAiBR,EAAQzpD,UAUzBouD,EAAKv2E,KAAKw9C,UACd,GAAIm0B,EAAW4E,EAAG,GAAGv3D,EAAIhf,KAAK6xE,WAC5BmI,EAAWzD,EAAG,GAAGt3D,EAAE,GACnBi7D,GAAS,EACT9H,EAAiB,OACZ,GAAIT,GAAY4E,EAAGA,EAAG92E,OAAS,GAAGuf,EAAIhf,KAAK6xE,WAChDmI,EAAWzD,EAAGA,EAAG92E,OAAS,GAAGwf,EAAIs3D,EAAGA,EAAG92E,OAAS,GAAGwf,EAAE,GAAKs3D,EAAGA,EAAG92E,OAAS,GAAG4f,EAAE,GAM9E66D,GAAS,MACJ,CAOL,IANA,IAGIlI,EACAC,EACAC,EALA3yE,EAAI6yE,EACJzkC,EAAM4oC,EAAG92E,OAAS,EAClB0zD,GAAO,EAIJA,IACL6e,EAAUuE,EAAGh3E,MACb0yE,EAAcsE,EAAGh3E,EAAI,IACJyf,EAAIhf,KAAK6xE,WAAcF,KAGpCpyE,EAAIouC,EAAM,EACZpuC,GAAK,EAEL4zD,GAAO,EAMX,GAHA+e,EAAmBlyE,KAAKqyE,kBAAkB9yE,IAAM,GAEhD6yE,EAAiB7yE,IADjB26E,EAAuB,IAAdlI,EAAQvmE,GAEJ,CACX,GAAIkmE,GAAYM,EAAYjzD,EAAIhf,KAAK6xE,WACnCjP,EAAO,OACF,GAAI+O,EAAWK,EAAQhzD,EAAIhf,KAAK6xE,WACrCjP,EAAO,MACF,CACL,IAAIuP,EACAD,EAAiBS,OACnBR,EAAMD,EAAiBS,QAEvBR,EAAM5S,cAAcqT,gBAAgBZ,EAAQtZ,EAAE7rD,EAAGmlE,EAAQtZ,EAAE5rD,EAAGklE,EAAQzyE,EAAEsN,EAAGmlE,EAAQzyE,EAAEuN,GAAGma,IACxFirD,EAAiBS,OAASR,GAE5BvP,EAAOuP,GAAKR,GAAYK,EAAQhzD,EAAIhf,KAAK6xE,cAAiBI,EAAYjzD,EAAIhf,KAAK6xE,YAAeG,EAAQhzD,EAAIhf,KAAK6xE,cAEjHoI,EAAWhI,EAAYhzD,EAAIgzD,EAAYhzD,EAAE,GAAK+yD,EAAQ3yD,EAAE,GAE1D26D,EAAWhI,EAAQ/yD,EAAE,GAMvB,IAJA2pD,EAAOmR,EAAcnV,QACrBiE,EAAOmR,EAASz6E,EAAE,GAAGE,OACrBmyE,EAAQzpD,UAAYiqD,EAEfxoD,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EACzB,IAAK+/B,EAAI,EAAGA,EAAIkf,EAAMlf,GAAK,EACzBwwB,EAAcD,EAASF,EAASz6E,EAAEqqB,GAAG+/B,GAAKqwB,EAASz6E,EAAEqqB,GAAG+/B,IAAMswB,EAAS16E,EAAEqqB,GAAG+/B,GAAKqwB,EAASz6E,EAAEqqB,GAAG+/B,IAAMiZ,EACrGmX,EAAcx6E,EAAEqqB,GAAG+/B,GAAKwwB,EACxBA,EAAcD,EAASF,EAASthB,EAAE9uC,GAAG+/B,GAAKqwB,EAASthB,EAAE9uC,GAAG+/B,IAAMswB,EAASvhB,EAAE9uC,GAAG+/B,GAAKqwB,EAASthB,EAAE9uC,GAAG+/B,IAAMiZ,EACrGmX,EAAcrhB,EAAE9uC,GAAG+/B,GAAKwwB,EACxBA,EAAcD,EAASF,EAASzkC,EAAE3rB,GAAG+/B,GAAKqwB,EAASzkC,EAAE3rB,GAAG+/B,IAAMswB,EAAS1kC,EAAE3rB,GAAG+/B,GAAKqwB,EAASzkC,EAAE3rB,GAAG+/B,IAAMiZ,EACrGmX,EAAcxkC,EAAE3rB,GAAG+/B,GAAKwwB,EAK9B,SAASC,IACP,IAAIzI,EAAW3xE,KAAKu1E,KAAKC,cAAgBx1E,KAAK6xE,WAC1C/C,EAAW9uE,KAAKw9C,UAAU,GAAGx+B,EAAIhf,KAAK6xE,WACtC4D,EAAUz1E,KAAKw9C,UAAUx9C,KAAKw9C,UAAU/9C,OAAS,GAAGuf,EAAIhf,KAAK6xE,WAC7DkB,EAAY/yE,KAAK01E,SAAS3C,UAQ9B,OAPMA,IAAcvB,IAAeuB,EAAYjE,GAAY6C,EAAW7C,GAAciE,EAAY0C,GAAW9D,EAAW8D,KAEpHz1E,KAAK01E,SAASvtD,UAAY4qD,EAAYpB,EAAW3xE,KAAK01E,SAASvtD,UAAY,EAC3EnoB,KAAK85E,iBAAiBnI,EAAU3xE,KAAK+xE,GAAI/xE,KAAK01E,WAGhD11E,KAAK01E,SAAS3C,UAAYpB,EACnB3xE,KAAK+xE,GAGd,SAASsI,IACPr6E,KAAK2qE,MAAQ3qE,KAAKs6E,qBAsBpB,SAAS1E,EAAU4D,IAnBnB,SAAqBe,EAAQC,GAC3B,GAAID,EAAO3V,UAAY4V,EAAO5V,SAAW2V,EAAOj2B,IAAMk2B,EAAOl2B,EAC3D,OAAO,EAET,IAAI/kD,EACAouC,EAAM4sC,EAAO3V,QACjB,IAAKrlE,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB,GAAIg7E,EAAOhlC,EAAEh2C,GAAG,KAAOi7E,EAAOjlC,EAAEh2C,GAAG,IAC1Bg7E,EAAOhlC,EAAEh2C,GAAG,KAAOi7E,EAAOjlC,EAAEh2C,GAAG,IAC/Bg7E,EAAO7hB,EAAEn5D,GAAG,KAAOi7E,EAAO9hB,EAAEn5D,GAAG,IAC/Bg7E,EAAO7hB,EAAEn5D,GAAG,KAAOi7E,EAAO9hB,EAAEn5D,GAAG,IAC/Bg7E,EAAOh7E,EAAEA,GAAG,KAAOi7E,EAAOj7E,EAAEA,GAAG,IAC/Bg7E,EAAOh7E,EAAEA,GAAG,KAAOi7E,EAAOj7E,EAAEA,GAAG,GACtC,OAAO,EAGX,OAAO,GAIFk7E,CAAYz6E,KAAKu1C,EAAGikC,KACvBx5E,KAAKu1C,EAAImlC,UAAUj9D,MAAM+7D,GACzBx5E,KAAKs6E,qBAAqBK,gBAC1B36E,KAAKs6E,qBAAqBM,SAAS56E,KAAKu1C,GACxCv1C,KAAK22D,MAAO,EACZ32D,KAAK2qE,MAAQ3qE,KAAKs6E,sBAItB,SAASvE,IACP,GAAI/1E,KAAKg2E,KAAKC,WAAWC,UAAYl2E,KAAKk2E,QAExC,GAAKl2E,KAAKm2E,gBAAgB12E,OAI5B,GAAIO,KAAKo2E,KACPp2E,KAAK41E,UAAU51E,KAAK+xE,QADtB,CAMA,IAAIuE,EAQA/2E,EAVJS,KAAKo2E,MAAO,EACZp2E,KAAK22D,MAAO,EAGV2f,EADEt2E,KAAKu2E,GACMv2E,KAAK+xE,GACT/xE,KAAKigB,KAAK0pD,GACN3pE,KAAKigB,KAAK0pD,GAAGhgB,EAEb3pD,KAAKigB,KAAK87C,GAAGpS,EAG5B,IAAIhc,EAAM3tC,KAAKm2E,gBAAgB12E,OAC/B,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB+2E,EAAat2E,KAAKm2E,gBAAgB52E,GAAG+2E,GAEvCt2E,KAAK41E,UAAUU,GACft2E,KAAKo2E,MAAO,EACZp2E,KAAKk2E,QAAUl2E,KAAKg2E,KAAKC,WAAWC,aAxBlCl2E,KAAK22D,MAAO,EA2BhB,SAASkkB,EAAc7E,EAAM/1D,EAAMnE,GACjC9b,KAAK8xE,SAAW,QAChB9xE,KAAKu1E,KAAOS,EAAKT,KACjBv1E,KAAKkH,UAAY8uE,EACjBh2E,KAAKg2E,KAAOA,EACZh2E,KAAKigB,KAAOA,EACZjgB,KAAK2pD,GAAI,EACT3pD,KAAKu2E,IAAK,EACVv2E,KAAK22D,MAAO,EACZ,IAAI+T,EAAoB,IAAT5uD,EAAamE,EAAK87C,GAAGpS,EAAI1pC,EAAK0pD,GAAGhgB,EAChD3pD,KAAKu1C,EAAImlC,UAAUj9D,MAAMitD,GACzB1qE,KAAK+xE,GAAK2I,UAAUj9D,MAAMzd,KAAKu1C,GAC/Bv1C,KAAKs6E,qBAAuBQ,oBAAoBC,qBAChD/6E,KAAK2qE,MAAQ3qE,KAAKs6E,qBAClBt6E,KAAK2qE,MAAMiQ,SAAS56E,KAAKu1C,GACzBv1C,KAAK4sC,MAAQytC,EACbr6E,KAAKm2E,gBAAkB,GAGzB,SAASK,EAAUC,GACjBz2E,KAAKm2E,gBAAgBj2D,KAAKu2D,GAC1Bz2E,KAAKkH,UAAUovD,mBAAmBt2D,MAQpC,SAASg7E,EAAuBhF,EAAM/1D,EAAMnE,GAC1C9b,KAAK8xE,SAAW,QAChB9xE,KAAKu1E,KAAOS,EAAKT,KACjBv1E,KAAKg2E,KAAOA,EACZh2E,KAAKkH,UAAY8uE,EACjBh2E,KAAK6xE,WAAamE,EAAK/1D,KAAK62D,GAC5B92E,KAAKw9C,UAAqB,IAAT1hC,EAAamE,EAAK87C,GAAGpS,EAAI1pC,EAAK0pD,GAAGhgB,EAClD3pD,KAAKqyE,kBAAoB,GACzBryE,KAAK2pD,GAAI,EACT3pD,KAAKu2E,IAAK,EACV,IAAI5oC,EAAM3tC,KAAKw9C,UAAU,GAAGv+B,EAAE,GAAG1f,EAAEE,OACnCO,KAAKu1C,EAAImlC,UAAUvX,aACnBnjE,KAAKu1C,EAAEqjC,YAAY54E,KAAKw9C,UAAU,GAAGv+B,EAAE,GAAGqlC,EAAG3W,GAC7C3tC,KAAK+xE,GAAK2I,UAAUj9D,MAAMzd,KAAKu1C,GAC/Bv1C,KAAKs6E,qBAAuBQ,oBAAoBC,qBAChD/6E,KAAK2qE,MAAQ3qE,KAAKs6E,qBAClBt6E,KAAK2qE,MAAMiQ,SAAS56E,KAAKu1C,GACzBv1C,KAAK+yE,UAAYvB,EACjBxxE,KAAK4sC,MAAQytC,EACbr6E,KAAK01E,SAAW,CAAE3C,UAAWvB,EAAWrpD,UAAW,GACnDnoB,KAAKm2E,gBAAkB,CAACiE,EAA4BlzD,KAAKlnB,OAzB3D66E,EAAcj7E,UAAUk6E,iBAAmBA,EAC3Ce,EAAcj7E,UAAUg3D,SAAWmf,EACnC8E,EAAcj7E,UAAUg2E,UAAYA,EACpCiF,EAAcj7E,UAAU42E,UAAYA,EAwBpCwE,EAAuBp7E,UAAUg3D,SAAWmf,EAC5CiF,EAAuBp7E,UAAUk6E,iBAAmBA,EACpDkB,EAAuBp7E,UAAUg2E,UAAYA,EAC7CoF,EAAuBp7E,UAAU42E,UAAYA,EAE7C,IAAIyE,EAAoB,WACtB,IAAIC,EAASjoB,YAEb,SAASkoB,EAAwBnF,EAAM/1D,GAOrCjgB,KAAKu1C,EAAImlC,UAAUvX,aACnBnjE,KAAKu1C,EAAEqjC,aAAY,EAAM,GACzB54E,KAAKs6E,qBAAuBQ,oBAAoBC,qBAChD/6E,KAAK2qE,MAAQ3qE,KAAKs6E,qBAClBt6E,KAAKs6E,qBAAqBM,SAAS56E,KAAKu1C,GACxCv1C,KAAK4F,EAAIqa,EAAKra,EACd5F,KAAKg2E,KAAOA,EACZh2E,KAAKu1E,KAAOS,EAAKT,KACjBv1E,KAAKk2E,SAAW,EAChBl2E,KAAK62D,6BAA6Bmf,GAClCh2E,KAAKmf,EAAIoyD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKd,EAAG,EAAG,EAAGnf,MACrDA,KAAKif,EAAIsyD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKhB,EAAG,EAAG,EAAGjf,MACjDA,KAAKw2D,kBAAkB/2D,OACzBO,KAAK2pD,GAAI,GAET3pD,KAAK2pD,GAAI,EACT3pD,KAAKo7E,oBAqDT,OAjDAD,EAAwBv7E,UAAY,CAClCgtC,MAAOytC,EACPzjB,SAAU,WACJ52D,KAAKg2E,KAAKC,WAAWC,UAAYl2E,KAAKk2E,UAG1Cl2E,KAAKk2E,QAAUl2E,KAAKg2E,KAAKC,WAAWC,QACpCl2E,KAAK02D,2BAED12D,KAAK22D,MACP32D,KAAKo7E,qBAGTA,iBAAkB,WAChB,IAAI5e,EAAKx8D,KAAKmf,EAAEo2B,EAAE,GACdylB,EAAKh7D,KAAKmf,EAAEo2B,EAAE,GACd8lC,EAAKr7E,KAAKif,EAAEs2B,EAAE,GAAK,EACnB4/B,EAAKn1E,KAAKif,EAAEs2B,EAAE,GAAK,EACnB+lC,EAAiB,IAAXt7E,KAAK4F,EACX21E,EAAKv7E,KAAKu1C,EACdgmC,EAAGhmC,EAAE,GAAG,GAAKinB,EACb+e,EAAGhmC,EAAE,GAAG,GAAKylB,EAAKma,EAClBoG,EAAGhmC,EAAE,GAAG,GAAK+lC,EAAM9e,EAAK6e,EAAK7e,EAAK6e,EAClCE,EAAGhmC,EAAE,GAAG,GAAKylB,EACbugB,EAAGhmC,EAAE,GAAG,GAAKinB,EACb+e,EAAGhmC,EAAE,GAAG,GAAKylB,EAAKma,EAClBoG,EAAGhmC,EAAE,GAAG,GAAK+lC,EAAM9e,EAAK6e,EAAK7e,EAAK6e,EAClCE,EAAGhmC,EAAE,GAAG,GAAKylB,EACbugB,EAAGh8E,EAAE,GAAG,GAAK+7E,EAAM9e,EAAK6e,EAAKH,EAAS1e,EAAK6e,EAAKH,EAChDK,EAAGh8E,EAAE,GAAG,GAAKy7D,EAAKma,EAClBoG,EAAGh8E,EAAE,GAAG,GAAK+7E,EAAM9e,EAAK6e,EAAK7e,EAAK6e,EAClCE,EAAGh8E,EAAE,GAAG,GAAKy7D,EAAKma,EAAK+F,EACvBK,EAAGh8E,EAAE,GAAG,GAAK+7E,EAAM9e,EAAK6e,EAAKH,EAAS1e,EAAK6e,EAAKH,EAChDK,EAAGh8E,EAAE,GAAG,GAAKy7D,EAAKma,EAClBoG,EAAGh8E,EAAE,GAAG,GAAK+7E,EAAM9e,EAAK6e,EAAK7e,EAAK6e,EAClCE,EAAGh8E,EAAE,GAAG,GAAKy7D,EAAKma,EAAK+F,EACvBK,EAAG7iB,EAAE,GAAG,GAAK4iB,EAAM9e,EAAK6e,EAAKH,EAAS1e,EAAK6e,EAAKH,EAChDK,EAAG7iB,EAAE,GAAG,GAAKsC,EAAKma,EAClBoG,EAAG7iB,EAAE,GAAG,GAAK4iB,EAAM9e,EAAK6e,EAAK7e,EAAK6e,EAClCE,EAAG7iB,EAAE,GAAG,GAAKsC,EAAKma,EAAK+F,EACvBK,EAAG7iB,EAAE,GAAG,GAAK4iB,EAAM9e,EAAK6e,EAAKH,EAAS1e,EAAK6e,EAAKH,EAChDK,EAAG7iB,EAAE,GAAG,GAAKsC,EAAKma,EAClBoG,EAAG7iB,EAAE,GAAG,GAAK4iB,EAAM9e,EAAK6e,EAAK7e,EAAK6e,EAClCE,EAAG7iB,EAAE,GAAG,GAAKsC,EAAKma,EAAK+F,IAI3BrZ,gBAAgB,CAACxL,0BAA2B8kB,GAErCA,EA/Ee,GAkFpBK,EAAqB,WACvB,SAASC,EAAyBzF,EAAM/1D,GACtCjgB,KAAKu1C,EAAImlC,UAAUvX,aACnBnjE,KAAKu1C,EAAEqjC,aAAY,EAAM,GACzB54E,KAAKg2E,KAAOA,EACZh2E,KAAKu1E,KAAOS,EAAKT,KACjBv1E,KAAKigB,KAAOA,EACZjgB,KAAKk2E,SAAW,EAChBl2E,KAAK4F,EAAIqa,EAAKra,EACd5F,KAAK62D,6BAA6Bmf,GAClB,IAAZ/1D,EAAKk4C,IACPn4D,KAAK07E,GAAKnK,gBAAgB0F,QAAQjB,EAAM/1D,EAAKy7D,GAAI,EAAG,EAAG17E,MACvDA,KAAKukD,GAAKgtB,gBAAgB0F,QAAQjB,EAAM/1D,EAAKskC,GAAI,EAAG,IAAMvkD,MAC1DA,KAAK27E,cAAgB37E,KAAK47E,mBAE1B57E,KAAK27E,cAAgB37E,KAAK67E,qBAE5B77E,KAAK+7D,GAAKwV,gBAAgB0F,QAAQjB,EAAM/1D,EAAK87C,GAAI,EAAG,EAAG/7D,MACvDA,KAAKmf,EAAIoyD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKd,EAAG,EAAG,EAAGnf,MACrDA,KAAK4K,EAAI2mE,gBAAgB0F,QAAQjB,EAAM/1D,EAAKrV,EAAG,EAAGmoD,UAAW/yD,MAC7DA,KAAK03E,GAAKnG,gBAAgB0F,QAAQjB,EAAM/1D,EAAKy3D,GAAI,EAAG,EAAG13E,MACvDA,KAAK87E,GAAKvK,gBAAgB0F,QAAQjB,EAAM/1D,EAAK67D,GAAI,EAAG,IAAM97E,MAC1DA,KAAKs6E,qBAAuBQ,oBAAoBC,qBAChD/6E,KAAKs6E,qBAAqBM,SAAS56E,KAAKu1C,GACxCv1C,KAAK2qE,MAAQ3qE,KAAKs6E,qBACdt6E,KAAKw2D,kBAAkB/2D,OACzBO,KAAK2pD,GAAI,GAET3pD,KAAK2pD,GAAI,EACT3pD,KAAK27E,iBAqFT,OAjFAF,EAAyB77E,UAAY,CACnCgtC,MAAOytC,EACPzjB,SAAU,WACJ52D,KAAKg2E,KAAKC,WAAWC,UAAYl2E,KAAKk2E,UAG1Cl2E,KAAKk2E,QAAUl2E,KAAKg2E,KAAKC,WAAWC,QACpCl2E,KAAK02D,2BACD12D,KAAK22D,MACP32D,KAAK27E,kBAGTC,kBAAmB,WACjB,IAYIr8E,EACAw8E,EACAC,EACAC,EAfAC,EAAiC,EAAxBnzD,KAAK2jC,MAAM1sD,KAAK+7D,GAAGxmB,GAC5BoiB,EAAmB,EAAV5uC,KAAKiqC,GAAUkpB,EAIxBC,GAAW,EACXC,EAAUp8E,KAAK03E,GAAGniC,EAClB8mC,EAAWr8E,KAAK07E,GAAGnmC,EACnB+mC,EAAYt8E,KAAK87E,GAAGvmC,EACpBgnC,EAAav8E,KAAKukD,GAAGhP,EACrBinC,EAAoB,EAAIzzD,KAAKiqC,GAAKopB,GAAqB,EAATF,GAC9CO,EAAqB,EAAI1zD,KAAKiqC,GAAKqpB,GAAsB,EAATH,GAKhDQ,GAAc3zD,KAAKiqC,GAAK,EAC5B0pB,GAAc18E,KAAK4K,EAAE2qC,EACrB,IAAIlQ,EAAsB,IAAhBrlC,KAAKigB,KAAKra,GAAW,EAAI,EAEnC,IADA5F,KAAKu1C,EAAEqvB,QAAU,EACZrlE,EAAI,EAAGA,EAAI28E,EAAQ38E,GAAK,EAAG,CAE9By8E,EAAYG,EAAWG,EAAYC,EACnCN,EAAeE,EAAWK,EAAmBC,EAC7C,IAAI5vE,GAHJkvE,EAAMI,EAAWC,EAAUC,GAGbtzD,KAAKquC,IAAIslB,GACnB5vE,EAAIivE,EAAMhzD,KAAKuuC,IAAIolB,GACnBC,EAAW,IAAN9vE,GAAiB,IAANC,EAAU,EAAIA,EAAIic,KAAKspC,KAAKxlD,EAAIA,EAAIC,EAAIA,GACxD8vE,EAAW,IAAN/vE,GAAiB,IAANC,EAAU,GAAKD,EAAIkc,KAAKspC,KAAKxlD,EAAIA,EAAIC,EAAIA,GAC7DD,IAAM7M,KAAKmf,EAAEo2B,EAAE,GACfzoC,IAAM9M,KAAKmf,EAAEo2B,EAAE,GACfv1C,KAAKu1C,EAAE0jC,YAAYpsE,EAAGC,EAAGD,EAAI8vE,EAAKV,EAAeD,EAAY32C,EAAKv4B,EAAI8vE,EAAKX,EAAeD,EAAY32C,EAAKx4B,EAAI8vE,EAAKV,EAAeD,EAAY32C,EAAKv4B,EAAI8vE,EAAKX,EAAeD,EAAY32C,EAAK9lC,GAAG,GAMhM48E,GAAYA,EACZO,GAAc/kB,EAAQtyB,IAG1Bw2C,qBAAsB,WACpB,IAKIt8E,EALA28E,EAASnzD,KAAK2jC,MAAM1sD,KAAK+7D,GAAGxmB,GAC5BoiB,EAAmB,EAAV5uC,KAAKiqC,GAAUkpB,EACxBH,EAAM/7E,KAAK03E,GAAGniC,EACdymC,EAAYh8E,KAAK87E,GAAGvmC,EACpB0mC,EAAgB,EAAIlzD,KAAKiqC,GAAK+oB,GAAiB,EAATG,GAEtCQ,EAAwB,IAAV3zD,KAAKiqC,GACnB3tB,EAAsB,IAAhBrlC,KAAKigB,KAAKra,GAAW,EAAI,EAGnC,IAFA82E,GAAc18E,KAAK4K,EAAE2qC,EACrBv1C,KAAKu1C,EAAEqvB,QAAU,EACZrlE,EAAI,EAAGA,EAAI28E,EAAQ38E,GAAK,EAAG,CAC9B,IAAIsN,EAAIkvE,EAAMhzD,KAAKquC,IAAIslB,GACnB5vE,EAAIivE,EAAMhzD,KAAKuuC,IAAIolB,GACnBC,EAAW,IAAN9vE,GAAiB,IAANC,EAAU,EAAIA,EAAIic,KAAKspC,KAAKxlD,EAAIA,EAAIC,EAAIA,GACxD8vE,EAAW,IAAN/vE,GAAiB,IAANC,EAAU,GAAKD,EAAIkc,KAAKspC,KAAKxlD,EAAIA,EAAIC,EAAIA,GAC7DD,IAAM7M,KAAKmf,EAAEo2B,EAAE,GACfzoC,IAAM9M,KAAKmf,EAAEo2B,EAAE,GACfv1C,KAAKu1C,EAAE0jC,YAAYpsE,EAAGC,EAAGD,EAAI8vE,EAAKV,EAAeD,EAAY32C,EAAKv4B,EAAI8vE,EAAKX,EAAeD,EAAY32C,EAAKx4B,EAAI8vE,EAAKV,EAAeD,EAAY32C,EAAKv4B,EAAI8vE,EAAKX,EAAeD,EAAY32C,EAAK9lC,GAAG,GAChMm9E,GAAc/kB,EAAQtyB,EAExBrlC,KAAK2qE,MAAMlrE,OAAS,EACpBO,KAAK2qE,MAAM,GAAK3qE,KAAKu1C,IAIzBssB,gBAAgB,CAACxL,0BAA2BolB,GAErCA,EAlHgB,GAqHrBoB,EAAqB,WACvB,SAASC,EAAyB9G,EAAM/1D,GACtCjgB,KAAKu1C,EAAImlC,UAAUvX,aACnBnjE,KAAKu1C,EAAE+O,GAAI,EACXtkD,KAAKs6E,qBAAuBQ,oBAAoBC,qBAChD/6E,KAAKs6E,qBAAqBM,SAAS56E,KAAKu1C,GACxCv1C,KAAK2qE,MAAQ3qE,KAAKs6E,qBAClBt6E,KAAKg2E,KAAOA,EACZh2E,KAAKu1E,KAAOS,EAAKT,KACjBv1E,KAAKk2E,SAAW,EAChBl2E,KAAK4F,EAAIqa,EAAKra,EACd5F,KAAK62D,6BAA6Bmf,GAClCh2E,KAAKmf,EAAIoyD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKd,EAAG,EAAG,EAAGnf,MACrDA,KAAKif,EAAIsyD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKhB,EAAG,EAAG,EAAGjf,MACrDA,KAAK4K,EAAI2mE,gBAAgB0F,QAAQjB,EAAM/1D,EAAKrV,EAAG,EAAG,EAAG5K,MACjDA,KAAKw2D,kBAAkB/2D,OACzBO,KAAK2pD,GAAI,GAET3pD,KAAK2pD,GAAI,EACT3pD,KAAK+8E,qBA2DT,OAvDAD,EAAyBl9E,UAAY,CACnCm9E,kBAAmB,WACjB,IAAIvgB,EAAKx8D,KAAKmf,EAAEo2B,EAAE,GACdylB,EAAKh7D,KAAKmf,EAAEo2B,EAAE,GACdynC,EAAKh9E,KAAKif,EAAEs2B,EAAE,GAAK,EACnB6iC,EAAKp4E,KAAKif,EAAEs2B,EAAE,GAAK,EACnBpP,EAAQqsB,MAAMwqB,EAAI5E,EAAIp4E,KAAK4K,EAAE2qC,GAC7B2lC,EAAS/0C,GAAS,EAAI8sB,aAC1BjzD,KAAKu1C,EAAEqvB,QAAU,EAEF,IAAX5kE,KAAK4F,GAAsB,IAAX5F,KAAK4F,GACvB5F,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAIhiB,EAAKod,EAAKjyC,EAAOq2B,EAAKwgB,EAAIhiB,EAAKod,EAAKjyC,EAAOq2B,EAAKwgB,EAAIhiB,EAAKod,EAAK8C,EAAQ,GAAG,GACrGl7E,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAIhiB,EAAKod,EAAKjyC,EAAOq2B,EAAKwgB,EAAIhiB,EAAKod,EAAK8C,EAAQ1e,EAAKwgB,EAAIhiB,EAAKod,EAAKjyC,EAAO,GAAG,GACvF,IAAVA,GACFnmC,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAK72C,EAAO60B,EAAKod,EAAI5b,EAAKwgB,EAAK72C,EAAO60B,EAAKod,EAAI5b,EAAKwgB,EAAK9B,EAAQlgB,EAAKod,EAAI,GAAG,GACrGp4E,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAK72C,EAAO60B,EAAKod,EAAI5b,EAAKwgB,EAAK9B,EAAQlgB,EAAKod,EAAI5b,EAAKwgB,EAAK72C,EAAO60B,EAAKod,EAAI,GAAG,GACrGp4E,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAIhiB,EAAKod,EAAKjyC,EAAOq2B,EAAKwgB,EAAIhiB,EAAKod,EAAKjyC,EAAOq2B,EAAKwgB,EAAIhiB,EAAKod,EAAK8C,EAAQ,GAAG,GACrGl7E,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAIhiB,EAAKod,EAAKjyC,EAAOq2B,EAAKwgB,EAAIhiB,EAAKod,EAAK8C,EAAQ1e,EAAKwgB,EAAIhiB,EAAKod,EAAKjyC,EAAO,GAAG,GACrGnmC,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAK72C,EAAO60B,EAAKod,EAAI5b,EAAKwgB,EAAK72C,EAAO60B,EAAKod,EAAI5b,EAAKwgB,EAAK9B,EAAQlgB,EAAKod,EAAI,GAAG,GACrGp4E,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAK72C,EAAO60B,EAAKod,EAAI5b,EAAKwgB,EAAK9B,EAAQlgB,EAAKod,EAAI5b,EAAKwgB,EAAK72C,EAAO60B,EAAKod,EAAI,GAAG,KAErGp4E,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAIhiB,EAAKod,EAAI5b,EAAKwgB,EAAK9B,EAAQlgB,EAAKod,EAAI5b,EAAKwgB,EAAIhiB,EAAKod,EAAI,GAClFp4E,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAIhiB,EAAKod,EAAI5b,EAAKwgB,EAAIhiB,EAAKod,EAAK8C,EAAQ1e,EAAKwgB,EAAIhiB,EAAKod,EAAI,MAGpFp4E,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAIhiB,EAAKod,EAAKjyC,EAAOq2B,EAAKwgB,EAAIhiB,EAAKod,EAAK8C,EAAQ1e,EAAKwgB,EAAIhiB,EAAKod,EAAKjyC,EAAO,GAAG,GACvF,IAAVA,GACFnmC,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAK72C,EAAO60B,EAAKod,EAAI5b,EAAKwgB,EAAK72C,EAAO60B,EAAKod,EAAI5b,EAAKwgB,EAAK9B,EAAQlgB,EAAKod,EAAI,GAAG,GACrGp4E,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAK72C,EAAO60B,EAAKod,EAAI5b,EAAKwgB,EAAK9B,EAAQlgB,EAAKod,EAAI5b,EAAKwgB,EAAK72C,EAAO60B,EAAKod,EAAI,GAAG,GACrGp4E,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAIhiB,EAAKod,EAAKjyC,EAAOq2B,EAAKwgB,EAAIhiB,EAAKod,EAAKjyC,EAAOq2B,EAAKwgB,EAAIhiB,EAAKod,EAAK8C,EAAQ,GAAG,GACrGl7E,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAIhiB,EAAKod,EAAKjyC,EAAOq2B,EAAKwgB,EAAIhiB,EAAKod,EAAK8C,EAAQ1e,EAAKwgB,EAAIhiB,EAAKod,EAAKjyC,EAAO,GAAG,GACrGnmC,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAK72C,EAAO60B,EAAKod,EAAI5b,EAAKwgB,EAAK72C,EAAO60B,EAAKod,EAAI5b,EAAKwgB,EAAK9B,EAAQlgB,EAAKod,EAAI,GAAG,GACrGp4E,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAK72C,EAAO60B,EAAKod,EAAI5b,EAAKwgB,EAAK9B,EAAQlgB,EAAKod,EAAI5b,EAAKwgB,EAAK72C,EAAO60B,EAAKod,EAAI,GAAG,GACrGp4E,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAIhiB,EAAKod,EAAKjyC,EAAOq2B,EAAKwgB,EAAIhiB,EAAKod,EAAKjyC,EAAOq2B,EAAKwgB,EAAIhiB,EAAKod,EAAK8C,EAAQ,GAAG,KAErGl7E,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAIhiB,EAAKod,EAAI5b,EAAKwgB,EAAK9B,EAAQlgB,EAAKod,EAAI5b,EAAKwgB,EAAIhiB,EAAKod,EAAI,GAAG,GACrFp4E,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAIhiB,EAAKod,EAAI5b,EAAKwgB,EAAIhiB,EAAKod,EAAK8C,EAAQ1e,EAAKwgB,EAAIhiB,EAAKod,EAAI,GAAG,GACrFp4E,KAAKu1C,EAAE0jC,YAAYzc,EAAKwgB,EAAIhiB,EAAKod,EAAI5b,EAAKwgB,EAAK9B,EAAQlgB,EAAKod,EAAI5b,EAAKwgB,EAAIhiB,EAAKod,EAAI,GAAG,MAI3FxhB,SAAU,WACJ52D,KAAKg2E,KAAKC,WAAWC,UAAYl2E,KAAKk2E,UAG1Cl2E,KAAKk2E,QAAUl2E,KAAKg2E,KAAKC,WAAWC,QACpCl2E,KAAK02D,2BACD12D,KAAK22D,MACP32D,KAAK+8E,sBAGTnwC,MAAOytC,GAETxY,gBAAgB,CAACxL,0BAA2BymB,GAErCA,EA9EgB,GAgHrBtd,EAAK,CACTA,aAhCA,SAAsBwW,EAAM/1D,EAAMnE,GAChC,IAAIy6C,EAmBJ,OAlBa,IAATz6C,GAAuB,IAATA,EAIdy6C,GAHsB,IAATz6C,EAAamE,EAAK87C,GAAK97C,EAAK0pD,IACvBhgB,EACXlqD,OACA,IAAIu7E,EAAuBhF,EAAM/1D,EAAMnE,GAEvC,IAAI++D,EAAc7E,EAAM/1D,EAAMnE,GAErB,IAATA,EACTy6C,EAAO,IAAIsmB,EAAkB7G,EAAM/1D,GACjB,IAATnE,EACTy6C,EAAO,IAAI0kB,EAAiBjF,EAAM/1D,GAChB,IAATnE,IACTy6C,EAAO,IAAIilB,EAAkBxF,EAAM/1D,IAEjCs2C,EAAK5M,GACPqsB,EAAK1f,mBAAmBC,GAEnBA,GAaTiJ,uBAVA,WACE,OAAOqb,GAUTrb,gCAPA,WACE,OAAOwb,IAOT,OAAOxb,EAthBmB,GA4hBxByd,eAAkB,WACpB,IAAIzd,EAAK,GACLx1B,EAAY,GAchB,OAbAw1B,EAAG0d,iBAGH,SAA0Bzd,EAAIjO,GACvBxnB,EAAUy1B,KACbz1B,EAAUy1B,GAAMjO,IAJpBgO,EAAG2d,YAQH,SAAqB1d,EAAIuW,EAAM/1D,GAC7B,OAAO,IAAI+pB,EAAUy1B,GAAIuW,EAAM/1D,IAG1Bu/C,EAhBa,GAmBtB,SAAS4d,iBAyCT,SAASC,gBA+VT,SAASC,wBAiHT,SAASC,0BAyET,SAASC,oBAiOT,SAASC,kBACPz9E,KAAK4kE,QAAU,EACf5kE,KAAK24E,WAAa,EAClB34E,KAAKwpE,OAAS3W,iBAAiB7yD,KAAK24E,YAsBtC,SAAS+E,aAAa1H,EAAM/1D,EAAM09D,EAAUz2E,GAU1C,IAAI3H,EATJS,KAAKg2E,KAAOA,EACZh2E,KAAKk2E,SAAW,EAChBl2E,KAAK49E,UAAY/qB,iBAAiB5yC,EAAKxgB,QACvCO,KAAK29E,SAAWA,EAChB39E,KAAK2pD,GAAI,EACT3pD,KAAK69E,QAAU,GACf79E,KAAK89E,UAAYloB,iBAAiB,UAAW31C,EAAKxgB,OAASwgB,EAAKxgB,OAAS,EAAI,GAC7EO,KAAK+9E,WAAanoB,iBAAiB,UAAW,GAC9C51D,KAAK62D,6BAA6B3vD,GAElC,IACIqvD,EADA5oB,EAAM1tB,EAAKxgB,QAAU,EAEzB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBg3D,EAAOgb,gBAAgB0F,QAAQjB,EAAM/1D,EAAK1gB,GAAGg2C,EAAG,EAAG,EAAGv1C,MACtDA,KAAK2pD,EAAI4M,EAAK5M,GAAK3pD,KAAK2pD,EACxB3pD,KAAK49E,UAAUr+E,GAAK,CAAE2f,EAAGe,EAAK1gB,GAAG2f,EAAGC,EAAGo3C,GAEpCv2D,KAAK2pD,GACR3pD,KAAK42D,UAAS,GAEhB52D,KAAKy2D,YAAcz2D,KAAK2pD,EAgC1B,SAASq0B,iBAAiBhI,EAAM/1D,EAAM/Y,GACpClH,KAAKigB,KAAOA,EACZjgB,KAAKskD,EAAIsR,iBAAiB,SAAmB,EAAT31C,EAAKd,GACzC,IAAI8+D,EAAUh+D,EAAK0pC,EAAEA,EAAE,GAAG1qC,EAAKgB,EAAK0pC,EAAEA,EAAE,GAAG1qC,EAAExf,OAAkB,EAATwgB,EAAKd,EAASc,EAAK0pC,EAAEA,EAAElqD,OAAkB,EAATwgB,EAAKd,EAC3Fnf,KAAK04D,EAAI9C,iBAAiB,UAAWqoB,GACrCj+E,KAAKk+E,OAAQ,EACbl+E,KAAKm+E,OAAQ,EACbn+E,KAAKo+E,aAAep+E,KAAKq+E,mBACzBr+E,KAAKs+E,YAAcL,EACnBj+E,KAAK62D,6BAA6B3vD,GAClClH,KAAKu2D,KAAOgb,gBAAgB0F,QAAQjB,EAAM/1D,EAAK0pC,EAAG,EAAG,KAAM3pD,MAC3DA,KAAK2pD,EAAI3pD,KAAKu2D,KAAK5M,EACnB3pD,KAAK42D,UAAS,GA53BhBwmB,cAAcx9E,UAAU2+E,uBAAyB,aACjDnB,cAAcx9E,UAAU4+E,mBAAqB,aAC7CpB,cAAcx9E,UAAUg7E,SAAW,SAAU36D,GAC3C,IAAKjgB,KAAKwkE,OAAQ,CAEhBvkD,EAAKuzD,GAAGtsE,UAAUovD,mBAAmBr2C,EAAKuzD,IAC1C,IAAInP,EAAY,CAAEoa,MAAOx+D,EAAKuzD,GAAIvzD,KAAMA,EAAMq6D,qBAAsBQ,oBAAoBC,sBACxF/6E,KAAKwpE,OAAOtpD,KAAKmkD,GACjBrkE,KAAKw+E,mBAAmBna,GACpBrkE,KAAKy2D,aACPx2C,EAAKy+D,kBAIXtB,cAAcx9E,UAAUg6E,KAAO,SAAU5D,EAAM/1D,GAC7CjgB,KAAKwpE,OAAS,GACdxpE,KAAKg2E,KAAOA,EACZh2E,KAAK62D,6BAA6Bmf,GAClCh2E,KAAKu+E,uBAAuBvI,EAAM/1D,GAClCjgB,KAAKk2E,QAAUvkB,oBACf3xD,KAAKwkE,QAAS,EACdxkE,KAAK2pD,GAAI,EACL3pD,KAAKw2D,kBAAkB/2D,OACzBO,KAAK2pD,GAAI,EAET3pD,KAAK42D,UAAS,IAGlBwmB,cAAcx9E,UAAU++E,YAAc,WAChC3+E,KAAKg2E,KAAKC,WAAWC,UAAYl2E,KAAKk2E,UAG1Cl2E,KAAKk2E,QAAUl2E,KAAKg2E,KAAKC,WAAWC,QACpCl2E,KAAK02D,6BAGPmL,gBAAgB,CAACxL,0BAA2B+mB,eAM5Cvb,gBAAgB,CAACub,eAAgBC,cACjCA,aAAaz9E,UAAU2+E,uBAAyB,SAAUvI,EAAM/1D,GAC9DjgB,KAAKif,EAAIsyD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKhB,EAAG,EAAG,IAAMjf,MACxDA,KAAKqf,EAAIkyD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKZ,EAAG,EAAG,IAAMrf,MACxDA,KAAK04D,EAAI6Y,gBAAgB0F,QAAQjB,EAAM/1D,EAAKy4C,EAAG,EAAG,EAAG14D,MACrDA,KAAK4+E,OAAS,EACd5+E,KAAK6+E,OAAS,EACd7+E,KAAK42D,SAAW52D,KAAK2+E,YACrB3+E,KAAKosC,EAAInsB,EAAKmsB,EACdpsC,KAAKy2D,cAAgBz2D,KAAKif,EAAEk3D,gBAAgB12E,UAAYO,KAAKqf,EAAE82D,gBAAgB12E,UAAYO,KAAK04D,EAAEyd,gBAAgB12E,QAGpH49E,aAAaz9E,UAAU4+E,mBAAqB,SAAUna,GACpDA,EAAUya,UAAY,IAGxBzB,aAAaz9E,UAAUm/E,oBAAsB,SAAU9/D,EAAGI,EAAG2/D,EAAajc,EAAakc,GACrF,IAAIC,EAAW,GACX7/D,GAAK,EACP6/D,EAASh/D,KAAK,CACZjB,EAAGA,EACHI,EAAGA,IAEIJ,GAAK,EACdigE,EAASh/D,KAAK,CACZjB,EAAGA,EAAI,EACPI,EAAGA,EAAI,KAGT6/D,EAASh/D,KAAK,CACZjB,EAAGA,EACHI,EAAG,IAEL6/D,EAASh/D,KAAK,CACZjB,EAAG,EACHI,EAAGA,EAAI,KAGX,IACI9f,EAEA4/E,EAHAC,EAAgB,GAEhBzxC,EAAMuxC,EAASz/E,OAEnB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAAG,CAGzB,IAAI8/E,EACAC,GAHNH,EAAYD,EAAS3/E,IACL8f,EAAI4/D,EAAsBlc,GAAeoc,EAAUlgE,EAAIggE,EAAsBlc,EAAcic,IAIvGK,EADEF,EAAUlgE,EAAIggE,GAAuBlc,EAC9B,GAECoc,EAAUlgE,EAAIggE,EAAsBlc,GAAeic,EAG7DM,EADEH,EAAU9/D,EAAI4/D,GAAuBlc,EAAcic,EAC5C,GAEEG,EAAU9/D,EAAI4/D,EAAsBlc,GAAeic,EAEhEI,EAAcl/D,KAAK,CAACm/D,EAAQC,KAMhC,OAHKF,EAAc3/E,QACjB2/E,EAAcl/D,KAAK,CAAC,EAAG,IAElBk/D,GAGT/B,aAAaz9E,UAAU2/E,iBAAmB,SAAUT,GAClD,IAAIv/E,EACAouC,EAAMmxC,EAAUr/E,OACpB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBglE,mBAAmBib,QAAQV,EAAUv/E,IAGvC,OADAu/E,EAAUr/E,OAAS,EACZq/E,GAGTzB,aAAaz9E,UAAU6/E,cAAgB,SAAUpJ,GAC/C,IAAIp3D,EACAI,EAkCAqgE,EACAngF,EAlCJ,GAAIS,KAAK22D,MAAQ0f,EAAe,CAC9B,IAAI3d,EAAK14D,KAAK04D,EAAEnjB,EAAI,IAAO,IAmB3B,GAlBImjB,EAAI,IACNA,GAAK,IAGLz5C,EADEjf,KAAKif,EAAEs2B,EAAI,EACT,EAAImjB,EACC14D,KAAKif,EAAEs2B,EAAI,EAChB,EAAImjB,EAEJ14D,KAAKif,EAAEs2B,EAAImjB,IAGfr5C,EADErf,KAAKqf,EAAEk2B,EAAI,EACT,EAAImjB,EACC14D,KAAKqf,EAAEk2B,EAAI,EAChB,EAAImjB,EAEJ14D,KAAKqf,EAAEk2B,EAAImjB,GAGN,CACT,IAAIinB,EAAK1gE,EACTA,EAAII,EACJA,EAAIsgE,EAEN1gE,EAA4B,KAAxB8J,KAAKod,MAAU,IAAJlnB,GACfI,EAA4B,KAAxB0J,KAAKod,MAAU,IAAJ9mB,GACfrf,KAAK4+E,OAAS3/D,EACdjf,KAAK6+E,OAASx/D,OAEdJ,EAAIjf,KAAK4+E,OACTv/D,EAAIrf,KAAK6+E,OAIX,IACIj1D,EACAg/C,EACAkW,EACApU,EACAkV,EALAjyC,EAAM3tC,KAAKwpE,OAAO/pE,OAMlBw/E,EAAsB,EAE1B,GAAI5/D,IAAMJ,EACR,IAAK1f,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKwpE,OAAOjqE,GAAG+6E,qBAAqBK,gBACpC36E,KAAKwpE,OAAOjqE,GAAGk/E,MAAM9nB,MAAO,EAC5B32D,KAAKwpE,OAAOjqE,GAAGk/E,MAAM9T,MAAQ3qE,KAAKwpE,OAAOjqE,GAAG+6E,qBACxCt6E,KAAK22D,OACP32D,KAAKwpE,OAAOjqE,GAAGu/E,UAAUr/E,OAAS,QAGjC,GAAa,IAAN4f,GAAiB,IAANJ,GAAmB,IAANI,GAAiB,IAANJ,GA0F1C,GAAIjf,KAAK22D,KACd,IAAKp3D,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAGxBS,KAAKwpE,OAAOjqE,GAAGu/E,UAAUr/E,OAAS,EAClCO,KAAKwpE,OAAOjqE,GAAGk/E,MAAM9nB,MAAO,MA/F4B,CAC1D,IACI0N,EACAiW,EAFA4E,EAAW,GAGf,IAAK3/E,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAGxB,IAFA8kE,EAAYrkE,KAAKwpE,OAAOjqE,IAETk/E,MAAM9nB,MAAS32D,KAAK22D,MAAS0f,GAA4B,IAAXr2E,KAAKosC,EAE3D,CAIL,GAFAw8B,GADA8W,EAAarb,EAAUoa,MAAM9T,OACX/F,QAClBgb,EAAmB,GACdvb,EAAUoa,MAAM9nB,MAAQ0N,EAAUya,UAAUr/E,OAC/CmgF,EAAmBvb,EAAUub,qBACxB,CAEL,IADAd,EAAY9+E,KAAKu/E,iBAAiBlb,EAAUya,WACvCl1D,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EACzB8gD,EAAWpD,IAAIlD,kBAAkBsb,EAAWlW,OAAO5/C,IACnDk1D,EAAU5+D,KAAKwqD,GACfkV,GAAoBlV,EAAS7F,YAE/BR,EAAUub,iBAAmBA,EAC7Bvb,EAAUya,UAAYA,EAGxBG,GAAuBW,EACvBvb,EAAUoa,MAAM9nB,MAAO,OAnBvB0N,EAAUoa,MAAM9T,MAAQtG,EAAUiW,qBAsBtC,IAGIuF,EAHAR,EAASpgE,EACTqgE,EAASjgE,EACT0jD,EAAc,EAElB,IAAKxjE,EAAIouC,EAAM,EAAGpuC,GAAK,EAAGA,GAAK,EAE7B,IADA8kE,EAAYrkE,KAAKwpE,OAAOjqE,IACVk/E,MAAM9nB,KAAM,CAWxB,KAVA2jB,EAAuBjW,EAAUiW,sBACZK,gBAEN,IAAX36E,KAAKosC,GAAWuB,EAAM,GACxBkyC,EAAQ7/E,KAAK++E,oBAAoB9/D,EAAGI,EAAGglD,EAAUub,iBAAkB7c,EAAakc,GAChFlc,GAAesB,EAAUub,kBAEzBC,EAAQ,CAAC,CAACR,EAAQC,IAEpB1W,EAAOiX,EAAMpgF,OACRmqB,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EAAG,CAC5By1D,EAASQ,EAAMj2D,GAAG,GAClB01D,EAASO,EAAMj2D,GAAG,GAClBs1D,EAASz/E,OAAS,EACd6/E,GAAU,EACZJ,EAASh/D,KAAK,CACZjB,EAAGolD,EAAUub,iBAAmBP,EAChChgE,EAAGglD,EAAUub,iBAAmBN,IAEzBD,GAAU,EACnBH,EAASh/D,KAAK,CACZjB,EAAGolD,EAAUub,kBAAoBP,EAAS,GAC1ChgE,EAAGglD,EAAUub,kBAAoBN,EAAS,MAG5CJ,EAASh/D,KAAK,CACZjB,EAAGolD,EAAUub,iBAAmBP,EAChChgE,EAAGglD,EAAUub,mBAEfV,EAASh/D,KAAK,CACZjB,EAAG,EACHI,EAAGglD,EAAUub,kBAAoBN,EAAS,MAG9C,IAAIQ,EAAgB9/E,KAAK+/E,UAAU1b,EAAW6a,EAAS,IACvD,GAAIA,EAAS,GAAGjgE,IAAMigE,EAAS,GAAG7/D,EAAG,CACnC,GAAI6/D,EAASz/E,OAAS,EAEpB,GAD4B4kE,EAAUoa,MAAM9T,MAAMnB,OAAOnF,EAAUoa,MAAM9T,MAAM/F,QAAU,GAC/DtgB,EAAG,CAC3B,IAAI07B,EAAYF,EAAcG,MAC9BjgF,KAAKkgF,SAASJ,EAAexF,GAC7BwF,EAAgB9/E,KAAK+/E,UAAU1b,EAAW6a,EAAS,GAAIc,QAEvDhgF,KAAKkgF,SAASJ,EAAexF,GAC7BwF,EAAgB9/E,KAAK+/E,UAAU1b,EAAW6a,EAAS,IAGvDl/E,KAAKkgF,SAASJ,EAAexF,IAGjCjW,EAAUoa,MAAM9T,MAAQ2P,KAahC+C,aAAaz9E,UAAUsgF,SAAW,SAAUC,EAAU7F,GACpD,IAAI/6E,EACAouC,EAAMwyC,EAAS1gF,OACnB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB+6E,EAAqBM,SAASuF,EAAS5gF,KAI3C89E,aAAaz9E,UAAUwgF,WAAa,SAAU/jB,EAAKC,EAAKC,EAAKmG,EAAK2d,EAAW18C,EAAK28C,GAChFD,EAAUrH,QAAQ1c,EAAI,GAAIA,EAAI,GAAI,IAAK34B,GACvC08C,EAAUrH,QAAQzc,EAAI,GAAIA,EAAI,GAAI,IAAK54B,EAAM,GACzC28C,GACFD,EAAUrH,QAAQ3c,EAAI,GAAIA,EAAI,GAAI,IAAK14B,GAEzC08C,EAAUrH,QAAQtW,EAAI,GAAIA,EAAI,GAAI,IAAK/+B,EAAM,IAG/C05C,aAAaz9E,UAAU2gF,oBAAsB,SAAU9yE,EAAQ4yE,EAAW18C,EAAK28C,GAC7ED,EAAUrH,QAAQvrE,EAAO,GAAIA,EAAO,GAAI,IAAKk2B,GAC7C08C,EAAUrH,QAAQvrE,EAAO,GAAIA,EAAO,GAAI,IAAKk2B,EAAM,GAC/C28C,GACFD,EAAUrH,QAAQvrE,EAAO,GAAIA,EAAO,GAAI,IAAKk2B,GAE/C08C,EAAUrH,QAAQvrE,EAAO,GAAIA,EAAO,GAAI,IAAKk2B,EAAM,IAGrD05C,aAAaz9E,UAAUmgF,UAAY,SAAU1b,EAAWmc,EAAcH,GACpE,IAEI9gF,EAEAqqB,EACAg/C,EAEA6X,EACAC,EACArd,EACAsd,EAEA3c,EAZA8a,EAAYza,EAAUya,UACtBY,EAAarb,EAAUoa,MAAM9T,MAAMnB,OAEnC77B,EAAM02B,EAAUoa,MAAM9T,MAAM/F,QAG5B7B,EAAc,EAKdyG,EAAS,GAET8W,GAAW,EAUf,IATKD,GAKHK,EAAeL,EAAUzb,QACzBZ,EAAUqc,EAAUzb,UALpByb,EAAY3F,UAAUvX,aACtBud,EAAe,EACf1c,EAAU,GAKZwF,EAAOtpD,KAAKmgE,GACP9gF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAAG,CAI3B,IAHA8jE,EAAUyb,EAAUv/E,GAAG8jE,QACvBgd,EAAU/7B,EAAIo7B,EAAWngF,GAAG+kD,EAC5BskB,EAAO8W,EAAWngF,GAAG+kD,EAAI+e,EAAQ5jE,OAAS4jE,EAAQ5jE,OAAS,EACtDmqB,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EAEzB,GAAIm5C,GADJ0d,EAAoBpd,EAAQz5C,EAAI,IACIm5C,YAAcyd,EAAavhE,EAC7D8jD,GAAe0d,EAAkB1d,YACjCsd,EAAU/7B,GAAI,MACT,IAAIye,EAAcyd,EAAanhE,EAAG,CACvCghE,EAAU/7B,GAAI,EACd,MAEIk8B,EAAavhE,GAAK8jD,GAAeyd,EAAanhE,GAAK0jD,EAAc0d,EAAkB1d,aACrF/iE,KAAKogF,WAAWV,EAAWngF,GAAGg2C,EAAE3rB,EAAI,GAAI81D,EAAWngF,GAAGm5D,EAAE9uC,EAAI,GAAI81D,EAAWngF,GAAGA,EAAEqqB,GAAI81D,EAAWngF,GAAGg2C,EAAE3rB,GAAIy2D,EAAWK,EAAcJ,GACjIA,GAAW,IAEXK,EAAUrZ,IAAIxC,cAAc4a,EAAWngF,GAAGg2C,EAAE3rB,EAAI,GAAI81D,EAAWngF,GAAGg2C,EAAE3rB,GAAI81D,EAAWngF,GAAGm5D,EAAE9uC,EAAI,GAAI81D,EAAWngF,GAAGA,EAAEqqB,IAAK42D,EAAavhE,EAAI8jD,GAAe0d,EAAkB1d,aAAcyd,EAAanhE,EAAI0jD,GAAe0d,EAAkB1d,YAAaM,EAAQz5C,EAAI,IAChQ5pB,KAAKugF,oBAAoBI,EAASN,EAAWK,EAAcJ,GAE3DA,GAAW,EACXD,EAAU/7B,GAAI,GAEhBye,GAAe0d,EAAkB1d,YACjC2d,GAAgB,EAGpB,GAAIhB,EAAWngF,GAAG+kD,GAAK+e,EAAQ5jE,OAAQ,CAErC,GADAghF,EAAoBpd,EAAQz5C,EAAI,GAC5Bm5C,GAAeyd,EAAanhE,EAAG,CACjC,IAAIkkD,EAAgBF,EAAQz5C,EAAI,GAAGm5C,YAC/Byd,EAAavhE,GAAK8jD,GAAeyd,EAAanhE,GAAK0jD,EAAcQ,GACnEvjE,KAAKogF,WAAWV,EAAWngF,GAAGg2C,EAAE3rB,EAAI,GAAI81D,EAAWngF,GAAGm5D,EAAE9uC,EAAI,GAAI81D,EAAWngF,GAAGA,EAAE,GAAImgF,EAAWngF,GAAGg2C,EAAE,GAAI8qC,EAAWK,EAAcJ,GACjIA,GAAW,IAEXK,EAAUrZ,IAAIxC,cAAc4a,EAAWngF,GAAGg2C,EAAE3rB,EAAI,GAAI81D,EAAWngF,GAAGg2C,EAAE,GAAImqC,EAAWngF,GAAGm5D,EAAE9uC,EAAI,GAAI81D,EAAWngF,GAAGA,EAAE,IAAKihF,EAAavhE,EAAI8jD,GAAeQ,GAAgBid,EAAanhE,EAAI0jD,GAAeQ,EAAeF,EAAQz5C,EAAI,IAChO5pB,KAAKugF,oBAAoBI,EAASN,EAAWK,EAAcJ,GAE3DA,GAAW,EACXD,EAAU/7B,GAAI,QAGhB+7B,EAAU/7B,GAAI,EAEhBye,GAAe0d,EAAkB1d,YACjC2d,GAAgB,EAMlB,GAJIL,EAAUzb,UACZyb,EAAUrH,QAAQqH,EAAU9qC,EAAEyuB,GAAS,GAAIqc,EAAU9qC,EAAEyuB,GAAS,GAAI,IAAKA,GACzEqc,EAAUrH,QAAQqH,EAAU9qC,EAAE8qC,EAAUzb,QAAU,GAAG,GAAIyb,EAAU9qC,EAAE8qC,EAAUzb,QAAU,GAAG,GAAI,IAAKyb,EAAUzb,QAAU,IAEvH7B,EAAcyd,EAAanhE,EAC7B,MAEE9f,EAAIouC,EAAM,IACZ0yC,EAAY3F,UAAUvX,aACtBmd,GAAW,EACX9W,EAAOtpD,KAAKmgE,GACZK,EAAe,GAGnB,OAAOlX,GAGTyT,eAAeC,iBAAiB,KAAMG,cAKtCxb,gBAAgB,CAACub,eAAgBE,sBACjCA,qBAAqB19E,UAAU2+E,uBAAyB,SAAUvI,EAAM/1D,GACtEjgB,KAAK42D,SAAW52D,KAAK2+E,YACrB3+E,KAAK4gF,GAAKrP,gBAAgB0F,QAAQjB,EAAM/1D,EAAKrV,EAAG,EAAG,KAAM5K,MACzDA,KAAKy2D,cAAgBz2D,KAAK4gF,GAAGzK,gBAAgB12E,QAG/C69E,qBAAqB19E,UAAUihF,YAAc,SAAUz3E,EAAM+8B,GAC3D,IAEI5mC,EAFAuhF,EAAapG,UAAUvX,aAC3B2d,EAAWx8B,EAAIl7C,EAAKk7C,EAEpB,IACIy8B,EACAC,EACAC,EACAC,EACA9xC,EACA+xC,EAEAjI,EACAC,EACAC,EACAC,EACAC,EACAC,EAbA5rC,EAAMvkC,EAAKw7D,QAOXx8D,EAAQ,EAOZ,IAAK7I,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBwhF,EAAW33E,EAAKmsC,EAAEh2C,GAClB0hF,EAAW73E,EAAKsvD,EAAEn5D,GAClByhF,EAAW53E,EAAK7J,EAAEA,GACdwhF,EAAS,KAAOE,EAAS,IAAMF,EAAS,KAAOE,EAAS,IAAMF,EAAS,KAAOC,EAAS,IAAMD,EAAS,KAAOC,EAAS,GAC7G,IAANzhF,GAAWA,IAAMouC,EAAM,GAAOvkC,EAAKk7C,GAQpC48B,EADQ,IAAN3hF,EACQ6J,EAAKmsC,EAAE5H,EAAM,GAEbvkC,EAAKmsC,EAAEh2C,EAAI,GAGvB4hF,GADA/xC,EAAWrmB,KAAKspC,KAAKtpC,KAAKioC,IAAI+vB,EAAS,GAAKG,EAAQ,GAAI,GAAKn4D,KAAKioC,IAAI+vB,EAAS,GAAKG,EAAQ,GAAI,KACxEn4D,KAAKmd,IAAIkJ,EAAW,EAAGjJ,GAASiJ,EAAW,EAEnE8pC,EADAI,EAAKyH,EAAS,IAAMG,EAAQ,GAAKH,EAAS,IAAMI,EAGhDhI,EADAI,EAAKwH,EAAS,IAAMA,EAAS,GAAKG,EAAQ,IAAMC,EAEhD/H,EAAKF,GAAMA,EAAK6H,EAAS,IAAM9tB,YAC/BomB,EAAKF,GAAMA,EAAK4H,EAAS,IAAM9tB,YAC/B6tB,EAAW7H,YAAYC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAInxE,GAC/CA,GAAS,EAGP84E,EADE3hF,IAAMouC,EAAM,EACJvkC,EAAKmsC,EAAE,GAEPnsC,EAAKmsC,EAAEh2C,EAAI,GAGvB4hF,GADA/xC,EAAWrmB,KAAKspC,KAAKtpC,KAAKioC,IAAI+vB,EAAS,GAAKG,EAAQ,GAAI,GAAKn4D,KAAKioC,IAAI+vB,EAAS,GAAKG,EAAQ,GAAI,KACxEn4D,KAAKmd,IAAIkJ,EAAW,EAAGjJ,GAASiJ,EAAW,EAEnE8pC,EADAE,EAAK2H,EAAS,IAAMG,EAAQ,GAAKH,EAAS,IAAMI,EAGhDhI,EADAE,EAAK0H,EAAS,IAAMG,EAAQ,GAAKH,EAAS,IAAMI,EAEhD7H,EAAKJ,GAAMA,EAAK6H,EAAS,IAAM9tB,YAC/BsmB,EAAKJ,GAAMA,EAAK4H,EAAS,IAAM9tB,YAC/B6tB,EAAW7H,YAAYC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAInxE,GAC/CA,GAAS,IApCT04E,EAAW7H,YAAY8H,EAAS,GAAIA,EAAS,GAAIE,EAAS,GAAIA,EAAS,GAAID,EAAS,GAAIA,EAAS,GAAI54E,GAIrGA,GAAS,IAmCX04E,EAAW7H,YAAY7vE,EAAKmsC,EAAEh2C,GAAG,GAAI6J,EAAKmsC,EAAEh2C,GAAG,GAAI6J,EAAKsvD,EAAEn5D,GAAG,GAAI6J,EAAKsvD,EAAEn5D,GAAG,GAAI6J,EAAK7J,EAAEA,GAAG,GAAI6J,EAAK7J,EAAEA,GAAG,GAAI6I,GAC3GA,GAAS,GAGb,OAAO04E,GAGTxD,qBAAqB19E,UAAU6/E,cAAgB,SAAUpJ,GACvD,IAAIqJ,EACAngF,EAEAqqB,EACAg/C,EAIEvE,EACAiW,EAPF3sC,EAAM3tC,KAAKwpE,OAAO/pE,OAGlBmhF,EAAK5gF,KAAK4gF,GAAGrrC,EAEjB,GAAW,IAAPqrC,EAGF,IAAKrhF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAAG,CAG3B,GADA+6E,GADAjW,EAAYrkE,KAAKwpE,OAAOjqE,IACS+6E,qBAC1BjW,EAAUoa,MAAM9nB,MAAS32D,KAAK22D,MAAS0f,EAK5C,IAJAiE,EAAqBK,gBACrBtW,EAAUoa,MAAM9nB,MAAO,EACvB+oB,EAAarb,EAAUoa,MAAM9T,MAAMnB,OACnCZ,EAAOvE,EAAUoa,MAAM9T,MAAM/F,QACxBh7C,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EACzB0wD,EAAqBM,SAAS56E,KAAK6gF,YAAYnB,EAAW91D,GAAIg3D,IAGlEvc,EAAUoa,MAAM9T,MAAQtG,EAAUiW,qBAGjCt6E,KAAKw2D,kBAAkB/2D,SAC1BO,KAAK22D,MAAO,IAIhBsmB,eAAeC,iBAAiB,KAAMI,sBAKtCzb,gBAAgB,CAACub,eAAgBG,wBACjCA,uBAAuB39E,UAAU2+E,uBAAyB,SAAUvI,EAAM/1D,GACxEjgB,KAAK42D,SAAW52D,KAAK2+E,YACrB3+E,KAAKohF,OAAS7P,gBAAgB0F,QAAQjB,EAAM/1D,EAAKR,EAAG,EAAG,KAAMzf,MAC7DA,KAAKy2D,cAAgBz2D,KAAKohF,OAAOjL,gBAAgB12E,QAGnD89E,uBAAuB39E,UAAUihF,YAAc,SAAUz3E,EAAMg4E,GAC7D,IAAI9a,EAAU8a,EAAS,IACnBC,EAAc,CAAC,EAAG,GAClBC,EAAal4E,EAAKw7D,QAClBrlE,EAAI,EACR,IAAKA,EAAI,EAAGA,EAAI+hF,EAAY/hF,GAAK,EAC/B8hF,EAAY,IAAMj4E,EAAKmsC,EAAEh2C,GAAG,GAC5B8hF,EAAY,IAAMj4E,EAAKmsC,EAAEh2C,GAAG,GAE9B8hF,EAAY,IAAMC,EAClBD,EAAY,IAAMC,EAClB,IAEIpI,EACAC,EACAC,EACAC,EACAC,EACAC,EAPAuH,EAAapG,UAAUvX,aAQ3B,IAPA2d,EAAWx8B,EAAIl7C,EAAKk7C,EAOf/kD,EAAI,EAAGA,EAAI+hF,EAAY/hF,GAAK,EAC/B25E,EAAK9vE,EAAKmsC,EAAEh2C,GAAG,IAAM8hF,EAAY,GAAKj4E,EAAKmsC,EAAEh2C,GAAG,IAAM+mE,EACtD6S,EAAK/vE,EAAKmsC,EAAEh2C,GAAG,IAAM8hF,EAAY,GAAKj4E,EAAKmsC,EAAEh2C,GAAG,IAAM+mE,EACtD8S,EAAKhwE,EAAKsvD,EAAEn5D,GAAG,IAAM8hF,EAAY,GAAKj4E,EAAKsvD,EAAEn5D,GAAG,KAAO+mE,EACvD+S,EAAKjwE,EAAKsvD,EAAEn5D,GAAG,IAAM8hF,EAAY,GAAKj4E,EAAKsvD,EAAEn5D,GAAG,KAAO+mE,EACvDgT,EAAKlwE,EAAK7J,EAAEA,GAAG,IAAM8hF,EAAY,GAAKj4E,EAAK7J,EAAEA,GAAG,KAAO+mE,EACvDiT,EAAKnwE,EAAK7J,EAAEA,GAAG,IAAM8hF,EAAY,GAAKj4E,EAAK7J,EAAEA,GAAG,KAAO+mE,EACvDwa,EAAW7H,YAAYC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIh6E,GAEjD,OAAOuhF,GAGTvD,uBAAuB39E,UAAU6/E,cAAgB,SAAUpJ,GACzD,IAAIqJ,EACAngF,EAEAqqB,EACAg/C,EAIEvE,EACAiW,EAPF3sC,EAAM3tC,KAAKwpE,OAAO/pE,OAGlB2hF,EAASphF,KAAKohF,OAAO7rC,EAEzB,GAAe,IAAX6rC,EAGF,IAAK7hF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAAG,CAG3B,GADA+6E,GADAjW,EAAYrkE,KAAKwpE,OAAOjqE,IACS+6E,qBAC1BjW,EAAUoa,MAAM9nB,MAAS32D,KAAK22D,MAAS0f,EAK5C,IAJAiE,EAAqBK,gBACrBtW,EAAUoa,MAAM9nB,MAAO,EACvB+oB,EAAarb,EAAUoa,MAAM9T,MAAMnB,OACnCZ,EAAOvE,EAAUoa,MAAM9T,MAAM/F,QACxBh7C,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EACzB0wD,EAAqBM,SAAS56E,KAAK6gF,YAAYnB,EAAW91D,GAAIw3D,IAGlE/c,EAAUoa,MAAM9T,MAAQtG,EAAUiW,qBAGjCt6E,KAAKw2D,kBAAkB/2D,SAC1BO,KAAK22D,MAAO,IAGhBsmB,eAAeC,iBAAiB,KAAMK,wBAKtC1b,gBAAgB,CAACub,eAAgBI,kBAEjCA,iBAAiB59E,UAAU2+E,uBAAyB,SAAUvI,EAAM/1D,GAClEjgB,KAAK42D,SAAW52D,KAAK2+E,YACrB3+E,KAAKskD,EAAIitB,gBAAgB0F,QAAQjB,EAAM/1D,EAAKqkC,EAAG,EAAG,KAAMtkD,MACxDA,KAAK04D,EAAI6Y,gBAAgB0F,QAAQjB,EAAM/1D,EAAKy4C,EAAG,EAAG,KAAM14D,MACxDA,KAAKuhF,GAAKrK,yBAAyBuB,qBAAqBzC,EAAM/1D,EAAKshE,GAAIvhF,MACvEA,KAAKwhF,GAAKjQ,gBAAgB0F,QAAQjB,EAAM/1D,EAAKshE,GAAGC,GAAI,EAAG,IAAMxhF,MAC7DA,KAAKyhF,GAAKlQ,gBAAgB0F,QAAQjB,EAAM/1D,EAAKshE,GAAGE,GAAI,EAAG,IAAMzhF,MAC7DA,KAAKigB,KAAOA,EACPjgB,KAAKw2D,kBAAkB/2D,QAC1BO,KAAK42D,UAAS,GAEhB52D,KAAKy2D,cAAgBz2D,KAAKw2D,kBAAkB/2D,OAC5CO,KAAK0hF,QAAU,IAAIxqB,OACnBl3D,KAAK2hF,QAAU,IAAIzqB,OACnBl3D,KAAK4hF,QAAU,IAAI1qB,OACnBl3D,KAAK6hF,QAAU,IAAI3qB,OACnBl3D,KAAK8hF,OAAS,IAAI5qB,QAGpBsmB,iBAAiB59E,UAAUmiF,gBAAkB,SAAUL,EAASC,EAASC,EAASr0E,EAAWq1D,EAAMof,GACjG,IAAI38C,EAAM28C,GAAO,EAAI,EACjBz7C,EAASh5B,EAAU0R,EAAEs2B,EAAE,IAAM,EAAIhoC,EAAU0R,EAAEs2B,EAAE,KAAO,EAAIqtB,GAC1Dp8B,EAASj5B,EAAU0R,EAAEs2B,EAAE,IAAM,EAAIhoC,EAAU0R,EAAEs2B,EAAE,KAAO,EAAIqtB,GAC9D8e,EAAQ/oB,UAAUprD,EAAU4R,EAAEo2B,EAAE,GAAKlQ,EAAMu9B,EAAMr1D,EAAU4R,EAAEo2B,EAAE,GAAKlQ,EAAMu9B,EAAMr1D,EAAU4R,EAAEo2B,EAAE,IAC9FosC,EAAQhpB,WAAWprD,EAAUkS,EAAE81B,EAAE,IAAKhoC,EAAUkS,EAAE81B,EAAE,GAAIhoC,EAAUkS,EAAE81B,EAAE,IACtEosC,EAAQjqB,QAAQnqD,EAAU3C,EAAE2qC,EAAIlQ,EAAMu9B,GACtC+e,EAAQhpB,UAAUprD,EAAUkS,EAAE81B,EAAE,GAAIhoC,EAAUkS,EAAE81B,EAAE,GAAIhoC,EAAUkS,EAAE81B,EAAE,IACpEqsC,EAAQjpB,WAAWprD,EAAUkS,EAAE81B,EAAE,IAAKhoC,EAAUkS,EAAE81B,EAAE,GAAIhoC,EAAUkS,EAAE81B,EAAE,IACtEqsC,EAAQtpE,MAAM0pE,EAAM,EAAIz7C,EAASA,EAAQy7C,EAAM,EAAIx7C,EAASA,GAC5Do7C,EAAQjpB,UAAUprD,EAAUkS,EAAE81B,EAAE,GAAIhoC,EAAUkS,EAAE81B,EAAE,GAAIhoC,EAAUkS,EAAE81B,EAAE,KAGtEioC,iBAAiB59E,UAAUg6E,KAAO,SAAU5D,EAAMlgB,EAAKnyB,EAAKs+C,GAW1D,IAVAjiF,KAAKg2E,KAAOA,EACZh2E,KAAK81D,IAAMA,EACX91D,KAAK2jC,IAAMA,EACX3jC,KAAKiiF,UAAYA,EACjBjiF,KAAKkiF,eAAiB,EACtBliF,KAAKmiF,UAAY,GACjBniF,KAAKoiF,QAAU,GACfpiF,KAAKk2E,SAAW,EAChBl2E,KAAK62D,6BAA6Bmf,GAClCh2E,KAAKu+E,uBAAuBvI,EAAMlgB,EAAInyB,IAC/BA,EAAM,GACXA,GAAO,EAEP3jC,KAAKmiF,UAAUE,QAAQvsB,EAAInyB,IAEzB3jC,KAAKw2D,kBAAkB/2D,OACzBO,KAAK2pD,GAAI,EAET3pD,KAAK42D,UAAS,IAIlB4mB,iBAAiB59E,UAAU0iF,cAAgB,SAAUh3C,GACnD,IAAI/rC,EACAouC,EAAMrC,EAAS7rC,OACnB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB+rC,EAAS/rC,GAAGgjF,YAAa,EACF,OAAnBj3C,EAAS/rC,GAAGs5D,IACd74D,KAAKsiF,cAAch3C,EAAS/rC,GAAGgkD,KAKrCi6B,iBAAiB59E,UAAU4iF,cAAgB,SAAUl3C,GACnD,IAAIm3C,EAAcr0B,KAAKx1B,MAAMw1B,KAAKE,UAAUhjB,IAE5C,OADAtrC,KAAKsiF,cAAcG,GACZA,GAGTjF,iBAAiB59E,UAAU8iF,kBAAoB,SAAUp3C,EAAUq3C,GACjE,IAAIpjF,EACAouC,EAAMrC,EAAS7rC,OACnB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB+rC,EAAS/rC,GAAGqjF,QAAUD,EACC,OAAnBr3C,EAAS/rC,GAAGs5D,IACd74D,KAAK0iF,kBAAkBp3C,EAAS/rC,GAAGgkD,GAAIo/B,IAK7CnF,iBAAiB59E,UAAU6/E,cAAgB,SAAUpJ,GACnD,IAAIwM,EACAC,EACAvjF,EACA8lC,EACA09C,EACAC,GAAc,EAClB,GAAIhjF,KAAK22D,MAAQ0f,EAAe,CAC9B,IAmBIsM,EAnBAM,EAASl6D,KAAK0jC,KAAKzsD,KAAKskD,EAAE/O,GAC9B,GAAIv1C,KAAKoiF,QAAQ3iF,OAASwjF,EAAQ,CAChC,KAAOjjF,KAAKoiF,QAAQ3iF,OAASwjF,GAAQ,CACnC,IAAI7gE,EAAQ,CACVmhC,GAAIvjD,KAAKwiF,cAAcxiF,KAAKmiF,WAC5BtpB,GAAI,MAENz2C,EAAMmhC,GAAGrjC,KAAK,CACZT,EAAG,CAAEA,EAAG,EAAGyjE,GAAI,EAAGv5B,EAAG,CAAC,EAAG,IAAM8V,GAAI,YAAa/G,EAAG,CAAEj5C,EAAG,EAAGyjE,GAAI,EAAGv5B,EAAG,KAAOxqC,EAAG,CAAEM,EAAG,EAAGyjE,GAAI,EAAGv5B,EAAG,CAAC,EAAG,IAAM/+C,EAAG,CAAE6U,EAAG,EAAGyjE,GAAI,EAAGv5B,EAAG,CAAC,CAAE1qC,EAAG,EAAGI,EAAG,EAAGL,EAAG,GAAK,CAAEC,EAAG,EAAGI,EAAG,EAAGL,EAAG,KAAQC,EAAG,CAAEQ,EAAG,EAAGyjE,GAAI,EAAGv5B,EAAG,CAAC,IAAK,MAAQiuB,GAAI,CAAEn4D,EAAG,EAAGyjE,GAAI,EAAGv5B,EAAG,GAAKguB,GAAI,CAAEl4D,EAAG,EAAGyjE,GAAI,EAAGv5B,EAAG,GAAKkP,GAAI,OAG/Q74D,KAAK81D,IAAI3wC,OAAO,EAAG,EAAG/C,GACtBpiB,KAAKoiF,QAAQj9D,OAAO,EAAG,EAAG/C,GAC1BpiB,KAAKkiF,gBAAkB,EAEzBliF,KAAKg2E,KAAKmN,eACVH,GAAc,EAIhB,IAFAD,EAAO,EAEFxjF,EAAI,EAAGA,GAAKS,KAAKoiF,QAAQ3iF,OAAS,EAAGF,GAAK,EAAG,CAIhD,GAHAojF,EAAaI,EAAOE,EACpBjjF,KAAKoiF,QAAQ7iF,GAAGqjF,QAAUD,EAC1B3iF,KAAK0iF,kBAAkB1iF,KAAKoiF,QAAQ7iF,GAAGgkD,GAAIo/B,IACtCA,EAAY,CACf,IAAIS,EAAQpjF,KAAKiiF,UAAU1iF,GAAGgkD,GAC1B8/B,EAAgBD,EAAMA,EAAM3jF,OAAS,GACJ,IAAjC4jF,EAAc91E,UAAU+1E,GAAG/tC,GAC7B8tC,EAAc91E,UAAU+1E,GAAG3sB,MAAO,EAClC0sB,EAAc91E,UAAU+1E,GAAG/tC,EAAI,GAE/B8tC,EAAc91E,UAAU+1E,GAAG3sB,MAAO,EAGtCosB,GAAQ,EAGV/iF,KAAKkiF,eAAiBe,EAGtB,IAAI51E,EAASrN,KAAK04D,EAAEnjB,EAChBguC,EAAel2E,EAAS,EACxBm2E,EAAcn2E,EAAS,EAAI0b,KAAK2jC,MAAMr/C,GAAU0b,KAAK0jC,KAAKp/C,GAC1Do2E,EAASzjF,KAAK0hF,QAAQnhF,MACtBmjF,EAAS1jF,KAAK2hF,QAAQphF,MACtBojF,EAAS3jF,KAAK4hF,QAAQrhF,MAC1BP,KAAK0hF,QAAQ90C,QACb5sC,KAAK2hF,QAAQ/0C,QACb5sC,KAAK4hF,QAAQh1C,QACb5sC,KAAK6hF,QAAQj1C,QACb5sC,KAAK8hF,OAAOl1C,QACZ,IAwBIhjB,EACAg/C,EAzBAgb,EAAY,EAEhB,GAAIv2E,EAAS,EAAG,CACd,KAAOu2E,EAAYJ,GACjBxjF,KAAK+hF,gBAAgB/hF,KAAK0hF,QAAS1hF,KAAK2hF,QAAS3hF,KAAK4hF,QAAS5hF,KAAKuhF,GAAI,GAAG,GAC3EqC,GAAa,EAEXL,IACFvjF,KAAK+hF,gBAAgB/hF,KAAK0hF,QAAS1hF,KAAK2hF,QAAS3hF,KAAK4hF,QAAS5hF,KAAKuhF,GAAIgC,GAAc,GACtFK,GAAaL,QAEV,GAAIl2E,EAAS,EAAG,CACrB,KAAOu2E,EAAYJ,GACjBxjF,KAAK+hF,gBAAgB/hF,KAAK0hF,QAAS1hF,KAAK2hF,QAAS3hF,KAAK4hF,QAAS5hF,KAAKuhF,GAAI,GAAG,GAC3EqC,GAAa,EAEXL,IACFvjF,KAAK+hF,gBAAgB/hF,KAAK0hF,QAAS1hF,KAAK2hF,QAAS3hF,KAAK4hF,QAAS5hF,KAAKuhF,IAAKgC,GAAc,GACvFK,GAAaL,GAQjB,IALAhkF,EAAoB,IAAhBS,KAAKigB,KAAKmsB,EAAU,EAAIpsC,KAAKkiF,eAAiB,EAClD78C,EAAsB,IAAhBrlC,KAAKigB,KAAKmsB,EAAU,GAAK,EAC/B22C,EAAO/iF,KAAKkiF,eAGLa,GAAM,CAUX,GAPAna,GADAka,GADAD,EAAQ7iF,KAAKiiF,UAAU1iF,GAAGgkD,IACHs/B,EAAMpjF,OAAS,GAAG8N,UAAUs2E,OAAOtuC,EAAEh1C,OACtCd,OACtBojF,EAAMA,EAAMpjF,OAAS,GAAG8N,UAAUs2E,OAAOltB,MAAO,EAChDksB,EAAMA,EAAMpjF,OAAS,GAAG8N,UAAU+1E,GAAG3sB,MAAO,EAC5CksB,EAAMA,EAAMpjF,OAAS,GAAG8N,UAAU+1E,GAAG/tC,EAA4B,IAAxBv1C,KAAKkiF,eAC1CliF,KAAKwhF,GAAGjsC,EACRv1C,KAAKwhF,GAAGjsC,GAAKv1C,KAAKyhF,GAAGlsC,EAAIv1C,KAAKwhF,GAAGjsC,IAAMh2C,GAAKS,KAAKkiF,eAAiB,IAEpD,IAAd0B,EAAiB,CAQnB,KAPW,IAANrkF,GAAmB,IAAR8lC,GAAe9lC,IAAMS,KAAKkiF,eAAiB,IAAc,IAAT78C,IAC9DrlC,KAAK+hF,gBAAgB/hF,KAAK0hF,QAAS1hF,KAAK2hF,QAAS3hF,KAAK4hF,QAAS5hF,KAAKuhF,GAAI,GAAG,GAE7EvhF,KAAK8hF,OAAOv0E,UAAUm2E,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,KACvM1jF,KAAK8hF,OAAOv0E,UAAUo2E,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,KACvM3jF,KAAK8hF,OAAOv0E,UAAUk2E,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,KAElM75D,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EACzBk5D,EAAel5D,GAAK5pB,KAAK8hF,OAAOvhF,MAAMqpB,GAExC5pB,KAAK8hF,OAAOl1C,aAGZ,IADA5sC,KAAK8hF,OAAOl1C,QACPhjB,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EACzBk5D,EAAel5D,GAAK5pB,KAAK8hF,OAAOvhF,MAAMqpB,GAG1Cg6D,GAAa,EACbb,GAAQ,EACRxjF,GAAK8lC,QAMP,IAHA09C,EAAO/iF,KAAKkiF,eACZ3iF,EAAI,EACJ8lC,EAAM,EACC09C,GAELD,GADAD,EAAQ7iF,KAAKiiF,UAAU1iF,GAAGgkD,IACHs/B,EAAMpjF,OAAS,GAAG8N,UAAUs2E,OAAOtuC,EAAEh1C,MAC5DsiF,EAAMA,EAAMpjF,OAAS,GAAG8N,UAAUs2E,OAAOltB,MAAO,EAChDksB,EAAMA,EAAMpjF,OAAS,GAAG8N,UAAU+1E,GAAG3sB,MAAO,EAC5CosB,GAAQ,EACRxjF,GAAK8lC,EAGT,OAAO29C,GAGTxF,iBAAiB59E,UAAUg7E,SAAW,aAEtCqC,eAAeC,iBAAiB,KAAMM,kBAUtCC,gBAAgB79E,UAAUg7E,SAAW,SAAUvW,GACzCrkE,KAAK4kE,UAAY5kE,KAAK24E,aACxB34E,KAAKwpE,OAASxpE,KAAKwpE,OAAOx+C,OAAO6nC,iBAAiB7yD,KAAK24E,aACvD34E,KAAK24E,YAAc,GAErB34E,KAAKwpE,OAAOxpE,KAAK4kE,SAAWP,EAC5BrkE,KAAK4kE,SAAW,GAGlB6Y,gBAAgB79E,UAAU+6E,cAAgB,WACxC,IAAIp7E,EACJ,IAAKA,EAAI,EAAGA,EAAIS,KAAK4kE,QAASrlE,GAAK,EACjCm7E,UAAU8E,QAAQx/E,KAAKwpE,OAAOjqE,IAEhCS,KAAK4kE,QAAU,GA6BjB8Y,aAAa99E,UAAUg3D,SAAW,SAAUohB,GAC1C,IAAIh4E,KAAKg2E,KAAKC,WAAWC,UAAYl2E,KAAKk2E,SAAY8B,KAGtDh4E,KAAKk2E,QAAUl2E,KAAKg2E,KAAKC,WAAWC,QACpCl2E,KAAK02D,2BACL12D,KAAK22D,KAAO32D,KAAK22D,MAAQqhB,EACrBh4E,KAAK22D,MAAM,CACb,IAAIp3D,EAAI,EACJouC,EAAM3tC,KAAK49E,UAAUn+E,OAIzB,IAHsB,QAAlBO,KAAK29E,WACP39E,KAAK69E,QAAU,IAEZt+E,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACI,MAAxBS,KAAK49E,UAAUr+E,GAAG2f,EACE,QAAlBlf,KAAK29E,SACP39E,KAAK69E,SAAW,IAAM79E,KAAK49E,UAAUr+E,GAAG4f,EAAEo2B,EAE1Cv1C,KAAK89E,UAAUv+E,GAAKS,KAAK49E,UAAUr+E,GAAG4f,EAAEo2B,EAG1Cv1C,KAAK+9E,WAAW,GAAK/9E,KAAK49E,UAAUr+E,GAAG4f,EAAEo2B,IAKjDssB,gBAAgB,CAACxL,0BAA2BqnB,cAkB5CM,iBAAiBp+E,UAAUkkF,cAAgB,SAAU1pE,EAAQ3M,GAI3D,IAHA,IAAIlO,EAAI,EACJouC,EAAM3tC,KAAK04D,EAAEj5D,OAAS,EAEnBF,EAAIouC,GAAK,CAEd,GADO5kB,KAAKC,IAAI5O,EAAW,EAAJ7a,GAAS6a,EAAgB,EAAT3M,EAAiB,EAAJlO,IACzC,IACT,OAAO,EAETA,GAAK,EAEP,OAAO,GAGTy+E,iBAAiBp+E,UAAUy+E,iBAAmB,WAC5C,GAAIr+E,KAAK04D,EAAEj5D,OAAS,IAAMO,KAAKskD,EAAE7kD,OAAS,EACxC,OAAO,EAET,GAAIO,KAAKigB,KAAK0pC,EAAEA,EAAE,GAAG1qC,EAGnB,IAFA,IAAI1f,EAAI,EACJouC,EAAM3tC,KAAKigB,KAAK0pC,EAAEA,EAAElqD,OACjBF,EAAIouC,GAAK,CACd,IAAK3tC,KAAK8jF,cAAc9jF,KAAKigB,KAAK0pC,EAAEA,EAAEpqD,GAAG0f,EAAGjf,KAAKigB,KAAKd,GACpD,OAAO,EAET5f,GAAK,OAEF,IAAKS,KAAK8jF,cAAc9jF,KAAKigB,KAAK0pC,EAAEA,EAAG3pD,KAAKigB,KAAKd,GACtD,OAAO,EAET,OAAO,GAGT6+D,iBAAiBp+E,UAAUg3D,SAAW,SAAUohB,GAK9C,GAJAh4E,KAAKu2D,KAAKK,WACV52D,KAAK22D,MAAO,EACZ32D,KAAKk+E,OAAQ,EACbl+E,KAAKm+E,OAAQ,EACTn+E,KAAKu2D,KAAKI,MAAQqhB,EAAa,CACjC,IAAIz4E,EAEAu2E,EACAlpB,EAFAjf,EAAoB,EAAd3tC,KAAKigB,KAAKd,EAGpB,IAAK5f,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBu2E,EAAOv2E,EAAI,IAAM,EAAI,IAAM,IAC3BqtD,EAAM7jC,KAAKod,MAAMnmC,KAAKu2D,KAAKhhB,EAAEh2C,GAAKu2E,GAC9B91E,KAAKskD,EAAE/kD,KAAOqtD,IAChB5sD,KAAKskD,EAAE/kD,GAAKqtD,EACZ5sD,KAAKk+E,OAASlG,GAGlB,GAAIh4E,KAAK04D,EAAEj5D,OAET,IADAkuC,EAAM3tC,KAAKu2D,KAAKhhB,EAAE91C,OACbF,EAAkB,EAAdS,KAAKigB,KAAKd,EAAO5f,EAAIouC,EAAKpuC,GAAK,EACtCu2E,EAAOv2E,EAAI,IAAM,EAAI,IAAM,EAC3BqtD,EAAMrtD,EAAI,IAAM,EAAIwpB,KAAKod,MAAuB,IAAjBnmC,KAAKu2D,KAAKhhB,EAAEh2C,IAAYS,KAAKu2D,KAAKhhB,EAAEh2C,GAC/DS,KAAK04D,EAAEn5D,EAAkB,EAAdS,KAAKigB,KAAKd,KAAWytC,IAClC5sD,KAAK04D,EAAEn5D,EAAkB,EAAdS,KAAKigB,KAAKd,GAASytC,EAC9B5sD,KAAKm+E,OAASnG,GAIpBh4E,KAAK22D,MAAQqhB,IAIjBnW,gBAAgB,CAACxL,0BAA2B2nB,kBAI5C,IAAI+F,iBAAmB,SAAUC,EAAWvkF,EAAQ+kE,EAAQuT,GAC1D,GAAe,IAAXt4E,EACF,MAAO,GAET,IAGIF,EAHA0kF,EAAKD,EAAUtrB,EACf3f,EAAKirC,EAAUzkF,EACfg8E,EAAKyI,EAAUzuC,EAEf2uC,EAAc,KAAOnM,EAAIlb,wBAAwB0e,EAAG,GAAG,GAAIA,EAAG,GAAG,IACrE,IAAKh8E,EAAI,EAAGA,EAAIE,EAAQF,GAAK,EAC3B2kF,GAAe,KAAOnM,EAAIlb,wBAAwBonB,EAAG1kF,EAAI,GAAG,GAAI0kF,EAAG1kF,EAAI,GAAG,IAAM,IAAMw4E,EAAIlb,wBAAwB9jB,EAAGx5C,GAAG,GAAIw5C,EAAGx5C,GAAG,IAAM,IAAMw4E,EAAIlb,wBAAwB0e,EAAGh8E,GAAG,GAAIg8E,EAAGh8E,GAAG,IAM5L,OAJIilE,GAAU/kE,IACZykF,GAAe,KAAOnM,EAAIlb,wBAAwBonB,EAAG1kF,EAAI,GAAG,GAAI0kF,EAAG1kF,EAAI,GAAG,IAAM,IAAMw4E,EAAIlb,wBAAwB9jB,EAAG,GAAG,GAAIA,EAAG,GAAG,IAAM,IAAMg/B,EAAIlb,wBAAwB0e,EAAG,GAAG,GAAIA,EAAG,GAAG,IAC1L2I,GAAe,KAEVA,GAMLC,uBAA0B,WAC5B,SAASC,EAAgBC,GACvBrkF,KAAKskF,OAAS,GACdtkF,KAAKqkF,aAAeA,EACpBrkF,KAAKukF,QAAU,EACfvkF,KAAKwkF,UAAW,EAwElB,OArEAJ,EAAgBxkF,UAAY,CAC1B6kF,SAAU,SAAUC,GAClB1kF,KAAKskF,OAAOpkE,KAAKwkE,IAEnBC,MAAO,WACL,IAAIplF,EACAouC,EAAM3tC,KAAKskF,OAAO7kF,OACtB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKskF,OAAO/kF,GAAGolF,SAGnBC,OAAQ,WACN,IAAIrlF,EACAouC,EAAM3tC,KAAKskF,OAAO7kF,OACtB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKskF,OAAO/kF,GAAGqlF,UAGnBC,QAAS,SAAUC,GACjB,IAAIvlF,EACAouC,EAAM3tC,KAAKskF,OAAO7kF,OACtB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKskF,OAAO/kF,GAAGslF,QAAQC,IAG3BC,YAAa,SAAUC,GACrB,OAAIhlF,KAAKqkF,aACArkF,KAAKqkF,aAAaW,GACrBC,KACG,IAAIA,KAAK,CACdxkF,IAAK,CAACukF,KAGH,CACLE,WAAW,EACXC,KAAM,WAAcnlF,KAAKklF,WAAY,GACrCE,KAAM,WAAcplF,KAAKklF,WAAY,GACrCG,QAAS,aACTC,KAAM,aACNC,UAAW,eAGfC,gBAAiB,SAAUnB,GACzBrkF,KAAKqkF,aAAeA,GAEtBkB,UAAW,SAAUn+E,GACnBpH,KAAKukF,QAAUn9E,EACfpH,KAAKylF,iBAEPC,KAAM,WACJ1lF,KAAKwkF,UAAW,EAChBxkF,KAAKylF,iBAEPE,OAAQ,WACN3lF,KAAKwkF,UAAW,EAChBxkF,KAAKylF,iBAEPG,UAAW,WACT,OAAO5lF,KAAKukF,SAEdkB,cAAe,WACb,IAAIlmF,EACAouC,EAAM3tC,KAAKskF,OAAO7kF,OACtB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKskF,OAAO/kF,GAAGsmF,OAAO7lF,KAAKukF,SAAWvkF,KAAKwkF,SAAW,EAAI,MAKzD,WACL,OAAO,IAAIJ,GA9Ee,GAqF1B0B,eAAkB,WACpB,IAAIC,EAAc,WAChB,IAAIC,EAAS5vB,UAAU,UACvB4vB,EAAOpjF,MAAQ,EACfojF,EAAOnjF,OAAS,EAChB,IAAI0T,EAAMyvE,EAAOvX,WAAW,MAG5B,OAFAl4D,EAAI0vE,UAAY,gBAChB1vE,EAAI2vE,SAAS,EAAG,EAAG,EAAG,GACfF,EAPS,GAUlB,SAASG,IACPnmF,KAAKomF,cAAgB,EACjBpmF,KAAKomF,eAAiBpmF,KAAKqmF,aAAermF,KAAKsmF,sBAAwBtmF,KAAKumF,eAC1EvmF,KAAKwmF,gBACPxmF,KAAKwmF,eAAe,MAI1B,SAASC,IACPzmF,KAAKsmF,qBAAuB,EACxBtmF,KAAKomF,eAAiBpmF,KAAKqmF,aAAermF,KAAKsmF,sBAAwBtmF,KAAKumF,eAC1EvmF,KAAKwmF,gBACPxmF,KAAKwmF,eAAe,MAK1B,SAASE,EAAcC,EAAWC,EAAYC,GAC5C,IAAIz9E,EAAO,GACX,GAAIu9E,EAAUtnE,EACZjW,EAAOu9E,EAAUxnE,OACZ,GAAIynE,EAAY,CACrB,IAAIE,EAAYH,EAAUxnE,GACY,IAAlC2nE,EAAUzmF,QAAQ,aACpBymF,EAAYA,EAAU/hF,MAAM,KAAK,IAEnCqE,EAAOw9E,EAAaE,OAEpB19E,EAAOy9E,EACPz9E,GAAQu9E,EAAUI,EAAIJ,EAAUI,EAAI,GACpC39E,GAAQu9E,EAAUxnE,EAEpB,OAAO/V,EAGT,SAAS49E,EAAgBtlF,GACvB,IAAIkzD,EAAS,EACTqyB,EAAaC,YAAY,YACjBxlF,EAAIylF,UACNvkF,OAASgyD,EAAS,OACxB50D,KAAKonF,eACLC,cAAcJ,IAEhBryB,GAAU,GACV1tC,KAAKlnB,MAAO,IA6ChB,SAASsnF,EAAkBrnE,GACzB,IAAIu/C,EAAK,CACPmnB,UAAW1mE,GAET7W,EAAOs9E,EAAczmE,EAAMjgB,KAAK4mF,WAAY5mF,KAAKoJ,MAQrD,OAPAm+D,YAAYqF,SAASxjE,EAAM,SAAUm+E,GACnC/nB,EAAG99D,IAAM6lF,EACTvnF,KAAKwnF,kBACLtgE,KAAKlnB,MAAO,WACZw/D,EAAG99D,IAAM,GACT1B,KAAKwnF,kBACLtgE,KAAKlnB,OACAw/D,EA8DT,SAASioB,IACPznF,KAAKonF,aAAejB,EAAYj/D,KAAKlnB,MACrCA,KAAKwnF,eAAiBf,EAAcv/D,KAAKlnB,MACzCA,KAAKgnF,gBAAkBA,EAAgB9/D,KAAKlnB,MAC5CA,KAAKsnF,kBAAoBA,EAAkBpgE,KAAKlnB,MAChDA,KAAK4mF,WAAa,GAClB5mF,KAAKoJ,KAAO,GACZpJ,KAAKqmF,YAAc,EACnBrmF,KAAKumF,cAAgB,EACrBvmF,KAAKomF,aAAe,EACpBpmF,KAAKsmF,oBAAsB,EAC3BtmF,KAAKwmF,eAAiB,KACtBxmF,KAAK0nF,OAAS,GAkBhB,OAfAD,EAAsB7nF,UAAY,CAChC+nF,WA3EF,SAAoBpd,EAAQnqD,GAE1B,IAAI7gB,EADJS,KAAKwmF,eAAiBpmE,EAEtB,IAAIutB,EAAM48B,EAAO9qE,OACjB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACnBgrE,EAAOhrE,GAAGkpE,SACR8B,EAAOhrE,GAAGyf,GAAqB,QAAhBurD,EAAOhrE,GAAGyf,EAGH,IAAhBurD,EAAOhrE,GAAGyf,IACnBhf,KAAKumF,eAAiB,EACtBvmF,KAAK0nF,OAAOxnE,KAAKlgB,KAAKsnF,kBAAkB/c,EAAOhrE,OAJ/CS,KAAKqmF,aAAe,EACpBrmF,KAAK0nF,OAAOxnE,KAAKlgB,KAAK4nF,iBAAiBrd,EAAOhrE,QAoEpDsoF,cAvDF,SAAuBz+E,GACrBpJ,KAAK4mF,WAAax9E,GAAQ,IAuD1B0+E,QA5DF,SAAiB1+E,GACfpJ,KAAKoJ,KAAOA,GAAQ,IA4DpB2+E,aApCF,WACE,OAAO/nF,KAAKqmF,cAAgBrmF,KAAKomF,cAoCjC4B,eAjCF,WACE,OAAOhoF,KAAKumF,gBAAkBvmF,KAAKsmF,qBAiCnCt5C,QA3CF,WACEhtC,KAAKwmF,eAAiB,KACtBxmF,KAAK0nF,OAAOjoF,OAAS,GA0CrBwoF,SAxDF,SAAkBtB,GAGhB,IAFA,IAAIpnF,EAAI,EACJouC,EAAM3tC,KAAK0nF,OAAOjoF,OACfF,EAAIouC,GAAK,CACd,GAAI3tC,KAAK0nF,OAAOnoF,GAAGonF,YAAcA,EAC/B,OAAO3mF,KAAK0nF,OAAOnoF,GAAGmC,IAExBnC,GAAK,EAEP,OAAO,MAgDP2oF,cAlHF,SAAuBvB,GACrB,IAAIv9E,EAAOs9E,EAAcC,EAAW3mF,KAAK4mF,WAAY5mF,KAAKoJ,MACtD1H,EAAM00D,UAAU,OACpB10D,EAAIb,YAAc,YAClBa,EAAIkvB,iBAAiB,OAAQ5wB,KAAKonF,cAAc,GAChD1lF,EAAIkvB,iBAAiB,QAAS,WAC5B4uC,EAAG99D,IAAMqkF,EACT/lF,KAAKonF,gBACLlgE,KAAKlnB,OAAO,GACd0B,EAAIjB,IAAM2I,EACV,IAAIo2D,EAAK,CACP99D,IAAKA,EACLilF,UAAWA,GAEb,OAAOnnB,GAqGP2oB,gBA5IF,SAAyBxB,GACvB,IAAIv9E,EAAOs9E,EAAcC,EAAW3mF,KAAK4mF,WAAY5mF,KAAKoJ,MACtD1H,EAAMw0D,SAAS,SACflE,SACFhyD,KAAKgnF,gBAAgBtlF,GAErBA,EAAIkvB,iBAAiB,OAAQ5wB,KAAKonF,cAAc,GAElD1lF,EAAIkvB,iBAAiB,QAAS,WAC5B4uC,EAAG99D,IAAMqkF,EACT/lF,KAAKonF,gBACLlgE,KAAKlnB,OAAO,GACd0B,EAAI0mF,eAAe,+BAAgC,OAAQh/E,GACvDpJ,KAAKqoF,eAAeC,OACtBtoF,KAAKqoF,eAAeC,OAAO5mF,GAE3B1B,KAAKqoF,eAAetwD,YAAYr2B,GAElC,IAAI89D,EAAK,CACP99D,IAAKA,EACLilF,UAAWA,GAEb,OAAOnnB,GAuHP2mB,YAAaA,EACbM,cAAeA,EACf8B,aApCF,SAAsBzsE,EAAM0sE,GACb,QAAT1sE,GACF9b,KAAKqoF,eAAiBG,EACtBxoF,KAAK4nF,iBAAmB5nF,KAAKmoF,gBAAgBjhE,KAAKlnB,OAElDA,KAAK4nF,iBAAmB5nF,KAAKkoF,cAAchhE,KAAKlnB,QAkC7CynF,EA5Ma,GAiNlBgB,eAAkB,WACpB,IAAIjpB,EAAK,CACPkpB,UAAU,GAKZ,OAHI,WAAWphD,KAAK6B,UAAUC,YAAc,UAAU9B,KAAK6B,UAAUC,YAAc,WAAW9B,KAAK6B,UAAUC,YAAc,aAAa9B,KAAK6B,UAAUC,cACrJo2B,EAAGkpB,UAAW,GAETlpB,EAPa,GAalBmpB,eAAkB,WACpB,IAAInpB,EAAK,CACTA,aAGA,SAAsBopB,EAAOC,GAC3B,IAAIC,EAAM5yB,SAAS,UASnB,OARA4yB,EAAItxD,aAAa,KAAMoxD,IACC,IAApBC,IACFC,EAAItxD,aAAa,cAAe,qBAChCsxD,EAAItxD,aAAa,IAAK,MACtBsxD,EAAItxD,aAAa,IAAK,MACtBsxD,EAAItxD,aAAa,QAAS,QAC1BsxD,EAAItxD,aAAa,SAAU,SAEtBsxD,GAZTtpB,6BAeA,WACE,IAAIupB,EAAgB7yB,SAAS,iBAI7B,OAHA6yB,EAAcvxD,aAAa,OAAQ,UACnCuxD,EAAcvxD,aAAa,8BAA+B,QAC1DuxD,EAAcvxD,aAAa,SAAU,8CAC9BuxD,IAGT,OAAOvpB,EA1Ba,GAgCtB,SAASwpB,qBAAqBC,EAAUC,EAAYlT,GAClDh2E,KAAKq2E,eAAgB,EACrBr2E,KAAKmpF,gBAAiB,EACtBnpF,KAAKopF,UAAY,EACjBppF,KAAKqpF,UAAYJ,EACjBjpF,KAAKspF,YAAcJ,EACnBlpF,KAAKupF,MAAQvT,EACbh2E,KAAKwpF,eAAiB32B,iBAAiB7yD,KAAKqpF,UAAU5pE,EAAEhgB,QACxDO,KAAKypF,UAAY,GACjBzpF,KAAK0pF,aAAe,CAClBC,UAAW,IAEb3pF,KAAK4pF,gBAAkB,GACvB5pF,KAAK6pF,oBAAqB,EAC1B7pF,KAAK62D,6BAA6Bmf,GAokBpC,SAAS8T,yBAAyB9T,EAAM+T,EAAe7iF,GACrD,IAAI8iF,EAAc,CAAElY,UAAU,GAC1BmF,EAAU1F,gBAAgB0F,QAC1BgT,EAA0BF,EAActqE,EAC5Czf,KAAKyf,EAAI,CACP7U,EAAGq/E,EAAwBr/E,EAAIqsE,EAAQjB,EAAMiU,EAAwBr/E,EAAG,EAAGmoD,UAAW7rD,GAAa8iF,EACnGr9E,GAAIs9E,EAAwBt9E,GAAKsqE,EAAQjB,EAAMiU,EAAwBt9E,GAAI,EAAGomD,UAAW7rD,GAAa8iF,EACtGp9E,GAAIq9E,EAAwBr9E,GAAKqqE,EAAQjB,EAAMiU,EAAwBr9E,GAAI,EAAGmmD,UAAW7rD,GAAa8iF,EACtGrS,GAAIsS,EAAwBtS,GAAKV,EAAQjB,EAAMiU,EAAwBtS,GAAI,EAAG5kB,UAAW7rD,GAAa8iF,EACtGpS,GAAIqS,EAAwBrS,GAAKX,EAAQjB,EAAMiU,EAAwBrS,GAAI,EAAG7kB,UAAW7rD,GAAa8iF,EACtG/qE,EAAGgrE,EAAwBhrE,EAAIg4D,EAAQjB,EAAMiU,EAAwBhrE,EAAG,EAAG,IAAM/X,GAAa8iF,EAC9FvqE,EAAGwqE,EAAwBxqE,EAAIw3D,EAAQjB,EAAMiU,EAAwBxqE,EAAG,EAAG,EAAGvY,GAAa8iF,EAC3FtxB,EAAGuxB,EAAwBvxB,EAAIue,EAAQjB,EAAMiU,EAAwBvxB,EAAG,EAAG,IAAMxxD,GAAa8iF,EAC9F7qE,EAAG8qE,EAAwB9qE,EAAI83D,EAAQjB,EAAMiU,EAAwB9qE,EAAG,EAAG,EAAGjY,GAAa8iF,EAC3FE,GAAID,EAAwBC,GAAKjT,EAAQjB,EAAMiU,EAAwBC,GAAI,EAAG,EAAGhjF,GAAa8iF,EAC9FpZ,GAAIqZ,EAAwBrZ,GAAKqG,EAAQjB,EAAMiU,EAAwBrZ,GAAI,EAAG,EAAG1pE,GAAa8iF,EAC9FG,GAAIF,EAAwBE,GAAKlT,EAAQjB,EAAMiU,EAAwBE,GAAI,EAAG,EAAGjjF,GAAa8iF,EAC9FI,GAAIH,EAAwBG,GAAKnT,EAAQjB,EAAMiU,EAAwBG,GAAI,EAAG,EAAGljF,GAAa8iF,EAC9FK,GAAIJ,EAAwBI,GAAKpT,EAAQjB,EAAMiU,EAAwBI,GAAI,EAAG,IAAMnjF,GAAa8iF,EACjGM,GAAIL,EAAwBK,GAAKrT,EAAQjB,EAAMiU,EAAwBK,GAAI,EAAG,IAAMpjF,GAAa8iF,EACjGhrE,EAAGirE,EAAwBjrE,EAAIi4D,EAAQjB,EAAMiU,EAAwBjrE,EAAG,EAAG,EAAG9X,GAAa8iF,GAG7FhqF,KAAKif,EAAIsrE,iBAAiBC,oBAAoBxU,EAAM+T,EAAc9qE,EAAG/X,GACrElH,KAAKif,EAAED,EAAI+qE,EAAc9qE,EAAED,EAG7B,SAASyrE,YAAY/xB,EAAGwxB,EAAItZ,EAAIuZ,EAAI/9C,EAAGjtB,GACrCnf,KAAK04D,EAAIA,EACT14D,KAAKkqF,GAAKA,EACVlqF,KAAK4wE,GAAKA,EACV5wE,KAAKmqF,GAAKA,EACVnqF,KAAKosC,EAAIA,EACTpsC,KAAKmf,EAAIA,EACTnf,KAAK22D,KAAO,CACV+B,GAAG,EACHwxB,KAAMA,EACNtZ,KAAMA,EACNuZ,KAAMA,EACN/9C,GAAG,EACHjtB,GAAG,GAiDP,SAASurE,aAAa1U,EAAM/1D,GAC1BjgB,KAAKopF,SAAWz3B,oBAChB3xD,KAAK+xE,GAAK,GACV/xE,KAAKu1C,EAAI,GACTv1C,KAAKu2E,IAAK,EACVv2E,KAAKq2E,eAAgB,EACrBr2E,KAAK22D,MAAO,EACZ32D,KAAKigB,KAAOA,EACZjgB,KAAKg2E,KAAOA,EACZh2E,KAAKu1E,KAAOv1E,KAAKg2E,KAAKT,KACtBv1E,KAAK2qF,UAAY,EACjB3qF,KAAK4qF,WAAY,EACjB5qF,KAAK6qF,gBAAkB,EACvB7qF,KAAKm2E,gBAAkB,GACvBn2E,KAAK8qF,YAAc,CACjBC,OAAQ,EACRC,SAAUhrF,KAAKirF,gBACfrmC,EAAG,GACHqoB,OAAQ,GACRC,QAAS,GACTid,GAAI,GACJvgE,EAAG,GACHshE,cAAe,GACfvhE,EAAG,GACHwhE,GAAI,EACJC,WAAY,GACZC,GAAI,GACJC,GAAI,GACJrsE,EAAG,GACH2xD,GAAI,GACJsZ,GAAI,EACJlrE,EAAG,EACHuiE,GAAI,EACJ/oB,GAAI,EACJ+yB,GAAI,KACJC,eAAe,EACfC,iBAAiB,EACjBC,iBAAiB,EACjBC,QAAS,EACTC,UAAW,EACXC,UAAW,GACXC,gBAAiB,EACjBzgB,YAAY,GAGdrrE,KAAK+rF,SAAS/rF,KAAK8qF,YAAa9qF,KAAKigB,KAAKra,EAAE+jD,EAAE,GAAG1qC,GAE5Cjf,KAAKgsF,kBACRhsF,KAAKisF,iBAAiBjsF,KAAK8qF,aA1sB/B9B,qBAAqBppF,UAAUssF,iBAAmB,WAChD,IAAI3sF,EAEAwqF,EADAp8C,EAAM3tC,KAAKqpF,UAAU5pE,EAAEhgB,OAEvBw3E,EAAU1F,gBAAgB0F,QAC9B,IAAK13E,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBwqF,EAAgB/pF,KAAKqpF,UAAU5pE,EAAElgB,GACjCS,KAAKwpF,eAAejqF,GAAK,IAAIuqF,yBAAyB9pF,KAAKupF,MAAOQ,EAAe/pF,MAE/EA,KAAKqpF,UAAUlqE,GAAK,MAAOnf,KAAKqpF,UAAUlqE,GAC5Cnf,KAAKypF,UAAY,CACfhqE,EAAGw3D,EAAQj3E,KAAKupF,MAAOvpF,KAAKqpF,UAAUlqE,EAAEM,EAAG,EAAG,EAAGzf,MACjD4kD,EAAGqyB,EAAQj3E,KAAKupF,MAAOvpF,KAAKqpF,UAAUlqE,EAAEylC,EAAG,EAAG,EAAG5kD,MACjD2pB,EAAGstD,EAAQj3E,KAAKupF,MAAOvpF,KAAKqpF,UAAUlqE,EAAEwK,EAAG,EAAG,EAAG3pB,MACjD4K,EAAGqsE,EAAQj3E,KAAKupF,MAAOvpF,KAAKqpF,UAAUlqE,EAAEvU,EAAG,EAAG,EAAG5K,MACjDmf,EAAG83D,EAAQj3E,KAAKupF,MAAOvpF,KAAKqpF,UAAUlqE,EAAEA,EAAG,EAAG,EAAGnf,MACjDosC,EAAGpsC,KAAKupF,MAAM4C,YAAYC,gBAAgBpsF,KAAKqpF,UAAUlqE,EAAEitB,IAE7DpsC,KAAKmpF,gBAAiB,GAEtBnpF,KAAKmpF,gBAAiB,EAExBnpF,KAAK0pF,aAAaC,UAAY1S,EAAQj3E,KAAKupF,MAAOvpF,KAAKqpF,UAAUj9C,EAAE3sB,EAAG,EAAG,EAAGzf,OAG9EgpF,qBAAqBppF,UAAUysF,YAAc,SAAUjiB,EAAcyf,GAEnE,GADA7pF,KAAK6pF,mBAAqBA,EACrB7pF,KAAK22D,MAAS32D,KAAKq2E,eAAkBwT,GAAwB7pF,KAAKmpF,gBAAmBnpF,KAAKypF,UAAUr9C,EAAEuqB,KAA3G,CAGA32D,KAAKq2E,eAAgB,EACrB,IAMIiW,EACAC,EACAhtF,EACAouC,EAEA6+C,EACAC,EACAC,EACAnpB,EACApQ,EACAw5B,EACAC,EACAC,EACAp/E,EACAyxE,EACAxb,EACAmB,EACAjC,EACAkqB,EACAxvB,EAzBAqsB,EAAY3pF,KAAK0pF,aAAaC,UAAUp0C,EACxCw3C,EAAY/sF,KAAKwpF,eACjBP,EAAWjpF,KAAKqpF,UAChB2D,EAAehtF,KAAKitF,QACpB/D,EAAalpF,KAAKspF,YAClB4D,EAAuBltF,KAAK4pF,gBAAgBnqF,OAK5C0tF,EAAU/iB,EAAazgD,EAgB3B,GAAI3pB,KAAKmpF,eAAgB,CAEvB,GADA7rB,EAAOt9D,KAAKypF,UAAUr9C,GACjBpsC,KAAKypF,UAAUvqE,GAAKlf,KAAKypF,UAAU9yB,KAAM,CAC5C,IAUImN,EAVA6G,EAAQrN,EAAK/nB,EAYjB,IAXIv1C,KAAKypF,UAAU7+E,EAAE2qC,IACnBo1B,EAAQA,EAAM1iE,WAGhBukF,EAAW,CACTY,QAAS,EACTlO,SAAU,IAEZvxC,EAAMg9B,EAAM/F,QAAU,EAEtBC,EAAc,EACTtlE,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBukE,EAAawD,IAAI3D,gBAAgBgH,EAAMp1B,EAAEh2C,GACvCorE,EAAMp1B,EAAEh2C,EAAI,GACZ,CAACorE,EAAMjS,EAAEn5D,GAAG,GAAKorE,EAAMp1B,EAAEh2C,GAAG,GAAIorE,EAAMjS,EAAEn5D,GAAG,GAAKorE,EAAMp1B,EAAEh2C,GAAG,IAC3D,CAACorE,EAAMprE,EAAEA,EAAI,GAAG,GAAKorE,EAAMp1B,EAAEh2C,EAAI,GAAG,GAAIorE,EAAMprE,EAAEA,EAAI,GAAG,GAAKorE,EAAMp1B,EAAEh2C,EAAI,GAAG,KAC7EitF,EAASY,SAAWtpB,EAAWP,cAC/BipB,EAAStN,SAASh/D,KAAK4jD,GACvBe,GAAef,EAAWP,cAE5BhkE,EAAIouC,EACA2vB,EAAK/nB,EAAE+O,IACTwf,EAAawD,IAAI3D,gBAAgBgH,EAAMp1B,EAAEh2C,GACvCorE,EAAMp1B,EAAE,GACR,CAACo1B,EAAMjS,EAAEn5D,GAAG,GAAKorE,EAAMp1B,EAAEh2C,GAAG,GAAIorE,EAAMjS,EAAEn5D,GAAG,GAAKorE,EAAMp1B,EAAEh2C,GAAG,IAC3D,CAACorE,EAAMprE,EAAE,GAAG,GAAKorE,EAAMp1B,EAAE,GAAG,GAAIo1B,EAAMprE,EAAE,GAAG,GAAKorE,EAAMp1B,EAAE,GAAG,KAC7Di3C,EAASY,SAAWtpB,EAAWP,cAC/BipB,EAAStN,SAASh/D,KAAK4jD,GACvBe,GAAef,EAAWP,eAE5BvjE,KAAKypF,UAAU4D,GAAKb,EAUtB,GARAA,EAAWxsF,KAAKypF,UAAU4D,GAE1BZ,EAAgBzsF,KAAKypF,UAAU7kC,EAAErP,EACjCq3C,EAAa,EACbD,EAAW,EACXppB,EAAgB,EAChBpQ,GAAO,EACP+rB,EAAWsN,EAAStN,SAChBuN,EAAgB,GAAKnvB,EAAK/nB,EAAE+O,EAO9B,IANIkoC,EAASY,QAAUrkE,KAAKC,IAAIyjE,KAC9BA,GAAiB1jE,KAAKC,IAAIyjE,GAAiBD,EAASY,SAItDT,GADAl/E,EAASyxE,EADT0N,EAAa1N,EAASz/E,OAAS,GACDgO,QACZhO,OAAS,EACpBgtF,EAAgB,GACrBA,GAAiBh/E,EAAOk/E,GAAUjpB,eAClCipB,GAAY,GACG,IAGbA,GADAl/E,EAASyxE,EADT0N,GAAc,GACgBn/E,QACZhO,OAAS,GAKjCotF,GADAp/E,EAASyxE,EAAS0N,GAAYn/E,QACXk/E,EAAW,GAE9BjpB,GADAgpB,EAAej/E,EAAOk/E,IACOjpB,cAG/B/1B,EAAMw/C,EAAQ1tF,OACd6sF,EAAO,EACPC,EAAO,EACP,IAEIxC,EAEAngE,EACAg/C,EACA0kB,EAIAxX,EAVAyX,EAAgC,IAAzBnjB,EAAawhB,UAAkB,KACtC4B,GAAY,EAOhB5kB,EAAOmkB,EAAUttF,OAGjB,IACIguF,EACAC,EACAC,EAKAC,EACAhd,EACAsZ,EACAC,EACAxgC,EACAkkC,EACAC,EACAC,EAGAC,EAlBAtb,GAAO,EAIPub,EAAcxB,EACdyB,EAAiBtB,EACjBuB,EAAexB,EACfyB,GAAe,EASfC,GAAU,GACVC,GAAUtuF,KAAKuuF,kBAInB,GAAuB,IAAnBnkB,EAAaxgD,GAA8B,IAAnBwgD,EAAaxgD,EAAS,CAChD,IAAI4kE,GAAwB,EACxBC,GAA0B,EAC1BC,GAAuC,IAAnBtkB,EAAaxgD,GAAW,IAAO,EACnDzB,GAAY,EACZwmE,IAAY,EAEhB,IAAKpvF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB,GAAI4tF,EAAQ5tF,GAAG2f,EAAG,CAIhB,IAHIsvE,KACFA,IAAyBC,IAEpBtmE,GAAY5oB,GACjB4tF,EAAQhlE,IAAWqmE,sBAAwBA,GAC3CrmE,IAAa,EAEfqmE,GAAwB,EACxBG,IAAY,MACP,CACL,IAAK/kE,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,GACzBmgE,EAAgBgD,EAAUnjE,GAAGnK,GACXT,EAAE8yD,WACd6c,IAAgC,IAAnBvkB,EAAaxgD,IAC5B6kE,IAA2B1E,EAAc/qE,EAAEu2B,EAAIm5C,KAGjD5Y,EADmBiX,EAAUnjE,GAAG3K,EACR2vE,QAAQzB,EAAQ5tF,GAAGsvF,UAAUjlE,GAAIq/D,EAASxpE,EAAEmK,GAAG3K,EAAE6vE,aAChErvF,OACP+uF,IAAyBzE,EAAc/qE,EAAEu2B,EAAIugC,EAAK,GAAK4Y,GAEvDF,IAAyBzE,EAAc/qE,EAAEu2B,EAAIugC,EAAO4Y,IAI1DC,IAAY,EAMhB,IAHIH,KACFA,IAAyBC,IAEpBtmE,GAAY5oB,GACjB4tF,EAAQhlE,IAAWqmE,sBAAwBA,GAC3CrmE,IAAa,EAKjB,IAAK5oB,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAAG,CAG3B,GAFAytF,EAAapgD,QACbghD,EAAc,EACVT,EAAQ5tF,GAAG2f,EACbotE,EAAO,EACPC,GAAQniB,EAAauhB,QACrBY,GAAQiB,EAAY,EAAI,EACxBf,EAAgBwB,EAChBT,GAAY,EACRxtF,KAAKmpF,iBAEPwD,EAAWwB,EAEXtB,GADAp/E,EAASyxE,EAFT0N,EAAasB,GAEiBzgF,QACXk/E,EAAW,GAE9BjpB,GADAgpB,EAAej/E,EAAOk/E,IACOjpB,cAC7BH,EAAgB,GAElB8qB,GAAU,GACVN,EAAW,GACXF,EAAW,GACXG,EAAU,GACVM,GAAUtuF,KAAKuuF,sBACV,CACL,GAAIvuF,KAAKmpF,eAAgB,CACvB,GAAIiF,IAAgBjB,EAAQ5tF,GAAGwvF,KAAM,CACnC,OAAQ3kB,EAAaxgD,GACnB,KAAK,EACH6iE,GAAiB5nB,EAAcuF,EAAaghB,WAAW+B,EAAQ5tF,GAAGwvF,MAClE,MACF,KAAK,EACHtC,IAAkB5nB,EAAcuF,EAAaghB,WAAW+B,EAAQ5tF,GAAGwvF,OAAS,EAKhFX,EAAcjB,EAAQ5tF,GAAGwvF,KAEvBrc,IAAQya,EAAQ5tF,GAAGmzE,MACjBya,EAAQza,KACV+Z,GAAiBU,EAAQza,GAAKsc,OAEhCvC,GAAiBU,EAAQ5tF,GAAG0vF,GAAK,EACjCvc,EAAMya,EAAQ5tF,GAAGmzE,KAEnB+Z,GAAkB9C,EAAU,GAAKwD,EAAQ5tF,GAAG0vF,GAAM,KAClD,IAAIC,GAAiB,EACrB,IAAKtlE,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,GACzBmgE,EAAgBgD,EAAUnjE,GAAGnK,GACXN,EAAE2yD,YAElBgE,EADmBiX,EAAUnjE,GAAG3K,EACR2vE,QAAQzB,EAAQ5tF,GAAGsvF,UAAUjlE,GAAIq/D,EAASxpE,EAAEmK,GAAG3K,EAAE6vE,aAChErvF,OACPyvF,IAAkBnF,EAAc5qE,EAAEo2B,EAAE,GAAKugC,EAAK,GAE9CoZ,IAAkBnF,EAAc5qE,EAAEo2B,EAAE,GAAKugC,GAGzCiU,EAActqE,EAAEqyD,YAElBgE,EADmBiX,EAAUnjE,GAAG3K,EACR2vE,QAAQzB,EAAQ5tF,GAAGsvF,UAAUjlE,GAAIq/D,EAASxpE,EAAEmK,GAAG3K,EAAE6vE,aAChErvF,OACPyvF,IAAkBnF,EAActqE,EAAE81B,EAAE,GAAKugC,EAAK,GAE9CoZ,IAAkBnF,EAActqE,EAAE81B,EAAE,GAAKugC,GAU/C,IANA3iB,GAAO,EAEHnzD,KAAKypF,UAAUhqE,EAAE81B,IACnBk3C,EAAgC,GAAhBU,EAAQ,GAAG8B,IAAapqB,EAAc7kE,KAAKypF,UAAU7kC,EAAErP,EAAoB,GAAhB43C,EAAQ,GAAG8B,GAA4C,GAAjC9B,EAAQA,EAAQ1tF,OAAS,GAAGwvF,IAAYvc,GAAQ/kC,EAAM,GACvJ8+C,GAAiBzsF,KAAKypF,UAAU7kC,EAAErP,GAE7B4d,GACDoQ,EAAgBG,GAAiB+oB,EAAgByC,KAAmBzhF,GACtEm1D,GAAQ6pB,EAAgByC,GAAiB3rB,GAAiBmpB,EAAahpB,cACvEgqB,EAAWb,EAAUp/B,MAAM,IAAMi/B,EAAaj/B,MAAM,GAAKo/B,EAAUp/B,MAAM,IAAMmV,EAC/E+qB,EAAWd,EAAUp/B,MAAM,IAAMi/B,EAAaj/B,MAAM,GAAKo/B,EAAUp/B,MAAM,IAAMmV,EAC/EoqB,EAAar0B,WAAYgxB,EAAU,GAAKwD,EAAQ5tF,GAAG0vF,GAAM,MAAStF,EAAU,GAAK4D,EAAQ,KACzFp6B,GAAO,GACE1lD,IACT81D,GAAiBmpB,EAAahpB,eAC9BipB,GAAY,IACIl/E,EAAOhO,SACrBktF,EAAW,EAENzN,EADL0N,GAAc,GAWZn/E,EAASyxE,EAAS0N,GAAYn/E,OAT1B6vD,EAAK/nB,EAAE+O,GACTqoC,EAAW,EAEXl/E,EAASyxE,EADT0N,EAAa,GACiBn/E,SAE9B81D,GAAiBmpB,EAAahpB,cAC9Bj2D,EAAS,OAMXA,IACFo/E,EAAYH,EAEZhpB,GADAgpB,EAAej/E,EAAOk/E,IACOjpB,gBAInC+pB,EAAON,EAAQ5tF,GAAG0vF,GAAK,EAAI9B,EAAQ5tF,GAAGiU,IACtCw5E,EAAar0B,WAAW80B,EAAM,EAAG,QAEjCA,EAAON,EAAQ5tF,GAAG0vF,GAAK,EAAI9B,EAAQ5tF,GAAGiU,IACtCw5E,EAAar0B,WAAW80B,EAAM,EAAG,GAGjCT,EAAar0B,WAAYgxB,EAAU,GAAKwD,EAAQ5tF,GAAG0vF,GAAM,MAAStF,EAAU,GAAK4D,EAAQ,IAAM,GAGjG,IAAK3jE,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,GACzBmgE,EAAgBgD,EAAUnjE,GAAGnK,GACXT,EAAE8yD,WAElBgE,EADmBiX,EAAUnjE,GAAG3K,EACR2vE,QAAQzB,EAAQ5tF,GAAGsvF,UAAUjlE,GAAIq/D,EAASxpE,EAAEmK,GAAG3K,EAAE6vE,YAE5D,IAATxC,GAAiC,IAAnBliB,EAAaxgD,IACzB5pB,KAAKmpF,eACHrT,EAAKr2E,OACPgtF,GAAiB1C,EAAc/qE,EAAEu2B,EAAIugC,EAAK,GAE1C2W,GAAiB1C,EAAc/qE,EAAEu2B,EAAIugC,EAE9BA,EAAKr2E,OACd6sF,GAAQvC,EAAc/qE,EAAEu2B,EAAIugC,EAAK,GAEjCwW,GAAQvC,EAAc/qE,EAAEu2B,EAAIugC,IAkBpC,IAbI1L,EAAashB,kBACfxB,EAAK9f,EAAa8f,IAAM,GAEtB9f,EAAaqhB,kBAEb7a,EADExG,EAAawG,GACV,CAACxG,EAAawG,GAAG,GAAIxG,EAAawG,GAAG,GAAIxG,EAAawG,GAAG,IAEzD,CAAC,EAAG,EAAG,IAGZxG,EAAaohB,eAAiBphB,EAAa+f,KAC7CA,EAAK,CAAC/f,EAAa+f,GAAG,GAAI/f,EAAa+f,GAAG,GAAI/f,EAAa+f,GAAG,KAE3DvgE,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,GACzBmgE,EAAgBgD,EAAUnjE,GAAGnK,GACXA,EAAEqyD,YAElBgE,EADmBiX,EAAUnjE,GAAG3K,EACR2vE,QAAQzB,EAAQ5tF,GAAGsvF,UAAUjlE,GAAIq/D,EAASxpE,EAAEmK,GAAG3K,EAAE6vE,aAEhErvF,OACPutF,EAAar0B,WAAWoxB,EAActqE,EAAE81B,EAAE,GAAKugC,EAAK,IAAKiU,EAActqE,EAAE81B,EAAE,GAAKugC,EAAK,GAAIiU,EAActqE,EAAE81B,EAAE,GAAKugC,EAAK,IAErHkX,EAAar0B,WAAWoxB,EAActqE,EAAE81B,EAAE,GAAKugC,GAAOiU,EAActqE,EAAE81B,EAAE,GAAKugC,EAAMiU,EAActqE,EAAE81B,EAAE,GAAKugC,IAIhH,IAAKlsD,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,GACzBmgE,EAAgBgD,EAAUnjE,GAAGnK,GACXR,EAAE6yD,YAElBgE,EADmBiX,EAAUnjE,GAAG3K,EACR2vE,QAAQzB,EAAQ5tF,GAAGsvF,UAAUjlE,GAAIq/D,EAASxpE,EAAEmK,GAAG3K,EAAE6vE,aAChErvF,OACPutF,EAAa10E,MAAM,GAAMyxE,EAAc9qE,EAAEs2B,EAAE,GAAK,GAAKugC,EAAK,GAAK,GAAMiU,EAAc9qE,EAAEs2B,EAAE,GAAK,GAAKugC,EAAK,GAAK,GAE3GkX,EAAa10E,MAAM,GAAMyxE,EAAc9qE,EAAEs2B,EAAE,GAAK,GAAKugC,EAAO,GAAMiU,EAAc9qE,EAAEs2B,EAAE,GAAK,GAAKugC,EAAO,IAI3G,IAAKlsD,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EAAG,CA8C5B,GA7CAmgE,EAAgBgD,EAAUnjE,GAAGnK,EAE7Bq2D,EADmBiX,EAAUnjE,GAAG3K,EACR2vE,QAAQzB,EAAQ5tF,GAAGsvF,UAAUjlE,GAAIq/D,EAASxpE,EAAEmK,GAAG3K,EAAE6vE,YACrE/E,EAAcpS,GAAG7F,WACfgE,EAAKr2E,OACPutF,EAAaz0B,cAAcwxB,EAAcpS,GAAGpiC,EAAIugC,EAAK,GAAIiU,EAAcnS,GAAGriC,EAAIugC,EAAK,IAEnFkX,EAAaz0B,cAAcwxB,EAAcpS,GAAGpiC,EAAIugC,EAAMiU,EAAcnS,GAAGriC,EAAIugC,IAG3EiU,EAAcn/E,EAAEknE,WACdgE,EAAKr2E,OACPutF,EAAah1B,SAAS+xB,EAAcn/E,EAAE2qC,EAAIugC,EAAK,IAE/CkX,EAAah1B,SAAS+xB,EAAcn/E,EAAE2qC,EAAIugC,IAG1CiU,EAAcn9E,GAAGklE,WACfgE,EAAKr2E,OACPutF,EAAaj1B,QAAQgyB,EAAcn9E,GAAG2oC,EAAIugC,EAAK,IAE/CkX,EAAaj1B,QAAQgyB,EAAcn9E,GAAG2oC,EAAIugC,IAG1CiU,EAAcp9E,GAAGmlE,WACfgE,EAAKr2E,OACPutF,EAAal1B,QAAQiyB,EAAcp9E,GAAG4oC,EAAIugC,EAAK,IAE/CkX,EAAal1B,QAAQiyB,EAAcp9E,GAAG4oC,EAAIugC,IAG1CiU,EAAcrxB,EAAEoZ,WACdgE,EAAKr2E,OACPmuF,IAAiB7D,EAAcrxB,EAAEnjB,EAAKugC,EAAK,GAAK8X,GAAe9X,EAAK,GAEpE8X,IAAiB7D,EAAcrxB,EAAEnjB,EAAKugC,EAAO8X,GAAe9X,GAG5D1L,EAAashB,iBAAmB3B,EAAcG,GAAGpY,WAC/CgE,EAAKr2E,OACPyqF,GAAMH,EAAcG,GAAG30C,EAAIugC,EAAK,GAEhCoU,GAAMH,EAAcG,GAAG30C,EAAIugC,GAG3B1L,EAAaqhB,iBAAmB1B,EAAcnZ,GAAGkB,SACnD,IAAKnoB,EAAI,EAAGA,EAAI,EAAGA,GAAK,EAClBmsB,EAAKr2E,OACPmxE,EAAGjnB,KAAOogC,EAAcnZ,GAAGr7B,EAAEoU,GAAKinB,EAAGjnB,IAAMmsB,EAAK,GAEhDlF,EAAGjnB,KAAOogC,EAAcnZ,GAAGr7B,EAAEoU,GAAKinB,EAAGjnB,IAAMmsB,EAIjD,GAAI1L,EAAaohB,eAAiBphB,EAAa+f,GAAI,CACjD,GAAIJ,EAAcI,GAAGrY,SACnB,IAAKnoB,EAAI,EAAGA,EAAI,EAAGA,GAAK,EAClBmsB,EAAKr2E,OACP0qF,EAAGxgC,KAAOogC,EAAcI,GAAG50C,EAAEoU,GAAKwgC,EAAGxgC,IAAMmsB,EAAK,GAEhDqU,EAAGxgC,KAAOogC,EAAcI,GAAG50C,EAAEoU,GAAKwgC,EAAGxgC,IAAMmsB,EAI7CiU,EAAcK,GAAGtY,WAEjBqY,EADErU,EAAKr2E,OACF21D,YAAY+0B,EAAIJ,EAAcK,GAAG70C,EAAIugC,EAAK,IAE1C1gB,YAAY+0B,EAAIJ,EAAcK,GAAG70C,EAAIugC,IAG1CiU,EAAcM,GAAGvY,WAEjBqY,EADErU,EAAKr2E,OACFw1D,mBAAmBk1B,EAAIJ,EAAcM,GAAG90C,EAAIugC,EAAK,IAEjD7gB,mBAAmBk1B,EAAIJ,EAAcM,GAAG90C,EAAIugC,IAGjDiU,EAAcO,GAAGxY,WAEjBqY,EADErU,EAAKr2E,OACF01D,mBAAmBg1B,EAAIJ,EAAcO,GAAG/0C,EAAIugC,EAAK,IAEjD3gB,mBAAmBg1B,EAAIJ,EAAcO,GAAG/0C,EAAIugC,KAMzD,IAAKlsD,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,GACzBmgE,EAAgBgD,EAAUnjE,GAAGnK,GAEXN,EAAE2yD,WAElBgE,EADmBiX,EAAUnjE,GAAG3K,EACR2vE,QAAQzB,EAAQ5tF,GAAGsvF,UAAUjlE,GAAIq/D,EAASxpE,EAAEmK,GAAG3K,EAAE6vE,YACrE9uF,KAAKmpF,eACHrT,EAAKr2E,OACPutF,EAAar0B,UAAU,EAAGoxB,EAAc5qE,EAAEo2B,EAAE,GAAKugC,EAAK,IAAKiU,EAAc5qE,EAAEo2B,EAAE,GAAKugC,EAAK,IAEvFkX,EAAar0B,UAAU,EAAGoxB,EAAc5qE,EAAEo2B,EAAE,GAAKugC,GAAOiU,EAAc5qE,EAAEo2B,EAAE,GAAKugC,GAExEA,EAAKr2E,OACdutF,EAAar0B,UAAUoxB,EAAc5qE,EAAEo2B,EAAE,GAAKugC,EAAK,GAAIiU,EAAc5qE,EAAEo2B,EAAE,GAAKugC,EAAK,IAAKiU,EAAc5qE,EAAEo2B,EAAE,GAAKugC,EAAK,IAEpHkX,EAAar0B,UAAUoxB,EAAc5qE,EAAEo2B,EAAE,GAAKugC,EAAMiU,EAAc5qE,EAAEo2B,EAAE,GAAKugC,GAAOiU,EAAc5qE,EAAEo2B,EAAE,GAAKugC,IAc/G,GAVI1L,EAAashB,kBACfmC,EAAW3D,EAAK,EAAI,EAAIA,GAEtB9f,EAAaqhB,kBACfqC,EAAW,OAAS/kE,KAAKod,MAAc,IAARyqC,EAAG,IAAY,IAAM7nD,KAAKod,MAAc,IAARyqC,EAAG,IAAY,IAAM7nD,KAAKod,MAAc,IAARyqC,EAAG,IAAY,KAE5GxG,EAAaohB,eAAiBphB,EAAa+f,KAC7C4D,EAAW,OAAShlE,KAAKod,MAAc,IAARgkD,EAAG,IAAY,IAAMphE,KAAKod,MAAc,IAARgkD,EAAG,IAAY,IAAMphE,KAAKod,MAAc,IAARgkD,EAAG,IAAY,KAG5GnqF,KAAKmpF,eAAgB,CAIvB,GAHA6D,EAAar0B,UAAU,GAAIyR,EAAaihB,IAExC2B,EAAar0B,UAAU,EAAIgxB,EAAU,GAAK4D,EAAQ,IAAOhB,EAAM,GAC3DvsF,KAAKypF,UAAUtqE,EAAEo2B,EAAG,CACtBu3C,GAAYJ,EAAaj/B,MAAM,GAAKo/B,EAAUp/B,MAAM,KAAOi/B,EAAaj/B,MAAM,GAAKo/B,EAAUp/B,MAAM,IACnG,IAAI0hC,GAA6B,IAAtBpmE,KAAKqmE,KAAKtC,GAAmB/jE,KAAKiqC,GACzC05B,EAAaj/B,MAAM,GAAKo/B,EAAUp/B,MAAM,KAC1C0hC,IAAO,KAETnC,EAAat1B,QAASy3B,GAAMpmE,KAAKiqC,GAAM,KAEzCg6B,EAAar0B,UAAU+0B,EAAUC,EAAU,GAC3ClB,GAAkB9C,EAAU,GAAKwD,EAAQ5tF,GAAG0vF,GAAM,KAC9C9B,EAAQ5tF,EAAI,IAAMmzE,IAAQya,EAAQ5tF,EAAI,GAAGmzE,MAC3C+Z,GAAiBU,EAAQ5tF,GAAG0vF,GAAK,EACjCxC,GAAoC,KAAlBriB,EAAamX,GAAcnX,EAAawhB,eAEvD,CAOL,OANAoB,EAAar0B,UAAU2zB,EAAMC,EAAM,GAE/BniB,EAAamhB,IAEfyB,EAAar0B,UAAUyR,EAAamhB,GAAG,GAAInhB,EAAamhB,GAAG,GAAKnhB,EAAa2gB,OAAQ,GAE/E3gB,EAAaxgD,GACnB,KAAK,EACHojE,EAAar0B,UAAUw0B,EAAQ5tF,GAAGivF,sBAAwBpkB,EAAa8gB,eAAiB9gB,EAAa4gB,SAAW5gB,EAAaghB,WAAW+B,EAAQ5tF,GAAGwvF,OAAQ,EAAG,GAC9J,MACF,KAAK,EACH/B,EAAar0B,UAAUw0B,EAAQ5tF,GAAGivF,sBAAwBpkB,EAAa8gB,eAAiB9gB,EAAa4gB,SAAW5gB,EAAaghB,WAAW+B,EAAQ5tF,GAAGwvF,OAAS,EAAG,EAAG,GAKtK/B,EAAar0B,UAAU,GAAIyR,EAAaihB,IACxC2B,EAAar0B,UAAU80B,EAAM,EAAG,GAChCT,EAAar0B,UAAWgxB,EAAU,GAAKwD,EAAQ5tF,GAAG0vF,GAAM,KAAQtF,EAAU,GAAK4D,EAAQ,IAAM,GAC7FjB,GAAQa,EAAQ5tF,GAAGoqB,EAAuB,KAAlBygD,EAAamX,GAAcnX,EAAawhB,UAE/C,SAAf1C,EACFmF,GAAUrB,EAAalwB,QACC,QAAfosB,EACTmF,GAAUrB,EAAa/vB,UAEvBqxB,GAAU,CAACtB,EAAazsF,MAAM,GAAIysF,EAAazsF,MAAM,GAAIysF,EAAazsF,MAAM,GAAIysF,EAAazsF,MAAM,GAAIysF,EAAazsF,MAAM,GAAIysF,EAAazsF,MAAM,GAAIysF,EAAazsF,MAAM,GAAIysF,EAAazsF,MAAM,GAAIysF,EAAazsF,MAAM,GAAIysF,EAAazsF,MAAM,GAAIysF,EAAazsF,MAAM,IAAKysF,EAAazsF,MAAM,IAAKysF,EAAazsF,MAAM,IAAKysF,EAAazsF,MAAM,IAAKysF,EAAazsF,MAAM,IAAKysF,EAAazsF,MAAM,KAE9XytF,EAAUJ,EAGRV,GAAwB3tF,GAC1B+tF,EAAc,IAAI7C,YAAYuD,EAASH,EAAUC,EAAUC,EAAUM,GAASC,IAC9EtuF,KAAK4pF,gBAAgB1pE,KAAKotE,GAC1BJ,GAAwB,EACxBltF,KAAK6pF,oBAAqB,IAE1ByD,EAActtF,KAAK4pF,gBAAgBrqF,GACnCS,KAAK6pF,mBAAqByD,EAAY7gD,OAAOuhD,EAASH,EAAUC,EAAUC,EAAUM,GAASC,KAAYtuF,KAAK6pF,uBAKpHb,qBAAqBppF,UAAUg3D,SAAW,WACpC52D,KAAKupF,MAAMtT,WAAWC,UAAYl2E,KAAKopF,WAG3CppF,KAAKopF,SAAWppF,KAAKupF,MAAMtT,WAAWC,QACtCl2E,KAAK02D,6BAGPsyB,qBAAqBppF,UAAUqtF,QAAU,IAAI/1B,OAC7C8xB,qBAAqBppF,UAAU2uF,kBAAoB,GACnD1sB,gBAAgB,CAACxL,0BAA2B2yB,sBAiD5CyB,YAAY7qF,UAAU6sC,OAAS,SAAUisB,EAAGwxB,EAAItZ,EAAIuZ,EAAI/9C,EAAGjtB,GACzDnf,KAAK22D,KAAK+B,GAAI,EACd14D,KAAK22D,KAAKuzB,IAAK,EACflqF,KAAK22D,KAAKia,IAAK,EACf5wE,KAAK22D,KAAKwzB,IAAK,EACfnqF,KAAK22D,KAAKvqB,GAAI,EACdpsC,KAAK22D,KAAKx3C,GAAI,EACd,IAAIkwE,GAAU,EAgCd,OA9BIrvF,KAAK04D,IAAMA,IACb14D,KAAK04D,EAAIA,EACT14D,KAAK22D,KAAK+B,GAAI,EACd22B,GAAU,GAERrvF,KAAKkqF,KAAOA,IACdlqF,KAAKkqF,GAAKA,EACVlqF,KAAK22D,KAAKuzB,IAAK,EACfmF,GAAU,GAERrvF,KAAK4wE,KAAOA,IACd5wE,KAAK4wE,GAAKA,EACV5wE,KAAK22D,KAAKia,IAAK,EACfye,GAAU,GAERrvF,KAAKmqF,KAAOA,IACdnqF,KAAKmqF,GAAKA,EACVnqF,KAAK22D,KAAKwzB,IAAK,EACfkF,GAAU,GAERrvF,KAAKosC,IAAMA,IACbpsC,KAAKosC,EAAIA,EACTpsC,KAAK22D,KAAKvqB,GAAI,EACdijD,GAAU,IAERlwE,EAAE1f,QAAWO,KAAKmf,EAAE,KAAOA,EAAE,IAAMnf,KAAKmf,EAAE,KAAOA,EAAE,IAAMnf,KAAKmf,EAAE,KAAOA,EAAE,IAAMnf,KAAKmf,EAAE,KAAOA,EAAE,IAAMnf,KAAKmf,EAAE,MAAQA,EAAE,KAAOnf,KAAKmf,EAAE,MAAQA,EAAE,MAChJnf,KAAKmf,EAAIA,EACTnf,KAAK22D,KAAKx3C,GAAI,EACdkwE,GAAU,GAELA,GA0DT3E,aAAa9qF,UAAUqrF,gBAAkB,CAAC,EAAG,GAE7CP,aAAa9qF,UAAUmsF,SAAW,SAAU5iF,EAAK8W,GAC/C,IAAK,IAAIhB,KAAKgB,EACR7gB,OAAOQ,UAAUC,eAAeC,KAAKmgB,EAAMhB,KAC7C9V,EAAI8V,GAAKgB,EAAKhB,IAGlB,OAAO9V,GAGTuhF,aAAa9qF,UAAU0vF,eAAiB,SAAUrvE,GAC3CA,EAAKorD,YACRrrE,KAAKisF,iBAAiBhsE,GAExBjgB,KAAK8qF,YAAc7qE,EACnBjgB,KAAK8qF,YAAYE,SAAWhrF,KAAK8qF,YAAYE,UAAYhrF,KAAKirF,gBAC9DjrF,KAAK22D,MAAO,GAGd+zB,aAAa9qF,UAAUosF,eAAiB,WACtC,OAAOhsF,KAAKuvF,mBAGd7E,aAAa9qF,UAAU2vF,gBAAkB,WAKvC,OAJAvvF,KAAKu2E,GAAKv2E,KAAKigB,KAAKra,EAAE+jD,EAAElqD,OAAS,EAC7BO,KAAKu2E,IACPv2E,KAAKw2E,UAAUx2E,KAAKwvF,iBAAiBtoE,KAAKlnB,OAErCA,KAAKu2E,IAGdmU,aAAa9qF,UAAU42E,UAAY,SAAUC,GAC3Cz2E,KAAKm2E,gBAAgBj2D,KAAKu2D,GAC1Bz2E,KAAKg2E,KAAK1f,mBAAmBt2D,OAG/B0qF,aAAa9qF,UAAUg3D,SAAW,SAAU64B,GAC1C,GAAKzvF,KAAKg2E,KAAKC,WAAWC,UAAYl2E,KAAKk2E,SAAYl2E,KAAKm2E,gBAAgB12E,QAAYgwF,EAAxF,CAGAzvF,KAAK8qF,YAAY9rE,EAAIhf,KAAKigB,KAAKra,EAAE+jD,EAAE3pD,KAAK2qF,WAAW1rE,EAAED,EACrD,IAAI0wE,EAAe1vF,KAAK8qF,YACpB6E,EAAe3vF,KAAK2qF,UACxB,GAAI3qF,KAAKo2E,KACPp2E,KAAKsvF,eAAetvF,KAAK8qF,iBAD3B,CAMA,IAAIvrF,EAFJS,KAAKo2E,MAAO,EACZp2E,KAAK22D,MAAO,EACL,IACLhpB,EAAM3tC,KAAKm2E,gBAAgB12E,OACzB62E,EAAamZ,GAAezvF,KAAKigB,KAAKra,EAAE+jD,EAAE3pD,KAAK2qF,WAAW1rE,EAC9D,IAAK1f,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAGtB+2E,EADEqZ,IAAiB3vF,KAAK2qF,UACX3qF,KAAKm2E,gBAAgB52E,GAAG+2E,EAAYA,EAAWt3D,GAE/Chf,KAAKm2E,gBAAgB52E,GAAGS,KAAK8qF,YAAaxU,EAAWt3D,GAGlE0wE,IAAiBpZ,GACnBt2E,KAAKsvF,eAAehZ,GAEtBt2E,KAAKu1C,EAAIv1C,KAAK8qF,YACd9qF,KAAK+xE,GAAK/xE,KAAKu1C,EACfv1C,KAAKo2E,MAAO,EACZp2E,KAAKk2E,QAAUl2E,KAAKg2E,KAAKC,WAAWC,WAGtCwU,aAAa9qF,UAAU4vF,iBAAmB,WAKxC,IAJA,IAAII,EAAW5vF,KAAKigB,KAAKra,EAAE+jD,EACvBgoB,EAAW3xE,KAAKg2E,KAAKT,KAAKC,cAC1Bj2E,EAAI,EACNouC,EAAMiiD,EAASnwF,OACVF,GAAKouC,EAAM,KACZpuC,IAAMouC,EAAM,GAAKiiD,EAASrwF,EAAI,GAAGyf,EAAI2yD,IAGzCpyE,GAAK,EAKP,OAHIS,KAAK2qF,YAAcprF,IACrBS,KAAK2qF,UAAYprF,GAEZS,KAAKigB,KAAKra,EAAE+jD,EAAE3pD,KAAK2qF,WAAW1rE,GAGvCyrE,aAAa9qF,UAAUiwF,eAAiB,SAAUC,GAOhD,IANA,IAGIC,EACAzgB,EAJA0gB,EAAkB,GAClBzwF,EAAI,EACJouC,EAAMmiD,EAAKrwF,OAGXwwF,GAAgB,EACb1wF,EAAIouC,GACToiD,EAAWD,EAAKtjC,WAAWjtD,GACvB6tE,YAAYqC,oBAAoBsgB,GAClCC,EAAgBA,EAAgBvwF,OAAS,IAAMqwF,EAAK5qF,OAAO3F,GAClDwwF,GAAY,OAAUA,GAAY,OAC3CzgB,EAAiBwgB,EAAKtjC,WAAWjtD,EAAI,KACf,OAAU+vE,GAAkB,OAC5C2gB,GAAiB7iB,YAAYgC,WAAW2gB,EAAUzgB,IACpD0gB,EAAgBA,EAAgBvwF,OAAS,IAAMqwF,EAAKI,OAAO3wF,EAAG,GAC9D0wF,GAAgB,GAEhBD,EAAgB9vE,KAAK4vE,EAAKI,OAAO3wF,EAAG,IAEtCA,GAAK,GAELywF,EAAgB9vE,KAAK4vE,EAAK5qF,OAAO3F,IAE1BwwF,EAAW,OACpBzgB,EAAiBwgB,EAAKtjC,WAAWjtD,EAAI,GACjC6tE,YAAYoC,kBAAkBugB,EAAUzgB,IAC1C2gB,GAAgB,EAChBD,EAAgBA,EAAgBvwF,OAAS,IAAMqwF,EAAKI,OAAO3wF,EAAG,GAC9DA,GAAK,GAELywF,EAAgB9vE,KAAK4vE,EAAK5qF,OAAO3F,KAE1B6tE,YAAYoC,kBAAkBugB,IACvCC,EAAgBA,EAAgBvwF,OAAS,IAAMqwF,EAAK5qF,OAAO3F,GAC3D0wF,GAAgB,GAEhBD,EAAgB9vE,KAAK4vE,EAAK5qF,OAAO3F,IAEnCA,GAAK,EAEP,OAAOywF,GAGTtF,aAAa9qF,UAAUqsF,iBAAmB,SAAU7hB,GAClDA,EAAaiB,YAAa,EAC1B,IAGI9rE,EACFouC,EACEwiD,EACFvjC,EAMEhjC,EACFg/C,EAEEwnB,EAfAC,EAAcrwF,KAAKg2E,KAAKC,WAAWoa,YACnCpwE,EAAOjgB,KAAKigB,KACZktE,EAAU,GAGO/kF,EAAQ,EAEzBkoF,EAAiBrwE,EAAKmsB,EAAE0oB,EACxBy7B,EAAc,EAAOC,EAAa,EAAOpC,EAAc,EACzDhD,EAAa,GACXqF,EAAY,EACZC,EAAe,EAGf1jB,EAAWqjB,EAAYtf,cAAc3G,EAAaxlB,GAEpDq5B,EAAU,EAER3P,EAAYvB,kBAAkBC,GAClC5C,EAAa8C,QAAUoB,EAAUnB,OACjC/C,EAAa6C,OAASqB,EAAUxzD,MAChCsvD,EAAawhB,UAAYxhB,EAAanrD,EACtCmrD,EAAayhB,UAAY7rF,KAAK6vF,eAAezlB,EAAaprD,GAC1D2uB,EAAMy8B,EAAayhB,UAAUpsF,OAC7B2qE,EAAa0hB,gBAAkB1hB,EAAa+gB,GAC5C,IACI4E,EADAY,EAAkBvmB,EAAamX,GAAK,IAAQnX,EAAawhB,UAE7D,GAAIxhB,EAAa5R,GAMf,IALA,IAGIo4B,EACF/E,EAJE14B,GAAO,EACP63B,EAAW5gB,EAAa5R,GAAG,GAC3Bq4B,EAAYzmB,EAAa5R,GAAG,GAGzBrF,GAAM,CAEXy9B,EAAgB,EAChBH,EAAY,EACZ9iD,GAHAk+C,EAAY7rF,KAAK6vF,eAAezlB,EAAaprD,IAG7Bvf,OAChBkxF,EAAkBvmB,EAAamX,GAAK,IAAQnX,EAAawhB,UACzD,IAAIkF,GAAkB,EACtB,IAAKvxF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBwwF,EAAWlE,EAAUtsF,GAAGitD,WAAW,GACnC2jC,GAAc,EACO,MAAjBtE,EAAUtsF,GACZuxF,EAAiBvxF,EACK,KAAbwwF,GAAgC,IAAbA,IAC5BU,EAAY,EACZN,GAAc,EACdS,GAAiBxmB,EAAa0hB,iBAA4C,IAAzB1hB,EAAawhB,WAE5DyE,EAAY5lB,OACd2lB,EAAWC,EAAYvf,YAAY+a,EAAUtsF,GAAIytE,EAASC,OAAQD,EAASuB,SAC3E0P,EAAUkS,EAAc,EAAKC,EAAS5kF,EAAI4+D,EAAawhB,UAAa,KAGpE3N,EAAUoS,EAAYpf,YAAY4a,EAAUtsF,GAAI6qE,EAAaxlB,EAAGwlB,EAAawhB,WAE3E6E,EAAYxS,EAAU+M,GAA6B,MAAjBa,EAAUtsF,KACtB,IAApBuxF,EACFnjD,GAAO,EAEPpuC,EAAIuxF,EAENF,GAAiBxmB,EAAa0hB,iBAA4C,IAAzB1hB,EAAawhB,UAC9DC,EAAU1mE,OAAO5lB,EAAGuxF,IAAmBvxF,EAAI,EAAI,EAAG,MAElDuxF,GAAkB,EAClBL,EAAY,IAEZA,GAAaxS,EACbwS,GAAaE,GAGjBC,GAAkB5jB,EAAS+d,OAAS3gB,EAAawhB,UAAa,IAC1D5rF,KAAK4qF,WAAaxgB,EAAawhB,UAAY5rF,KAAK6qF,iBAAmBgG,EAAYD,GACjFxmB,EAAawhB,WAAa,EAC1BxhB,EAAa0hB,gBAAmB1hB,EAAawhB,UAAYxhB,EAAa+gB,GAAM/gB,EAAanrD,IAEzFmrD,EAAayhB,UAAYA,EACzBl+C,EAAMy8B,EAAayhB,UAAUpsF,OAC7B0zD,GAAO,GAIbs9B,GAAaE,EACb1S,EAAU,EACV,IACI8S,EADAC,EAAoB,EAExB,IAAKzxF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAkCxB,GAjCA4wF,GAAc,EAGG,MADjBJ,GADAgB,EAAc3mB,EAAayhB,UAAUtsF,IACditD,WAAW,KACE,IAAbujC,GACrBiB,EAAoB,EACpB5F,EAAWlrE,KAAKuwE,GAChBC,EAAeD,EAAYC,EAAeD,EAAYC,EACtDD,GAAa,EAAIE,EACjB/jC,EAAM,GACNujC,GAAc,EACd/B,GAAe,GAEfxhC,EAAMmkC,EAEJV,EAAY5lB,OACd2lB,EAAWC,EAAYvf,YAAYigB,EAAa/jB,EAASC,OAAQojB,EAAYtf,cAAc3G,EAAaxlB,GAAG2pB,SAC3G0P,EAAUkS,EAAc,EAAKC,EAAS5kF,EAAI4+D,EAAawhB,UAAa,KAIpE3N,EAAUoS,EAAYpf,YAAYrkB,EAAKwd,EAAaxlB,EAAGwlB,EAAawhB,WAIlD,MAAhBmF,EACFC,GAAqB/S,EAAU0S,GAE/BF,GAAaxS,EAAU0S,EAAiBK,EACxCA,EAAoB,GAEtB7D,EAAQjtE,KAAK,CACXyJ,EAAGs0D,EAASgR,GAAIhR,EAASzqE,IAAK+8E,EAAarxE,EAAGixE,EAAatB,UAAW,GAAIjiC,IAAKA,EAAKmiC,KAAMX,EAAaI,sBAAuB,IAE1G,GAAlB8B,GAEF,GADAC,GAAetS,EACH,KAARrxB,GAAsB,MAARA,GAAertD,IAAMouC,EAAM,EAAG,CAI9C,IAHY,KAARif,GAAsB,MAARA,IAChB2jC,GAAetS,GAEVuS,GAAcjxF,GACnB4tF,EAAQqD,GAAYvB,GAAKsB,EACzBpD,EAAQqD,GAAY9d,IAAMtqE,EAC1B+kF,EAAQqD,GAAYxB,MAAQ/Q,EAC5BuS,GAAc,EAEhBpoF,GAAS,EACTmoF,EAAc,QAEX,GAAsB,GAAlBD,GAET,GADAC,GAAetS,EACH,KAARrxB,GAAcrtD,IAAMouC,EAAM,EAAG,CAI/B,IAHY,KAARif,IACF2jC,GAAetS,GAEVuS,GAAcjxF,GACnB4tF,EAAQqD,GAAYvB,GAAKsB,EACzBpD,EAAQqD,GAAY9d,IAAMtqE,EAC1B+kF,EAAQqD,GAAYxB,MAAQ/Q,EAC5BuS,GAAc,EAEhBD,EAAc,EACdnoF,GAAS,QAGX+kF,EAAQ/kF,GAAOsqE,IAAMtqE,EACrB+kF,EAAQ/kF,GAAO4mF,MAAQ,EACvB5mF,GAAS,EAMb,GAHAgiE,EAAazgD,EAAIwjE,EACjBuD,EAAeD,EAAYC,EAAeD,EAAYC,EACtDtF,EAAWlrE,KAAKuwE,GACZrmB,EAAa5R,GACf4R,EAAa4gB,SAAW5gB,EAAa5R,GAAG,GACxC4R,EAAa8gB,cAAgB,OAG7B,OADA9gB,EAAa4gB,SAAW0F,EAChBtmB,EAAaxgD,GACnB,KAAK,EACHwgD,EAAa8gB,eAAiB9gB,EAAa4gB,SAC3C,MACF,KAAK,EACH5gB,EAAa8gB,eAAiB9gB,EAAa4gB,SAAW,EACtD,MACF,QACE5gB,EAAa8gB,cAAgB,EAGnC9gB,EAAaghB,WAAaA,EAE1B,IAA4B6F,EAC1BC,EAEEC,EAAWze,EAHXqa,EAAY9sE,EAAKR,EAErBmpD,EAAOmkB,EAAUttF,OACG,IAClB2xF,EAAU,GACZ,IAAKxnE,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EAAG,CAa5B,KAZAqnE,EAAelE,EAAUnjE,IACRnK,EAAEmxD,KACjBxG,EAAaqhB,iBAAkB,GAE7BwF,EAAaxxE,EAAEyqE,KACjB9f,EAAashB,iBAAkB,IAE7BuF,EAAaxxE,EAAE0qE,IAAM8G,EAAaxxE,EAAE2qE,IAAM6G,EAAaxxE,EAAE4qE,IAAM4G,EAAaxxE,EAAE6qE,MAChFlgB,EAAaohB,eAAgB,GAE/B9Y,EAAM,EACNye,EAAQF,EAAahyE,EAAEmL,EAClB7qB,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,GACxB2xF,EAAa/D,EAAQ5tF,IACVsvF,UAAUjlE,GAAK8oD,GACZ,GAATye,GAAiC,KAAnBD,EAAWtkC,KAAyB,GAATukC,GAAiC,KAAnBD,EAAWtkC,KAAiC,MAAnBskC,EAAWtkC,KAA0B,GAATukC,IAAeD,EAAWhyE,GAAuB,KAAlBgyE,EAAWtkC,KAAcrtD,GAAKouC,EAAM,IAAiB,GAATwjD,IAAeD,EAAWhyE,GAAK3f,GAAKouC,EAAM,MAC1M,IAAtBsjD,EAAahyE,EAAEoyE,IACjBD,EAAQlxE,KAAKwyD,GAEfA,GAAO,GAGXzyD,EAAKR,EAAEmK,GAAG3K,EAAE6vE,WAAapc,EACzB,IACE4e,EADEC,GAAc,EAElB,GAA0B,IAAtBN,EAAahyE,EAAEoyE,GACjB,IAAK9xF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAEpBgyF,IADJL,EAAa/D,EAAQ5tF,IACQsvF,UAAUjlE,KACrC2nE,EAAaL,EAAWrC,UAAUjlE,GAClC0nE,EAASF,EAAQjsE,OAAO4D,KAAK2jC,MAAM3jC,KAAK+jC,SAAWskC,EAAQ3xF,QAAS,GAAG,IAEzEyxF,EAAWrC,UAAUjlE,GAAK0nE,EAIhClnB,EAAauhB,QAAUvhB,EAAa0hB,iBAA4C,IAAzB1hB,EAAawhB,UACpExhB,EAAaihB,GAAKjhB,EAAaihB,IAAM,EACrCjhB,EAAa2gB,OAAU/d,EAAS+d,OAAS3gB,EAAawhB,UAAa,KAGrElB,aAAa9qF,UAAU4xF,mBAAqB,SAAUC,EAASrpF,GAC7DA,OAAkB/E,IAAV+E,EAAsBpI,KAAK2qF,UAAYviF,EAC/C,IAAIspF,EAAQ1xF,KAAK+rF,SAAS,GAAI/rF,KAAKigB,KAAKra,EAAE+jD,EAAEvhD,GAAO6W,GACnDyyE,EAAQ1xF,KAAK+rF,SAAS2F,EAAOD,GAC7BzxF,KAAKigB,KAAKra,EAAE+jD,EAAEvhD,GAAO6W,EAAIyyE,EACzB1xF,KAAK2xF,YAAYvpF,GACjBpI,KAAKg2E,KAAK1f,mBAAmBt2D,OAG/B0qF,aAAa9qF,UAAU+xF,YAAc,SAAUvpF,GAC7C,IAAIspF,EAAQ1xF,KAAKigB,KAAKra,EAAE+jD,EAAEvhD,GAAO6W,EACjCyyE,EAAMrmB,YAAa,EACnBrrE,KAAK2qF,UAAY,EACjB3qF,KAAKq2E,eAAgB,EACrBr2E,KAAK42D,SAAS86B,IAGhBhH,aAAa9qF,UAAUgyF,cAAgB,SAAUC,GAC/C7xF,KAAK4qF,UAAYiH,EACjB7xF,KAAK2xF,YAAY3xF,KAAK2qF,WACtB3qF,KAAKg2E,KAAK1f,mBAAmBt2D,OAG/B0qF,aAAa9qF,UAAUkyF,mBAAqB,SAAUC,GACpD/xF,KAAK6qF,gBAAkB9hE,KAAK2jC,MAAMqlC,IAAe,EACjD/xF,KAAK2xF,YAAY3xF,KAAK2qF,WACtB3qF,KAAKg2E,KAAK1f,mBAAmBt2D,OAM/B,IAAIuqF,iBAAoB,WACtB,IAAI/iF,EAAMuhB,KAAKvhB,IACX0+B,EAAMnd,KAAKmd,IACXwmB,EAAQ3jC,KAAK2jC,MAEjB,SAASslC,EAAwBhc,EAAM/1D,GACrCjgB,KAAKiyF,oBAAsB,EAC3BjyF,KAAK2pD,GAAI,EACT3pD,KAAKigB,KAAOA,EACZjgB,KAAKg2E,KAAOA,EACZh2E,KAAKu1E,KAAOS,EAAKT,KACjBv1E,KAAKkyF,OAAS,EACdlyF,KAAKmyF,OAAS,EACdnyF,KAAK62D,6BAA6Bmf,GAClCh2E,KAAKif,EAAIsyD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKhB,GAAK,CAAE0qC,EAAG,GAAK,EAAG,EAAG3pD,MAE/DA,KAAKqf,EADH,MAAOY,EACAsxD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKZ,EAAG,EAAG,EAAGrf,MAE5C,CAAEu1C,EAAG,KAEhBv1C,KAAK04D,EAAI6Y,gBAAgB0F,QAAQjB,EAAM/1D,EAAKy4C,GAAK,CAAE/O,EAAG,GAAK,EAAG,EAAG3pD,MACjEA,KAAKoyF,GAAK7gB,gBAAgB0F,QAAQjB,EAAM/1D,EAAKmyE,IAAM,CAAEzoC,EAAG,GAAK,EAAG,EAAG3pD,MACnEA,KAAKqyF,GAAK9gB,gBAAgB0F,QAAQjB,EAAM/1D,EAAKoyE,IAAM,CAAE1oC,EAAG,GAAK,EAAG,EAAG3pD,MACnEA,KAAKsyF,GAAK/gB,gBAAgB0F,QAAQjB,EAAM/1D,EAAKqyE,IAAM,CAAE3oC,EAAG,KAAO,EAAG,EAAG3pD,MACrEA,KAAKyf,EAAI8xD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKR,EAAG,EAAG,IAAMzf,MACnDA,KAAKw2D,kBAAkB/2D,QAC1BO,KAAK42D,WA6IT,OAzIAo7B,EAAwBpyF,UAAY,CAClCgvF,QAAS,SAAUlc,GACb1yE,KAAKiyF,qBAAuBjyF,KAAKg2E,KAAKuc,aAAazH,YAAYnhE,EAAElqB,QACnEO,KAAK42D,WAGP,IAAI7pD,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,EACLlN,KAAKqyF,GAAG98C,EAAI,EACdxoC,EAAK/M,KAAKqyF,GAAG98C,EAAI,IAEjBvoC,GAAMhN,KAAKqyF,GAAG98C,EAAI,IAEhBv1C,KAAKoyF,GAAG78C,EAAI,EACdtoC,EAAK,EAAMjN,KAAKoyF,GAAG78C,EAAI,IAEvBroC,EAAK,EAAMlN,KAAKoyF,GAAG78C,EAAI,IAEzB,IAAIi9C,EAAQjzB,cAAcqT,gBAAgB7lE,EAAIC,EAAIC,EAAIC,GAAI+Z,IAEtD6uD,EAAO,EACP72D,EAAIjf,KAAKkyF,OACT7yE,EAAIrf,KAAKmyF,OACTr2E,EAAO9b,KAAKigB,KAAKuzD,GACrB,GAAa,IAAT13D,EAMFg6D,EAAO0c,EAJL1c,EADEz2D,IAAMJ,EACDyzD,GAAOrzD,EAAI,EAAI,EAEf7X,EAAI,EAAG0+B,EAAI,IAAO7mB,EAAIJ,IAAMyzD,EAAMzzD,IAAMI,EAAIJ,GAAI,UAGpD,GAAa,IAATnD,EAOTg6D,EAAO0c,EALL1c,EADEz2D,IAAMJ,EACDyzD,GAAOrzD,EAAI,EAAI,EAEf,EAAI7X,EAAI,EAAG0+B,EAAI,IAAO7mB,EAAIJ,IAAMyzD,EAAMzzD,IAAMI,EAAIJ,GAAI,UAIxD,GAAa,IAATnD,EACLuD,IAAMJ,EACR62D,EAAO,GAEPA,EAAOtuE,EAAI,EAAG0+B,EAAI,IAAO7mB,EAAIJ,IAAMyzD,EAAMzzD,IAAMI,EAAIJ,GAAI,KAC5C,GACT62D,GAAQ,EAERA,EAAO,EAAI,GAAKA,EAAO,IAG3BA,EAAO0c,EAAM1c,QACR,GAAa,IAATh6D,EAAY,CACrB,GAAIuD,IAAMJ,EACR62D,EAAO,MACF,CACL,IAAI2c,EAAMpzE,EAAIJ,EAIVpS,GAAK4lF,EAAM,GADf/f,EAAMxsC,EAAI1+B,EAAI,EAAGkrE,EAAM,GAAMzzD,GAAII,EAAIJ,IAEjCQ,EAAIgzE,EAAM,EACd3c,EAAO/sD,KAAKspC,KAAK,EAAKxlD,EAAIA,GAAM4S,EAAIA,IAEtCq2D,EAAO0c,EAAM1c,QACK,IAATh6D,GACLuD,IAAMJ,EACR62D,EAAO,GAEPpD,EAAMxsC,EAAI1+B,EAAI,EAAGkrE,EAAM,GAAMzzD,GAAII,EAAIJ,GACrC62D,GAAQ,EAAK/sD,KAAKquC,IAAKruC,KAAKiqC,GAAe,EAAVjqC,KAAKiqC,GAAU0f,GAAQrzD,EAAIJ,KAAS,GAEvE62D,EAAO0c,EAAM1c,KAETpD,GAAOhmB,EAAMztC,KAEb62D,EAAOtuE,EAAI,EAAG0+B,EADZwsC,EAAMzzD,EAAI,EACMinB,EAAI7mB,EAAG,IAAMJ,EAAIyzD,GAEjBrzD,EAAIqzD,EAFmB,KAK7CoD,EAAO0c,EAAM1c,IAYf,GAAkB,MAAd91E,KAAKsyF,GAAG/8C,EAAW,CACrB,IAAIm9C,EAAyB,IAAZ1yF,KAAKsyF,GAAG/8C,EACN,IAAfm9C,IACFA,EAAa,MAEf,IAAIC,EAAY,GAAmB,GAAbD,EAClB5c,EAAO6c,EACT7c,EAAO,GAEPA,GAAQA,EAAO6c,GAAaD,GACjB,IACT5c,EAAO,GAIb,OAAOA,EAAO91E,KAAKyf,EAAE81B,GAEvBqhB,SAAU,SAAUg8B,GAClB5yF,KAAK02D,2BACL12D,KAAK22D,KAAOi8B,GAAgB5yF,KAAK22D,KACjC32D,KAAKiyF,mBAAqBjyF,KAAKg2E,KAAKuc,aAAazH,YAAYnhE,EAAElqB,QAAU,EACrEmzF,GAAgC,IAAhB5yF,KAAKigB,KAAKrV,IAC5B5K,KAAKqf,EAAEk2B,EAAIv1C,KAAKiyF,oBAElB,IAAIY,EAA0B,IAAhB7yF,KAAKigB,KAAKrV,EAAU,EAAI,IAAM5K,KAAKigB,KAAK6uE,WAClDp2B,EAAI14D,KAAK04D,EAAEnjB,EAAIs9C,EACf5zE,EAAIjf,KAAKif,EAAEs2B,EAAIs9C,EAAUn6B,EACzBr5C,EAAKrf,KAAKqf,EAAEk2B,EAAIs9C,EAAWn6B,EAC/B,GAAIz5C,EAAII,EAAG,CACT,IAAIsgE,EAAK1gE,EACTA,EAAII,EACJA,EAAIsgE,EAEN3/E,KAAKkyF,OAASjzE,EACdjf,KAAKmyF,OAAS9yE,IAGlBwiD,gBAAgB,CAACxL,0BAA2B27B,GAMrC,CACLxH,oBALF,SAA6BxU,EAAM/1D,EAAM61C,GACvC,OAAO,IAAIk8B,EAAwBhc,EAAM/1D,EAAM61C,KApK3B,GA+KpBg9B,YACK,SAAUC,EAAejlC,EAASklC,GACvC,IAAIpuB,EAAU,EACV+T,EAAaoa,EACb71B,EAAOrK,iBAAiB8lB,GA8B5B,MA5BS,CACPxV,WAIF,WAQE,OANIyB,EAEQ1H,EADV0H,GAAW,GAGD9W,KATZ0xB,QAcF,SAAiB10E,GACX85D,IAAY+T,IACdzb,EAAO+1B,QAAQ7zB,OAAOlC,GACtByb,GAAc,GAEZqa,GACFA,EAASloF,GAEXoyD,EAAK0H,GAAW95D,EAChB85D,GAAW,KAUbquB,QAKK,CACL7zB,OALF,SAAgBtJ,GACd,OAAOA,EAAI9qC,OAAO6nC,iBAAiBiD,EAAIr2D,WAWvCq5E,UAIKga,YAAY,GAHnB,WACE,OAAOl9B,iBAAiB,UAAW,MAQnC8kB,UAAa,WAiCf,IAAIlpB,EAAUshC,YAAY,GAhC1B,WACE,OAAO,IAAIpa,aAGb,SAAiB2H,GACf,IACI9gF,EADAouC,EAAM0yC,EAAUzb,QAEpB,IAAKrlE,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBu5E,UAAU0G,QAAQa,EAAU9qC,EAAEh2C,IAC9Bu5E,UAAU0G,QAAQa,EAAU9gF,EAAEA,IAC9Bu5E,UAAU0G,QAAQa,EAAU3nB,EAAEn5D,IAC9B8gF,EAAU9qC,EAAEh2C,GAAK,KACjB8gF,EAAU9gF,EAAEA,GAAK,KACjB8gF,EAAU3nB,EAAEn5D,GAAK,KAEnB8gF,EAAUzb,QAAU,EACpByb,EAAU/7B,GAAI,KAmBhB,OAFAkN,EAAQ/zC,MAdR,SAAeghE,GACb,IACIl/E,EADA2zF,EAAS1hC,EAAQ2R,aAEjBx1B,OAAwBtqC,IAAlBo7E,EAAM7Z,QAAwB6Z,EAAMlpC,EAAE91C,OAASg/E,EAAM7Z,QAI/D,IAHAsuB,EAAOra,UAAUlrC,GACjBulD,EAAO5uC,EAAIm6B,EAAMn6B,EAEZ/kD,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB2zF,EAAOja,YAAYwF,EAAMlpC,EAAEh2C,GAAG,GAAIk/E,EAAMlpC,EAAEh2C,GAAG,GAAIk/E,EAAM/lB,EAAEn5D,GAAG,GAAIk/E,EAAM/lB,EAAEn5D,GAAG,GAAIk/E,EAAMl/E,EAAEA,GAAG,GAAIk/E,EAAMl/E,EAAEA,GAAG,GAAIA,GAE/G,OAAO2zF,GAMF1hC,EApCQ,GA0CbspB,oBAAuB,WACzB,IAAItb,EAAK,CACPub,mBAQF,WAQE,OANInW,EAEgB1H,EADlB0H,GAAW,GAGO,IAAI6Y,iBAbxB+B,QAkBF,SAAiB2T,GACf,IAAI5zF,EACAouC,EAAMwlD,EAAgBvuB,QAC1B,IAAKrlE,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBm7E,UAAU8E,QAAQ2T,EAAgB3pB,OAAOjqE,IAE3C4zF,EAAgBvuB,QAAU,EAEtBA,IAAY+T,IACdzb,EAAO+1B,QAAQ7zB,OAAOlC,GACtByb,GAAc,GAEhBzb,EAAK0H,GAAWuuB,EAChBvuB,GAAW,IA5BTA,EAAU,EACV+T,EAAa,EACbzb,EAAOrK,iBAAiB8lB,GA6B5B,OAAOnZ,EArCkB,GA2CvB+E,mBAiBKuuB,YAAY,GAhBnB,WACE,MAAO,CACLzvB,QAAS,GACTwB,YAAa,MAIjB,SAAiB/5D,GACf,IAAIvL,EACAouC,EAAM7iC,EAAQu4D,QAAQ5jE,OAC1B,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB2jE,iBAAiBsc,QAAQ10E,EAAQu4D,QAAQ9jE,IAE3CuL,EAAQu4D,QAAQ5jE,OAAS,KASzByjE,iBAQK4vB,YAAY,GAPnB,WACE,MAAO,CACL/vB,YAAa,EACbK,SAAUxN,iBAAiB,UAAW9C,sBACtCuQ,QAASzN,iBAAiB,UAAW9C,0BAQvCsgC,aAEF,WACE,SAASC,EAAkBhnB,GAKzB,IAJA,IAEI0iB,EAFAuE,EAAQjnB,EAAQtnE,MAAM,QACtB3E,EAAO,GAEPmzF,EAAY,EACPh0F,EAAI,EAAGA,EAAI+zF,EAAM7zF,OAAQF,GAAK,EAEjB,KADpBwvF,EAAOuE,EAAM/zF,GAAGwF,MAAM,MACbtF,SACPW,EAAK2uF,EAAK,IAAMA,EAAK,GAAGyE,OACxBD,GAAa,GAGjB,GAAkB,IAAdA,EACF,MAAM,IAAIj6E,MAEZ,OAAOlZ,EAGT,OAAO,SAAUqzF,GAEf,IADA,IAAIC,EAAU,GACLn0F,EAAI,EAAGA,EAAIk0F,EAASh0F,OAAQF,GAAK,EAAG,CAC3C,IAAIo0F,EAAUF,EAASl0F,GACnBq0F,EAAa,CACfC,KAAMF,EAAQG,GACdt7E,SAAUm7E,EAAQI,IAEpB,IACEH,EAAWvnB,QAAUje,KAAKx1B,MAAM66D,EAASl0F,GAAGy0F,IAC5C,MAAOhqE,GACP,IACE4pE,EAAWvnB,QAAUgnB,EAAkBI,EAASl0F,GAAGy0F,IACnD,MAAOC,GACPL,EAAWvnB,QAAU,CACnBxnE,KAAM4uF,EAASl0F,KAIrBm0F,EAAQxzE,KAAK0zE,GAEf,OAAOF,GAxCX,GA8CF,SAASQ,gBAuJT,SAASC,YAAYC,EAAeC,GAClCr0F,KAAKo0F,cAAgBA,EACrBp0F,KAAKyoE,OAAS,KACdzoE,KAAKw1E,eAAiB,EACtBx1E,KAAKs0F,WAAap+B,SAAS,OAC3B,IAAIxX,EAAY,GAChB,GAAI21C,GAAUA,EAAO92E,MAAO,CAC1B,IAAIg3E,EAAer+B,SAAS,SACxBs+B,EAAU7/B,kBACd4/B,EAAa/8D,aAAa,KAAMg9D,GAChCD,EAAah6E,YAAc85E,EAAO92E,MAClCvd,KAAKs0F,WAAWv8D,YAAYw8D,GAC5B71C,GAAa81C,EAEf,GAAIH,GAAUA,EAAOI,YAAa,CAChC,IAAIC,EAAcx+B,SAAS,QACvBy+B,EAAShgC,kBACb+/B,EAAYl9D,aAAa,KAAMm9D,GAC/BD,EAAYn6E,YAAc85E,EAAOI,YACjCz0F,KAAKs0F,WAAWv8D,YAAY28D,GAC5Bh2C,GAAa,IAAMi2C,EAEjBj2C,GACF1+C,KAAKs0F,WAAW98D,aAAa,kBAAmBknB,GAElD,IAAIsxB,EAAO9Z,SAAS,QACpBl2D,KAAKs0F,WAAWv8D,YAAYi4C,GAC5B,IAAI4kB,EAAc1+B,SAAS,KAC3Bl2D,KAAKs0F,WAAWv8D,YAAY68D,GAC5B50F,KAAK60F,aAAeD,EACpB50F,KAAK80F,aAAe,CAClBC,oBAAsBV,GAAUA,EAAOU,qBAAwB,gBAC/DC,yBAA2BX,GAAUA,EAAOW,0BAA6B,iBACzEC,kBAAoBZ,GAAUA,EAAOY,mBAAsB,UAC3DC,gBAAkBb,GAAUA,EAAOa,kBAAoB,EACvDC,oBAAsBd,IAAuC,IAA7BA,EAAOc,mBACvCC,YAAcf,GAAUA,EAAOe,cAAgB,EAC/CC,YAAchB,GAAUA,EAAOgB,cAAgB,EAC/CzxF,UAAYywF,GAAUA,EAAOzwF,WAAc,GAC3CuJ,GAAKknF,GAAUA,EAAOlnF,IAAO,GAC7BlC,UAAWopF,GAAUA,EAAOppF,UAC5BqqF,WAAY,CACV1yF,MAAQyxF,GAAUA,EAAOiB,YAAcjB,EAAOiB,WAAW1yF,OAAU,OACnEC,OAASwxF,GAAUA,EAAOiB,YAAcjB,EAAOiB,WAAWzyF,QAAW,OACrEgK,EAAIwnF,GAAUA,EAAOiB,YAAcjB,EAAOiB,WAAWzoF,GAAM,KAC3DC,EAAIunF,GAAUA,EAAOiB,YAAcjB,EAAOiB,WAAWxoF,GAAM,OAI/D9M,KAAKi2E,WAAa,CAChBtf,MAAM,EACNgb,UAAW,EACX3B,KAAMA,EACN8kB,aAAc90F,KAAK80F,cAErB90F,KAAKsrC,SAAW,GAChBtrC,KAAKu1F,gBAAkB,GACvBv1F,KAAKw1F,WAAY,EACjBx1F,KAAKy1F,aAAe,MAmNtB,SAASC,eAAetB,EAAeC,GACrCr0F,KAAKo0F,cAAgBA,EACrBp0F,KAAK80F,aAAe,CAClBa,aAActB,QAAiChxF,IAAvBgxF,EAAOsB,aAA6BtB,EAAOsB,YACnEn/E,QAAU69E,GAAUA,EAAO79E,SAAY,KACvC0+E,gBAAkBb,GAAUA,EAAOa,kBAAoB,EACvDH,oBAAsBV,GAAUA,EAAOU,qBAAwB,gBAC/DC,yBAA2BX,GAAUA,EAAOW,0BAA6B,iBACzEC,kBAAoBZ,GAAUA,EAAOY,mBAAsB,UAC3DrxF,UAAYywF,GAAUA,EAAOzwF,WAAc,GAC3CuJ,GAAKknF,GAAUA,EAAOlnF,IAAO,IAE/BnN,KAAK80F,aAAahmD,IAAOulD,GAAUA,EAAOvlD,KAAQ,EAC9C9uC,KAAKo0F,cAAcwB,UACrB51F,KAAK80F,aAAahmD,IAAOulD,GAAUA,EAAOvlD,KAAQzlC,OAAO0lC,kBAAoB,GAE/E/uC,KAAKw1E,eAAiB,EACtBx1E,KAAKi2E,WAAa,CAChBtE,UAAW,EACXhb,MAAM,EACNm+B,aAAc90F,KAAK80F,aACnBe,oBAAqB,GAEvB71F,KAAK81F,YAAc,IAAIC,cACvB/1F,KAAKsrC,SAAW,GAChBtrC,KAAKu1F,gBAAkB,GACvBv1F,KAAKg2F,aAAe,IAAI9+B,OACxBl3D,KAAKwoE,gBAAiB,EACtBxoE,KAAKy1F,aAAe,SA8TtB,SAASQ,eAAe7B,EAAeC,GACrCr0F,KAAKo0F,cAAgBA,EACrBp0F,KAAKyoE,OAAS,KACdzoE,KAAKw1E,eAAiB,EACtBx1E,KAAK80F,aAAe,CAClBlxF,UAAYywF,GAAUA,EAAOzwF,WAAc,GAC3CoxF,yBAA2BX,GAAUA,EAAOW,0BAA6B,iBACzEG,oBAAqBd,IAAuC,IAA7BA,EAAOc,mBACtCG,WAAY,CACV1yF,MAAQyxF,GAAUA,EAAOiB,YAAcjB,EAAOiB,WAAW1yF,OAAU,OACnEC,OAASwxF,GAAUA,EAAOiB,YAAcjB,EAAOiB,WAAWzyF,QAAW,OACrEgK,EAAIwnF,GAAUA,EAAOiB,YAAcjB,EAAOiB,WAAWzoF,GAAM,QAC3DC,EAAIunF,GAAUA,EAAOiB,YAAcjB,EAAOiB,WAAWxoF,GAAM,UAG/D9M,KAAKi2E,WAAa,CAChBtf,MAAM,EACNgb,UAAW,EACXmjB,aAAc90F,KAAK80F,cAErB90F,KAAKu1F,gBAAkB,GACvBv1F,KAAKsrC,SAAW,GAChBtrC,KAAKk2F,eAAiB,GACtBl2F,KAAKw1F,WAAY,EACjBx1F,KAAKm2F,OAAS,KACdn2F,KAAKo2F,YAAa,EAClBp2F,KAAKy1F,aAAe,OAgTtB,SAASY,YAAYp2E,EAAMnV,EAASmrE,GAClCj2E,KAAKigB,KAAOA,EACZjgB,KAAK8K,QAAUA,EACf9K,KAAKi2E,WAAaA,EAClBj2E,KAAK4jE,WAAa,GAClB5jE,KAAKmpE,gBAAkBnpE,KAAKigB,KAAKkpD,iBAAmB,GACpDnpE,KAAK40F,YAAc,KACnB,IACIr1F,EAKA6J,EANA4mE,EAAOhwE,KAAKi2E,WAAWjG,KAEvBriC,EAAM3tC,KAAKmpE,gBAAkBnpE,KAAKmpE,gBAAgB1pE,OAAS,EAC/DO,KAAKs2F,SAAWzjC,iBAAiBllB,GACjC3tC,KAAKu2F,UAAY,GAGjB,IAGI3sE,EACAg/C,EAEAtiC,EACAkwD,EACAC,EACA5pF,EATA6pF,EAAa12F,KAAKmpE,gBAClBzL,EAAQ,EACRi5B,EAAe,GAGfC,EAAUjiC,kBAKV+zB,EAAW,WACXmO,EAAU,YACd,IAAKt3F,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAiBxB,IAhB4B,MAAvBm3F,EAAWn3F,GAAG2sD,MAAuC,MAAvBwqC,EAAWn3F,GAAG2sD,MAAiBwqC,EAAWn3F,GAAGyiF,KAA6B,MAAtB0U,EAAWn3F,GAAGm5D,EAAE/O,GAAa+sC,EAAWn3F,GAAGm5D,EAAE7rD,KAClI67E,EAAW,OACXmO,EAAU,QAGgB,MAAvBH,EAAWn3F,GAAG2sD,MAAuC,MAAvBwqC,EAAWn3F,GAAG2sD,MAA2B,IAAVwR,EAOhEp3B,EAAO,OANPA,EAAO4vB,SAAS,SACX1+B,aAAa,OAAQ,WAC1B8O,EAAK9O,aAAa,QAASx3B,KAAK8K,QAAQyqE,KAAKt1D,KAAKzU,GAAK,GACvD86B,EAAK9O,aAAa,SAAUx3B,KAAK8K,QAAQyqE,KAAKt1D,KAAKxU,GAAK,GACxDkrF,EAAaz2E,KAAKomB,IAKpBl9B,EAAO8sD,SAAS,QACW,MAAvBwgC,EAAWn3F,GAAG2sD,KAEhBlsD,KAAKs2F,SAAS/2F,GAAK,CACjB+jF,GAAI/R,gBAAgB0F,QAAQj3E,KAAK8K,QAAS4rF,EAAWn3F,GAAGm5D,EAAG,EAAG,IAAM14D,KAAK8K,SACzEyrD,KAAMsjB,qBAAqBid,aAAa92F,KAAK8K,QAAS4rF,EAAWn3F,GAAI,GACrEy2E,KAAM5sE,EACN2tF,SAAU,IAEZ/mB,EAAKj4C,YAAY3uB,OACZ,CAKL,IAAI4tF,EA+BJ,GAnCAt5B,GAAS,EAETt0D,EAAKouB,aAAa,OAA+B,MAAvBk/D,EAAWn3F,GAAG2sD,KAAe,UAAY,WACnE9iD,EAAKouB,aAAa,YAAa,WAGL,IAAtBk/D,EAAWn3F,GAAGsN,EAAE88C,GAClB++B,EAAW,OACXmO,EAAU,OACVhqF,EAAI0kE,gBAAgB0F,QAAQj3E,KAAK8K,QAAS4rF,EAAWn3F,GAAGsN,EAAG,EAAG,KAAM7M,KAAK8K,SACzEksF,EAAWriC,mBACX6hC,EAAWtgC,SAAS,WACX1+B,aAAa,KAAMw/D,IAC5BP,EAAUvgC,SAAS,iBACX1+B,aAAa,WAAY,SACjCi/D,EAAQj/D,aAAa,KAAM,iBAC3Bi/D,EAAQj/D,aAAa,SAAU,KAC/Bg/D,EAASz+D,YAAY0+D,GACrBzmB,EAAKj4C,YAAYy+D,GACjBptF,EAAKouB,aAAa,SAAiC,MAAvBk/D,EAAWn3F,GAAG2sD,KAAe,UAAY,aAErEuqC,EAAU,KACV5pF,EAAI,MAIN7M,KAAK4jE,WAAWrkE,GAAK,CACnBy2E,KAAM5sE,EACNyD,EAAGA,EACHoqF,MAAOR,EACPM,SAAU,GACVG,aAAc,GACdC,SAAUH,EACVI,WAAY,GAEa,MAAvBV,EAAWn3F,GAAG2sD,KAAc,CAC9B0c,EAAO+tB,EAAal3F,OACpB,IAAIq1D,EAAIoB,SAAS,KACjB,IAAKtsC,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EACzBkrC,EAAE/8B,YAAY4+D,EAAa/sE,IAE7B,IAAI0zC,EAAOpH,SAAS,QACpBoH,EAAK9lC,aAAa,YAAa,SAC/B8lC,EAAK9lC,aAAa,KAAMo/D,EAAU,IAAMl5B,GACxCJ,EAAKvlC,YAAY3uB,GACjB4mE,EAAKj4C,YAAYulC,GACjBxI,EAAEt9B,aAAa,OAAQ,OAASk6B,aAAe,IAAMklC,EAAU,IAAMl5B,EAAQ,KAE7Ei5B,EAAal3F,OAAS,EACtBk3F,EAAaz2E,KAAK40C,QAElB6hC,EAAaz2E,KAAK9W,GAEhBstF,EAAWn3F,GAAGyiF,MAAQhiF,KAAKu2F,YAC7Bv2F,KAAKu2F,UAAYv2F,KAAKq3F,wBAGxBr3F,KAAKs2F,SAAS/2F,GAAK,CACjBy2E,KAAM5sE,EACN2tF,SAAU,GACVzT,GAAI/R,gBAAgB0F,QAAQj3E,KAAK8K,QAAS4rF,EAAWn3F,GAAGm5D,EAAG,EAAG,IAAM14D,KAAK8K,SACzEyrD,KAAMsjB,qBAAqBid,aAAa92F,KAAK8K,QAAS4rF,EAAWn3F,GAAI,GACrE+3F,QAAShxD,GAENtmC,KAAKs2F,SAAS/2F,GAAGg3D,KAAK5M,GACzB3pD,KAAKu3F,SAASb,EAAWn3F,GAAIS,KAAKs2F,SAAS/2F,GAAGg3D,KAAKhhB,EAAGv1C,KAAKs2F,SAAS/2F,IAQ1E,IAHAS,KAAK40F,YAAc1+B,SAASwyB,GAE5B/6C,EAAMgpD,EAAal3F,OACdF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAK40F,YAAY78D,YAAY4+D,EAAap3F,IAGxCm+D,EAAQ,IACV19D,KAAK40F,YAAYp9D,aAAa,KAAMo/D,GACpC52F,KAAK8K,QAAQ0sF,cAAchgE,aAAaq/D,EAAS,OAASnlC,aAAe,IAAMklC,EAAU,KACzF5mB,EAAKj4C,YAAY/3B,KAAK40F,cAEpB50F,KAAKs2F,SAAS72F,QAChBO,KAAK8K,QAAQ2sF,uBAAuBz3F,MAiGxC,SAAS03F,oBAoDT,SAASC,gBAgDT,SAASC,oBA6ET,SAASC,qBAwFT,SAASC,wBAgET,SAASC,iBAAiBjtF,EAAS5G,GACjClE,KAAKg2E,KAAOlrE,EACZ9K,KAAK2jC,IAAMz/B,EAKb,SAAS8zF,aAAa/3E,EAAMg4E,GAC1Bj4F,KAAKigB,KAAOA,EACZjgB,KAAK8b,KAAOmE,EAAK44C,GACjB74D,KAAK4F,EAAI,GACT5F,KAAKk4F,IAAMD,EACXj4F,KAAK22D,MAAO,EACZ32D,KAAKwkE,QAAqB,IAAZvkD,EAAKk4E,GACnBn4F,KAAKo4F,MAAQliC,SAAS,QACtBl2D,KAAKq4F,OAAS,KAQhB,SAASC,aAAaC,EAAcN,EAAOxZ,GACzCz+E,KAAKw4F,OAAS,GACdx4F,KAAKqF,OAAS,GACdrF,KAAKu4F,aAAeA,EACpBv4F,KAAKy4F,KAAO,GACZz4F,KAAKwzE,GAAKiL,EACVz+E,KAAKk4F,IAAMD,EAIXj4F,KAAKy2D,cAAgBgoB,EAAM90B,EAI3B,IAFA,IAAIpqD,EAAI,EACJouC,EAAM4qD,EAAa94F,OAChBF,EAAIouC,GAAK,CACd,GAAI4qD,EAAah5F,GAAGskF,OAAOrtB,kBAAkB/2D,OAAQ,CACnDO,KAAKy2D,aAAc,EACnB,MAEFl3D,GAAK,GAUT,SAASm5F,iBAAiB7U,EAAQP,EAAIp8E,GACpClH,KAAKuN,UAAY,CACfs2E,OAAQA,EACRP,GAAIA,EACJp8E,UAAWA,GAEblH,KAAKsrC,SAAW,GAChBtrC,KAAKy2D,YAAcz2D,KAAKuN,UAAUs2E,OAAOrtB,kBAAkB/2D,QAAUO,KAAKuN,UAAU+1E,GAAGnN,gBAAgB12E,OAKzG,SAASk5F,mBAAmB3iB,EAAM/1D,EAAM24E,GACtC54F,KAAK62D,6BAA6Bmf,GAClCh2E,KAAK42D,SAAW52D,KAAK02D,yBACrB12D,KAAK04D,EAAI6Y,gBAAgB0F,QAAQjB,EAAM/1D,EAAKy4C,EAAG,EAAG,IAAM14D,MACxDA,KAAKwL,EAAI+lE,gBAAgB0F,QAAQjB,EAAM/1D,EAAKzU,EAAG,EAAG,KAAMxL,MACxDA,KAAK4F,EAAI,IAAI83E,aAAa1H,EAAM/1D,EAAKra,GAAK,GAAI,MAAO5F,MACrDA,KAAKskD,EAAIitB,gBAAgB0F,QAAQjB,EAAM/1D,EAAKqkC,EAAG,EAAG,IAAKtkD,MACvDA,KAAK8a,MAAQ89E,EACb54F,KAAKy2D,cAAgBz2D,KAAKy2D,YAO5B,SAASoiC,iBAAiB7iB,EAAM/1D,EAAM24E,GACpC54F,KAAK62D,6BAA6Bmf,GAClCh2E,KAAK42D,SAAW52D,KAAK02D,yBACrB12D,KAAK04D,EAAI6Y,gBAAgB0F,QAAQjB,EAAM/1D,EAAKy4C,EAAG,EAAG,IAAM14D,MACxDA,KAAKskD,EAAIitB,gBAAgB0F,QAAQjB,EAAM/1D,EAAKqkC,EAAG,EAAG,IAAKtkD,MACvDA,KAAK8a,MAAQ89E,EAQf,SAASE,yBAAyB9iB,EAAM/1D,EAAM24E,GAC5C54F,KAAK62D,6BAA6Bmf,GAClCh2E,KAAK42D,SAAW52D,KAAK02D,yBACrB12D,KAAK+4F,iBAAiB/iB,EAAM/1D,EAAM24E,GAiFpC,SAASI,2BAA2BhjB,EAAM/1D,EAAM24E,GAC9C54F,KAAK62D,6BAA6Bmf,GAClCh2E,KAAK42D,SAAW52D,KAAK02D,yBACrB12D,KAAKwL,EAAI+lE,gBAAgB0F,QAAQjB,EAAM/1D,EAAKzU,EAAG,EAAG,KAAMxL,MACxDA,KAAK4F,EAAI,IAAI83E,aAAa1H,EAAM/1D,EAAKra,GAAK,GAAI,MAAO5F,MACrDA,KAAK+4F,iBAAiB/iB,EAAM/1D,EAAM24E,GAClC54F,KAAKy2D,cAAgBz2D,KAAKy2D,YAQ5B,SAASwiC,iBACPj5F,KAAKujD,GAAK,GACVvjD,KAAKk5F,aAAe,GACpBl5F,KAAKm5F,GAAKjjC,SAAS,KA1zDrBg+B,aAAat0F,UAAUw5F,YAAc,SAAUC,GAC7C,IAAI95F,EAEA0gB,EADA0tB,EAAM3tC,KAAKyoE,OAAOhpE,OAGtB,IADAO,KAAKwoE,gBAAiB,EACjBjpE,EAAIouC,EAAM,EAAGpuC,GAAK,EAAGA,GAAK,EACxBS,KAAKsrC,SAAS/rC,KACjB0gB,EAAOjgB,KAAKyoE,OAAOlpE,IACV+5F,GAAKr5E,EAAK62D,IAAOuiB,EAAMr5F,KAAKyoE,OAAOlpE,GAAGu3E,IAAO72D,EAAKqjE,GAAKrjE,EAAK62D,GAAMuiB,EAAMr5F,KAAKyoE,OAAOlpE,GAAGu3E,IAC9F92E,KAAKu5F,UAAUh6F,GAGnBS,KAAKwoE,iBAAiBxoE,KAAKsrC,SAAS/rC,IAAKS,KAAKwoE,eAEhDxoE,KAAKw5F,wBAGPtF,aAAat0F,UAAU65F,WAAa,SAAUC,GAC5C,OAAQA,EAAM7gC,IACZ,KAAK,EACH,OAAO74D,KAAK25F,YAAYD,GAC1B,KAAK,EACH,OAAO15F,KAAK45F,WAAWF,GACzB,KAAK,EACH,OAAO15F,KAAK65F,YAAYH,GAC1B,KAAK,EAYL,QACE,OAAO15F,KAAK85F,WAAWJ,GAXzB,KAAK,EACH,OAAO15F,KAAK+5F,YAAYL,GAC1B,KAAK,EACH,OAAO15F,KAAKg6F,WAAWN,GACzB,KAAK,EACH,OAAO15F,KAAK+kF,YAAY2U,GAC1B,KAAK,GACH,OAAO15F,KAAKi6F,aAAaP,GAC3B,KAAK,GACH,OAAO15F,KAAKk6F,cAAcR,KAMhCxF,aAAat0F,UAAUq6F,aAAe,WACpC,MAAM,IAAI3gF,MAAM,qDAGlB46E,aAAat0F,UAAUmlF,YAAc,SAAU9kE,GAC7C,OAAO,IAAIk6E,aAAal6E,EAAMjgB,KAAKi2E,WAAYj2E,OAGjDk0F,aAAat0F,UAAUs6F,cAAgB,SAAUj6E,GAC/C,OAAO,IAAIm6E,eAAen6E,EAAMjgB,KAAKi2E,WAAYj2E,OAGnDk0F,aAAat0F,UAAUy6F,cAAgB,WACrC,IAAI96F,EACAouC,EAAM3tC,KAAKyoE,OAAOhpE,OACtB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKu5F,UAAUh6F,GAEjBS,KAAKw5F,wBAGPtF,aAAat0F,UAAU06F,cAAgB,SAAUC,GAE/C,IAAIh7F,EADJS,KAAKwoE,gBAAiB,EAEtB,IACI5+C,EADA+jB,EAAM4sD,EAAU96F,OAEhBmpE,EAAO5oE,KAAKyoE,OAAOhpE,OACvB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAExB,IADAqqB,EAAI,EACGA,EAAIg/C,GAAM,CACf,GAAI5oE,KAAKyoE,OAAO7+C,GAAGzc,KAAOotF,EAAUh7F,GAAG4N,GAAI,CACzCnN,KAAKyoE,OAAO7+C,GAAK2wE,EAAUh7F,GAC3B,MAEFqqB,GAAK,IAKXsqE,aAAat0F,UAAU46F,oBAAsB,SAAUC,GACrDz6F,KAAKi2E,WAAWykB,iBAAmBD,GAGrCvG,aAAat0F,UAAU+6F,UAAY,WAC5B36F,KAAKi2E,WAAWif,iBACnBl1F,KAAKq6F,iBAGTnG,aAAat0F,UAAUg7F,sBAAwB,SAAU9vF,EAAS+vF,EAAYC,GAK5E,IAJA,IAAIxvD,EAAWtrC,KAAKsrC,SAChBm9B,EAASzoE,KAAKyoE,OACdlpE,EAAI,EACJouC,EAAM86B,EAAOhpE,OACVF,EAAIouC,GACL86B,EAAOlpE,GAAGmzE,KAAOmoB,IACdvvD,EAAS/rC,KAAsB,IAAhB+rC,EAAS/rC,IAI3Bu7F,EAAU56E,KAAKorB,EAAS/rC,IACxB+rC,EAAS/rC,GAAGw7F,mBACa13F,IAArBolE,EAAOlpE,GAAGwrB,OACZ/qB,KAAK46F,sBAAsB9vF,EAAS29D,EAAOlpE,GAAGwrB,OAAQ+vE,GAEtDhwF,EAAQkwF,aAAaF,KARvB96F,KAAKu5F,UAAUh6F,GACfS,KAAKi7F,kBAAkBnwF,KAW3BvL,GAAK,GAIT20F,aAAat0F,UAAUq7F,kBAAoB,SAAUnwF,GACnD9K,KAAKu1F,gBAAgBr1E,KAAKpV,IAG5BopF,aAAat0F,UAAUs7F,wBAA0B,SAAU3wB,GACzD,IAAIhrE,EACAouC,EAAM48B,EAAO9qE,OACjB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB,GAAIgrE,EAAOhrE,GAAG47F,GAAI,CAChB,IAAI5lB,EAAOv1E,KAAK45F,WAAWrvB,EAAOhrE,IAClCg2E,EAAK6lB,kBACLp7F,KAAKi2E,WAAWykB,iBAAiBW,oBAAoB9lB,KAK3D2e,aAAat0F,UAAU07F,gBAAkB,SAAUC,EAAUC,GAC3Dx7F,KAAKi2E,WAAWoa,YAAc,IAAIjjB,YAClCptE,KAAKi2E,WAAWoa,YAAYzgB,SAAS2rB,EAAS9wB,OAC9CzqE,KAAKi2E,WAAWoa,YAAYtgB,SAASwrB,EAAS5sB,MAAO6sB,GACrDx7F,KAAKi2E,WAAWwlB,aAAez7F,KAAKo0F,cAAcqH,aAAav0E,KAAKlnB,KAAKo0F,eACzEp0F,KAAKi2E,WAAWyQ,cAAgB1mF,KAAKo0F,cAAc1N,cAAcx/D,KAAKlnB,KAAKo0F,eAC3Ep0F,KAAKi2E,WAAWylB,YAAc17F,KAAKo0F,cAAcuH,eACjD37F,KAAKi2E,WAAW2lB,gBAAkB57F,KAAKo0F,cAAcwH,gBACrD57F,KAAKi2E,WAAWC,QAAU,EAC1Bl2E,KAAKi2E,WAAWiC,UAAYqjB,EAASM,GACrC77F,KAAKi2E,WAAWxW,GAAK87B,EAAS97B,GAC9Bz/D,KAAKi2E,WAAW6lB,SAAW,CACzBtwF,EAAG+vF,EAAS/vF,EACZC,EAAG8vF,EAAS9vF,IAoEhBo2D,gBAAgB,CAACqyB,cAAeC,aAEhCA,YAAYv0F,UAAUk6F,WAAa,SAAU75E,GAC3C,OAAO,IAAI87E,YAAY97E,EAAMjgB,KAAKi2E,WAAYj2E,OAGhDm0F,YAAYv0F,UAAUm6F,YAAc,SAAU95E,GAC5C,OAAO,IAAI+7E,gBAAgB/7E,EAAMjgB,KAAKi2E,WAAYj2E,OAGpDm0F,YAAYv0F,UAAUo6F,WAAa,SAAU/5E,GAC3C,OAAO,IAAIg8E,qBAAqBh8E,EAAMjgB,KAAKi2E,WAAYj2E,OAGzDm0F,YAAYv0F,UAAU+5F,YAAc,SAAU15E,GAC5C,OAAO,IAAIi8E,cAAcj8E,EAAMjgB,KAAKi2E,WAAYj2E,OAGlDm0F,YAAYv0F,UAAUg6F,WAAa,SAAU35E,GAC3C,OAAO,IAAIk8E,eAAel8E,EAAMjgB,KAAKi2E,WAAYj2E,OAGnDm0F,YAAYv0F,UAAUi6F,YAAc,SAAU55E,GAC5C,OAAO,IAAIm8E,cAAcn8E,EAAMjgB,KAAKi2E,WAAYj2E,OAGlDm0F,YAAYv0F,UAAUy8F,gBAAkB,SAAUd,GAChDv7F,KAAKs0F,WAAW98D,aAAa,QAAS,8BAClCx3B,KAAK80F,aAAaO,YACpBr1F,KAAKs0F,WAAW98D,aAAa,UAAWx3B,KAAK80F,aAAaO,aAE1Dr1F,KAAKs0F,WAAW98D,aAAa,UAAW,OAAS+jE,EAAS/vF,EAAI,IAAM+vF,EAAS9vF,GAG1EzL,KAAK80F,aAAaM,cACrBp1F,KAAKs0F,WAAW98D,aAAa,QAAS+jE,EAAS/vF,GAC/CxL,KAAKs0F,WAAW98D,aAAa,SAAU+jE,EAAS9vF,GAChDzL,KAAKs0F,WAAWx5E,MAAMlY,MAAQ,OAC9B5C,KAAKs0F,WAAWx5E,MAAMjY,OAAS,OAC/B7C,KAAKs0F,WAAWx5E,MAAMvN,UAAY,qBAClCvN,KAAKs0F,WAAWx5E,MAAMm6E,kBAAoBj1F,KAAK80F,aAAaG,mBAE1Dj1F,KAAK80F,aAAalxF,WACpB5D,KAAKs0F,WAAW98D,aAAa,QAASx3B,KAAK80F,aAAalxF,WAEtD5D,KAAK80F,aAAa3nF,IACpBnN,KAAKs0F,WAAW98D,aAAa,KAAMx3B,KAAK80F,aAAa3nF,SAEnB9J,IAAhCrD,KAAK80F,aAAa7pF,WACpBjL,KAAKs0F,WAAW98D,aAAa,YAAax3B,KAAK80F,aAAa7pF,WAE9DjL,KAAKs0F,WAAW98D,aAAa,sBAAuBx3B,KAAK80F,aAAaC,qBAGtE/0F,KAAKo0F,cAAcwB,QAAQ79D,YAAY/3B,KAAKs0F,YAE5C,IAAItkB,EAAOhwE,KAAKi2E,WAAWjG,KAE3BhwE,KAAKs7F,gBAAgBC,EAAUvrB,GAC/BhwE,KAAKi2E,WAAWif,gBAAkBl1F,KAAK80F,aAAaI,gBACpDl1F,KAAKigB,KAAOs7E,EAEZ,IAAI3G,EAAc1+B,SAAS,YACvB5vB,EAAO4vB,SAAS,QACpB5vB,EAAK9O,aAAa,QAAS+jE,EAAS/vF,GACpC86B,EAAK9O,aAAa,SAAU+jE,EAAS9vF,GACrC66B,EAAK9O,aAAa,IAAK,GACvB8O,EAAK9O,aAAa,IAAK,GACvB,IAAI8kE,EAAS3nC,kBACbigC,EAAYp9D,aAAa,KAAM8kE,GAC/B1H,EAAY78D,YAAYuO,GACxBtmC,KAAK60F,aAAar9D,aAAa,YAAa,OAASk6B,aAAe,IAAM4qC,EAAS,KAEnFtsB,EAAKj4C,YAAY68D,GACjB50F,KAAKyoE,OAAS8yB,EAAS9yB,OACvBzoE,KAAKsrC,SAAWunB,iBAAiB0oC,EAAS9yB,OAAOhpE,SAGnD00F,YAAYv0F,UAAUotC,QAAU,WAM9B,IAAIztC,EALAS,KAAKo0F,cAAcwB,UACrB51F,KAAKo0F,cAAcwB,QAAQ/nB,UAAY,IAEzC7tE,KAAK60F,aAAe,KACpB70F,KAAKi2E,WAAWjG,KAAO,KAEvB,IAAIriC,EAAM3tC,KAAKyoE,OAASzoE,KAAKyoE,OAAOhpE,OAAS,EAC7C,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACpBS,KAAKsrC,SAAS/rC,IAChBS,KAAKsrC,SAAS/rC,GAAGytC,UAGrBhtC,KAAKsrC,SAAS7rC,OAAS,EACvBO,KAAKw1F,WAAY,EACjBx1F,KAAKo0F,cAAgB,MAGvBD,YAAYv0F,UAAU28F,oBAAsB,aAG5CpI,YAAYv0F,UAAU25F,UAAY,SAAU51D,GAC1C,IAAI2H,EAAWtrC,KAAKsrC,SACpB,IAAIA,EAAS3H,IAAgC,KAAxB3jC,KAAKyoE,OAAO9kC,GAAKk1B,GAAtC,CAGAvtB,EAAS3H,IAAO,EAChB,IAAI74B,EAAU9K,KAAKy5F,WAAWz5F,KAAKyoE,OAAO9kC,IAE1C2H,EAAS3H,GAAO74B,EACZinD,oBAC0B,IAAxB/xD,KAAKyoE,OAAO9kC,GAAKk1B,IACnB74D,KAAKi2E,WAAWykB,iBAAiBW,oBAAoBvwF,GAEvDA,EAAQswF,mBAEVp7F,KAAKw8F,mBAAmB1xF,EAAS64B,GAC7B3jC,KAAKyoE,OAAO9kC,GAAKolC,KACd/oE,KAAKsrC,SAAS3H,EAAM,KAAiC,IAA3B3jC,KAAKsrC,SAAS3H,EAAM,GAIjD74B,EAAQ2xF,SAASnxD,EAAS3H,EAAM,GAAGizD,UAHnC52F,KAAKu5F,UAAU51D,EAAM,GACrB3jC,KAAKi7F,kBAAkBnwF,OAO7BqpF,YAAYv0F,UAAU45F,qBAAuB,WAC3C,KAAOx5F,KAAKu1F,gBAAgB91F,QAAQ,CAClC,IAAIqL,EAAU9K,KAAKu1F,gBAAgBtV,MAEnC,GADAn1E,EAAQ4xF,iBACJ5xF,EAAQmV,KAAK8oD,GAGf,IAFA,IAAIxpE,EAAI,EACJouC,EAAM3tC,KAAKsrC,SAAS7rC,OACjBF,EAAIouC,GAAK,CACd,GAAI3tC,KAAKsrC,SAAS/rC,KAAOuL,EAAS,CAChCA,EAAQ2xF,SAASz8F,KAAKsrC,SAAS/rC,EAAI,GAAGq3F,SACtC,MAEFr3F,GAAK,KAMb40F,YAAYv0F,UAAU+8F,YAAc,SAAUtD,GAC5C,GAAIr5F,KAAKw1E,gBAAkB6jB,IAAOr5F,KAAKw1F,UAAvC,CAcA,IAAIj2F,EAXQ,OAAR85F,EACFA,EAAMr5F,KAAKw1E,cAEXx1E,KAAKw1E,cAAgB6jB,EAIvBr5F,KAAKi2E,WAAWtE,SAAW0nB,EAC3Br5F,KAAKi2E,WAAWC,SAAW,EAC3Bl2E,KAAKi2E,WAAWykB,iBAAiBkC,aAAevD,EAChDr5F,KAAKi2E,WAAWtf,MAAO,EAEvB,IAAIhpB,EAAM3tC,KAAKyoE,OAAOhpE,OAItB,IAHKO,KAAKwoE,gBACRxoE,KAAKo5F,YAAYC,GAEd95F,EAAIouC,EAAM,EAAGpuC,GAAK,EAAGA,GAAK,GACzBS,KAAKwoE,gBAAkBxoE,KAAKsrC,SAAS/rC,KACvCS,KAAKsrC,SAAS/rC,GAAGs9F,aAAaxD,EAAMr5F,KAAKyoE,OAAOlpE,GAAGu3E,IAGvD,GAAI92E,KAAKi2E,WAAWtf,KAClB,IAAKp3D,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,GACpBS,KAAKwoE,gBAAkBxoE,KAAKsrC,SAAS/rC,KACvCS,KAAKsrC,SAAS/rC,GAAGo9F,gBAMzBxI,YAAYv0F,UAAU48F,mBAAqB,SAAU1xF,EAAS64B,GAC5D,IAAIw/B,EAAar4D,EAAQgyF,iBACzB,GAAK35B,EAAL,CAKA,IAFA,IACI45B,EADAx9F,EAAI,EAEDA,EAAIokC,GACL3jC,KAAKsrC,SAAS/rC,KAA2B,IAArBS,KAAKsrC,SAAS/rC,IAAeS,KAAKsrC,SAAS/rC,GAAGu9F,mBACpEC,EAAc/8F,KAAKsrC,SAAS/rC,GAAGu9F,kBAEjCv9F,GAAK,EAEHw9F,EACF/8F,KAAK60F,aAAamI,aAAa75B,EAAY45B,GAE3C/8F,KAAK60F,aAAa98D,YAAYorC,KAIlCgxB,YAAYv0F,UAAUwgD,KAAO,WAC3BpgD,KAAK60F,aAAa/5E,MAAM3W,QAAU,QAGpCgwF,YAAYv0F,UAAUo0B,KAAO,WAC3Bh0B,KAAK60F,aAAa/5E,MAAM3W,QAAU,SAoCpC09D,gBAAgB,CAACqyB,cAAewB,gBAEhCA,eAAe91F,UAAUm6F,YAAc,SAAU95E,GAC/C,OAAO,IAAIg9E,eAAeh9E,EAAMjgB,KAAKi2E,WAAYj2E,OAGnD01F,eAAe91F,UAAUo6F,WAAa,SAAU/5E,GAC9C,OAAO,IAAIi9E,cAAcj9E,EAAMjgB,KAAKi2E,WAAYj2E,OAGlD01F,eAAe91F,UAAU+5F,YAAc,SAAU15E,GAC/C,OAAO,IAAIk9E,eAAel9E,EAAMjgB,KAAKi2E,WAAYj2E,OAGnD01F,eAAe91F,UAAUg6F,WAAa,SAAU35E,GAC9C,OAAO,IAAIm9E,cAAcn9E,EAAMjgB,KAAKi2E,WAAYj2E,OAGlD01F,eAAe91F,UAAUi6F,YAAc,SAAU55E,GAC/C,OAAO,IAAIo9E,eAAep9E,EAAMjgB,KAAKi2E,WAAYj2E,OAGnD01F,eAAe91F,UAAUk6F,WAAa3F,YAAYv0F,UAAUk6F,WAE5DpE,eAAe91F,UAAU09F,aAAe,SAAU/8F,GAChD,GAAiB,IAAbA,EAAM,IAAyB,IAAbA,EAAM,IAAyB,IAAbA,EAAM,IAAyB,IAAbA,EAAM,IAA0B,IAAdA,EAAM,KAA2B,IAAdA,EAAM,IAGrG,GAAKP,KAAK80F,aAAaa,YAAvB,CAIA31F,KAAKg2F,aAAa36B,eAAe96D,GACjC,IAAIg9F,EAASv9F,KAAK81F,YAAY0H,IAAIj9F,MAClCP,KAAKg2F,aAAazoF,UAAUgwF,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,KAE7Mv9F,KAAK81F,YAAY0H,IAAIniC,eAAer7D,KAAKg2F,aAAaz1F,OACtD,IAAIk9F,EAAUz9F,KAAK81F,YAAY0H,IAAIj9F,MACnCP,KAAK09F,cAAcjlC,aAAaglC,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,IAAKA,EAAQ,UATnGz9F,KAAK09F,cAAcnwF,UAAUhN,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,IAAKA,EAAM,MAY1Fm1F,eAAe91F,UAAU+9F,WAAa,SAAUra,GAI9C,IAAKtjF,KAAK80F,aAAaa,YAGrB,OAFA31F,KAAK09F,cAAcE,aAAeta,EAAK,EAAI,EAAIA,OAC/CtjF,KAAKi2E,WAAW4f,mBAAqB71F,KAAK81F,YAAY+H,IAGxD79F,KAAK81F,YAAY+H,IAAMva,EAAK,EAAI,EAAIA,EAChCtjF,KAAKi2E,WAAW4f,qBAAuB71F,KAAK81F,YAAY+H,KAC1D79F,KAAK09F,cAAcE,YAAc59F,KAAK81F,YAAY+H,GAClD79F,KAAKi2E,WAAW4f,mBAAqB71F,KAAK81F,YAAY+H,KAI1DnI,eAAe91F,UAAUgtC,MAAQ,WAC1B5sC,KAAK80F,aAAaa,YAIvB31F,KAAK81F,YAAYlpD,QAHf5sC,KAAK09F,cAAcI,WAMvBpI,eAAe91F,UAAUm+F,KAAO,SAAUC,GACxC,GAAKh+F,KAAK80F,aAAaa,YAAvB,CAIIqI,GACFh+F,KAAK09F,cAAcK,OAErB,IAIIx+F,EAJAgB,EAAQP,KAAK81F,YAAY0H,IAAIj9F,MAC7BP,KAAK81F,YAAYlxB,SAAW5kE,KAAK81F,YAAYmI,SAC/Cj+F,KAAK81F,YAAYoI,YAGnB,IAAIpoC,EAAM91D,KAAK81F,YAAYqI,MAAMn+F,KAAK81F,YAAYmI,SAClD,IAAK1+F,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACvBu2D,EAAIv2D,GAAKgB,EAAMhB,GAEjBS,KAAK81F,YAAYsI,QAAQp+F,KAAK81F,YAAYmI,SAAWj+F,KAAK81F,YAAY+H,GACtE79F,KAAK81F,YAAYmI,SAAW,OAhB1Bj+F,KAAK09F,cAAcK,QAmBvBrI,eAAe91F,UAAUk+F,QAAU,SAAUE,GAC3C,GAAKh+F,KAAK80F,aAAaa,YAAvB,CAIIqI,IACFh+F,KAAK09F,cAAcI,UACnB99F,KAAKi2E,WAAWooB,UAAY,eAE9Br+F,KAAK81F,YAAYmI,SAAW,EAC5B,IACI1+F,EADA++F,EAASt+F,KAAK81F,YAAYqI,MAAMn+F,KAAK81F,YAAYmI,SAEjDnoC,EAAM91D,KAAK81F,YAAY0H,IAAIj9F,MAC/B,IAAKhB,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACvBu2D,EAAIv2D,GAAK++F,EAAO/+F,GAElBS,KAAK09F,cAAcjlC,aAAa6lC,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAAKA,EAAO,KAC/FA,EAASt+F,KAAK81F,YAAYsI,QAAQp+F,KAAK81F,YAAYmI,SACnDj+F,KAAK81F,YAAY+H,GAAKS,EAClBt+F,KAAKi2E,WAAW4f,qBAAuByI,IACzCt+F,KAAK09F,cAAcE,YAAcU,EACjCt+F,KAAKi2E,WAAW4f,mBAAqByI,QAnBrCt+F,KAAK09F,cAAcI,WAuBvBpI,eAAe91F,UAAUy8F,gBAAkB,SAAUd,GACnD,GAAIv7F,KAAKo0F,cAAcwB,QAAS,CAC9B51F,KAAKo0F,cAAcltF,UAAYkvD,UAAU,UACzC,IAAImoC,EAAiBv+F,KAAKo0F,cAAcltF,UAAU4T,MAClDyjF,EAAe37F,MAAQ,OACvB27F,EAAe17F,OAAS,OACxB,IAAI6pE,EAAS,cACb6xB,EAAexjF,gBAAkB2xD,EACjC6xB,EAAeC,mBAAqB9xB,EACpC6xB,EAAelrC,sBAAwBqZ,EACvC6xB,EAAe,qBAAuB7xB,EACtC6xB,EAAetJ,kBAAoBj1F,KAAK80F,aAAaG,kBACrDj1F,KAAKo0F,cAAcwB,QAAQ79D,YAAY/3B,KAAKo0F,cAAcltF,WAC1DlH,KAAK09F,cAAgB19F,KAAKo0F,cAAcltF,UAAUunE,WAAW,MACzDzuE,KAAK80F,aAAalxF,WACpB5D,KAAKo0F,cAAcltF,UAAUswB,aAAa,QAASx3B,KAAK80F,aAAalxF,WAEnE5D,KAAK80F,aAAa3nF,IACpBnN,KAAKo0F,cAAcltF,UAAUswB,aAAa,KAAMx3B,KAAK80F,aAAa3nF,SAGpEnN,KAAK09F,cAAgB19F,KAAK80F,aAAat+E,QAEzCxW,KAAKigB,KAAOs7E,EACZv7F,KAAKyoE,OAAS8yB,EAAS9yB,OACvBzoE,KAAKy+F,gBAAkB,CACrBjzF,EAAG+vF,EAAS/vF,EACZC,EAAG8vF,EAAS9vF,EACZysD,GAAI,EACJC,GAAI,EACJS,GAAI,EACJC,GAAI,GAEN74D,KAAKs7F,gBAAgBC,EAAUjyF,SAASilB,MACxCvuB,KAAKi2E,WAAWynB,cAAgB19F,KAAK09F,cACrC19F,KAAKi2E,WAAW0H,SAAW39E,KAC3BA,KAAKi2E,WAAWyoB,UAAW,EAC3B1+F,KAAKi2E,WAAWif,gBAAkBl1F,KAAK80F,aAAaI,gBACpDl1F,KAAKi2E,WAAWwoB,gBAAkBz+F,KAAKy+F,gBACvCz+F,KAAKsrC,SAAWunB,iBAAiB0oC,EAAS9yB,OAAOhpE,QAEjDO,KAAKu8F,uBAGP7G,eAAe91F,UAAU28F,oBAAsB,WAE7C,IAAIoC,EACAC,EAUAC,EACAC,EACJ,GAdA9+F,KAAK4sC,QAGD5sC,KAAKo0F,cAAcwB,SAAW51F,KAAKo0F,cAAcltF,WACnDy3F,EAAe3+F,KAAKo0F,cAAcwB,QAAQlvD,YAC1Ck4D,EAAgB5+F,KAAKo0F,cAAcwB,QAAQnvD,aAC3CzmC,KAAKo0F,cAAcltF,UAAUswB,aAAa,QAASmnE,EAAe3+F,KAAK80F,aAAahmD,KACpF9uC,KAAKo0F,cAAcltF,UAAUswB,aAAa,SAAUonE,EAAgB5+F,KAAK80F,aAAahmD,OAEtF6vD,EAAe3+F,KAAK09F,cAAc1X,OAAOpjF,MAAQ5C,KAAK80F,aAAahmD,IACnE8vD,EAAgB5+F,KAAK09F,cAAc1X,OAAOnjF,OAAS7C,KAAK80F,aAAahmD,MAIR,IAA3D9uC,KAAK80F,aAAaC,oBAAoB10F,QAAQ,UAA8E,IAA5DL,KAAK80F,aAAaC,oBAAoB10F,QAAQ,SAAiB,CACjI,IAAI0+F,EAAM/+F,KAAK80F,aAAaC,oBAAoBhwF,MAAM,KAClDi6F,EAAWD,EAAI,IAAM,OACrBp7D,EAAMo7D,EAAI,IAAM,WAChBzS,EAAO3oD,EAAIusD,OAAO,EAAG,GACrB3D,EAAO5oD,EAAIusD,OAAO,GACtB2O,EAAaF,EAAeC,GAC5BE,EAAe9+F,KAAKy+F,gBAAgBjzF,EAAIxL,KAAKy+F,gBAAgBhzF,GACzCozF,GAA2B,SAAbG,GAAyBF,EAAeD,GAA2B,UAAbG,GACtFh/F,KAAKy+F,gBAAgBvmC,GAAKymC,GAAgB3+F,KAAKy+F,gBAAgBjzF,EAAIxL,KAAK80F,aAAahmD,KACrF9uC,KAAKy+F,gBAAgBtmC,GAAKwmC,GAAgB3+F,KAAKy+F,gBAAgBjzF,EAAIxL,KAAK80F,aAAahmD,OAErF9uC,KAAKy+F,gBAAgBvmC,GAAK0mC,GAAiB5+F,KAAKy+F,gBAAgBhzF,EAAIzL,KAAK80F,aAAahmD,KACtF9uC,KAAKy+F,gBAAgBtmC,GAAKymC,GAAiB5+F,KAAKy+F,gBAAgBhzF,EAAIzL,KAAK80F,aAAahmD,MAItF9uC,KAAKy+F,gBAAgB7lC,GADV,SAAT0zB,IAAqBwS,EAAeD,GAA2B,SAAbG,GAAyBF,EAAeD,GAA2B,UAAbG,IAC9EL,EAAe3+F,KAAKy+F,gBAAgBjzF,GAAKozF,EAAgB5+F,KAAKy+F,gBAAgBhzF,IAAM,EAAKzL,KAAK80F,aAAahmD,IACrH,SAATw9C,IAAqBwS,EAAeD,GAA2B,SAAbG,GAAyBF,EAAeD,GAA2B,UAAbG,IACtFL,EAAe3+F,KAAKy+F,gBAAgBjzF,GAAKozF,EAAgB5+F,KAAKy+F,gBAAgBhzF,IAAMzL,KAAK80F,aAAahmD,IAEvG,EAG1B9uC,KAAKy+F,gBAAgB5lC,GADV,SAAT0zB,IAAqBuS,EAAeD,GAA2B,SAAbG,GAAyBF,EAAeD,GAA2B,UAAbG,IAC9EJ,EAAgB5+F,KAAKy+F,gBAAgBhzF,GAAKkzF,EAAe3+F,KAAKy+F,gBAAgBjzF,IAAM,EAAKxL,KAAK80F,aAAahmD,IACrH,SAATy9C,IAAqBuS,EAAeD,GAA2B,SAAbG,GAAyBF,EAAeD,GAA2B,UAAbG,IACrFJ,EAAgB5+F,KAAKy+F,gBAAgBhzF,GAAKkzF,EAAe3+F,KAAKy+F,gBAAgBjzF,IAAOxL,KAAK80F,aAAahmD,IAEzG,MAEuB,SAA1C9uC,KAAK80F,aAAaC,qBAC3B/0F,KAAKy+F,gBAAgBvmC,GAAKymC,GAAgB3+F,KAAKy+F,gBAAgBjzF,EAAIxL,KAAK80F,aAAahmD,KACrF9uC,KAAKy+F,gBAAgBtmC,GAAKymC,GAAiB5+F,KAAKy+F,gBAAgBhzF,EAAIzL,KAAK80F,aAAahmD,KACtF9uC,KAAKy+F,gBAAgB7lC,GAAK,EAC1B54D,KAAKy+F,gBAAgB5lC,GAAK,IAE1B74D,KAAKy+F,gBAAgBvmC,GAAKl4D,KAAK80F,aAAahmD,IAC5C9uC,KAAKy+F,gBAAgBtmC,GAAKn4D,KAAK80F,aAAahmD,IAC5C9uC,KAAKy+F,gBAAgB7lC,GAAK,EAC1B54D,KAAKy+F,gBAAgB5lC,GAAK,GAE5B74D,KAAKy+F,gBAAgBl+F,MAAQ,CAACP,KAAKy+F,gBAAgBvmC,GAAI,EAAG,EAAG,EAAG,EAAGl4D,KAAKy+F,gBAAgBtmC,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAGn4D,KAAKy+F,gBAAgB7lC,GAAI54D,KAAKy+F,gBAAgB5lC,GAAI,EAAG,GAOnK74D,KAAKs9F,aAAat9F,KAAKy+F,gBAAgBl+F,OACvCP,KAAK09F,cAAcuB,YACnBj/F,KAAK09F,cAAcp3D,KAAK,EAAG,EAAGtmC,KAAKy+F,gBAAgBjzF,EAAGxL,KAAKy+F,gBAAgBhzF,GAC3EzL,KAAK09F,cAAcwB,YACnBl/F,KAAK09F,cAAcyB,OAEnBn/F,KAAK28F,YAAY38F,KAAKw1E,eAAe,IAGvCkgB,eAAe91F,UAAUotC,QAAU,WAIjC,IAAIztC,EAEJ,IALIS,KAAK80F,aAAaa,aAAe31F,KAAKo0F,cAAcwB,UACtD51F,KAAKo0F,cAAcwB,QAAQ/nB,UAAY,IAIpCtuE,GADKS,KAAKyoE,OAASzoE,KAAKyoE,OAAOhpE,OAAS,GAC9B,EAAGF,GAAK,EAAGA,GAAK,EACzBS,KAAKsrC,SAAS/rC,IAChBS,KAAKsrC,SAAS/rC,GAAGytC,UAGrBhtC,KAAKsrC,SAAS7rC,OAAS,EACvBO,KAAKi2E,WAAWynB,cAAgB,KAChC19F,KAAKo0F,cAAcltF,UAAY,KAC/BlH,KAAKw1F,WAAY,GAGnBE,eAAe91F,UAAU+8F,YAAc,SAAUtD,EAAKrhB,GACpD,IAAKh4E,KAAKw1E,gBAAkB6jB,IAAyC,IAAlCr5F,KAAK80F,aAAaa,aAAyB3d,KAAgBh4E,KAAKw1F,YAAsB,IAAT6D,EAAhH,CAWA,IAAI95F,EARJS,KAAKw1E,cAAgB6jB,EACrBr5F,KAAKi2E,WAAWtE,SAAW0nB,EAAMr5F,KAAKo0F,cAAc/d,cACpDr2E,KAAKi2E,WAAWC,SAAW,EAC3Bl2E,KAAKi2E,WAAWtf,MAAQ32D,KAAK80F,aAAaa,aAAe3d,EACzDh4E,KAAKi2E,WAAWykB,iBAAiBkC,aAAevD,EAKhD,IAAI1rD,EAAM3tC,KAAKyoE,OAAOhpE,OAKtB,IAJKO,KAAKwoE,gBACRxoE,KAAKo5F,YAAYC,GAGd95F,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,GACpBS,KAAKwoE,gBAAkBxoE,KAAKsrC,SAAS/rC,KACvCS,KAAKsrC,SAAS/rC,GAAGs9F,aAAaxD,EAAMr5F,KAAKyoE,OAAOlpE,GAAGu3E,IAGvD,GAAI92E,KAAKi2E,WAAWtf,KAAM,CAMxB,KALsC,IAAlC32D,KAAK80F,aAAaa,YACpB31F,KAAK09F,cAAc0B,UAAU,EAAG,EAAGp/F,KAAKy+F,gBAAgBjzF,EAAGxL,KAAKy+F,gBAAgBhzF,GAEhFzL,KAAK+9F,OAEFx+F,EAAIouC,EAAM,EAAGpuC,GAAK,EAAGA,GAAK,GACzBS,KAAKwoE,gBAAkBxoE,KAAKsrC,SAAS/rC,KACvCS,KAAKsrC,SAAS/rC,GAAGo9F,eAGiB,IAAlC38F,KAAK80F,aAAaa,aACpB31F,KAAK89F,aAKXpI,eAAe91F,UAAU25F,UAAY,SAAU51D,GAC7C,IAAI2H,EAAWtrC,KAAKsrC,SACpB,IAAIA,EAAS3H,IAAgC,KAAxB3jC,KAAKyoE,OAAO9kC,GAAKk1B,GAAtC,CAGA,IAAI/tD,EAAU9K,KAAKy5F,WAAWz5F,KAAKyoE,OAAO9kC,GAAM3jC,KAAMA,KAAKi2E,YAC3D3qC,EAAS3H,GAAO74B,EAChBA,EAAQswF,oBAMV1F,eAAe91F,UAAU45F,qBAAuB,WAC9C,KAAOx5F,KAAKu1F,gBAAgB91F,QACZO,KAAKu1F,gBAAgBtV,MAC3Byc,kBAIZhH,eAAe91F,UAAUwgD,KAAO,WAC9BpgD,KAAKo0F,cAAcltF,UAAU4T,MAAM3W,QAAU,QAG/CuxF,eAAe91F,UAAUo0B,KAAO,WAC9Bh0B,KAAKo0F,cAAcltF,UAAU4T,MAAM3W,QAAU,SAoC/C09D,gBAAgB,CAACqyB,cAAe+B,gBAEhCA,eAAer2F,UAAU25F,UAAYpF,YAAYv0F,UAAU25F,UAE3DtD,eAAer2F,UAAU45F,qBAAuB,WAC9C,KAAOx5F,KAAKu1F,gBAAgB91F,QACZO,KAAKu1F,gBAAgBtV,MAC3Byc,kBAIZzG,eAAer2F,UAAU48F,mBAAqB,SAAU1xF,EAAS64B,GAC/D,IAAI07D,EAAgBv0F,EAAQgyF,iBAC5B,GAAKuC,EAAL,CAGA,IAAI3F,EAAQ15F,KAAKyoE,OAAO9kC,GACxB,GAAK+1D,EAAM4F,KAAQt/F,KAAKo2F,WAyBtBp2F,KAAKu/F,iBAAiBF,EAAe17D,QAxBrC,GAAI3jC,KAAKk2F,eACPl2F,KAAKu/F,iBAAiBF,EAAe17D,OAChC,CAKL,IAJA,IACI67D,EACAC,EAFAlgG,EAAI,EAIDA,EAAIokC,GACL3jC,KAAKsrC,SAAS/rC,KAA2B,IAArBS,KAAKsrC,SAAS/rC,IAAeS,KAAKsrC,SAAS/rC,GAAGu9F,iBACpE2C,EAAYz/F,KAAKsrC,SAAS/rC,GAE1BigG,GADgBx/F,KAAKyoE,OAAOlpE,GAAG+/F,IAAMt/F,KAAK0/F,wBAAwBngG,GAAKkgG,EAAU3C,mBAC/C0C,GAEpCjgG,GAAK,EAEHigG,EACG9F,EAAM4F,KAAQt/F,KAAKo2F,YACtBp2F,KAAK60F,aAAamI,aAAaqC,EAAeG,GAEtC9F,EAAM4F,KAAQt/F,KAAKo2F,YAC7Bp2F,KAAK60F,aAAa98D,YAAYsnE,MAQtCpJ,eAAer2F,UAAUm6F,YAAc,SAAU95E,GAC/C,OAAKjgB,KAAKo2F,WAGH,IAAIuJ,cAAc1/E,EAAMjgB,KAAKi2E,WAAYj2E,MAFvC,IAAIg8F,gBAAgB/7E,EAAMjgB,KAAKi2E,WAAYj2E,OAKtDi2F,eAAer2F,UAAUo6F,WAAa,SAAU/5E,GAC9C,OAAKjgB,KAAKo2F,WAGH,IAAIwJ,aAAa3/E,EAAMjgB,KAAKi2E,WAAYj2E,MAFtC,IAAIi8F,qBAAqBh8E,EAAMjgB,KAAKi2E,WAAYj2E,OAK3Di2F,eAAer2F,UAAUq6F,aAAe,SAAUh6E,GAEhD,OADAjgB,KAAKm2F,OAAS,IAAI0J,eAAe5/E,EAAMjgB,KAAKi2E,WAAYj2E,MACjDA,KAAKm2F,QAGdF,eAAer2F,UAAU+5F,YAAc,SAAU15E,GAC/C,OAAKjgB,KAAKo2F,WAGH,IAAI0J,cAAc7/E,EAAMjgB,KAAKi2E,WAAYj2E,MAFvC,IAAIk8F,cAAcj8E,EAAMjgB,KAAKi2E,WAAYj2E,OAKpDi2F,eAAer2F,UAAUg6F,WAAa,SAAU35E,GAC9C,OAAKjgB,KAAKo2F,WAGH,IAAI2J,aAAa9/E,EAAMjgB,KAAKi2E,WAAYj2E,MAFtC,IAAIm8F,eAAel8E,EAAMjgB,KAAKi2E,WAAYj2E,OAKrDi2F,eAAer2F,UAAUi6F,YAAc,SAAU55E,GAC/C,OAAKjgB,KAAKo2F,WAGH,IAAI4J,cAAc//E,EAAMjgB,KAAKi2E,WAAYj2E,MAFvC,IAAIo8F,cAAcn8E,EAAMjgB,KAAKi2E,WAAYj2E,OAKpDi2F,eAAer2F,UAAUk6F,WAAa3F,YAAYv0F,UAAUk6F,WAE5D7D,eAAer2F,UAAU8/F,wBAA0B,SAAU/7D,GAG3D,IAFA,IAAIpkC,EAAI,EACJouC,EAAM3tC,KAAKk2F,eAAez2F,OACvBF,EAAIouC,GAAK,CACd,GAAI3tC,KAAKk2F,eAAe32F,GAAG0gG,UAAYt8D,GAAO3jC,KAAKk2F,eAAe32F,GAAG2gG,QAAUv8D,EAC7E,OAAO3jC,KAAKk2F,eAAe32F,GAAG4gG,gBAEhC5gG,GAAK,EAEP,OAAO,MAGT02F,eAAer2F,UAAUwgG,sBAAwB,SAAUz8D,EAAK7nB,GAC9D,IACIhB,EACAyjF,EAFA4B,EAAkB/pC,UAAU,OAGhChD,SAAS+sC,GACT,IAAIj5F,EAAYkvD,UAAU,OAE1B,GADAhD,SAASlsD,GACI,OAAT4U,EAAe,EACjBhB,EAAQqlF,EAAgBrlF,OAClBlY,MAAQ5C,KAAKi2E,WAAW6lB,SAAStwF,EAAI,KAC3CsP,EAAMjY,OAAS7C,KAAKi2E,WAAW6lB,SAASrwF,EAAI,KAC5C,IAAIwqC,EAAS,UACbn7B,EAAMu4C,sBAAwBpd,EAC9Bn7B,EAAM0jF,mBAAqBvoD,EAC3Bn7B,EAAMC,gBAAkBk7B,EAExB,IAAI6rC,EAAS,6CADbyc,EAAiBr3F,EAAU4T,OAEZvN,UAAYu0E,EAC3Byc,EAAe8B,gBAAkBve,EAGnCqe,EAAgBpoE,YAAY7wB,GAE5B,IAAIo5F,EAAsB,CACxBp5F,UAAWA,EACXi5F,gBAAiBA,EACjBF,SAAUt8D,EACVu8D,OAAQv8D,EACR7nB,KAAMA,GAGR,OADA9b,KAAKk2F,eAAeh2E,KAAKogF,GAClBA,GAGTrK,eAAer2F,UAAU2gG,kBAAoB,WAC3C,IAAIhhG,EAEAihG,EADA7yD,EAAM3tC,KAAKyoE,OAAOhpE,OAElBghG,EAAmB,GACvB,IAAKlhG,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACpBS,KAAKyoE,OAAOlpE,GAAG+/F,KAA6B,IAAtBt/F,KAAKyoE,OAAOlpE,GAAGs5D,IACd,OAArB4nC,IACFA,EAAmB,KACnBD,EAA0BxgG,KAAKogG,sBAAsB7gG,EAAG,OAE1DihG,EAAwBN,OAASn3E,KAAKvhB,IAAIg5F,EAAwBN,OAAQ3gG,KAEjD,OAArBkhG,IACFA,EAAmB,KACnBD,EAA0BxgG,KAAKogG,sBAAsB7gG,EAAG,OAE1DihG,EAAwBN,OAASn3E,KAAKvhB,IAAIg5F,EAAwBN,OAAQ3gG,IAI9E,IAAKA,GADLouC,EAAM3tC,KAAKk2F,eAAez2F,QACX,EAAGF,GAAK,EAAGA,GAAK,EAC7BS,KAAK0gG,YAAY3oE,YAAY/3B,KAAKk2F,eAAe32F,GAAG4gG,kBAIxDlK,eAAer2F,UAAU2/F,iBAAmB,SAAUvpB,EAAMryC,GAG1D,IAFA,IAAIpkC,EAAI,EACJouC,EAAM3tC,KAAKk2F,eAAez2F,OACvBF,EAAIouC,GAAK,CACd,GAAIhK,GAAO3jC,KAAKk2F,eAAe32F,GAAG2gG,OAAQ,CAGxC,IAFA,IACInD,EADAnzE,EAAI5pB,KAAKk2F,eAAe32F,GAAG0gG,SAExBr2E,EAAI+Z,GACL3jC,KAAKsrC,SAAS1hB,IAAM5pB,KAAKsrC,SAAS1hB,GAAGkzE,iBACvCC,EAAc/8F,KAAKsrC,SAAS1hB,GAAGkzE,kBAEjClzE,GAAK,EAEHmzE,EACF/8F,KAAKk2F,eAAe32F,GAAG2H,UAAU81F,aAAahnB,EAAM+mB,GAEpD/8F,KAAKk2F,eAAe32F,GAAG2H,UAAU6wB,YAAYi+C,GAE/C,MAEFz2E,GAAK,IAIT02F,eAAer2F,UAAUy8F,gBAAkB,SAAUd,GACnD,IAAImF,EAActqC,UAAU,OACxBw/B,EAAU51F,KAAKo0F,cAAcwB,QAC7B96E,EAAQ4lF,EAAY5lF,MACxBA,EAAMlY,MAAQ24F,EAAS/vF,EAAI,KAC3BsP,EAAMjY,OAAS04F,EAAS9vF,EAAI,KAC5BzL,KAAK0gG,YAAcA,EACnBttC,SAASstC,GACT5lF,EAAM04C,eAAiB,OACvB14C,EAAM44C,kBAAoB,OAC1B54C,EAAM24C,qBAAuB,OACzBzzD,KAAK80F,aAAalxF,WACpB88F,EAAYlpE,aAAa,QAASx3B,KAAK80F,aAAalxF,WAEtDgyF,EAAQ79D,YAAY2oE,GAEpB5lF,EAAM2D,SAAW,SACjB,IAAIkiF,EAAMzqC,SAAS,OACnByqC,EAAInpE,aAAa,QAAS,KAC1BmpE,EAAInpE,aAAa,SAAU,KAC3B47B,SAASutC,GACT3gG,KAAK0gG,YAAY3oE,YAAY4oE,GAC7B,IAAI3wB,EAAO9Z,SAAS,QACpByqC,EAAI5oE,YAAYi4C,GAChBhwE,KAAKigB,KAAOs7E,EAEZv7F,KAAKs7F,gBAAgBC,EAAUoF,GAC/B3gG,KAAKi2E,WAAWjG,KAAOA,EACvBhwE,KAAKyoE,OAAS8yB,EAAS9yB,OACvBzoE,KAAK60F,aAAe70F,KAAK0gG,YACzB1gG,KAAKugG,oBACLvgG,KAAKu8F,uBAGPtG,eAAer2F,UAAUotC,QAAU,WAMjC,IAAIztC,EALAS,KAAKo0F,cAAcwB,UACrB51F,KAAKo0F,cAAcwB,QAAQ/nB,UAAY,IAEzC7tE,KAAKo0F,cAAcltF,UAAY,KAC/BlH,KAAKi2E,WAAWjG,KAAO,KAEvB,IAAIriC,EAAM3tC,KAAKyoE,OAASzoE,KAAKyoE,OAAOhpE,OAAS,EAC7C,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKsrC,SAAS/rC,GAAGytC,UAEnBhtC,KAAKsrC,SAAS7rC,OAAS,EACvBO,KAAKw1F,WAAY,EACjBx1F,KAAKo0F,cAAgB,MAGvB6B,eAAer2F,UAAU28F,oBAAsB,WAC7C,IAIIrkC,EACAC,EACAS,EACAC,EAPA8lC,EAAe3+F,KAAKo0F,cAAcwB,QAAQlvD,YAC1Ck4D,EAAgB5+F,KAAKo0F,cAAcwB,QAAQnvD,aAC3Co4D,EAAaF,EAAeC,EACb5+F,KAAKi2E,WAAW6lB,SAAStwF,EAAIxL,KAAKi2E,WAAW6lB,SAASrwF,EAKtDozF,GACjB3mC,EAAKymC,EAAgB3+F,KAAKi2E,WAAW6lB,SAAStwF,EAC9C2sD,EAAKwmC,EAAgB3+F,KAAKi2E,WAAW6lB,SAAStwF,EAC9CotD,EAAK,EACLC,GAAO+lC,EAAgB5+F,KAAKi2E,WAAW6lB,SAASrwF,GAAKkzF,EAAe3+F,KAAKi2E,WAAW6lB,SAAStwF,IAAM,IAEnG0sD,EAAK0mC,EAAiB5+F,KAAKi2E,WAAW6lB,SAASrwF,EAC/C0sD,EAAKymC,EAAiB5+F,KAAKi2E,WAAW6lB,SAASrwF,EAC/CmtD,GAAM+lC,EAAe3+F,KAAKi2E,WAAW6lB,SAAStwF,GAAKozF,EAAgB5+F,KAAKi2E,WAAW6lB,SAASrwF,IAAM,EAClGotD,EAAK,GAEP,IAAI/9C,EAAQ9a,KAAK0gG,YAAY5lF,MAC7BA,EAAMulF,gBAAkB,YAAcnoC,EAAK,YAAcC,EAAK,gBAAkBS,EAAK,IAAMC,EAAK,QAChG/9C,EAAMvN,UAAYuN,EAAMulF,iBAG1BpK,eAAer2F,UAAU+8F,YAAcxI,YAAYv0F,UAAU+8F,YAE7D1G,eAAer2F,UAAUwgD,KAAO,WAC9BpgD,KAAK0gG,YAAY5lF,MAAM3W,QAAU,QAGnC8xF,eAAer2F,UAAUo0B,KAAO,WAC9Bh0B,KAAK0gG,YAAY5lF,MAAM3W,QAAU,SAGnC8xF,eAAer2F,UAAU+6F,UAAY,WAEnC,GADA36F,KAAKq6F,gBACDr6F,KAAKm2F,OACPn2F,KAAKm2F,OAAOyK,YACP,CACL,IAEIrhG,EAFAshG,EAAS7gG,KAAKi2E,WAAW6lB,SAAStwF,EAClCs1F,EAAU9gG,KAAKi2E,WAAW6lB,SAASrwF,EAEnCkiC,EAAM3tC,KAAKk2F,eAAez2F,OAC9B,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAAG,CAC3B,IAAIub,EAAQ9a,KAAKk2F,eAAe32F,GAAG4gG,gBAAgBrlF,MACnDA,EAAMimF,kBAAoBh4E,KAAKspC,KAAKtpC,KAAKioC,IAAI6vC,EAAQ,GAAK93E,KAAKioC,IAAI8vC,EAAS,IAAM,KAClFhmF,EAAMuuB,YAAcvuB,EAAMimF,qBAKhC9K,eAAer2F,UAAUs7F,wBAA0B,SAAU3wB,GAC3D,IAAIhrE,EACAouC,EAAM48B,EAAO9qE,OACbuhG,EAAoB5qC,UAAU,OAClC,IAAK72D,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB,GAAIgrE,EAAOhrE,GAAG47F,GAAI,CAChB,IAAI5lB,EAAOv1E,KAAK45F,WAAWrvB,EAAOhrE,GAAIyhG,EAAmBhhG,KAAKi2E,WAAWV,KAAM,MAC/EA,EAAK6lB,kBACLp7F,KAAKi2E,WAAWykB,iBAAiBW,oBAAoB9lB,KAmJ3D8gB,YAAYz2F,UAAUwsF,gBAAkB,SAAUzoD,GAChD,OAAO3jC,KAAKs2F,SAAS3yD,GAAK4yB,MAG5B8/B,YAAYz2F,UAAU+8F,YAAc,SAAUsE,GAC5C,IACI1hG,EADA2hG,EAAWlhG,KAAK8K,QAAQq2F,eAAeppB,IAEvCpqC,EAAM3tC,KAAKmpE,gBAAgB1pE,OAC/B,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAOxB,IANIS,KAAKs2F,SAAS/2F,GAAGg3D,KAAKI,MAAQsqC,IAChCjhG,KAAKu3F,SAASv3F,KAAKmpE,gBAAgB5pE,GAAIS,KAAKs2F,SAAS/2F,GAAGg3D,KAAKhhB,EAAGv1C,KAAKs2F,SAAS/2F,KAE5ES,KAAKs2F,SAAS/2F,GAAG+jF,GAAG3sB,MAAQsqC,IAC9BjhG,KAAKs2F,SAAS/2F,GAAGy2E,KAAKx+C,aAAa,eAAgBx3B,KAAKs2F,SAAS/2F,GAAG+jF,GAAG/tC,GAEpC,MAAjCv1C,KAAKmpE,gBAAgB5pE,GAAG2sD,OACtBlsD,KAAKs2F,SAAS/2F,GAAG+3F,UAAYt3F,KAAK8K,QAAQq2F,eAAeC,MAAMzqC,MAAQsqC,IACzEjhG,KAAKs2F,SAAS/2F,GAAG+3F,QAAQ9/D,aAAa,YAAa0pE,EAASvlC,mBAAmBsB,WAE7Ej9D,KAAK4jE,WAAWrkE,GAAGsN,IAAM7M,KAAK4jE,WAAWrkE,GAAGsN,EAAE8pD,MAAQsqC,IAAe,CACvE,IAAIxK,EAAUz2F,KAAK4jE,WAAWrkE,GAAG03F,MAC7Bj3F,KAAK4jE,WAAWrkE,GAAGsN,EAAE0oC,EAAI,GACa,UAApCv1C,KAAK4jE,WAAWrkE,GAAG23F,eACrBl3F,KAAK4jE,WAAWrkE,GAAG23F,aAAe,QAClCl3F,KAAK4jE,WAAWrkE,GAAGy2E,KAAKx+C,aAAa,SAAU,OAASk6B,aAAe,IAAM1xD,KAAK4jE,WAAWrkE,GAAG43F,SAAW,MAE7GV,EAAQj/D,aAAa,UAAWx3B,KAAK4jE,WAAWrkE,GAAGsN,EAAE0oC,KAEb,WAApCv1C,KAAK4jE,WAAWrkE,GAAG23F,eACrBl3F,KAAK4jE,WAAWrkE,GAAG23F,aAAe,SAClCl3F,KAAK4jE,WAAWrkE,GAAGy2E,KAAKx+C,aAAa,SAAU,OAEjDx3B,KAAK4jE,WAAWrkE,GAAGy2E,KAAKx+C,aAAa,eAAyC,EAAzBx3B,KAAK4jE,WAAWrkE,GAAGsN,EAAE0oC,MAOpF8gD,YAAYz2F,UAAUyhG,eAAiB,WACrC,OAAOrhG,KAAK40F,aAGdyB,YAAYz2F,UAAUy3F,qBAAuB,WAC3C,IAAIjuF,EAAO,QAKX,OAJAA,GAAQ,KAAOpJ,KAAKi2E,WAAW6lB,SAAStwF,EACxCpC,GAAQ,KAAOpJ,KAAKi2E,WAAW6lB,SAASrwF,EACxCrC,GAAQ,MAAQpJ,KAAKi2E,WAAW6lB,SAAStwF,EACzCpC,GAAQ,MAAQpJ,KAAKi2E,WAAW6lB,SAASrwF,EAAI,KAI/C4qF,YAAYz2F,UAAU23F,SAAW,SAAU7sB,EAAUsZ,EAAWsS,GAC9D,IACI/2F,EACAouC,EAFA2zD,EAAa,KAAOtd,EAAUzuC,EAAE,GAAG,GAAK,IAAMyuC,EAAUzuC,EAAE,GAAG,GAIjE,IADA5H,EAAMq2C,EAAUpf,QACXrlE,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAExB+hG,GAAc,KAAOtd,EAAUtrB,EAAEn5D,EAAI,GAAG,GAAK,IAAMykF,EAAUtrB,EAAEn5D,EAAI,GAAG,GAAK,IAAMykF,EAAUzkF,EAAEA,GAAG,GAAK,IAAMykF,EAAUzkF,EAAEA,GAAG,GAAK,IAAMykF,EAAUzuC,EAAEh2C,GAAG,GAAK,IAAMykF,EAAUzuC,EAAEh2C,GAAG,GAQhL,GALIykF,EAAU1/B,GAAK3W,EAAM,IACvB2zD,GAAc,KAAOtd,EAAUtrB,EAAEn5D,EAAI,GAAG,GAAK,IAAMykF,EAAUtrB,EAAEn5D,EAAI,GAAG,GAAK,IAAMykF,EAAUzkF,EAAE,GAAG,GAAK,IAAMykF,EAAUzkF,EAAE,GAAG,GAAK,IAAMykF,EAAUzuC,EAAE,GAAG,GAAK,IAAMyuC,EAAUzuC,EAAE,GAAG,IAI5K+gD,EAASS,WAAauK,EAAY,CACpC,IAAIC,EAAiB,GACjBjL,EAAStgB,OACPgO,EAAU1/B,IACZi9C,EAAiB72B,EAASsX,IAAMhiF,KAAKu2F,UAAY+K,EAAaA,GAEhEhL,EAAStgB,KAAKx+C,aAAa,IAAK+pE,IAElCjL,EAASS,SAAWuK,IAIxBjL,YAAYz2F,UAAUotC,QAAU,WAC9BhtC,KAAK8K,QAAU,KACf9K,KAAKi2E,WAAa,KAClBj2E,KAAK40F,YAAc,KACnB50F,KAAKigB,KAAO,KACZjgB,KAAKmpE,gBAAkB,MAWzBuuB,iBAAiB93F,UAAY,CAM3B4hG,cAAe,WAEbxhG,KAAK86F,UAAY,GAEjB96F,KAAKyhG,WAAY,EACjBzhG,KAAK08F,kBASP1B,aAAc,SAAUF,GACtB96F,KAAK86F,UAAYA,GAOnBC,YAAa,WACX/6F,KAAKyhG,WAAY,GAOnB/E,eAAgB,gBACWr5F,IAArBrD,KAAKigB,KAAK8K,QACZ/qB,KAAKu1E,KAAKqlB,sBAAsB56F,KAAMA,KAAKigB,KAAK8K,OAAQ,MAc9D4sE,aAAa/3F,UAAY,CAMvB4xE,UAAW,WAETxxE,KAAKq2E,eAAgB,EAErBr2E,KAAKw2D,kBAAoB,GAEzBx2D,KAAK22D,MAAO,GAYd+qC,kBAAmB,SAAUrI,EAAKsI,GAChC,IAAIpiG,EACAouC,EAAM3tC,KAAKw2D,kBAAkB/2D,OACjC,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,GACpBoiG,GAAc3hG,KAAKyhG,WAAoD,cAAvCzhG,KAAKw2D,kBAAkBj3D,GAAGuyE,YAC5D9xE,KAAKw2D,kBAAkBj3D,GAAGq3D,WACtB52D,KAAKw2D,kBAAkBj3D,GAAGo3D,OAC5B32D,KAAKi2E,WAAWtf,MAAO,EACvB32D,KAAK22D,MAAO,KAKpBL,mBAAoB,SAAUC,IACkB,IAA1Cv2D,KAAKw2D,kBAAkBn2D,QAAQk2D,IACjCv2D,KAAKw2D,kBAAkBt2C,KAAKq2C,KASlCqhC,iBAAiBh4F,UAAY,CAC3BgiG,cAAe,WACb5hG,KAAKmhG,eAAiB,CACpBC,MAAOphG,KAAKigB,KAAK0pD,GAAKuN,yBAAyBuB,qBAAqBz4E,KAAMA,KAAKigB,KAAK0pD,GAAI3pE,MAAQ,CAAE04D,EAAG,GACrGmpC,SAAS,EACTC,QAAQ,EACR/pB,IAAK,IAAI7gB,QAEPl3D,KAAKigB,KAAK8hF,KACZ/hG,KAAKmhG,eAAeC,MAAMjpB,cAAe,GAIvCn4E,KAAKigB,KAAK44C,IAIhBmpC,gBAAiB,WAIf,GAHAhiG,KAAKmhG,eAAeW,OAAS9hG,KAAKmhG,eAAeC,MAAM1oC,EAAE/B,MAAQ32D,KAAKq2E,cACtEr2E,KAAKmhG,eAAeU,QAAU7hG,KAAKmhG,eAAeC,MAAMzqC,MAAQ32D,KAAKq2E,cAEjEr2E,KAAK86F,UAAW,CAClB,IAAI/iB,EACAmpB,EAAWlhG,KAAKmhG,eAAeppB,IAC/Bx4E,EAAI,EACJouC,EAAM3tC,KAAK86F,UAAUr7F,OAEzB,IAAKO,KAAKmhG,eAAeU,QACvB,KAAOtiG,EAAIouC,GAAK,CACd,GAAI3tC,KAAK86F,UAAUv7F,GAAG4hG,eAAeC,MAAMzqC,KAAM,CAC/C32D,KAAKmhG,eAAeU,SAAU,EAC9B,MAEFtiG,GAAK,EAIT,GAAIS,KAAKmhG,eAAeU,QAGtB,IAFA9pB,EAAM/3E,KAAKmhG,eAAeC,MAAM7rD,EAAEh1C,MAClC2gG,EAAS7lC,eAAe0c,GACnBx4E,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBw4E,EAAM/3E,KAAK86F,UAAUv7F,GAAG4hG,eAAeC,MAAM7rD,EAAEh1C,MAC/C2gG,EAAS3zF,UAAUwqE,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAAKA,EAAI,IAAKA,EAAI,IAAKA,EAAI,IAAKA,EAAI,IAAKA,EAAI,OAK5JkqB,cAAe,SAAUlmC,GACvB,IAAI9hB,EAAa,GACjBA,EAAW/5B,KAAKlgB,KAAKmhG,gBAGrB,IAFA,IAYI5hG,EAZA4zD,GAAO,EACPoiB,EAAOv1E,KAAKu1E,KACTpiB,GACDoiB,EAAK4rB,gBACH5rB,EAAKt1D,KAAKgpD,SACZhvB,EAAW90B,OAAO,EAAG,EAAGowD,EAAK4rB,gBAE/B5rB,EAAOA,EAAKA,MAEZpiB,GAAO,EAIX,IACI+uC,EADAv0D,EAAMsM,EAAWx6C,OAErB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB2iG,EAAQjoD,EAAW16C,GAAGw4E,IAAI/b,kBAAkB,EAAG,EAAG,GAElDD,EAAK,CAACA,EAAG,GAAKmmC,EAAM,GAAInmC,EAAG,GAAKmmC,EAAM,GAAI,GAE5C,OAAOnmC,GAETkxB,QAAS,IAAI/1B,QAOf2gC,kBAAkBj4F,UAAY,CAC5BuiG,eAAgB,WAEdniG,KAAKoiG,WAAY,EAEjBpiG,KAAKqiG,QAAS,EAEdriG,KAAKsiG,eAAgB,EAErBtiG,KAAKuiG,qBAAuB,IAE9B9K,uBAAwB,SAAU+K,IACsB,IAAlDxiG,KAAKuiG,qBAAqBliG,QAAQmiG,IACpCxiG,KAAKuiG,qBAAqBriF,KAAKsiF,IAGnCC,0BAA2B,SAAUD,IACmB,IAAlDxiG,KAAKuiG,qBAAqBliG,QAAQmiG,IACpCxiG,KAAKuiG,qBAAqBp9E,OAAOnlB,KAAKuiG,qBAAqBliG,QAAQmiG,GAAY,IAGnFE,uBAAwB,SAAUrJ,GAChCr5F,KAAK2iG,iBAAiBtJ,IAExBuJ,kBAAmB,WACb5iG,KAAKmhG,eAAeC,MAAM1oC,EAAEnjB,GAAK,GAC9Bv1C,KAAKsiG,eAAiBtiG,KAAKi2E,WAAW6e,aAAaK,oBACtDn1F,KAAKsiG,eAAgB,EACrBtiG,KAAKogD,QAEEpgD,KAAKsiG,gBACdtiG,KAAKsiG,eAAgB,EACrBtiG,KAAKg0B,SAWT2uE,iBAAkB,SAAUtJ,GACtBr5F,KAAKigB,KAAKq5E,GAAKt5F,KAAKigB,KAAK62D,IAAMuiB,GAAOr5F,KAAKigB,KAAKqjE,GAAKtjF,KAAKigB,KAAK62D,GAAKuiB,GAC/C,IAAnBr5F,KAAKoiG,YACPpiG,KAAKi2E,WAAWtf,MAAO,EACvB32D,KAAK22D,MAAO,EACZ32D,KAAKoiG,WAAY,EACjBpiG,KAAKg0B,SAEqB,IAAnBh0B,KAAKoiG,YACdpiG,KAAKi2E,WAAWtf,MAAO,EACvB32D,KAAKoiG,WAAY,EACjBpiG,KAAKogD,SAGTyiD,iBAAkB,WAChB,IAAItjG,EACAouC,EAAM3tC,KAAKuiG,qBAAqB9iG,OACpC,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKuiG,qBAAqBhjG,GAAGo9F,YAAY38F,KAAKq2E,gBAKlDysB,iBAAkB,WAChB,MAAO,CACLpkF,IAAK,EACLC,KAAM,EACN/b,MAAO,IACPC,OAAQ,MAGZkgG,aAAc,WACZ,OAAqB,IAAjB/iG,KAAKigB,KAAK44C,GACL,CAAErtD,EAAGxL,KAAKigB,KAAKgpE,SAASrmF,MAAO6I,EAAGzL,KAAKigB,KAAKgpE,SAASpmF,QAEvD,CAAE2I,EAAGxL,KAAKigB,KAAKrd,MAAO6I,EAAGzL,KAAKigB,KAAKpd,UAiE5Cg/D,gBAAgB,CAACg2B,kBAAmB31B,oBAxDnB,CACf8gC,YAAa,SAAU/iF,EAAMg2D,EAAYV,GACvCv1E,KAAKwxE,YACLxxE,KAAKijG,aAAahjF,EAAMg2D,EAAYV,GACpCv1E,KAAK4hG,cAAc3hF,EAAMg2D,EAAYV,GACrCv1E,KAAKwhG,gBACLxhG,KAAKmiG,iBACLniG,KAAKkjG,sBACLljG,KAAKmjG,0BACLnjG,KAAKojG,6BACLpjG,KAAKqjG,gBACLrjG,KAAKogD,QAEPA,KAAM,WACCpgD,KAAKqiG,QAAYriG,KAAKoiG,YAAapiG,KAAKsiG,iBAChCtiG,KAAKsjG,aAAetjG,KAAK60F,cAC/B/5E,MAAM3W,QAAU,OACrBnE,KAAKqiG,QAAS,IAGlBruE,KAAM,WACAh0B,KAAKoiG,YAAcpiG,KAAKsiG,gBACrBtiG,KAAKigB,KAAKk4E,MACFn4F,KAAKsjG,aAAetjG,KAAK60F,cAC/B/5E,MAAM3W,QAAU,SAEvBnE,KAAKqiG,QAAS,EACdriG,KAAKq2E,eAAgB,IAGzBsmB,YAAa,WAGP38F,KAAKigB,KAAKk4E,IAAMn4F,KAAKqiG,SAGzBriG,KAAKgiG,kBACLhiG,KAAK6iG,mBACL7iG,KAAKujG,gBACLvjG,KAAKwjG,qBACDxjG,KAAKq2E,gBACPr2E,KAAKq2E,eAAgB,KAGzBmtB,mBAAoB,aACpB3G,aAAc,SAAUxD,GACtBr5F,KAAK22D,MAAO,EACZ32D,KAAK0iG,uBAAuBrJ,GAC5Br5F,KAAK0hG,kBAAkBrI,EAAKr5F,KAAKoiG,WACjCpiG,KAAK4iG,qBAEP51D,QAAS,WACPhtC,KAAKyjG,UAAY,KACjBzjG,KAAK0jG,yBAG6D5L,sBAuBxEE,aAAap4F,UAAUgtC,MAAQ,WAC7B5sC,KAAK4F,EAAI,GACT5F,KAAK22D,MAAO,GA0Bd2hC,aAAa14F,UAAU8+E,cAAgB,WACrC1+E,KAAKy2D,aAAc,GA4BrBoL,gBAAgB,CAACxL,0BAA2BsiC,oBAY5C92B,gBAAgB,CAACxL,0BAA2BwiC,kBAW5CC,yBAAyBl5F,UAAUm5F,iBAAmB,SAAU/iB,EAAM/1D,EAAM24E,GAC1E54F,KAAK04D,EAAI6Y,gBAAgB0F,QAAQjB,EAAM/1D,EAAKy4C,EAAG,EAAG,IAAM14D,MACxDA,KAAKif,EAAIsyD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKhB,EAAG,EAAG,KAAMjf,MACxDA,KAAKqf,EAAIkyD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKZ,EAAG,EAAG,KAAMrf,MACxDA,KAAKyL,EAAI8lE,gBAAgB0F,QAAQjB,EAAM/1D,EAAKxU,GAAK,CAAEk+C,EAAG,GAAK,EAAG,IAAM3pD,MACpEA,KAAKyf,EAAI8xD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKR,GAAK,CAAEkqC,EAAG,GAAK,EAAGoJ,UAAW/yD,MACzEA,KAAK80D,EAAI,IAAIkpB,iBAAiBhI,EAAM/1D,EAAK60C,EAAG90D,MAC5CA,KAAK8a,MAAQ89E,EACb54F,KAAK2jG,MAAQ,GACb3jG,KAAK4jG,gBAAgBhL,EAAQR,MAAOn4E,GACpCjgB,KAAK6jG,mBAAmB5jF,EAAM24E,GAC9B54F,KAAKy2D,cAAgBz2D,KAAKy2D,aAG5BqiC,yBAAyBl5F,UAAUgkG,gBAAkB,SAAUE,EAAa7jF,GAC1E,IAAI8jF,EAAapvC,kBACbqvC,EAAQ9tC,SAAoB,IAAXj2C,EAAKjB,EAAU,iBAAmB,kBACvDglF,EAAMxsE,aAAa,KAAMusE,GACzBC,EAAMxsE,aAAa,eAAgB,OACnCwsE,EAAMxsE,aAAa,gBAAiB,kBACpC,IACIysE,EACAr6E,EACAg/C,EAHA+6B,EAAQ,GAKZ,IADA/6B,EAAkB,EAAX3oD,EAAK60C,EAAE31C,EACTyK,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EACzBq6E,EAAO/tC,SAAS,QAChB8tC,EAAMjsE,YAAYksE,GAClBN,EAAMzjF,KAAK+jF,GAEbH,EAAYtsE,aAAyB,OAAZvX,EAAK44C,GAAc,OAAS,SAAU,OAASnH,aAAe,IAAMqyC,EAAa,KAC1G/jG,KAAKkkG,GAAKF,EACVhkG,KAAKmkG,IAAMR,GAGb7K,yBAAyBl5F,UAAUikG,mBAAqB,SAAU5jF,EAAM24E,GACtE,GAAI54F,KAAK80D,EAAEwpB,cAAgBt+E,KAAK80D,EAAEspB,aAAc,CAC9C,IAAI6lB,EACAr6E,EACAg/C,EACAtL,EAAOpH,SAAS,QAChB0+B,EAAc1+B,SAAS,QAC3BoH,EAAKvlC,YAAY68D,GACjB,IAAIwP,EAAYzvC,kBACZ2nC,EAAS3nC,kBACb2I,EAAK9lC,aAAa,KAAM8kE,GACxB,IAAI+H,EAASnuC,SAAoB,IAAXj2C,EAAKjB,EAAU,iBAAmB,kBACxDqlF,EAAO7sE,aAAa,KAAM4sE,GAC1BC,EAAO7sE,aAAa,eAAgB,OACpC6sE,EAAO7sE,aAAa,gBAAiB,kBACrCoxC,EAAO3oD,EAAK60C,EAAEnL,EAAEA,EAAE,GAAG1qC,EAAIgB,EAAK60C,EAAEnL,EAAEA,EAAE,GAAG1qC,EAAExf,OAASwgB,EAAK60C,EAAEnL,EAAEA,EAAElqD,OAC7D,IAAIkkG,EAAQ3jG,KAAK2jG,MACjB,IAAK/5E,EAAe,EAAX3J,EAAK60C,EAAE31C,EAAOyK,EAAIg/C,EAAMh/C,GAAK,GACpCq6E,EAAO/tC,SAAS,SACX1+B,aAAa,aAAc,oBAChC6sE,EAAOtsE,YAAYksE,GACnBN,EAAMzjF,KAAK+jF,GAEbrP,EAAYp9D,aAAyB,OAAZvX,EAAK44C,GAAc,OAAS,SAAU,OAASnH,aAAe,IAAM0yC,EAAY,KACzF,OAAZnkF,EAAK44C,KACP+7B,EAAYp9D,aAAa,iBAAkBw/B,YAAY/2C,EAAKqkF,IAAM,IAClE1P,EAAYp9D,aAAa,kBAAmBy/B,aAAah3C,EAAKskF,IAAM,IACpD,IAAZtkF,EAAKskF,IACP3P,EAAYp9D,aAAa,oBAAqBvX,EAAKukF,KAGvDxkG,KAAKsrF,GAAK+Y,EACVrkG,KAAK4wD,GAAK0M,EACVt9D,KAAKykG,IAAMd,EACX3jG,KAAKs8F,OAASA,EACd1D,EAAQP,OAASzD,IAIrB/yB,gBAAgB,CAACxL,0BAA2ByiC,0BAa5Cj3B,gBAAgB,CAACi3B,yBAA0BziC,0BAA2B2iC,4BActE,IAAI0L,oBAAuB,WACzB,IAAIC,EAAkB,IAAIztC,OACtB0tC,EAAgB,IAAI1tC,OA4BxB,SAAS2tC,EAAuBC,EAAWC,EAAU9D,IAC/CA,GAAgB8D,EAASx3F,UAAU+1E,GAAG3sB,OACxCouC,EAASx3F,UAAUrG,UAAUswB,aAAa,UAAWutE,EAASx3F,UAAU+1E,GAAG/tC,IAEzE0rD,GAAgB8D,EAASx3F,UAAUs2E,OAAOltB,OAC5CouC,EAASx3F,UAAUrG,UAAUswB,aAAa,YAAautE,EAASx3F,UAAUs2E,OAAOtuC,EAAE0nB,WAIvF,SAAS+nC,EAAWF,EAAWC,EAAU9D,GACvC,IAAIr3E,EACAg/C,EACAq8B,EACAC,EACAlhB,EACAr6D,EAGAghD,EACAoN,EACAx3E,EACA4kG,EACAx7C,EANAy7C,EAAOL,EAAS1/F,OAAO5F,OACvBy4F,EAAM6M,EAAS7M,IAMnB,IAAKvuE,EAAI,EAAGA,EAAIy7E,EAAMz7E,GAAK,EAAG,CAE5B,GADAu7E,EAASH,EAASvxB,GAAG7c,MAAQsqC,EACzB8D,EAAS1/F,OAAOskB,GAAGuuE,IAAMA,EAAK,CAIhC,IAHAngB,EAAM6sB,EAAch4D,QACpBu4D,EAAajN,EAAM6M,EAAS1/F,OAAOskB,GAAGuuE,IACtCvuC,EAAIo7C,EAASxM,aAAa94F,OAAS,GAC3BylG,GAAUC,EAAa,GAC7BD,EAASH,EAASxM,aAAa5uC,GAAGk6B,OAAOltB,MAAQuuC,EACjDC,GAAc,EACdx7C,GAAK,EAEP,GAAIu7C,EAGF,IAFAC,EAAajN,EAAM6M,EAAS1/F,OAAOskB,GAAGuuE,IACtCvuC,EAAIo7C,EAASxM,aAAa94F,OAAS,EAC5B0lG,EAAa,GAClB5kG,EAAQwkG,EAASxM,aAAa5uC,GAAGk6B,OAAOtuC,EAAEh1C,MAC1Cw3E,EAAIxqE,UAAUhN,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,IAAKA,EAAM,IAAKA,EAAM,IAAKA,EAAM,IAAKA,EAAM,IAAKA,EAAM,KAC/K4kG,GAAc,EACdx7C,GAAK,OAITouB,EAAM4sB,EAIR,GADA/7B,GADA+B,EAAQo6B,EAASvxB,GAAG7I,OACP/F,QACTsgC,EAAQ,CAEV,IADAD,EAAwB,GACnBr7E,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,GACzBo6D,EAAYrZ,EAAMnB,OAAO5/C,KACRo6D,EAAUpf,UACzBqgC,GAAyBlhB,iBAAiBC,EAAWA,EAAUpf,QAASof,EAAU1/B,EAAGyzB,IAGzFgtB,EAASvM,OAAO7uE,GAAKs7E,OAErBA,EAAwBF,EAASvM,OAAO7uE,GAE1Co7E,EAAS1/F,OAAOskB,GAAG/jB,IAAsB,IAAjBk/F,EAAU3M,GAAc,GAAK8M,EACrDF,EAAS1/F,OAAOskB,GAAGgtC,KAAOuuC,GAAUH,EAAS1/F,OAAOskB,GAAGgtC,MAI3D,SAAS0uC,EAAWP,EAAWC,EAAU9D,GACvC,IAAIqE,EAAYP,EAASjqF,OAErBiqF,EAASzgD,EAAEqS,MAAQsqC,IACrBqE,EAAUlN,MAAM5gE,aAAa,OAAQ,OAAS86B,QAAQyyC,EAASzgD,EAAE/O,EAAE,IAAM,IAAM+c,QAAQyyC,EAASzgD,EAAE/O,EAAE,IAAM,IAAM+c,QAAQyyC,EAASzgD,EAAE/O,EAAE,IAAM,MAEzIwvD,EAASrsC,EAAE/B,MAAQsqC,IACrBqE,EAAUlN,MAAM5gE,aAAa,eAAgButE,EAASrsC,EAAEnjB,GAI5D,SAASgwD,EAAqBT,EAAWC,EAAU9D,GACjDuE,EAAeV,EAAWC,EAAU9D,GACpCwE,EAAaX,EAAWC,EAAU9D,GAGpC,SAASuE,EAAeV,EAAWC,EAAU9D,GAC3C,IAmBI0C,EACApkG,EACAouC,EACAs2D,EAqCEloB,EA3DFioB,EAAQe,EAASb,GACjBwB,EAAaX,EAASjwC,EAAEwpB,YACxBjiB,EAAM0oC,EAAS9lF,EAAEs2B,EACjB+mB,EAAMyoC,EAAS1lF,EAAEk2B,EAErB,GAAIwvD,EAASrsC,EAAE/B,MAAQsqC,EAAc,CACnC,IAAIjiE,EAAwB,OAAjB8lE,EAAUjsC,GAAc,eAAiB,iBACpDksC,EAASjqF,MAAMs9E,MAAM5gE,aAAawH,EAAM+lE,EAASrsC,EAAEnjB,GAErD,GAAIwvD,EAAS9lF,EAAE03C,MAAQsqC,EAAc,CACnC,IAAI0E,EAAwB,IAAhBb,EAAU9lF,EAAU,KAAO,KACnC4mF,EAAkB,OAAVD,EAAiB,KAAO,KACpC3B,EAAMxsE,aAAamuE,EAAOtpC,EAAI,IAC9B2nC,EAAMxsE,aAAaouE,EAAOvpC,EAAI,IAC1BqpC,IAAeX,EAASjwC,EAAEspB,eAC5B2mB,EAASzZ,GAAG9zD,aAAamuE,EAAOtpC,EAAI,IACpC0oC,EAASzZ,GAAG9zD,aAAaouE,EAAOvpC,EAAI,KAOxC,GAAI0oC,EAASjwC,EAAEopB,OAAS+iB,EAAc,CACpC0C,EAAQoB,EAASZ,IACjB,IAAI0B,EAAUd,EAASjwC,EAAExQ,EAEzB,IADA3W,EAAMg2D,EAAMlkG,OACPF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,GACxB0kG,EAAON,EAAMpkG,IACRi4B,aAAa,SAAUquE,EAAY,EAAJtmG,GAAS,KAC7C0kG,EAAKzsE,aAAa,aAAc,OAASquE,EAAY,EAAJtmG,EAAQ,GAAK,IAAMsmG,EAAY,EAAJtmG,EAAQ,GAAK,IAAMsmG,EAAY,EAAJtmG,EAAQ,GAAK,KAGxH,GAAImmG,IAAeX,EAASjwC,EAAEqpB,OAAS8iB,GAAe,CACpD,IAAI6E,EAAUf,EAASjwC,EAAE4D,EAOzB,IADA/qB,GAJEg2D,EADEoB,EAASjwC,EAAEspB,aACL2mB,EAASZ,IAETY,EAASN,KAEPhlG,OACPF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB0kG,EAAON,EAAMpkG,GACRwlG,EAASjwC,EAAEspB,cACd6lB,EAAKzsE,aAAa,SAAUsuE,EAAY,EAAJvmG,GAAS,KAE/C0kG,EAAKzsE,aAAa,eAAgBsuE,EAAY,EAAJvmG,EAAQ,IAGtD,GAAoB,IAAhBulG,EAAU9lF,GACR+lF,EAAS1lF,EAAEs3C,MAAQsqC,KACrB+C,EAAMxsE,aAAa,KAAM8kC,EAAI,IAC7B0nC,EAAMxsE,aAAa,KAAM8kC,EAAI,IACzBopC,IAAeX,EAASjwC,EAAEspB,eAC5B2mB,EAASzZ,GAAG9zD,aAAa,KAAM8kC,EAAI,IACnCyoC,EAASzZ,GAAG9zD,aAAa,KAAM8kC,EAAI,WAYvC,IAPIyoC,EAAS9lF,EAAE03C,MAAQouC,EAAS1lF,EAAEs3C,MAAQsqC,KACxCllB,EAAMhzD,KAAKspC,KAAKtpC,KAAKioC,IAAIqL,EAAI,GAAKC,EAAI,GAAI,GAAKvzC,KAAKioC,IAAIqL,EAAI,GAAKC,EAAI,GAAI,IACzE0nC,EAAMxsE,aAAa,IAAKukD,GACpB2pB,IAAeX,EAASjwC,EAAEspB,cAC5B2mB,EAASzZ,GAAG9zD,aAAa,IAAKukD,IAG9BgpB,EAAS1lF,EAAEs3C,MAAQouC,EAASt5F,EAAEkrD,MAAQouC,EAAStlF,EAAEk3C,MAAQsqC,EAAc,CACpEllB,IACHA,EAAMhzD,KAAKspC,KAAKtpC,KAAKioC,IAAIqL,EAAI,GAAKC,EAAI,GAAI,GAAKvzC,KAAKioC,IAAIqL,EAAI,GAAKC,EAAI,GAAI,KAE3E,IAAIypC,EAAMh9E,KAAKgrD,MAAMzX,EAAI,GAAKD,EAAI,GAAIC,EAAI,GAAKD,EAAI,IAE/CiK,EAAUy+B,EAASt5F,EAAE8pC,EACrB+wB,GAAW,EACbA,EAAU,IACDA,IAAY,IACrBA,GAAW,KAEb,IAAI0/B,EAAOjqB,EAAMzV,EACbz5D,EAAIkc,KAAKquC,IAAI2uC,EAAMhB,EAAStlF,EAAE81B,GAAKywD,EAAO3pC,EAAI,GAC9CvvD,EAAIic,KAAKuuC,IAAIyuC,EAAMhB,EAAStlF,EAAE81B,GAAKywD,EAAO3pC,EAAI,GAClD2nC,EAAMxsE,aAAa,KAAM3qB,GACzBm3F,EAAMxsE,aAAa,KAAM1qB,GACrB44F,IAAeX,EAASjwC,EAAEspB,eAC5B2mB,EAASzZ,GAAG9zD,aAAa,KAAM3qB,GAC/Bk4F,EAASzZ,GAAG9zD,aAAa,KAAM1qB,KAOvC,SAAS24F,EAAaX,EAAWC,EAAU9D,GACzC,IAAIqE,EAAYP,EAASjqF,MACrBlV,EAAIm/F,EAASn/F,EACbA,IAAMA,EAAE+wD,MAAQsqC,IAAiBr7F,EAAEi4E,UACrCynB,EAAUlN,MAAM5gE,aAAa,mBAAoB5xB,EAAEi4E,SACnDynB,EAAUlN,MAAM5gE,aAAa,oBAAqB5xB,EAAEm4E,WAAW,KAE7DgnB,EAASzgD,IAAMygD,EAASzgD,EAAEqS,MAAQsqC,IACpCqE,EAAUlN,MAAM5gE,aAAa,SAAU,OAAS86B,QAAQyyC,EAASzgD,EAAE/O,EAAE,IAAM,IAAM+c,QAAQyyC,EAASzgD,EAAE/O,EAAE,IAAM,IAAM+c,QAAQyyC,EAASzgD,EAAE/O,EAAE,IAAM,MAE3IwvD,EAASrsC,EAAE/B,MAAQsqC,IACrBqE,EAAUlN,MAAM5gE,aAAa,iBAAkButE,EAASrsC,EAAEnjB,IAExDwvD,EAASv5F,EAAEmrD,MAAQsqC,KACrBqE,EAAUlN,MAAM5gE,aAAa,eAAgButE,EAASv5F,EAAE+pC,GACpD+vD,EAAUjN,QACZiN,EAAUjN,OAAO7gE,aAAa,eAAgButE,EAASv5F,EAAE+pC,IAK/D,MA/NS,CACP0wD,qBAGF,SAA8BhmF,GAC5B,OAAQA,EAAK44C,IACX,IAAK,KACH,OAAOwsC,EACT,IAAK,KACH,OAAOG,EACT,IAAK,KACH,OAAOD,EACT,IAAK,KACH,OAAOE,EACT,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACH,OAAOT,EACT,IAAK,KACH,OAAOH,EACT,QACE,OAAO,QA1BY,GAwO3B,SAASqB,wBACPlmG,KAAKmmG,UAAY,GACjBnmG,KAAKomG,aAAe,GACpBpmG,KAAKqmG,oBAAsB,EA2D7B,SAASC,YAAYx7F,EAASmV,EAAM5a,EAAQkhG,GAC1CvmG,KAAKwmG,aAAe,GACpBxmG,KAAKuhF,GAAK,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAC1B,IASIhiF,EATAs5D,EAAK,EACO,OAAZ54C,EAAK44C,GACPA,EAAK,EACgB,OAAZ54C,EAAK44C,GACdA,EAAK,EACgB,OAAZ54C,EAAK44C,KACdA,EAAK,GAEP74D,KAAKwzE,GAAKqG,qBAAqBid,aAAahsF,EAASmV,EAAM44C,EAAI/tD,GAE/D,IACI27F,EADA94D,EAAMtoC,EAAO5F,OAEjB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACnB8F,EAAO9F,GAAGilE,SACbiiC,EAAc,CACZxsD,WAAYssD,EAAkBG,qBAAqBrhG,EAAO9F,GAAG06C,YAC7D0sD,QAAS,IAEX3mG,KAAKwmG,aAAatmF,KAAKumF,GACvBphG,EAAO9F,GAAG+rC,SAASprB,KAAKumF,IAU9B,SAASG,eA+DT,SAAS7K,YAAY97E,EAAMg2D,EAAYV,GACrCv1E,KAAKwxE,YACLxxE,KAAKijG,aAAahjF,EAAMg2D,EAAYV,GACpCv1E,KAAKwxE,YACLxxE,KAAK4hG,cAAc3hF,EAAMg2D,EAAYV,GACrCv1E,KAAKwhG,gBA2BP,SAASqF,kBAgKT,SAASC,iBA2ET,SAASC,gBAqFT,SAASC,gBAmGT,SAAS9K,cAAcj8E,EAAMg2D,EAAYV,GACvCv1E,KAAK2mF,UAAY1Q,EAAWwlB,aAAax7E,EAAKqpD,OAC9CtpE,KAAKgjG,YAAY/iF,EAAMg2D,EAAYV,GACnCv1E,KAAKinG,WAAa,CAChBvoF,IAAK,EAAGC,KAAM,EAAG/b,MAAO5C,KAAK2mF,UAAUn7E,EAAG3I,OAAQ7C,KAAK2mF,UAAUl7E,GAwBrE,SAAS2wF,cAAcn8E,EAAMg2D,EAAYV,GACvCv1E,KAAKgjG,YAAY/iF,EAAMg2D,EAAYV,GAiBrC,SAAS4kB,aAAal6E,EAAMg2D,EAAYV,GACtCv1E,KAAKwxE,YACLxxE,KAAKmiG,iBACLniG,KAAK2mF,UAAY1Q,EAAWwlB,aAAax7E,EAAKqpD,OAC9CtpE,KAAKijG,aAAahjF,EAAMg2D,EAAYV,GACpCv1E,KAAKknG,YAAa,EAClBlnG,KAAKmnG,UAAW,EAChB,IAAIniB,EAAYhlF,KAAKi2E,WAAWyQ,cAAc1mF,KAAK2mF,WACnD3mF,KAAK0kF,MAAQ1kF,KAAKi2E,WAAW2lB,gBAAgB7W,YAAYC,GACzDhlF,KAAKonG,aAAe,EACpBpnG,KAAKi2E,WAAW2lB,gBAAgBnX,SAASzkF,MACzCA,KAAK8zF,GAAK7zE,EAAK6zE,GAAKviB,gBAAgB0F,QAAQj3E,KAAMigB,EAAK6zE,GAAI,EAAG7d,EAAWiC,UAAWl4E,MAAQ,CAAEqnG,cAAc,GAwE9G,SAASjN,eAAen6E,EAAMg2D,EAAYV,GACxCv1E,KAAKwxE,YACLxxE,KAAKmiG,iBACLniG,KAAK2mF,UAAY1Q,EAAWwlB,aAAax7E,EAAKqpD,OAC9CtpE,KAAKunF,YAActR,EAAWylB,YAAYzT,SAASjoF,KAAK2mF,WACxD3mF,KAAKijG,aAAahjF,EAAMg2D,EAAYV,GA4BtC,SAAS4mB,eAAel8E,EAAMg2D,EAAYV,GACxCv1E,KAAKyoE,OAASxoD,EAAKwoD,OACnBzoE,KAAKo2F,YAAa,EAClBp2F,KAAKwoE,gBAAiB,EACtBxoE,KAAKu1F,gBAAkB,GACvBv1F,KAAKsrC,SAAWtrC,KAAKyoE,OAAS5V,iBAAiB7yD,KAAKyoE,OAAOhpE,QAAU,GAErEO,KAAKgjG,YAAY/iF,EAAMg2D,EAAYV,GACnCv1E,KAAK8zF,GAAK7zE,EAAK6zE,GAAKviB,gBAAgB0F,QAAQj3E,KAAMigB,EAAK6zE,GAAI,EAAG7d,EAAWiC,UAAWl4E,MAAQ,CAAEqnG,cAAc,GAQ9G,SAASpL,qBAAqBh8E,EAAMg2D,EAAYV,GAC9Cv1E,KAAKsnG,UAAY,GACjBtnG,KAAKkpF,WAAa,MAClBlpF,KAAKgjG,YAAY/iF,EAAMg2D,EAAYV,GA+NrC,SAASymB,gBAAgB/7E,EAAMg2D,EAAYV,GAEzCv1E,KAAKwpE,OAAS,GAEdxpE,KAAKunG,WAAatnF,EAAKupD,OAEvBxpE,KAAKwnG,WAAa,GAElBxnG,KAAKynG,eAAiB,GAEtBznG,KAAK0nG,UAAY,GAEjB1nG,KAAK2nG,kBAAoB,GAEzB3nG,KAAK4nG,iBAAmB,GACxB5nG,KAAKgjG,YAAY/iF,EAAMg2D,EAAYV,GAGnCv1E,KAAKk5F,aAAe,GA6TtB,SAAS2O,cAAcv8F,EAAQw8F,GAC7B9nG,KAAK8nG,cAAgBA,EACrB,IAAI/e,EAAgB7yB,SAAS,iBAa7B,GAZA6yB,EAAcvxD,aAAa,OAAQ,UACnCuxD,EAAcvxD,aAAa,8BAA+B,aAC1DuxD,EAAcvxD,aAAa,SAAU,wFACrCuxD,EAAcvxD,aAAa,SAAU,MACrClsB,EAAOysB,YAAYgxD,IACnBA,EAAgB7yB,SAAS,kBACX1+B,aAAa,OAAQ,UACnCuxD,EAAcvxD,aAAa,8BAA+B,QAC1DuxD,EAAcvxD,aAAa,SAAU,2CACrCuxD,EAAcvxD,aAAa,SAAU,MACrClsB,EAAOysB,YAAYgxD,GACnB/oF,KAAK+nG,aAAehf,EACwB,MAAxC+e,EAAcE,eAAe,GAAG7oF,EAAEo2B,GAAauyD,EAAcE,eAAe,GAAG7oF,EAAEwqC,EAAG,CACtF,IAEIs+C,EAFAC,EAAUhyC,SAAS,WACvB5qD,EAAOysB,YAAYmwE,IAEnBD,EAAc/xC,SAAS,gBACX1+B,aAAa,KAAM,iBAC/B0wE,EAAQnwE,YAAYkwE,IACpBA,EAAc/xC,SAAS,gBACX1+B,aAAa,KAAM,MAC/B0wE,EAAQnwE,YAAYkwE,IAexB,SAASE,cAAc78F,EAAQw8F,GAC7B9nG,KAAK8nG,cAAgBA,EACrB,IAAI/e,EAAgB7yB,SAAS,iBAC7B6yB,EAAcvxD,aAAa,OAAQ,UACnCuxD,EAAcvxD,aAAa,8BAA+B,QAC1DuxD,EAAcvxD,aAAa,SAAU,2CACrClsB,EAAOysB,YAAYgxD,GACnB/oF,KAAK+nG,aAAehf,EAYtB,SAASqf,sBAAsB98F,EAAQw8F,GAErCx8F,EAAOksB,aAAa,IAAK,SACzBlsB,EAAOksB,aAAa,IAAK,SACzBlsB,EAAOksB,aAAa,QAAS,QAC7BlsB,EAAOksB,aAAa,SAAU,QAE9Bx3B,KAAK8nG,cAAgBA,EACrB,IAAIO,EAAiBnyC,SAAS,kBAC9B5qD,EAAOysB,YAAYswE,GACnBroG,KAAKqoG,eAAiBA,EAgCxB,SAASC,gBAAgBtyB,EAAM8xB,GAC7B9nG,KAAKuoG,aAAc,EACnBvoG,KAAK8nG,cAAgBA,EACrB9nG,KAAKg2E,KAAOA,EACZh2E,KAAK2qE,MAAQ,GA6Gf,SAAS69B,iBAAiBl9F,EAAQw8F,GAChC9nG,KAAK8nG,cAAgBA,EACrB,IAAI/e,EAAgB7yB,SAAS,iBAC7B6yB,EAAcvxD,aAAa,OAAQ,UACnCuxD,EAAcvxD,aAAa,8BAA+B,aAC1DuxD,EAAcvxD,aAAa,SAAU,wFACrCuxD,EAAcvxD,aAAa,SAAU,MACrClsB,EAAOysB,YAAYgxD,GACnB,IAAI0f,EAAsBvyC,SAAS,uBACnCuyC,EAAoBjxE,aAAa,8BAA+B,QAChElsB,EAAOysB,YAAY0wE,GACnBzoG,KAAK+nG,aAAeU,EACpB,IAAIC,EAAUxyC,SAAS,WACvBwyC,EAAQlxE,aAAa,OAAQ,SAC7BixE,EAAoB1wE,YAAY2wE,GAChC1oG,KAAK0oG,QAAUA,EACf,IAAIC,EAAUzyC,SAAS,WACvByyC,EAAQnxE,aAAa,OAAQ,SAC7BixE,EAAoB1wE,YAAY4wE,GAChC3oG,KAAK2oG,QAAUA,EACf,IAAIC,EAAU1yC,SAAS,WACvB0yC,EAAQpxE,aAAa,OAAQ,SAC7BixE,EAAoB1wE,YAAY6wE,GAChC5oG,KAAK4oG,QAAUA,EAqBjB,SAASC,mBAAmBv9F,EAAQw8F,GAClC9nG,KAAK8nG,cAAgBA,EACrB,IAAIE,EAAiBhoG,KAAK8nG,cAAcE,eACpCS,EAAsBvyC,SAAS,wBAE/B8xC,EAAe,IAAI7oF,EAAEwqC,GAAgC,IAA3Bq+C,EAAe,IAAI7oF,EAAEo2B,GAAWyyD,EAAe,IAAI7oF,EAAEwqC,GAAgC,IAA3Bq+C,EAAe,IAAI7oF,EAAEo2B,GAAWyyD,EAAe,IAAI7oF,EAAEwqC,GAAgC,IAA3Bq+C,EAAe,IAAI7oF,EAAEo2B,GAAWyyD,EAAe,IAAI7oF,EAAEwqC,GAAgC,IAA3Bq+C,EAAe,IAAI7oF,EAAEo2B,GAAWyyD,EAAe,IAAI7oF,EAAEwqC,GAAgC,IAA3Bq+C,EAAe,IAAI7oF,EAAEo2B,KACzRv1C,KAAK0oG,QAAU1oG,KAAK8oG,aAAa,UAAWL,KAE1CT,EAAe,IAAI7oF,EAAEwqC,GAAgC,IAA3Bq+C,EAAe,IAAI7oF,EAAEo2B,GAAWyyD,EAAe,IAAI7oF,EAAEwqC,GAAgC,IAA3Bq+C,EAAe,IAAI7oF,EAAEo2B,GAAWyyD,EAAe,IAAI7oF,EAAEwqC,GAAgC,IAA3Bq+C,EAAe,IAAI7oF,EAAEo2B,GAAWyyD,EAAe,IAAI7oF,EAAEwqC,GAAgC,IAA3Bq+C,EAAe,IAAI7oF,EAAEo2B,GAAWyyD,EAAe,IAAI7oF,EAAEwqC,GAAgC,IAA3Bq+C,EAAe,IAAI7oF,EAAEo2B,KACzRv1C,KAAK2oG,QAAU3oG,KAAK8oG,aAAa,UAAWL,KAE1CT,EAAe,IAAI7oF,EAAEwqC,GAAgC,IAA3Bq+C,EAAe,IAAI7oF,EAAEo2B,GAAWyyD,EAAe,IAAI7oF,EAAEwqC,GAAgC,IAA3Bq+C,EAAe,IAAI7oF,EAAEo2B,GAAWyyD,EAAe,IAAI7oF,EAAEwqC,GAAgC,IAA3Bq+C,EAAe,IAAI7oF,EAAEo2B,GAAWyyD,EAAe,IAAI7oF,EAAEwqC,GAAgC,IAA3Bq+C,EAAe,IAAI7oF,EAAEo2B,GAAWyyD,EAAe,IAAI7oF,EAAEwqC,GAAgC,IAA3Bq+C,EAAe,IAAI7oF,EAAEo2B,KACzRv1C,KAAK4oG,QAAU5oG,KAAK8oG,aAAa,UAAWL,KAE1CT,EAAe,IAAI7oF,EAAEwqC,GAAgC,IAA3Bq+C,EAAe,IAAI7oF,EAAEo2B,GAAWyyD,EAAe,IAAI7oF,EAAEwqC,GAAgC,IAA3Bq+C,EAAe,IAAI7oF,EAAEo2B,GAAWyyD,EAAe,IAAI7oF,EAAEwqC,GAAgC,IAA3Bq+C,EAAe,IAAI7oF,EAAEo2B,GAAWyyD,EAAe,IAAI7oF,EAAEwqC,GAAgC,IAA3Bq+C,EAAe,IAAI7oF,EAAEo2B,GAAWyyD,EAAe,IAAI7oF,EAAEwqC,GAAgC,IAA3Bq+C,EAAe,IAAI7oF,EAAEo2B,KACzRv1C,KAAK+oG,QAAU/oG,KAAK8oG,aAAa,UAAWL,KAG1CzoG,KAAK0oG,SAAW1oG,KAAK2oG,SAAW3oG,KAAK4oG,SAAW5oG,KAAK+oG,WACvDN,EAAoBjxE,aAAa,8BAA+B,QAChElsB,EAAOysB,YAAY0wE,GACnBA,EAAsBvyC,SAAS,yBAG7B8xC,EAAe,GAAG7oF,EAAEwqC,GAA+B,IAA1Bq+C,EAAe,GAAG7oF,EAAEo2B,GAAWyyD,EAAe,GAAG7oF,EAAEwqC,GAA+B,IAA1Bq+C,EAAe,GAAG7oF,EAAEo2B,GAAWyyD,EAAe,GAAG7oF,EAAEwqC,GAA+B,IAA1Bq+C,EAAe,GAAG7oF,EAAEo2B,GAAWyyD,EAAe,GAAG7oF,EAAEwqC,GAA+B,IAA1Bq+C,EAAe,GAAG7oF,EAAEo2B,GAAWyyD,EAAe,GAAG7oF,EAAEwqC,GAA+B,IAA1Bq+C,EAAe,GAAG7oF,EAAEo2B,KAC/QkzD,EAAoBjxE,aAAa,8BAA+B,QAChElsB,EAAOysB,YAAY0wE,GACnBzoG,KAAKgpG,gBAAkBhpG,KAAK8oG,aAAa,UAAWL,GACpDzoG,KAAKipG,gBAAkBjpG,KAAK8oG,aAAa,UAAWL,GACpDzoG,KAAKkpG,gBAAkBlpG,KAAK8oG,aAAa,UAAWL,IAyExD,SAASU,oBAAoB79F,EAAQw8F,GACnC,IAAIxS,EAAawS,EAAc5gG,UAAU+uE,WAAW6e,aAAaQ,WACjEhqF,EAAOksB,aAAa,IAAK89D,EAAWzoF,GACpCvB,EAAOksB,aAAa,IAAK89D,EAAWxoF,GACpCxB,EAAOksB,aAAa,QAAS89D,EAAW1yF,OACxC0I,EAAOksB,aAAa,SAAU89D,EAAWzyF,QACzC7C,KAAK8nG,cAAgBA,EAErB,IAAIO,EAAiBnyC,SAAS,kBAC9BmyC,EAAe7wE,aAAa,KAAM,eAClC6wE,EAAe7wE,aAAa,SAAU,iBACtC6wE,EAAe7wE,aAAa,eAAgB,KAC5Cx3B,KAAKqoG,eAAiBA,EACtB/8F,EAAOysB,YAAYswE,GAEnB,IAAIe,EAAWlzC,SAAS,YACxBkzC,EAAS5xE,aAAa,KAAM,MAC5B4xE,EAAS5xE,aAAa,KAAM,KAC5B4xE,EAAS5xE,aAAa,KAAM,iBAC5B4xE,EAAS5xE,aAAa,SAAU,iBAChCx3B,KAAKopG,SAAWA,EAChB99F,EAAOysB,YAAYqxE,GACnB,IAAIC,EAAUnzC,SAAS,WACvBmzC,EAAQ7xE,aAAa,cAAe,WACpC6xE,EAAQ7xE,aAAa,gBAAiB,KACtC6xE,EAAQ7xE,aAAa,SAAU,iBAC/Bx3B,KAAKqpG,QAAUA,EACf/9F,EAAOysB,YAAYsxE,GAEnB,IAAIC,EAAcpzC,SAAS,eAC3BozC,EAAY9xE,aAAa,KAAM,iBAC/B8xE,EAAY9xE,aAAa,MAAO,iBAChC8xE,EAAY9xE,aAAa,WAAY,MACrC8xE,EAAY9xE,aAAa,SAAU,iBACnClsB,EAAOysB,YAAYuxE,GAEnB,IAEIrB,EAFAC,EAAUhyC,SAAS,WACvB5qD,EAAOysB,YAAYmwE,GAEnBD,EAAc/xC,SAAS,eACvBgyC,EAAQnwE,YAAYkwE,IACpBA,EAAc/xC,SAAS,gBACX1+B,aAAa,KAAM,iBAC/Bx3B,KAAKioG,YAAcA,EACnBjoG,KAAKkoG,QAAUA,EACfloG,KAAKupG,mBAAoB,EACzBrB,EAAQnwE,YAAYkwE,GAltDtB/B,sBAAsBtmG,UAAY,CAChC8mG,qBAAsB,SAAUzsD,GAC9B,IAAI16C,EACAouC,EAAMsM,EAAWx6C,OACjBE,EAAM,IACV,IAAKJ,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBI,GAAOs6C,EAAW16C,GAAGgO,UAAU5N,IAAM,IAEvC,IAAI6pG,EAAWxpG,KAAKmmG,UAAUxmG,GAU9B,OATK6pG,IACHA,EAAW,CACTvvD,WAAY,GAAGjvB,OAAOivB,GACtBknD,eAAgB,IAAIjqC,OACpBP,MAAM,GAER32D,KAAKmmG,UAAUxmG,GAAO6pG,EACtBxpG,KAAKomG,aAAalmF,KAAKspF,IAElBA,GAETC,gBAAiB,SAAUD,EAAUvI,GAInC,IAHA,IAWM1gG,EAXFhB,EAAI,EACJouC,EAAM67D,EAASvvD,WAAWx6C,OAC1Bk3D,EAAOsqC,EACJ1hG,EAAIouC,IAAQszD,GAAc,CAC/B,GAAIuI,EAASvvD,WAAW16C,GAAGgO,UAAUs2E,OAAOltB,KAAM,CAChDA,GAAO,EACP,MAEFp3D,GAAK,EAEP,GAAIo3D,EAGF,IADA6yC,EAASrI,eAAev0D,QACnBrtC,EAAIouC,EAAM,EAAGpuC,GAAK,EAAGA,GAAK,EAC7BgB,EAAQipG,EAASvvD,WAAW16C,GAAGgO,UAAUs2E,OAAOtuC,EAAEh1C,MAClDipG,EAASrI,eAAe5zF,UAAUhN,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,IAAKA,EAAM,IAAKA,EAAM,IAAKA,EAAM,IAAKA,EAAM,IAAKA,EAAM,KAGvMipG,EAAS7yC,KAAOA,GAElB+yC,iBAAkB,SAAUzI,GAC1B,IAAI1hG,EACAouC,EAAM3tC,KAAKomG,aAAa3mG,OAC5B,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKypG,gBAAgBzpG,KAAKomG,aAAa7mG,GAAI0hG,IAG/C0I,UAAW,WAET,OADA3pG,KAAKqmG,qBAAuB,EACrB,IAAMrmG,KAAKqmG,sBAiCtBC,YAAY1mG,UAAU8+E,cAAgB4Z,aAAa14F,UAAU8+E,cAQ7DkoB,YAAYhnG,UAAY,CACtBgqG,WAAY,WACV,IAAK5pG,KAAKigB,KAAKgpD,QACb,OAAO,EAIT,IAFA,IAAI1pE,EAAI,EACJouC,EAAM3tC,KAAKigB,KAAKkpD,gBAAgB1pE,OAC7BF,EAAIouC,GAAK,CACd,GAA2C,MAAtC3tC,KAAKigB,KAAKkpD,gBAAgB5pE,GAAG2sD,OAAoD,IAApClsD,KAAKigB,KAAKkpD,gBAAgB5pE,GAAG2rE,GAC7E,OAAO,EAET3rE,GAAK,EAEP,OAAO,GAET67F,gBAAiB,WACfp7F,KAAK6pG,eAAiBC,yBAAyB9pG,MAC3CA,KAAKigB,KAAKgpD,SAAWjpE,KAAKmsF,aAC5BnsF,KAAK6pG,eAAeE,sBAAsB/pG,KAAKmsF,aAEjD,IAAI6d,EAAmBC,2BAA2BC,uBAAuBlqG,KAAMA,KAAK6pG,gBACpF7pG,KAAK6pG,eAAeM,yBAAyBH,GAExB,IAAjBhqG,KAAKigB,KAAK44C,IAAY74D,KAAKigB,KAAKk7E,GAClCn7F,KAAKoqG,cAAgBC,wBAAwBrqG,MACnB,IAAjBA,KAAKigB,KAAK44C,IACnB74D,KAAK6pG,eAAeS,eAAiBC,yBAAyBvqG,KAAKunG,WAAYvnG,KAAK0nG,UAAW1nG,KAAK6pG,gBACpG7pG,KAAK6pG,eAAeW,QAAUxqG,KAAK6pG,eAAeS,gBACxB,IAAjBtqG,KAAKigB,KAAK44C,KACnB74D,KAAK6pG,eAAeY,cAAgBC,wBAAwB1qG,MAC5DA,KAAK6pG,eAAe/Z,KAAO9vF,KAAK6pG,eAAeY,gBAGnDE,aAAc,WACZ,IAAIC,EAAiB9zC,aAAa92D,KAAKigB,KAAK4qF,KACjC7qG,KAAKsjG,aAAetjG,KAAK60F,cAE/B/5E,MAAM,kBAAoB8vF,GAEjC3H,aAAc,SAAUhjF,EAAMg2D,EAAYV,GACxCv1E,KAAKi2E,WAAaA,EAClBj2E,KAAKu1E,KAAOA,EACZv1E,KAAKigB,KAAOA,EACZjgB,KAAK42F,QAAUjiC,kBAGV30D,KAAKigB,KAAK6qF,KACb9qG,KAAKigB,KAAK6qF,GAAK,GAGjB9qG,KAAK+qG,eAAiB,IAAIC,eAAehrG,KAAKigB,KAAMjgB,KAAMA,KAAKw2D,oBAEjEy0C,QAAS,WACP,OAAOjrG,KAAK8b,MAEdgnF,iBAAkB,cAapB/G,YAAYn8F,UAAUi9F,aAAe,SAAUxD,GAC7Cr5F,KAAK0hG,kBAAkBrI,GAAK,IAG9B0C,YAAYn8F,UAAU+8F,YAAc,aAGpCZ,YAAYn8F,UAAUk9F,eAAiB,WACrC,OAAO,MAGTf,YAAYn8F,UAAUotC,QAAU,aAGhC+uD,YAAYn8F,UAAUkjG,iBAAmB,aAGzC/G,YAAYn8F,UAAUwgD,KAAO,aAG7ByhB,gBAAgB,CAAC+kC,YAAahP,iBAAkBF,iBAAkBC,cAAeoE,aAOjF8K,eAAejnG,UAAY,CACzBsjG,oBAAqB,WACnBljG,KAAK60F,aAAe3+B,SAAS,MAE/BitC,wBAAyB,WACvBnjG,KAAKkrG,aAAeh1C,SAAS,KAC7Bl2D,KAAKmrG,mBAAqBnrG,KAAK60F,aAC/B70F,KAAKw3F,cAAgBx3F,KAAK60F,aAC1B70F,KAAKorG,cAAe,EACpB,IAEIxiB,EACAE,EACAuiB,EAJAC,EAAqB,KAKzB,GAAItrG,KAAKigB,KAAK+oD,IACZ,GAAoB,GAAhBhpE,KAAKigB,KAAK+oD,IAA2B,GAAhBhpE,KAAKigB,KAAK+oD,GAAS,CAC1C,IAAIuiC,EAASr1C,SAAS,QACtBq1C,EAAO/zE,aAAa,KAAMx3B,KAAK42F,SAC/B2U,EAAO/zE,aAAa,YAA6B,GAAhBx3B,KAAKigB,KAAK+oD,GAAU,YAAc,SACnEuiC,EAAOxzE,YAAY/3B,KAAK60F,cACxByW,EAAqBC,EACrBvrG,KAAKi2E,WAAWjG,KAAKj4C,YAAYwzE,GAE5B9iB,eAAeC,UAA4B,GAAhB1oF,KAAKigB,KAAK+oD,KACxCuiC,EAAO/zE,aAAa,YAAa,aACjCoxD,EAAQj0B,kBACRm0B,EAAMH,eAAe6iB,aAAa5iB,GAClC5oF,KAAKi2E,WAAWjG,KAAKj4C,YAAY+wD,GACjCA,EAAI/wD,YAAY4wD,eAAe8iB,iCAC/BJ,EAAKn1C,SAAS,MACXn+B,YAAY/3B,KAAK60F,cACpByW,EAAqBD,EACrBE,EAAOxzE,YAAYszE,GACnBA,EAAG7zE,aAAa,SAAU,OAASk6B,aAAe,IAAMk3B,EAAQ,WAE7D,GAAoB,GAAhB5oF,KAAKigB,KAAK+oD,GAAS,CAC5B,IAAI0iC,EAAYx1C,SAAS,QACzBw1C,EAAUl0E,aAAa,KAAMx3B,KAAK42F,SAClC8U,EAAUl0E,aAAa,YAAa,SACpC,IAAIm0E,EAAcz1C,SAAS,KAC3Bw1C,EAAU3zE,YAAY4zE,GACtB/iB,EAAQj0B,kBACRm0B,EAAMH,eAAe6iB,aAAa5iB,GAUlC,IAAIgjB,EAAQ11C,SAAS,uBACrB01C,EAAMp0E,aAAa,KAAM,iBACzBsxD,EAAI/wD,YAAY6zE,GAChB,IAAIC,EAAS31C,SAAS,WACtB21C,EAAOr0E,aAAa,OAAQ,SAC5Bq0E,EAAOr0E,aAAa,cAAe,WACnCo0E,EAAM7zE,YAAY8zE,GAElB7rG,KAAKi2E,WAAWjG,KAAKj4C,YAAY+wD,GACjC,IAAIgjB,EAAY51C,SAAS,QACzB41C,EAAUt0E,aAAa,QAASx3B,KAAKu1E,KAAKt1D,KAAKzU,GAC/CsgG,EAAUt0E,aAAa,SAAUx3B,KAAKu1E,KAAKt1D,KAAKxU,GAChDqgG,EAAUt0E,aAAa,IAAK,KAC5Bs0E,EAAUt0E,aAAa,IAAK,KAC5Bs0E,EAAUt0E,aAAa,OAAQ,WAC/Bs0E,EAAUt0E,aAAa,UAAW,KAClCm0E,EAAYn0E,aAAa,SAAU,OAASk6B,aAAe,IAAMk3B,EAAQ,KACzE+iB,EAAY5zE,YAAY+zE,GACxBH,EAAY5zE,YAAY/3B,KAAK60F,cAC7ByW,EAAqBK,EAChBljB,eAAeC,WAClBgjB,EAAUl0E,aAAa,YAAa,aACpCsxD,EAAI/wD,YAAY4wD,eAAe8iB,gCAC/BJ,EAAKn1C,SAAS,KACdy1C,EAAY5zE,YAAY+zE,GACxBT,EAAGtzE,YAAY/3B,KAAK60F,cACpByW,EAAqBD,EACrBM,EAAY5zE,YAAYszE,IAE1BrrG,KAAKi2E,WAAWjG,KAAKj4C,YAAY2zE,SAE1B1rG,KAAKigB,KAAK8oD,IACnB/oE,KAAKkrG,aAAanzE,YAAY/3B,KAAK60F,cACnCyW,EAAqBtrG,KAAKkrG,aAC1BlrG,KAAKsjG,YAActjG,KAAKkrG,cAExBlrG,KAAKsjG,YAActjG,KAAK60F,aAS1B,GAPI70F,KAAKigB,KAAK8rF,IACZ/rG,KAAK60F,aAAar9D,aAAa,KAAMx3B,KAAKigB,KAAK8rF,IAE7C/rG,KAAKigB,KAAKirD,IACZlrE,KAAK60F,aAAar9D,aAAa,QAASx3B,KAAKigB,KAAKirD,IAG/B,IAAjBlrE,KAAKigB,KAAK44C,KAAa74D,KAAKigB,KAAKk4E,GAAI,CACvC,IAAI6T,EAAK91C,SAAS,YACd6F,EAAK7F,SAAS,QAClB6F,EAAGvkC,aAAa,IAAK,SAAWx3B,KAAKigB,KAAKzU,EAAI,OAASxL,KAAKigB,KAAKzU,EAAI,IAAMxL,KAAKigB,KAAKxU,EAAI,OAASzL,KAAKigB,KAAKxU,EAAI,KAChH,IAAIwgG,EAASt3C,kBAKb,GAJAq3C,EAAGx0E,aAAa,KAAMy0E,GACtBD,EAAGj0E,YAAYgkC,GACf/7D,KAAKi2E,WAAWjG,KAAKj4C,YAAYi0E,GAE7BhsG,KAAK4pG,aAAc,CACrB,IAAIsC,EAAUh2C,SAAS,KACvBg2C,EAAQ10E,aAAa,YAAa,OAASk6B,aAAe,IAAMu6C,EAAS,KACzEC,EAAQn0E,YAAY/3B,KAAK60F,cACzB70F,KAAKmrG,mBAAqBe,EACtBZ,EACFA,EAAmBvzE,YAAY/3B,KAAKmrG,oBAEpCnrG,KAAKsjG,YAActjG,KAAKmrG,wBAG1BnrG,KAAK60F,aAAar9D,aAAa,YAAa,OAASk6B,aAAe,IAAMu6C,EAAS,KAGlE,IAAjBjsG,KAAKigB,KAAK4qF,IACZ7qG,KAAK2qG,gBAGTpH,cAAe,WACTvjG,KAAKmhG,eAAeU,SACtB7hG,KAAKmrG,mBAAmB3zE,aAAa,YAAax3B,KAAKmhG,eAAeppB,IAAI9a,WAExEj9D,KAAKmhG,eAAeW,QACtB9hG,KAAKmrG,mBAAmB3zE,aAAa,UAAWx3B,KAAKmhG,eAAeC,MAAM1oC,EAAEnjB,IAGhFmuD,mBAAoB,WAClB1jG,KAAK60F,aAAe,KACpB70F,KAAKkrG,aAAe,KACpBlrG,KAAKmsF,YAAYn/C,WAEnB8vD,eAAgB,WACd,OAAI98F,KAAKigB,KAAKk4E,GACL,KAEFn4F,KAAKsjG,aAEdF,2BAA4B,WAC1BpjG,KAAKmsF,YAAc,IAAIkK,YAAYr2F,KAAKigB,KAAMjgB,KAAMA,KAAKi2E,YACzDj2E,KAAKmsG,yBAA2B,IAAIC,WAAWpsG,OAEjDy8F,SAAU,SAAUtvF,GACbnN,KAAKkrG,cAGVlrG,KAAKkrG,aAAa1zE,aAAa,OAAQ,OAASk6B,aAAe,IAAMvkD,EAAK,OAS9E25F,cAAclnG,UAAY,CACxBysG,oBAAqB,SAAUpsF,GAC7B,IAAI1gB,EACAouC,EAAM3tC,KAAKynG,eAAehoG,OAC9B,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKynG,eAAeloG,GAAGq7E,SAAS36D,IAGpCqsF,2BAA4B,SAAUrsF,GAGpC,IAFA,IACI0tB,EAAM3tC,KAAKynG,eAAehoG,OADtB,EAEGkuC,GACT,GAAI3tC,KAAKynG,eAHH,GAGqB8E,oBAAoBtsF,GAC7C,OAAO,EAGX,OAAO,GAETusF,gBAAiB,WACf,GAAKxsG,KAAKynG,eAAehoG,OAAzB,CAGA,IAAIF,EACAouC,EAAM3tC,KAAKwpE,OAAO/pE,OACtB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKwpE,OAAOjqE,GAAGi0E,GAAG5mC,QAKpB,IAAKrtC,GAFLouC,EAAM3tC,KAAKynG,eAAehoG,QAEX,EAAGF,GAAK,IACAS,KAAKynG,eAAeloG,GAAGkgF,cAAcz/E,KAAKq2E,eADvC92E,GAAK,MAUjCktG,uBAAwB,SAAUz2B,GAIhC,IAHA,IAAI1qC,EAAWtrC,KAAK2nG,kBAChBpoG,EAAI,EACJouC,EAAMrC,EAAS7rC,OACZF,EAAIouC,GAAK,CACd,GAAIrC,EAAS/rC,GAAGy2E,OAASA,EACvB,OAAO1qC,EAAS/rC,GAAGokC,IAErBpkC,GAAK,EAEP,OAAO,GAETmtG,oBAAqB,SAAU12B,EAAMryC,GAGnC,IAFA,IAAI2H,EAAWtrC,KAAK2nG,kBAChBpoG,EAAI+rC,EAAS7rC,OACVF,GAEL,GAAI+rC,EADJ/rC,GAAK,GACWy2E,OAASA,EAEvB,YADA1qC,EAAS/rC,GAAGokC,IAAMA,GAItB2H,EAASprB,KAAK,IAAI63E,iBAAiB/hB,EAAMryC,KAE3Ck5D,aAAc,SAAUxD,GACtBr5F,KAAK0iG,uBAAuBrJ,GAC5Br5F,KAAK0hG,kBAAkBrI,EAAKr5F,KAAKoiG,aASrC2E,aAAannG,UAAUojG,YAAc,SAAU/iF,EAAMg2D,EAAYV,GAC/Dv1E,KAAK6pF,oBAAqB,EAC1B7pF,KAAKwxE,YACLxxE,KAAKijG,aAAahjF,EAAMg2D,EAAYV,GACpCv1E,KAAKuyF,aAAe,IAAI7H,aAAa1qF,KAAMigB,EAAKjB,EAAGhf,KAAKw2D,mBACxDx2D,KAAK2sG,aAAe,IAAI3jB,qBAAqB/oE,EAAKjB,EAAGhf,KAAKkpF,WAAYlpF,MACtEA,KAAK4hG,cAAc3hF,EAAMg2D,EAAYV,GACrCv1E,KAAKwhG,gBACLxhG,KAAKmiG,iBACLniG,KAAKkjG,sBACLljG,KAAKmjG,0BACLnjG,KAAKojG,6BACLpjG,KAAKqjG,gBACLrjG,KAAKogD,OACLpgD,KAAK2sG,aAAazgB,iBAAiBlsF,KAAKw2D,oBAG1CuwC,aAAannG,UAAUi9F,aAAe,SAAUxD,GAC9Cr5F,KAAK22D,MAAO,EACZ32D,KAAK0iG,uBAAuBrJ,GAC5Br5F,KAAK0hG,kBAAkBrI,EAAKr5F,KAAKoiG,YAC7BpiG,KAAKuyF,aAAa57B,MAAQ32D,KAAKuyF,aAAalc,iBAC9Cr2E,KAAK4sG,eACL5sG,KAAKuyF,aAAalc,eAAgB,EAClCr2E,KAAKuyF,aAAa57B,MAAO,IAI7BowC,aAAannG,UAAUitG,gBAAkB,SAAU7f,EAAcxjB,GAC/D,IAAI5/C,EAEAo6D,EADApb,EAAOY,EAAO/pE,OAEdqtG,EAAW,GACf,IAAKljF,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EACzBo6D,EAAYxa,EAAO5/C,GAAG+/C,GAAGhgB,EACzBmjD,GAAY/oB,iBAAiBC,EAAWA,EAAUzkF,EAAEE,QAAQ,EAAMutF,GAEpE,OAAO8f,GAGT/F,aAAannG,UAAU4xF,mBAAqB,SAAUC,EAASrpF,GAC7DpI,KAAKuyF,aAAaf,mBAAmBC,EAASrpF,IAGhD2+F,aAAannG,UAAUgyF,cAAgB,SAAUC,GAC/C7xF,KAAKuyF,aAAaX,cAAcC,IAGlCkV,aAAannG,UAAUkyF,mBAAqB,SAAUib,GACpD/sG,KAAKuyF,aAAaT,mBAAmBib,IAGvChG,aAAannG,UAAUotG,4BAA8B,SAAU5iC,EAAc4iB,EAAcigB,EAAY3gB,EAAMC,GAK3G,OAJIniB,EAAamhB,IACfyB,EAAar0B,UAAUyR,EAAamhB,GAAG,GAAInhB,EAAamhB,GAAG,GAAKnhB,EAAa2gB,OAAQ,GAEvFiC,EAAar0B,UAAU,GAAIyR,EAAaihB,GAAI,GACpCjhB,EAAaxgD,GACnB,KAAK,EACHojE,EAAar0B,UAAUyR,EAAa8gB,eAAiB9gB,EAAa4gB,SAAW5gB,EAAaghB,WAAW6hB,IAAc,EAAG,GACtH,MACF,KAAK,EACHjgB,EAAar0B,UAAUyR,EAAa8gB,eAAiB9gB,EAAa4gB,SAAW5gB,EAAaghB,WAAW6hB,IAAe,EAAG,EAAG,GAK9HjgB,EAAar0B,UAAU2zB,EAAMC,EAAM,IAGrCwa,aAAannG,UAAUstG,WAAa,SAAUC,GAC5C,MAAO,OAASpkF,KAAKod,MAAqB,IAAfgnE,EAAU,IAAY,IAAMpkF,KAAKod,MAAqB,IAAfgnE,EAAU,IAAY,IAAMpkF,KAAKod,MAAqB,IAAfgnE,EAAU,IAAY,KAGjIpG,aAAannG,UAAUwtG,UAAY,IAAI3iB,YAEvCsc,aAAannG,UAAUotC,QAAU,aAQjC60B,gBAAgB,CAAC+kC,YAAahP,iBAAkBF,iBAAkBC,aAAcG,sBAAuBkP,cAEvGA,aAAapnG,UAAUojG,YAAc,SAAU/iF,EAAMg2D,EAAYV,GAC/Dv1E,KAAKwxE,YACLxxE,KAAKijG,aAAahjF,EAAMg2D,EAAYV,GACpCv1E,KAAK4hG,cAAc3hF,EAAMg2D,EAAYV,GACrCv1E,KAAKmiG,iBACLniG,KAAKwhG,gBACLxhG,KAAKkjG,sBACLljG,KAAKmjG,0BACLnjG,KAAKojG,8BACDpjG,KAAKigB,KAAKk7E,IAAOllB,EAAWif,iBAC9Bl1F,KAAKq6F,gBAEPr6F,KAAKogD,QAeP4mD,aAAapnG,UAAUi9F,aAAe,SAAUxD,GAI9C,GAHAr5F,KAAK22D,MAAO,EACZ32D,KAAK0iG,uBAAuBrJ,GAC5Br5F,KAAK0hG,kBAAkBrI,EAAKr5F,KAAKoiG,WAC5BpiG,KAAKoiG,WAAcpiG,KAAKigB,KAAKk7E,GAAlC,CAIA,GAAKn7F,KAAK8zF,GAAGuT,aAOXrnG,KAAKw1E,cAAgB6jB,EAAMr5F,KAAKigB,KAAK6qF,OAPZ,CACzB,IAAIuC,EAAertG,KAAK8zF,GAAGv+C,EACvB83D,IAAiBrtG,KAAKigB,KAAKqjE,KAC7B+pB,EAAertG,KAAKigB,KAAKqjE,GAAK,GAEhCtjF,KAAKw1E,cAAgB63B,EAIvB,IAAI9tG,EACAouC,EAAM3tC,KAAKsrC,SAAS7rC,OAKxB,IAJKO,KAAKwoE,gBACRxoE,KAAKo5F,YAAYp5F,KAAKw1E,eAGnBj2E,EAAIouC,EAAM,EAAGpuC,GAAK,EAAGA,GAAK,GACzBS,KAAKwoE,gBAAkBxoE,KAAKsrC,SAAS/rC,MACvCS,KAAKsrC,SAAS/rC,GAAGs9F,aAAa78F,KAAKw1E,cAAgBx1E,KAAKyoE,OAAOlpE,GAAGu3E,IAC9D92E,KAAKsrC,SAAS/rC,GAAGo3D,OACnB32D,KAAK22D,MAAO,MAMpBqwC,aAAapnG,UAAU4jG,mBAAqB,WAC1C,IAAIjkG,EACAouC,EAAM3tC,KAAKyoE,OAAOhpE,OACtB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,GACpBS,KAAKwoE,gBAAkBxoE,KAAKsrC,SAAS/rC,KACvCS,KAAKsrC,SAAS/rC,GAAGo9F,eAKvBqK,aAAapnG,UAAU0tG,YAAc,SAAUlqB,GAC7CpjF,KAAKsrC,SAAW83C,GAGlB4jB,aAAapnG,UAAU2tG,YAAc,WACnC,OAAOvtG,KAAKsrC,UAGd07D,aAAapnG,UAAU4tG,gBAAkB,WACvC,IAAIjuG,EACAouC,EAAM3tC,KAAKyoE,OAAOhpE,OACtB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACpBS,KAAKsrC,SAAS/rC,IAChBS,KAAKsrC,SAAS/rC,GAAGytC,WAKvBg6D,aAAapnG,UAAUotC,QAAU,WAC/BhtC,KAAKwtG,kBACLxtG,KAAK0jG,sBAaP7hC,gBAAgB,CAAC+kC,YAAahP,iBAAkBiP,eAAgBnP,iBAAkBC,aAAcG,sBAAuBoE,eAEvHA,cAAct8F,UAAUyjG,cAAgB,WACtC,IAAIre,EAAYhlF,KAAKi2E,WAAWyQ,cAAc1mF,KAAK2mF,WAEnD3mF,KAAKyjG,UAAYvtC,SAAS,SAC1Bl2D,KAAKyjG,UAAUjsE,aAAa,QAASx3B,KAAK2mF,UAAUn7E,EAAI,MACxDxL,KAAKyjG,UAAUjsE,aAAa,SAAUx3B,KAAK2mF,UAAUl7E,EAAI,MACzDzL,KAAKyjG,UAAUjsE,aAAa,sBAAuBx3B,KAAK2mF,UAAU8mB,IAAMztG,KAAKi2E,WAAW6e,aAAaE,0BACrGh1F,KAAKyjG,UAAUrb,eAAe,+BAAgC,OAAQpD,GAEtEhlF,KAAK60F,aAAa98D,YAAY/3B,KAAKyjG,YAGrCvH,cAAct8F,UAAUkjG,iBAAmB,WACzC,OAAO9iG,KAAKinG,YAQdplC,gBAAgB,CAACq6B,eAAgBE,eAEjCA,cAAcx8F,UAAUyjG,cAAgB,WACtC,IAAI/8D,EAAO4vB,SAAS,QAIpB5vB,EAAK9O,aAAa,QAASx3B,KAAKigB,KAAKiqE,IACrC5jD,EAAK9O,aAAa,SAAUx3B,KAAKigB,KAAKuzD,IACtCltC,EAAK9O,aAAa,OAAQx3B,KAAKigB,KAAK2wD,IACpC5wE,KAAK60F,aAAa98D,YAAYuO,IAmBhC6zD,aAAav6F,UAAUi9F,aAAe,SAAUxD,GAG9C,GAFAr5F,KAAK0iG,uBAAuBrJ,GAAK,GACjCr5F,KAAK0hG,kBAAkBrI,GAAK,GACvBr5F,KAAK8zF,GAAGuT,aAIXrnG,KAAKonG,aAAe/N,EAAMr5F,KAAKigB,KAAK6qF,OAJX,CACzB,IAAIuC,EAAertG,KAAK8zF,GAAGv+C,EAC3Bv1C,KAAKonG,aAAeiG,IAMxBxrC,gBAAgB,CAACg2B,kBAAmB+O,YAAajP,cAAewC,cAEhEA,aAAav6F,UAAU+8F,YAAc,WAC/B38F,KAAKoiG,WAAapiG,KAAKmnG,WACpBnnG,KAAKknG,aAIElnG,KAAK0kF,MAAMW,WAClBt8D,KAAKC,IAAIhpB,KAAKonG,aAAepnG,KAAKi2E,WAAWiC,UAAYl4E,KAAK0kF,MAAMU,QAAU,KAEjFplF,KAAK0kF,MAAMU,KAAKplF,KAAKonG,aAAepnG,KAAKi2E,WAAWiC,YANpDl4E,KAAK0kF,MAAMS,OACXnlF,KAAK0kF,MAAMU,KAAKplF,KAAKonG,aAAepnG,KAAKi2E,WAAWiC,WACpDl4E,KAAKknG,YAAa,KASxB/M,aAAav6F,UAAUo0B,KAAO,aAI9BmmE,aAAav6F,UAAUwgD,KAAO,WAC5BpgD,KAAK0kF,MAAMC,QACX3kF,KAAKknG,YAAa,GAGpB/M,aAAav6F,UAAU+kF,MAAQ,WAC7B3kF,KAAK0kF,MAAMC,QACX3kF,KAAKknG,YAAa,EAClBlnG,KAAKmnG,UAAW,GAGlBhN,aAAav6F,UAAUglF,OAAS,WAC9B5kF,KAAKmnG,UAAW,GAGlBhN,aAAav6F,UAAUilF,QAAU,SAAUC,GACzC9kF,KAAK0kF,MAAMY,KAAKR,IAGlBqV,aAAav6F,UAAUimF,OAAS,SAAU6nB,GACxC1tG,KAAK0kF,MAAMmB,OAAO6nB,IAGpBvT,aAAav6F,UAAUk9F,eAAiB,WACtC,OAAO,MAGT3C,aAAav6F,UAAUotC,QAAU,aAGjCmtD,aAAav6F,UAAUkjG,iBAAmB,aAG1C3I,aAAav6F,UAAUw7F,gBAAkB,aAazChB,eAAex6F,UAAUi9F,aAAe,aAGxCh7B,gBAAgB,CAACg2B,kBAAmB+O,YAAajP,cAAeyC,gBAEhEA,eAAex6F,UAAUk9F,eAAiB,WACxC,OAAO,MAGT1C,eAAex6F,UAAU+8F,YAAc,aAGvCvC,eAAex6F,UAAUotC,QAAU,aAGnCotD,eAAex6F,UAAUw7F,gBAAkB,WACzCp7F,KAAK6pG,eAAiB8D,iBAAiB3tG,OAGzCo6F,eAAex6F,UAAUguG,eAAiB,WACxC,OAAO5tG,KAAKunF,aAgBd1lB,gBAAgB,CAACsyB,YAAa6S,aAAcH,gBAAiB1K,gBAW7Dt6B,gBAAgB,CAAC+kC,YAAahP,iBAAkBiP,eAAgBnP,iBAAkBC,aAAcG,qBAAsBiP,cAAe9K,sBAErIA,qBAAqBr8F,UAAUyjG,cAAgB,WACzCrjG,KAAKigB,KAAKkrD,cAAgBnrE,KAAKi2E,WAAWoa,YAAY5lB,QACxDzqE,KAAK6tG,cAAgB33C,SAAS,UAIlC+lC,qBAAqBr8F,UAAUkuG,kBAAoB,SAAUC,GAK3D,IAJA,IAAIxuG,EAAI,EACJouC,EAAMogE,EAAUtuG,OAChBuuG,EAAe,GACfC,EAAqB,GAClB1uG,EAAIouC,GACLogE,EAAUxuG,KAAOgtD,OAAO6R,aAAa,KAAO2vC,EAAUxuG,KAAOgtD,OAAO6R,aAAa,IACnF4vC,EAAa9tF,KAAK+tF,GAClBA,EAAqB,IAErBA,GAAsBF,EAAUxuG,GAElCA,GAAK,EAGP,OADAyuG,EAAa9tF,KAAK+tF,GACXD,GAGT/R,qBAAqBr8F,UAAUgtG,aAAe,WAC5C,IAAIrtG,EACAouC,EAEAy8B,EAAepqE,KAAKuyF,aAAazH,YACrC9qF,KAAK4pF,gBAAkB/2B,iBAAiBuX,EAAeA,EAAazgD,EAAElqB,OAAS,GAC3E2qE,EAAa+f,GACfnqF,KAAK60F,aAAar9D,aAAa,OAAQx3B,KAAKktG,WAAW9iC,EAAa+f,KAEpEnqF,KAAK60F,aAAar9D,aAAa,OAAQ,iBAErC4yC,EAAawG,KACf5wE,KAAK60F,aAAar9D,aAAa,SAAUx3B,KAAKktG,WAAW9iC,EAAawG,KACtE5wE,KAAK60F,aAAar9D,aAAa,eAAgB4yC,EAAa8f,KAE9DlqF,KAAK60F,aAAar9D,aAAa,YAAa4yC,EAAawhB,WACzD,IAAI5e,EAAWhtE,KAAKi2E,WAAWoa,YAAYtf,cAAc3G,EAAaxlB,GACtE,GAAIooB,EAASwB,OACXxuE,KAAK60F,aAAar9D,aAAa,QAASw1C,EAASwB,YAC5C,CACLxuE,KAAK60F,aAAar9D,aAAa,cAAew1C,EAASuB,SACvD,IAAIrB,EAAU9C,EAAa8C,QACvBD,EAAS7C,EAAa6C,OAC1BjtE,KAAK60F,aAAar9D,aAAa,aAAcy1C,GAC7CjtE,KAAK60F,aAAar9D,aAAa,cAAe01C,GAEhDltE,KAAK60F,aAAar9D,aAAa,aAAc4yC,EAAaprD,GAE1D,IAIIkvF,EAJA/gB,EAAU/iB,EAAazgD,GAAK,GAC5BwkF,IAAenuG,KAAKi2E,WAAWoa,YAAY5lB,MAC/C98B,EAAMw/C,EAAQ1tF,OAGd,IACI+pE,EADAwjB,EAAehtF,KAAKitF,QAEpB6f,EAAW,GACX3hC,EAAcnrE,KAAKigB,KAAKkrD,YACxBmhB,EAAO,EACPC,EAAO,EACPiB,GAAY,EACZmD,EAAmC,KAAlBvmB,EAAamX,GAAanX,EAAawhB,UAC5D,IAAIzgB,GAAgBgjC,GAAe/jC,EAAa5R,GA+BzC,CACL,IACI6L,EACA+rB,EAFAge,EAAoBpuG,KAAKsnG,UAAU7nG,OAGvC,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACnB4uG,GAAehjC,GAAqB,IAAN5rE,IACjC2uG,EAAQE,EAAoB7uG,EAAIS,KAAKsnG,UAAU/nG,GAAK22D,SAASi4C,EAAa,OAAS,QAC/EC,GAAqB7uG,IACvB2uG,EAAM12E,aAAa,iBAAkB,QACrC02E,EAAM12E,aAAa,kBAAmB,SACtC02E,EAAM12E,aAAa,oBAAqB,KACxCx3B,KAAKsnG,UAAU/nG,GAAK2uG,EACpBluG,KAAK60F,aAAa98D,YAAYm2E,IAEhCA,EAAMpzF,MAAM3W,QAAU,WAGxB6oF,EAAapgD,QACbogD,EAAa10E,MAAM8xD,EAAawhB,UAAY,IAAKxhB,EAAawhB,UAAY,KACtEzgB,IACEgiB,EAAQ5tF,GAAG2f,IACbotE,GAAQqE,EACRpE,GAAQniB,EAAauhB,QACrBY,GAAQiB,EAAY,EAAI,EACxBA,GAAY,GAEdxtF,KAAKgtG,4BAA4B5iC,EAAc4iB,EAAcG,EAAQ5tF,GAAGwvF,KAAMzC,EAAMC,GACpFD,GAAQa,EAAQ5tF,GAAGoqB,GAAK,EAExB2iE,GAAQqE,GAENwd,GAGF3kC,GADAnF,GADA+rB,EAAWpwF,KAAKi2E,WAAWoa,YAAYvf,YAAY1G,EAAayhB,UAAUtsF,GAAIytE,EAASC,OAAQjtE,KAAKi2E,WAAWoa,YAAYtf,cAAc3G,EAAaxlB,GAAG2pB,WAChI6hB,EAASnwE,MAAS,IACxBupD,OAASnF,EAAUmF,OAAO,GAAGjmB,GAAK,GAChD4nB,EAGH2hC,GAAY9sG,KAAK6sG,gBAAgB7f,EAAcxjB,GAF/C0kC,EAAM12E,aAAa,IAAKx3B,KAAK6sG,gBAAgB7f,EAAcxjB,MAKzD2B,GACF+iC,EAAM12E,aAAa,YAAa,aAAew1D,EAAazsF,MAAM,IAAM,IAAMysF,EAAazsF,MAAM,IAAM,KAEzG2tG,EAAM3zF,YAAc4yE,EAAQ5tF,GAAGqtD,IAC/BshD,EAAM9lB,eAAe,uCAAwC,YAAa,aAI1Ejd,GAAe+iC,GACjBA,EAAM12E,aAAa,IAAKs1E,OAjFwB,CAClD,IAAIuB,EAAWruG,KAAK6tG,cAChBS,EAAU,QACd,OAAQlkC,EAAaxgD,GACnB,KAAK,EACH0kF,EAAU,MACV,MACF,KAAK,EACHA,EAAU,SACV,MACF,QACEA,EAAU,QAGdD,EAAS72E,aAAa,cAAe82E,GACrCD,EAAS72E,aAAa,iBAAkBm5D,GACxC,IAAIp2E,EAAcva,KAAK8tG,kBAAkB1jC,EAAayhB,WAGtD,IAFAl+C,EAAMpzB,EAAY9a,OAClB8sF,EAAOniB,EAAamhB,GAAKnhB,EAAamhB,GAAG,GAAKnhB,EAAa2gB,OAAS,EAC/DxrF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,GACxB2uG,EAAQluG,KAAKsnG,UAAU/nG,IAAM22D,SAAS,UAChC37C,YAAcA,EAAYhb,GAChC2uG,EAAM12E,aAAa,IAAK,GACxB02E,EAAM12E,aAAa,IAAK+0D,GACxB2hB,EAAMpzF,MAAM3W,QAAU,UACtBkqG,EAASt2E,YAAYm2E,GACrBluG,KAAKsnG,UAAU/nG,GAAK2uG,EACpB3hB,GAAQniB,EAAa0hB,gBAGvB9rF,KAAK60F,aAAa98D,YAAYs2E,GAsDhC,KAAO9uG,EAAIS,KAAKsnG,UAAU7nG,QACxBO,KAAKsnG,UAAU/nG,GAAGub,MAAM3W,QAAU,OAClC5E,GAAK,EAGPS,KAAKorG,cAAe,GAGtBnP,qBAAqBr8F,UAAUkjG,iBAAmB,WAGhD,GAFA9iG,KAAK68F,aAAa78F,KAAKu1E,KAAKC,cAAgBx1E,KAAKigB,KAAK62D,IACtD92E,KAAKwjG,qBACDxjG,KAAKorG,aAAc,CACrBprG,KAAKorG,cAAe,EACpB,IAAImD,EAAUvuG,KAAK60F,aAAa1N,UAChCnnF,KAAKwuG,KAAO,CACV9vF,IAAK6vF,EAAQzhG,EACb6R,KAAM4vF,EAAQ1hG,EACdjK,MAAO2rG,EAAQ3rG,MACfC,OAAQ0rG,EAAQ1rG,QAGpB,OAAO7C,KAAKwuG,MAGdvS,qBAAqBr8F,UAAU4jG,mBAAqB,WAClD,IAAKxjG,KAAKigB,KAAKkrD,cACbnrE,KAAK2sG,aAAatgB,YAAYrsF,KAAKuyF,aAAazH,YAAa9qF,KAAK6pF,oBAC9D7pF,KAAK6pF,oBAAsB7pF,KAAK2sG,aAAa9iB,oBAAoB,CAEnE,IAAItqF,EACAouC,EAFJ3tC,KAAKorG,cAAe,EAGpB,IAKIqD,EACAC,EANA9kB,EAAkB5pF,KAAK2sG,aAAa/iB,gBAEpCuD,EAAUntF,KAAKuyF,aAAazH,YAAYnhE,EAK5C,IAHAgkB,EAAMw/C,EAAQ1tF,OAGTF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACnB4tF,EAAQ5tF,GAAG2f,IACduvF,EAAiB7kB,EAAgBrqF,GACjCmvG,EAAW1uG,KAAKsnG,UAAU/nG,GACtBkvG,EAAe93C,KAAKvqB,GACtBsiE,EAASl3E,aAAa,YAAai3E,EAAeriE,GAEhDqiE,EAAe93C,KAAK+B,GACtBg2C,EAASl3E,aAAa,UAAWi3E,EAAe/1C,GAE9C+1C,EAAe93C,KAAKuzB,IACtBwkB,EAASl3E,aAAa,eAAgBi3E,EAAevkB,IAEnDukB,EAAe93C,KAAKia,IACtB89B,EAASl3E,aAAa,SAAUi3E,EAAe79B,IAE7C69B,EAAe93C,KAAKwzB,IACtBukB,EAASl3E,aAAa,OAAQi3E,EAAetkB,OAoCzDtoB,gBAAgB,CAAC+kC,YAAahP,iBAAkBiP,eAAgBC,cAAepP,iBAAkBC,aAAcG,sBAAuBkE,iBAEtIA,gBAAgBp8F,UAAU+uG,qBAAuB,aAGjD3S,gBAAgBp8F,UAAUgvG,eAAiB,IAAI13C,OAE/C8kC,gBAAgBp8F,UAAUivG,yBAA2B,aAErD7S,gBAAgBp8F,UAAUyjG,cAAgB,WACxCrjG,KAAK8uG,aAAa9uG,KAAKunG,WAAYvnG,KAAK0nG,UAAW1nG,KAAKk5F,aAAcl5F,KAAK60F,aAAc,EAAG,IAAI,GAChG70F,KAAK+uG,sBAMP/S,gBAAgBp8F,UAAUmvG,mBAAqB,WAC7C,IAAIxvG,EAEAk/E,EACA70D,EAEA9O,EAJA6yB,EAAM3tC,KAAKwpE,OAAO/pE,OAGlBmpE,EAAO5oE,KAAKwnG,WAAW/nG,OAEvBuvG,EAAa,GACbC,GAAc,EAClB,IAAKrlF,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EAAG,CAI5B,IAHA9O,EAAQ9a,KAAKwnG,WAAW59E,GACxBqlF,GAAc,EACdD,EAAWvvG,OAAS,EACfF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,GAEa,KADrCk/E,EAAQz+E,KAAKwpE,OAAOjqE,IACV8F,OAAOhF,QAAQya,KACvBk0F,EAAW9uF,KAAKu+D,GAChBwwB,EAAcxwB,EAAMhoB,aAAew4C,GAGnCD,EAAWvvG,OAAS,GAAKwvG,GAC3BjvG,KAAKkvG,oBAAoBF,KAK/BhT,gBAAgBp8F,UAAUsvG,oBAAsB,SAAU1lC,GACxD,IAAIjqE,EACAouC,EAAM67B,EAAO/pE,OACjB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBiqE,EAAOjqE,GAAGm/E,iBAIdsd,gBAAgBp8F,UAAUuvG,mBAAqB,SAAUlvF,EAAMg4E,GAE7D,IAAImX,EACAxW,EAAU,IAAIZ,aAAa/3E,EAAMg4E,GAEjC6L,EAAclL,EAAQR,MAwC1B,MAvCgB,OAAZn4E,EAAK44C,GACPu2C,EAAc,IAAIzW,mBAAmB34F,KAAMigB,EAAM24E,GAC5B,OAAZ34E,EAAK44C,GACdu2C,EAAc,IAAIvW,iBAAiB74F,KAAMigB,EAAM24E,GAC1B,OAAZ34E,EAAK44C,IAA2B,OAAZ54C,EAAK44C,KAElCu2C,EAAc,IADwB,OAAZnvF,EAAK44C,GAAcigC,yBAA2BE,4BAClCh5F,KAAMigB,EAAM24E,GAClD54F,KAAKi2E,WAAWjG,KAAKj4C,YAAYq3E,EAAYlL,IACzCkL,EAAY9S,SACdt8F,KAAKi2E,WAAWjG,KAAKj4C,YAAYq3E,EAAYx+C,IAC7C5wD,KAAKi2E,WAAWjG,KAAKj4C,YAAYq3E,EAAY9jB,IAC7CwY,EAAYtsE,aAAa,OAAQ,OAASk6B,aAAe,IAAM09C,EAAY9S,OAAS,OAIxE,OAAZr8E,EAAK44C,IAA2B,OAAZ54C,EAAK44C,KAC3BirC,EAAYtsE,aAAa,iBAAkBw/B,YAAY/2C,EAAKqkF,IAAM,IAClER,EAAYtsE,aAAa,kBAAmBy/B,aAAah3C,EAAKskF,IAAM,IACpET,EAAYtsE,aAAa,eAAgB,KACzB,IAAZvX,EAAKskF,IACPT,EAAYtsE,aAAa,oBAAqBvX,EAAKukF,KAIxC,IAAXvkF,EAAKrV,GACPk5F,EAAYtsE,aAAa,YAAa,WAGpCvX,EAAK8rF,IACPjI,EAAYtsE,aAAa,KAAMvX,EAAK8rF,IAElC9rF,EAAKirD,IACP44B,EAAYtsE,aAAa,QAASvX,EAAKirD,IAErCjrD,EAAK4qF,KACP/G,EAAYhpF,MAAM,kBAAoBg8C,aAAa72C,EAAK4qF,KAE1D7qG,KAAKwnG,WAAWtnF,KAAK04E,GACrB54F,KAAKqvG,sBAAsBpvF,EAAMmvF,GAC1BA,GAGTpT,gBAAgBp8F,UAAU0vG,mBAAqB,SAAUrvF,GACvD,IAAImvF,EAAc,IAAInW,eAUtB,OATIh5E,EAAK8rF,IACPqD,EAAYjW,GAAG3hE,aAAa,KAAMvX,EAAK8rF,IAErC9rF,EAAKirD,IACPkkC,EAAYjW,GAAG3hE,aAAa,QAASvX,EAAKirD,IAExCjrD,EAAK4qF,KACPuE,EAAYjW,GAAGr+E,MAAM,kBAAoBg8C,aAAa72C,EAAK4qF,KAEtDuE,GAGTpT,gBAAgBp8F,UAAU2vG,uBAAyB,SAAUtvF,EAAM/Y,GACjE,IAAIsoG,EAAoBt4B,yBAAyBuB,qBAAqBz4E,KAAMigB,EAAMjgB,MAC9EovG,EAAc,IAAI1W,iBAAiB8W,EAAmBA,EAAkB92C,EAAGxxD,GAE/E,OADAlH,KAAKqvG,sBAAsBpvF,EAAMmvF,GAC1BA,GAGTpT,gBAAgBp8F,UAAU6vG,mBAAqB,SAAUxvF,EAAMyvF,EAAiBzX,GAC9E,IAAIp/B,EAAK,EACO,OAAZ54C,EAAK44C,GACPA,EAAK,EACgB,OAAZ54C,EAAK44C,GACdA,EAAK,EACgB,OAAZ54C,EAAK44C,KACdA,EAAK,GAEP,IACIu2C,EAAc,IAAI9W,aAAaoX,EAAiBzX,EADhCpe,qBAAqBid,aAAa92F,KAAMigB,EAAM44C,EAAI74D,OAKtE,OAHAA,KAAKwpE,OAAOtpD,KAAKkvF,GACjBpvG,KAAKqsG,oBAAoB+C,GACzBpvG,KAAKqvG,sBAAsBpvF,EAAMmvF,GAC1BA,GAGTpT,gBAAgBp8F,UAAUyvG,sBAAwB,SAAUpvF,EAAMnV,GAGhE,IAFA,IAAIvL,EAAI,EACJouC,EAAM3tC,KAAK4nG,iBAAiBnoG,OACzBF,EAAIouC,GAAK,CACd,GAAI3tC,KAAK4nG,iBAAiBroG,GAAGuL,UAAYA,EACvC,OAEFvL,GAAK,EAEPS,KAAK4nG,iBAAiB1nF,KAAK,CACzBnX,GAAI27F,oBAAoBuB,qBAAqBhmF,GAC7CnV,QAASA,EACTmV,KAAMA,KAIV+7E,gBAAgBp8F,UAAU+vG,iBAAmB,SAAUP,GACrD,IACIxlF,EADAksC,EAAMs5C,EAAY/pG,OAElBujE,EAAO5oE,KAAKwnG,WAAW/nG,OAC3B,IAAKmqB,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EACpB5pB,KAAKwnG,WAAW59E,GAAG46C,QACtB1O,EAAI51C,KAAKlgB,KAAKwnG,WAAW59E,KAK/BoyE,gBAAgBp8F,UAAUujF,aAAe,WAEvC,IAAI5jF,EADJS,KAAKq2E,eAAgB,EAErB,IAAI1oC,EAAM3tC,KAAK0nG,UAAUjoG,OACzB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKk5F,aAAa35F,GAAKS,KAAK0nG,UAAUnoG,GAKxC,IAHAS,KAAK8uG,aAAa9uG,KAAKunG,WAAYvnG,KAAK0nG,UAAW1nG,KAAKk5F,aAAcl5F,KAAK60F,aAAc,EAAG,IAAI,GAChG70F,KAAK+uG,qBACLphE,EAAM3tC,KAAKw2D,kBAAkB/2D,OACxBF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKw2D,kBAAkBj3D,GAAGq3D,WAE5B52D,KAAKwsG,mBAGPxQ,gBAAgBp8F,UAAUkvG,aAAe,SAAUh5C,EAAK4xC,EAAWxO,EAAchyF,EAAW+wF,EAAOM,EAAcnzE,GAC/G,IACI7lB,EAEAqqB,EACAg/C,EAGAgnC,EACA1lE,EACA2lE,EATAH,EAAkB,GAAG1kF,OAAOutE,GAE5B5qD,EAAMmoB,EAAIr2D,OAAS,EAGnBqwG,EAAY,GACZC,EAAe,GAInB,IAAKxwG,EAAIouC,EAAKpuC,GAAK,EAAGA,GAAK,EAAG,CAO5B,IANAswG,EAAe7vG,KAAKysG,uBAAuB32C,EAAIv2D,KAI7CmoG,EAAUnoG,GAAK25F,EAAa2W,EAAe,GAF3C/5C,EAAIv2D,GAAGqjF,QAAUx9D,EAID,OAAd0wC,EAAIv2D,GAAGs5D,IAA6B,OAAd/C,EAAIv2D,GAAGs5D,IAA6B,OAAd/C,EAAIv2D,GAAGs5D,IAA6B,OAAd/C,EAAIv2D,GAAGs5D,GACtEg3C,EAGHnI,EAAUnoG,GAAGub,MAAM0pD,QAAS,EAF5BkjC,EAAUnoG,GAAKS,KAAKmvG,mBAAmBr5C,EAAIv2D,GAAI04F,GAI7CniC,EAAIv2D,GAAGqjF,SACL8kB,EAAUnoG,GAAGub,MAAMs9E,MAAMzxE,aAAezf,GAC1CA,EAAU6wB,YAAY2vE,EAAUnoG,GAAGub,MAAMs9E,OAG7C0X,EAAU5vF,KAAKwnF,EAAUnoG,GAAGub,YACvB,GAAkB,OAAdg7C,EAAIv2D,GAAGs5D,GAAa,CAC7B,GAAKg3C,EAIH,IADAjnC,EAAO8+B,EAAUnoG,GAAGgkD,GAAG9jD,OAClBmqB,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EACzB89E,EAAUnoG,GAAG25F,aAAatvE,GAAK89E,EAAUnoG,GAAGgkD,GAAG35B,QAJjD89E,EAAUnoG,GAAKS,KAAKsvG,mBAAmBx5C,EAAIv2D,IAO7CS,KAAK8uG,aAAah5C,EAAIv2D,GAAGgkD,GAAImkD,EAAUnoG,GAAGgkD,GAAImkD,EAAUnoG,GAAG25F,aAAcwO,EAAUnoG,GAAG45F,GAAIlB,EAAQ,EAAGyX,EAAiBtqF,GAClH0wC,EAAIv2D,GAAGqjF,SACL8kB,EAAUnoG,GAAG45F,GAAGxyE,aAAezf,GACjCA,EAAU6wB,YAAY2vE,EAAUnoG,GAAG45F,QAGhB,OAAdrjC,EAAIv2D,GAAGs5D,IACXg3C,IACHnI,EAAUnoG,GAAKS,KAAKuvG,uBAAuBz5C,EAAIv2D,GAAI2H,IAErD0oG,EAAmBlI,EAAUnoG,GAAGgO,UAChCmiG,EAAgBxvF,KAAK0vF,IACE,OAAd95C,EAAIv2D,GAAGs5D,IAA6B,OAAd/C,EAAIv2D,GAAGs5D,IAA6B,OAAd/C,EAAIv2D,GAAGs5D,IAA6B,OAAd/C,EAAIv2D,GAAGs5D,IAC7Eg3C,IACHnI,EAAUnoG,GAAKS,KAAKyvG,mBAAmB35C,EAAIv2D,GAAImwG,EAAiBzX,IAElEj4F,KAAK2vG,iBAAiBjI,EAAUnoG,KACT,OAAdu2D,EAAIv2D,GAAGs5D,IAA6B,OAAd/C,EAAIv2D,GAAGs5D,IAA6B,OAAd/C,EAAIv2D,GAAGs5D,IAA6B,OAAd/C,EAAIv2D,GAAGs5D,IAC7Eg3C,GAMH3lE,EAAWw9D,EAAUnoG,IACZilE,QAAS,IANlBt6B,EAAW+yC,eAAeE,YAAYrnB,EAAIv2D,GAAGs5D,KACpC+gB,KAAK55E,KAAM81D,EAAIv2D,IACxBmoG,EAAUnoG,GAAK2qC,EACflqC,KAAKynG,eAAevnF,KAAKgqB,IAK3B6lE,EAAa7vF,KAAKgqB,IACK,OAAd4rB,EAAIv2D,GAAGs5D,KACXg3C,GAOH3lE,EAAWw9D,EAAUnoG,IACZilE,QAAS,GAPlBt6B,EAAW+yC,eAAeE,YAAYrnB,EAAIv2D,GAAGs5D,IAC7C6uC,EAAUnoG,GAAK2qC,EACfA,EAAS0vC,KAAK55E,KAAM81D,EAAKv2D,EAAGmoG,GAC5B1nG,KAAKynG,eAAevnF,KAAKgqB,GACzB9kB,GAAS,GAKX2qF,EAAa7vF,KAAKgqB,IAEpBlqC,KAAK0sG,oBAAoB52C,EAAIv2D,GAAIA,EAAI,GAGvC,IADAouC,EAAMmiE,EAAUrwG,OACXF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBuwG,EAAUvwG,GAAGilE,QAAS,EAGxB,IADA72B,EAAMoiE,EAAatwG,OACdF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBwwG,EAAaxwG,GAAGilE,QAAS,GAI7Bw3B,gBAAgBp8F,UAAU4jG,mBAAqB,WAE7C,IAAIjkG,EADJS,KAAKwsG,kBAEL,IAAI7+D,EAAM3tC,KAAKwnG,WAAW/nG,OAC1B,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKwnG,WAAWjoG,GAAGqtC,QAIrB,IAFA5sC,KAAKgwG,cAEAzwG,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,GACpBS,KAAKwnG,WAAWjoG,GAAGo3D,MAAQ32D,KAAKq2E,iBAC9Br2E,KAAKwnG,WAAWjoG,GAAG84F,SACrBr4F,KAAKwnG,WAAWjoG,GAAG84F,OAAO7gE,aAAa,IAAKx3B,KAAKwnG,WAAWjoG,GAAGqG,GAE/D5F,KAAKwnG,WAAWjoG,GAAGqG,EAAI,OAAS5F,KAAKwnG,WAAWjoG,GAAGqG,GAErD5F,KAAKwnG,WAAWjoG,GAAG64F,MAAM5gE,aAAa,IAAKx3B,KAAKwnG,WAAWjoG,GAAGqG,GAAK,UAKzEo2F,gBAAgBp8F,UAAUowG,YAAc,WACtC,IAAIzwG,EAEA0wG,EADAtiE,EAAM3tC,KAAK4nG,iBAAiBnoG,OAEhC,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB0wG,EAAkBjwG,KAAK4nG,iBAAiBroG,IACnCS,KAAKq2E,eAAiB45B,EAAgBnlG,QAAQ2rD,eAAyC,IAAzBw5C,EAAgBhwF,MACjFgwF,EAAgBlnG,GAAGknG,EAAgBhwF,KAAMgwF,EAAgBnlG,QAAS9K,KAAKq2E,gBAK7E2lB,gBAAgBp8F,UAAUotC,QAAU,WAClChtC,KAAK0jG,qBACL1jG,KAAKunG,WAAa,KAClBvnG,KAAK0nG,UAAY,MAiCnBG,cAAcjoG,UAAU+8F,YAAc,SAAU3kB,GAC9C,GAAIA,GAAeh4E,KAAK8nG,cAAcnxC,KAAM,CAC1C,IAAIu5C,EAAalwG,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EACpD46D,EAAanwG,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EACpDl9B,EAAUrY,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAAI,IACzDv1C,KAAK+nG,aAAavwE,aAAa,SAAW24E,EAAW,GAAKD,EAAW,GAAM,UAAYA,EAAW,GAAK,KAAOC,EAAW,GAAKD,EAAW,IAAM,UAAYA,EAAW,GAAK,KAAOC,EAAW,GAAKD,EAAW,IAAM,UAAYA,EAAW,GAAK,UAAY73F,EAAU,QAezQ8vF,cAAcvoG,UAAU+8F,YAAc,SAAU3kB,GAC9C,GAAIA,GAAeh4E,KAAK8nG,cAAcnxC,KAAM,CAC1C,IAAIjxD,EAAQ1F,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAC/Cl9B,EAAUrY,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EACrDv1C,KAAK+nG,aAAavwE,aAAa,SAAU,WAAa9xB,EAAM,GAAK,YAAcA,EAAM,GAAK,YAAcA,EAAM,GAAK,UAAY2S,EAAU,QAmB7I+vF,sBAAsBxoG,UAAU+8F,YAAc,SAAU3kB,GACtD,GAAIA,GAAeh4E,KAAK8nG,cAAcnxC,KAAM,CAE1C,IACIy5C,EADqB,GACbpwG,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAQ/C86D,EAAarwG,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EACpD+6D,EAAwB,GAAdD,EAAmB,EAAID,EACjCG,EAAwB,GAAdF,EAAmB,EAAID,EAErCpwG,KAAKqoG,eAAe7wE,aAAa,eAAgB84E,EAAS,IAAMC,GAMhE,IAAIC,EAAwD,GAA5CxwG,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAAU,OAAS,YAC1Ev1C,KAAKqoG,eAAe7wE,aAAa,WAAYg5E,KAajDlI,gBAAgB1oG,UAAU6wG,WAAa,WACrC,IACIrnG,EACAsnG,EACAnxG,EACAouC,EAJAgjE,EAAe3wG,KAAKg2E,KAAK6e,aAAa/tF,UAAY9G,KAAKg2E,KAAK6e,aAAa+b,WAgB7E,IAXiD,IAA7C5wG,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,GACzC5H,EAAM3tC,KAAKg2E,KAAKmW,YAAYhjB,gBAAgB1pE,OAC5CF,EAAI,GAGJouC,EAAU,GADVpuC,EAAIS,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAAI,IAGjDm7D,EAAYx6C,SAAS,MACX1+B,aAAa,OAAQ,QAC/Bk5E,EAAUl5E,aAAa,iBAAkB,SACzCk5E,EAAUl5E,aAAa,oBAAqB,GACpCj4B,EAAIouC,EAAKpuC,GAAK,EACpB6J,EAAO8sD,SAAS,QAChBw6C,EAAU34E,YAAY3uB,GACtBpJ,KAAK2qE,MAAMzqD,KAAK,CAAEf,EAAG/V,EAAMgjC,EAAG7sC,IAEhC,GAAkD,IAA9CS,KAAK8nG,cAAcE,eAAe,IAAI7oF,EAAEo2B,EAAS,CACnD,IAAI+nB,EAAOpH,SAAS,QAChB/oD,EAAKwnD,kBACT2I,EAAK9lC,aAAa,KAAMrqB,GACxBmwD,EAAK9lC,aAAa,YAAa,SAC/B8lC,EAAKvlC,YAAY24E,GACjB1wG,KAAKg2E,KAAKC,WAAWjG,KAAKj4C,YAAYulC,GACtC,IAAIxI,EAAIoB,SAAS,KAEjB,IADApB,EAAEt9B,aAAa,OAAQ,OAASk6B,aAAe,IAAMvkD,EAAK,KACnDwjG,EAAa,IAClB77C,EAAE/8B,YAAY44E,EAAa,IAE7B3wG,KAAKg2E,KAAK6e,aAAa98D,YAAY+8B,GACnC90D,KAAKurG,OAASjuC,EACdozC,EAAUl5E,aAAa,SAAU,aAC5B,GAAkD,IAA9Cx3B,KAAK8nG,cAAcE,eAAe,IAAI7oF,EAAEo2B,GAAyD,IAA9Cv1C,KAAK8nG,cAAcE,eAAe,IAAI7oF,EAAEo2B,EAAS,CAC7G,GAAkD,IAA9Cv1C,KAAK8nG,cAAcE,eAAe,IAAI7oF,EAAEo2B,EAE1C,IADAo7D,EAAe3wG,KAAKg2E,KAAK6e,aAAa/tF,UAAY9G,KAAKg2E,KAAK6e,aAAa+b,WAClED,EAAalxG,QAClBO,KAAKg2E,KAAK6e,aAAax8D,YAAYs4E,EAAa,IAGpD3wG,KAAKg2E,KAAK6e,aAAa98D,YAAY24E,GACnC1wG,KAAKg2E,KAAK6e,aAAa1kE,gBAAgB,QACvCugF,EAAUl5E,aAAa,SAAU,QAEnCx3B,KAAKuoG,aAAc,EACnBvoG,KAAK6wG,WAAaH,GAGpBpI,gBAAgB1oG,UAAU+8F,YAAc,SAAU3kB,GAIhD,IAAIz4E,EAHCS,KAAKuoG,aACRvoG,KAAKywG,aAGP,IACInzC,EACAl0D,EAFAukC,EAAM3tC,KAAK2qE,MAAMlrE,OAGrB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB,IAAyB,IAArBS,KAAK2qE,MAAMprE,GAAG6sC,IAChBkxB,EAAOt9D,KAAKg2E,KAAKmW,YAAYmK,SAASt2F,KAAK2qE,MAAMprE,GAAG6sC,GACpDhjC,EAAOpJ,KAAK2qE,MAAMprE,GAAG4f,GACjB64D,GAAeh4E,KAAK8nG,cAAcnxC,MAAQ2G,EAAK/G,KAAKI,OACtDvtD,EAAKouB,aAAa,IAAK8lC,EAAKy5B,UAE1B/e,GAAeh4E,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEw3C,MAAQ32D,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEw3C,MAAQ32D,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEw3C,MAAQ32D,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEw3C,MAAQ2G,EAAK/G,KAAKI,MAAM,CAC7N,IAAIm6C,EACJ,GAAiD,IAA7C9wG,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,GAAwD,MAA7Cv1C,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAAW,CACtG,IAAIt2B,EAAmG,IAA/F8J,KAAKmd,IAAIlmC,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAAGv1C,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,GAC9Fl2B,EAAmG,IAA/F0J,KAAKvhB,IAAIxH,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAAGv1C,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,GAC9F5rB,EAAIvgB,EAAK2nG,iBACbD,EAAiB,SAAWnnF,EAAI1K,EAAI,IACpC,IAGI2K,EAHAonF,EAAarnF,GAAKtK,EAAIJ,GACtB0hE,EAAU,EAA+C,EAA3C3gF,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAAQv1C,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAAI,IACxG07D,EAAQloF,KAAK2jC,MAAMskD,EAAarwB,GAEpC,IAAK/2D,EAAI,EAAGA,EAAIqnF,EAAOrnF,GAAK,EAC1BknF,GAAkB,KAAkD,EAA3C9wG,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAAQv1C,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAAI,IAAO,IAE5Hu7D,GAAkB,KAAW,GAAJnnF,EAAS,YAElCmnF,EAAiB,KAAkD,EAA3C9wG,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAAQv1C,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAAI,IAEpHnsC,EAAKouB,aAAa,mBAAoBs5E,GAW5C,IAPI94B,GAAeh4E,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEw3C,OACxD32D,KAAK6wG,WAAWr5E,aAAa,eAA2D,EAA3Cx3B,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,IAGlFyiC,GAAeh4E,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEw3C,OACxD32D,KAAK6wG,WAAWr5E,aAAa,UAAWx3B,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,IAE/B,IAA9Cv1C,KAAK8nG,cAAcE,eAAe,IAAI7oF,EAAEo2B,GAAyD,IAA9Cv1C,KAAK8nG,cAAcE,eAAe,IAAI7oF,EAAEo2B,KACzFyiC,GAAeh4E,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEw3C,MAAM,CAC9D,IAAIjxD,EAAQ1F,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EACnDv1C,KAAK6wG,WAAWr5E,aAAa,SAAU,OAAS86B,QAAmB,IAAX5sD,EAAM,IAAY,IAAM4sD,QAAmB,IAAX5sD,EAAM,IAAY,IAAM4sD,QAAmB,IAAX5sD,EAAM,IAAY,OAiChJ8iG,iBAAiB5oG,UAAU+8F,YAAc,SAAU3kB,GACjD,GAAIA,GAAeh4E,KAAK8nG,cAAcnxC,KAAM,CAC1C,IAAIu6C,EAASlxG,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAChD47D,EAASnxG,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAChD67D,EAASpxG,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAChD87D,EAASD,EAAO,GAAK,IAAMD,EAAO,GAAK,IAAMD,EAAO,GACpDI,EAASF,EAAO,GAAK,IAAMD,EAAO,GAAK,IAAMD,EAAO,GACpDK,EAASH,EAAO,GAAK,IAAMD,EAAO,GAAK,IAAMD,EAAO,GACxDlxG,KAAK0oG,QAAQlxE,aAAa,cAAe65E,GACzCrxG,KAAK2oG,QAAQnxE,aAAa,cAAe85E,GACzCtxG,KAAK4oG,QAAQpxE,aAAa,cAAe+5E,KAyC7C1I,mBAAmBjpG,UAAUkpG,aAAe,SAAUhtF,EAAM2sF,GAC1D,IAAIoD,EAAS31C,SAASp6C,GAGtB,OAFA+vF,EAAOr0E,aAAa,OAAQ,SAC5BixE,EAAoB1wE,YAAY8zE,GACzBA,GAGThD,mBAAmBjpG,UAAU4xG,cAAgB,SAAUC,EAAYC,EAAYC,EAAOC,EAAaC,GAWjG,IAVA,IAEIjvC,EAIAkvC,EANAhqF,EAAM,EAGNoe,EAAMnd,KAAKmd,IAAIurE,EAAYC,GAC3BlqG,EAAMuhB,KAAKvhB,IAAIiqG,EAAYC,GAC3BK,EAAQloG,MAAM/J,KAAK,KAAM,CAAEL,OAJhB,MAMXkkC,EAAM,EACNquE,EAAcH,EAAcD,EAC5BK,EAAaP,EAAaD,EACvB3pF,GAAO,KAGVgqF,GAFFlvC,EAAO96C,EAAM,MACDoe,EACG+rE,EAAa,EAAIJ,EAAcD,EACnChvC,GAAQp7D,EACJyqG,EAAa,EAAIL,EAAcC,EAE9BD,EAAcI,EAAcjpF,KAAKioC,KAAK4R,EAAO6uC,GAAcQ,EAAY,EAAIN,GAE3FI,EAAMpuE,GAAOmuE,EACbnuE,GAAO,EACP7b,GAAO,IAAM,IAEf,OAAOiqF,EAAMvoG,KAAK,MAGpBq/F,mBAAmBjpG,UAAU+8F,YAAc,SAAU3kB,GACnD,GAAIA,GAAeh4E,KAAK8nG,cAAcnxC,KAAM,CAC1C,IAAI/J,EACAo7C,EAAiBhoG,KAAK8nG,cAAcE,eACpChoG,KAAKgpG,kBAAoBhxB,GAAegwB,EAAe,GAAG7oF,EAAEw3C,MAAQqxC,EAAe,GAAG7oF,EAAEw3C,MAAQqxC,EAAe,GAAG7oF,EAAEw3C,MAAQqxC,EAAe,GAAG7oF,EAAEw3C,MAAQqxC,EAAe,GAAG7oF,EAAEw3C,QAC9K/J,EAAM5sD,KAAKwxG,cAAcxJ,EAAe,GAAG7oF,EAAEo2B,EAAGyyD,EAAe,GAAG7oF,EAAEo2B,EAAGyyD,EAAe,GAAG7oF,EAAEo2B,EAAGyyD,EAAe,GAAG7oF,EAAEo2B,EAAGyyD,EAAe,GAAG7oF,EAAEo2B,GACzIv1C,KAAKgpG,gBAAgBxxE,aAAa,cAAeo1B,GACjD5sD,KAAKipG,gBAAgBzxE,aAAa,cAAeo1B,GACjD5sD,KAAKkpG,gBAAgB1xE,aAAa,cAAeo1B,IAG/C5sD,KAAK0oG,UAAY1wB,GAAegwB,EAAe,IAAI7oF,EAAEw3C,MAAQqxC,EAAe,IAAI7oF,EAAEw3C,MAAQqxC,EAAe,IAAI7oF,EAAEw3C,MAAQqxC,EAAe,IAAI7oF,EAAEw3C,MAAQqxC,EAAe,IAAI7oF,EAAEw3C,QAC3K/J,EAAM5sD,KAAKwxG,cAAcxJ,EAAe,IAAI7oF,EAAEo2B,EAAGyyD,EAAe,IAAI7oF,EAAEo2B,EAAGyyD,EAAe,IAAI7oF,EAAEo2B,EAAGyyD,EAAe,IAAI7oF,EAAEo2B,EAAGyyD,EAAe,IAAI7oF,EAAEo2B,GAC9Iv1C,KAAK0oG,QAAQlxE,aAAa,cAAeo1B,IAGvC5sD,KAAK2oG,UAAY3wB,GAAegwB,EAAe,IAAI7oF,EAAEw3C,MAAQqxC,EAAe,IAAI7oF,EAAEw3C,MAAQqxC,EAAe,IAAI7oF,EAAEw3C,MAAQqxC,EAAe,IAAI7oF,EAAEw3C,MAAQqxC,EAAe,IAAI7oF,EAAEw3C,QAC3K/J,EAAM5sD,KAAKwxG,cAAcxJ,EAAe,IAAI7oF,EAAEo2B,EAAGyyD,EAAe,IAAI7oF,EAAEo2B,EAAGyyD,EAAe,IAAI7oF,EAAEo2B,EAAGyyD,EAAe,IAAI7oF,EAAEo2B,EAAGyyD,EAAe,IAAI7oF,EAAEo2B,GAC9Iv1C,KAAK2oG,QAAQnxE,aAAa,cAAeo1B,IAGvC5sD,KAAK4oG,UAAY5wB,GAAegwB,EAAe,IAAI7oF,EAAEw3C,MAAQqxC,EAAe,IAAI7oF,EAAEw3C,MAAQqxC,EAAe,IAAI7oF,EAAEw3C,MAAQqxC,EAAe,IAAI7oF,EAAEw3C,MAAQqxC,EAAe,IAAI7oF,EAAEw3C,QAC3K/J,EAAM5sD,KAAKwxG,cAAcxJ,EAAe,IAAI7oF,EAAEo2B,EAAGyyD,EAAe,IAAI7oF,EAAEo2B,EAAGyyD,EAAe,IAAI7oF,EAAEo2B,EAAGyyD,EAAe,IAAI7oF,EAAEo2B,EAAGyyD,EAAe,IAAI7oF,EAAEo2B,GAC9Iv1C,KAAK4oG,QAAQpxE,aAAa,cAAeo1B,IAGvC5sD,KAAK+oG,UAAY/wB,GAAegwB,EAAe,IAAI7oF,EAAEw3C,MAAQqxC,EAAe,IAAI7oF,EAAEw3C,MAAQqxC,EAAe,IAAI7oF,EAAEw3C,MAAQqxC,EAAe,IAAI7oF,EAAEw3C,MAAQqxC,EAAe,IAAI7oF,EAAEw3C,QAC3K/J,EAAM5sD,KAAKwxG,cAAcxJ,EAAe,IAAI7oF,EAAEo2B,EAAGyyD,EAAe,IAAI7oF,EAAEo2B,EAAGyyD,EAAe,IAAI7oF,EAAEo2B,EAAGyyD,EAAe,IAAI7oF,EAAEo2B,EAAGyyD,EAAe,IAAI7oF,EAAEo2B,GAC9Iv1C,KAAK+oG,QAAQvxE,aAAa,cAAeo1B,MAwD/Cu8C,oBAAoBvpG,UAAU+8F,YAAc,SAAU3kB,GACpD,GAAIA,GAAeh4E,KAAK8nG,cAAcnxC,KAAM,CAI1C,IAHIqhB,GAAeh4E,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEw3C,OACxD32D,KAAKqoG,eAAe7wE,aAAa,eAAgBx3B,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAAI,GAE1FyiC,GAAeh4E,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEw3C,KAAM,CAC9D,IAAIu7C,EAAMlyG,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EACjDv1C,KAAKqpG,QAAQ7xE,aAAa,cAAe69B,SAAStsC,KAAKod,MAAe,IAAT+rE,EAAI,IAAWnpF,KAAKod,MAAe,IAAT+rE,EAAI,IAAWnpF,KAAKod,MAAe,IAAT+rE,EAAI,MAKvH,IAHIl6B,GAAeh4E,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEw3C,OACxD32D,KAAKqpG,QAAQ7xE,aAAa,gBAAiBx3B,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAAI,KAEpFyiC,GAAeh4E,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEw3C,MAAQ32D,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEw3C,KAAM,CAC7G,IAAIvnB,EAAWpvC,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAClDoiB,GAAS33D,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAAI,IAAMwd,UAC1DlmD,EAAIuiC,EAAWrmB,KAAKquC,IAAIO,GACxB7qD,EAAIsiC,EAAWrmB,KAAKuuC,IAAIK,GAC5B33D,KAAKopG,SAAS5xE,aAAa,KAAM3qB,GACjC7M,KAAKopG,SAAS5xE,aAAa,KAAM1qB,MAgBvC,IAAIqlG,iBAAmB,GAEvB,SAASC,gBAAgBC,EAAYvK,EAAe9xB,GAClDh2E,KAAKuoG,aAAc,EACnBvoG,KAAK8nG,cAAgBA,EACrB9nG,KAAKqyG,WAAaA,EAClBryG,KAAKg2E,KAAOA,EACZA,EAAKk1B,aAAeh1C,SAAS,KAC7B8f,EAAKk1B,aAAanzE,YAAYi+C,EAAK6e,cACnC7e,EAAKk1B,aAAanzE,YAAYi+C,EAAKm1B,oBACnCn1B,EAAKstB,YAActtB,EAAKk1B,aAwF1B,SAASkB,WAAWp2B,GAClB,IAAIz2E,EAMAuoG,EALAn6D,EAAMqoC,EAAK/1D,KAAKqyF,GAAKt8B,EAAK/1D,KAAKqyF,GAAG7yG,OAAS,EAC3CmpF,EAAQj0B,kBACRm0B,EAAMH,eAAe6iB,aAAa5iB,GAAO,GACzClrB,EAAQ,EAGZ,IAFA19D,KAAKuyG,QAAU,GAEVhzG,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBuoG,EAAgB,KACW,KAAvB9xB,EAAK/1D,KAAKqyF,GAAG/yG,GAAGs5D,IAClB6E,GAAS,EACToqC,EAAgB,IAAID,cAAc/e,EAAK9S,EAAK+0B,eAAe/C,eAAezoG,KAC1C,KAAvBy2E,EAAK/1D,KAAKqyF,GAAG/yG,GAAGs5D,IACzB6E,GAAS,EACToqC,EAAgB,IAAIK,cAAcrf,EAAK9S,EAAK+0B,eAAe/C,eAAezoG,KAC1C,KAAvBy2E,EAAK/1D,KAAKqyF,GAAG/yG,GAAGs5D,GACzBivC,EAAgB,IAAIQ,gBAAgBtyB,EAAMA,EAAK+0B,eAAe/C,eAAezoG,IAC7C,KAAvBy2E,EAAK/1D,KAAKqyF,GAAG/yG,GAAGs5D,IACzB6E,GAAS,EACToqC,EAAgB,IAAIU,iBAAiB1f,EAAK9S,EAAK+0B,eAAe/C,eAAezoG,KAC7C,KAAvBy2E,EAAK/1D,KAAKqyF,GAAG/yG,GAAGs5D,IACzB6E,GAAS,EACToqC,EAAgB,IAAIe,mBAAmB/f,EAAK9S,EAAK+0B,eAAe/C,eAAezoG,KAC/C,KAAvBy2E,EAAK/1D,KAAKqyF,GAAG/yG,GAAGs5D,IACzB6E,GAAS,EACToqC,EAAgB,IAAIqB,oBAAoBrgB,EAAK9S,EAAK+0B,eAAe/C,eAAezoG,KAChD,KAAvBy2E,EAAK/1D,KAAKqyF,GAAG/yG,GAAGs5D,GAEzBivC,EAAgB,IAAIsK,gBAAgBtpB,EAAK9S,EAAK+0B,eAAe/C,eAAezoG,GAAIy2E,GAChD,KAAvBA,EAAK/1D,KAAKqyF,GAAG/yG,GAAGs5D,KACzB6E,GAAS,EACToqC,EAAgB,IAAIM,sBAAsBtf,EAAK9S,EAAK+0B,eAAe/C,eAAezoG,KAEhFuoG,GACF9nG,KAAKuyG,QAAQryF,KAAK4nF,GAGlBpqC,IACFsY,EAAKC,WAAWjG,KAAKj4C,YAAY+wD,GACjC9S,EAAK6e,aAAar9D,aAAa,SAAU,OAASk6B,aAAe,IAAMk3B,EAAQ,MAE7E5oF,KAAKuyG,QAAQ9yG,QACfu2E,EAAKyhB,uBAAuBz3F,MAchC,SAAS+1F,gBAKP,IAAIx2F,EAGJ,IAPAS,KAAKm+F,MAAQ,GACbn+F,KAAKi+F,QAAU,EACfj+F,KAAKw9F,IAAM,IAAItmC,OACfl3D,KAAK69F,GAAK,EAGV79F,KAAKo+F,QAAUxoC,iBAAiB,UADtB,IAELr2D,EAAI,EAAGA,EAFF,GAEWA,GAAK,EACxBS,KAAKm+F,MAAM5+F,GAAKq2D,iBAAiB,UAAW,IAE9C51D,KAAK4kE,QALK,GA4BZ,SAAS4tC,iBAoET,SAASrV,eAAel9E,EAAMg2D,EAAYV,GACxCv1E,KAAK2mF,UAAY1Q,EAAWwlB,aAAax7E,EAAKqpD,OAC9CtpE,KAAK0B,IAAMu0E,EAAWylB,YAAYzT,SAASjoF,KAAK2mF,WAChD3mF,KAAKgjG,YAAY/iF,EAAMg2D,EAAYV,GA2CrC,SAAS6nB,cAAcn9E,EAAMg2D,EAAYV,GACvCv1E,KAAKwoE,gBAAiB,EACtBxoE,KAAKyoE,OAASxoD,EAAKwoD,OACnBzoE,KAAKu1F,gBAAkB,GACvBv1F,KAAKsrC,SAAWunB,iBAAiB7yD,KAAKyoE,OAAOhpE,QAC7CO,KAAKgjG,YAAY/iF,EAAMg2D,EAAYV,GACnCv1E,KAAK8zF,GAAK7zE,EAAK6zE,GAAKviB,gBAAgB0F,QAAQj3E,KAAMigB,EAAK6zE,GAAI,EAAG7d,EAAWiC,UAAWl4E,MAAQ,CAAEqnG,cAAc,GAqC9G,SAASoL,cAAcxyF,EAAMnV,GAK3B,IAAIvL,EAJJS,KAAKigB,KAAOA,EACZjgB,KAAK8K,QAAUA,EACf9K,KAAKmpE,gBAAkBnpE,KAAKigB,KAAKkpD,iBAAmB,GACpDnpE,KAAKs2F,SAAWzjC,iBAAiB7yD,KAAKmpE,gBAAgB1pE,QAEtD,IAAIkuC,EAAM3tC,KAAKmpE,gBAAgB1pE,OAC3BizG,GAAW,EACf,IAAKnzG,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACa,MAAjCS,KAAKmpE,gBAAgB5pE,GAAG2sD,OAC1BwmD,GAAW,GAEb1yG,KAAKs2F,SAAS/2F,GAAKs6E,qBAAqBid,aAAa92F,KAAK8K,QAAS9K,KAAKmpE,gBAAgB5pE,GAAI,GAE9FS,KAAK0yG,SAAWA,EACZA,GACF1yG,KAAK8K,QAAQ2sF,uBAAuBz3F,MAoDxC,SAASi9F,eAAeh9E,EAAMg2D,EAAYV,GACxCv1E,KAAKwpE,OAAS,GACdxpE,KAAKunG,WAAatnF,EAAKupD,OACvBxpE,KAAKwnG,WAAa,GAClBxnG,KAAK0nG,UAAY,GACjB1nG,KAAKk5F,aAAe,GACpBl5F,KAAKynG,eAAiB,GACtBznG,KAAK2nG,kBAAoB,GACzB3nG,KAAKumG,kBAAoB,IAAIL,sBAC7BlmG,KAAKgjG,YAAY/iF,EAAMg2D,EAAYV,GA8drC,SAAS8nB,eAAep9E,EAAMg2D,EAAYV,GACxCv1E,KAAKgjG,YAAY/iF,EAAMg2D,EAAYV,GAiBrC,SAAS2nB,cAAcj9E,EAAMg2D,EAAYV,GACvCv1E,KAAKsnG,UAAY,GACjBtnG,KAAK2rF,QAAU,EACf3rF,KAAKwrF,eAAgB,EACrBxrF,KAAKyrF,iBAAkB,EACvBzrF,KAAK0rF,iBAAkB,EACvB1rF,KAAKuK,QAAS,EACdvK,KAAK2F,MAAO,EACZ3F,KAAKkrF,cAAgB,EACrBlrF,KAAK2yG,cAAgB,KACrB3yG,KAAKkpF,WAAa,SAClBlpF,KAAKoa,OAAS,CACZzU,KAAM,gBACN4E,OAAQ,gBACRqoG,OAAQ,EACRC,OAAQ,IAEV7yG,KAAKgjG,YAAY/iF,EAAMg2D,EAAYV,GAmMrC,SAASu9B,aAOT,SAASC,gBAgFT,SAAS/S,cAAc//E,EAAMg2D,EAAYV,GACvCv1E,KAAKgjG,YAAY/iF,EAAMg2D,EAAYV,GAwBrC,SAASwqB,aAAa9/E,EAAMg2D,EAAYV,GACtCv1E,KAAKyoE,OAASxoD,EAAKwoD,OACnBzoE,KAAKo2F,YAAcn2E,EAAKgpD,QACxBjpE,KAAKwoE,gBAAiB,EACtBxoE,KAAKu1F,gBAAkB,GACvBv1F,KAAKsrC,SAAWtrC,KAAKyoE,OAAS5V,iBAAiB7yD,KAAKyoE,OAAOhpE,QAAU,GACrEO,KAAKgjG,YAAY/iF,EAAMg2D,EAAYV,GACnCv1E,KAAK8zF,GAAK7zE,EAAK6zE,GAAKviB,gBAAgB0F,QAAQj3E,KAAMigB,EAAK6zE,GAAI,EAAG7d,EAAWiC,UAAWl4E,MAAQ,CAAEqnG,cAAc,GAqC9G,SAAS1H,cAAc1/E,EAAMg2D,EAAYV,GAEvCv1E,KAAKwpE,OAAS,GAEdxpE,KAAKunG,WAAatnF,EAAKupD,OAEvBxpE,KAAKwnG,WAAa,GAElBxnG,KAAKynG,eAAiB,GAEtBznG,KAAK0nG,UAAY,GAEjB1nG,KAAK2nG,kBAAoB,GAEzB3nG,KAAK4nG,iBAAmB,GACxB5nG,KAAKgzG,gBAAkB98C,SAAS,KAChCl2D,KAAKgjG,YAAY/iF,EAAMg2D,EAAYV,GAGnCv1E,KAAKk5F,aAAe,GACpBl5F,KAAKizG,YAAc,CACjBpmG,EAAG,OACHC,GAAI,OACJrB,EAAG,EACHD,EAAG,GAsMP,SAASo0F,aAAa3/E,EAAMg2D,EAAYV,GACtCv1E,KAAKsnG,UAAY,GACjBtnG,KAAKkzG,UAAY,GACjBlzG,KAAKizG,YAAc,CACjBpmG,EAAG,OACHC,GAAI,OACJrB,EAAG,EACHD,EAAG,GAELxL,KAAKkpF,WAAa,MAClBlpF,KAAKmzG,UAAW,EAChBnzG,KAAKgjG,YAAY/iF,EAAMg2D,EAAYV,GAiQrC,SAASuqB,cAAc7/E,EAAMg2D,EAAYV,GACvCv1E,KAAK2mF,UAAY1Q,EAAWwlB,aAAax7E,EAAKqpD,OAC9CtpE,KAAKgjG,YAAY/iF,EAAMg2D,EAAYV,GA6BrC,SAASsqB,eAAe5/E,EAAMg2D,EAAYV,GACxCv1E,KAAKwxE,YACLxxE,KAAKijG,aAAahjF,EAAMg2D,EAAYV,GACpCv1E,KAAKwhG,gBACL,IAAIvqB,EAAU1F,gBAAgB0F,QAY9B,GAXAj3E,KAAKozG,GAAKn8B,EAAQj3E,KAAMigB,EAAKmzF,GAAI,EAAG,EAAGpzG,MACnCigB,EAAK0pD,GAAGxqD,EAAEF,GACZjf,KAAKkgD,GAAK+2B,EAAQj3E,KAAMigB,EAAK0pD,GAAGxqD,EAAEtS,EAAG,EAAG,EAAG7M,MAC3CA,KAAKu3E,GAAKN,EAAQj3E,KAAMigB,EAAK0pD,GAAGxqD,EAAErS,EAAG,EAAG,EAAG9M,MAC3CA,KAAKw3E,GAAKP,EAAQj3E,KAAMigB,EAAK0pD,GAAGxqD,EAAEo8C,EAAG,EAAG,EAAGv7D,OAE3CA,KAAKmf,EAAI83D,EAAQj3E,KAAMigB,EAAK0pD,GAAGxqD,EAAG,EAAG,EAAGnf,MAEtCigB,EAAK0pD,GAAGlqD,IACVzf,KAAKyf,EAAIw3D,EAAQj3E,KAAMigB,EAAK0pD,GAAGlqD,EAAG,EAAG,EAAGzf,OAEtCigB,EAAK0pD,GAAG+N,GAAG/tB,EAAElqD,QAAUwgB,EAAK0pD,GAAG+N,GAAG/tB,EAAE,GAAGjM,GAAI,CAC7C,IAAIn+C,EACAouC,EAAM1tB,EAAK0pD,GAAG+N,GAAG/tB,EAAElqD,OACvB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB0gB,EAAK0pD,GAAG+N,GAAG/tB,EAAEpqD,GAAGm+C,GAAK,KACrBz9B,EAAK0pD,GAAG+N,GAAG/tB,EAAEpqD,GAAGkzE,GAAK,KAGzBzyE,KAAK03E,GAAKT,EAAQj3E,KAAMigB,EAAK0pD,GAAG+N,GAAI,EAAG3kB,UAAW/yD,MAClDA,KAAK03E,GAAGlE,IAAK,EACbxzE,KAAK2M,GAAKsqE,EAAQj3E,KAAMigB,EAAK0pD,GAAGh9D,GAAI,EAAGomD,UAAW/yD,MAClDA,KAAK4M,GAAKqqE,EAAQj3E,KAAMigB,EAAK0pD,GAAG/8D,GAAI,EAAGmmD,UAAW/yD,MAClDA,KAAKy3E,GAAKR,EAAQj3E,KAAMigB,EAAK0pD,GAAG8N,GAAI,EAAG1kB,UAAW/yD,MAClDA,KAAK+3E,IAAM,IAAI7gB,OACfl3D,KAAKqzG,SAAW,IAAIn8C,OACpBl3D,KAAKq2E,eAAgB,EAGrBr2E,KAAKmhG,eAAiB,CACpBC,MAAOphG,MA0HX,SAASszG,YAh6DTlB,gBAAgBxyG,UAAU2zG,WAAa,SAAUj2C,GAG/C,IAFA,IAAI/9D,EAAI,EACJouC,EAAMwkE,iBAAiB1yG,OACpBF,EAAIouC,GAAK,CACd,GAAIwkE,iBAAiB5yG,KAAO+9D,EAC1B,OAAO60C,iBAAiB5yG,GAE1BA,GAAK,EAEP,OAAO,MAGT6yG,gBAAgBxyG,UAAU4zG,gBAAkB,SAAUl2C,EAAMm2C,GAC1D,IAAI9sF,EAAa22C,EAAKu3B,aAAaluE,WACnC,GAAKA,EAAL,CAMA,IAHA,IASI+sF,EATA5sG,EAAW6f,EAAW7f,SACtBvH,EAAI,EACJouC,EAAM7mC,EAASrH,OACZF,EAAIouC,GACL7mC,EAASvH,KAAO+9D,EAAKu3B,cAGzBt1F,GAAK,EAGHA,GAAKouC,EAAM,IACb+lE,EAAY5sG,EAASvH,EAAI,IAE3B,IAAIo0G,EAAUz9C,SAAS,OACvBy9C,EAAQn8E,aAAa,OAAQ,IAAMi8E,GAC/BC,EACF/sF,EAAWq2E,aAAa2W,EAASD,GAEjC/sF,EAAWoR,YAAY47E,KAI3BvB,gBAAgBxyG,UAAUg0G,iBAAmB,SAAU59B,EAAM1Y,GAC3D,IAAKt9D,KAAKuzG,WAAWj2C,GAAO,CAC1B,IAAIm2C,EAAW9+C,kBACX42C,EAASr1C,SAAS,QACtBq1C,EAAO/zE,aAAa,KAAM8lC,EAAKs5B,SAC/B2U,EAAO/zE,aAAa,YAAa,SACjC26E,iBAAiBjyF,KAAKo9C,GACtB,IAAI0S,EAAOgG,EAAKC,WAAWjG,KAC3BA,EAAKj4C,YAAYwzE,GACjB,IAAIsI,EAAS39C,SAAS,UACtB29C,EAAOr8E,aAAa,KAAMi8E,GAC1BzzG,KAAKwzG,gBAAgBl2C,EAAMm2C,GAC3BI,EAAO97E,YAAYulC,EAAKu3B,cACxB7kB,EAAKj4C,YAAY87E,GACjB,IAAIF,EAAUz9C,SAAS,OACvBy9C,EAAQn8E,aAAa,OAAQ,IAAMi8E,GACnClI,EAAOxzE,YAAY47E,GACnBr2C,EAAKr9C,KAAKk4E,IAAK,EACf76B,EAAKtpC,OAEPgiD,EAAKymB,SAASn/B,EAAKs5B,UAGrBwb,gBAAgBxyG,UAAU6wG,WAAa,WAKrC,IAJA,IAAI/9B,EAAM1yE,KAAK8nG,cAAcE,eAAe,GAAG7oF,EAAEo2B,EAC7CjK,EAAWtrC,KAAKg2E,KAAKT,KAAKjqC,SAC1B/rC,EAAI,EACJouC,EAAMrC,EAAS7rC,OACZF,EAAIouC,GACLrC,EAAS/rC,IAAM+rC,EAAS/rC,GAAG0gB,KAAKyyD,MAAQA,GAC1C1yE,KAAK4zG,iBAAiB5zG,KAAKg2E,KAAM1qC,EAAS/rC,IAE5CA,GAAK,EAEPS,KAAKuoG,aAAc,GAGrB6J,gBAAgBxyG,UAAU+8F,YAAc,WACjC38F,KAAKuoG,aACRvoG,KAAKywG,cAsDTrE,WAAWxsG,UAAU+8F,YAAc,SAAUtmB,GAC3C,IAAI92E,EACAouC,EAAM3tC,KAAKuyG,QAAQ9yG,OACvB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKuyG,QAAQhzG,GAAGo9F,YAAYtmB,IAoBhC0f,cAAcn2F,UAAUs+F,UAAY,WAClC,IAAI4V,EAA2B,EAAf9zG,KAAK4kE,QACjBmvC,EAAiB/zG,KAAKo+F,QAC1Bp+F,KAAKo+F,QAAUxoC,iBAAiB,UAAWk+C,GAC3C9zG,KAAKo+F,QAAQj3E,IAAI4sF,GACjB,IAAIx0G,EAAI,EACR,IAAKA,EAAIS,KAAK4kE,QAASrlE,EAAIu0G,EAAWv0G,GAAK,EACzCS,KAAKm+F,MAAM5+F,GAAKq2D,iBAAiB,UAAW,IAE9C51D,KAAK4kE,QAAUkvC,GAGjB/d,cAAcn2F,UAAUgtC,MAAQ,WAC9B5sC,KAAKi+F,QAAU,EACfj+F,KAAKw9F,IAAI5wD,QACT5sC,KAAK69F,GAAK,GAQZ2U,cAAc5yG,UAAY,CACxBo0G,eAAgB,aAChB9Q,oBAAqB,aACrBC,wBAAyB,WACvBnjG,KAAK09F,cAAgB19F,KAAKi2E,WAAWynB,cACrC19F,KAAKmsG,yBAA2B,IAAI2G,UAAU9yG,OAEhDqjG,cAAe,aACfsH,aAAc,WACZ,IAAI10B,EAAaj2E,KAAKi2E,WACtB,GAAIA,EAAWooB,YAAcr+F,KAAKigB,KAAK4qF,GAAI,CACzC50B,EAAWooB,UAAYr+F,KAAKigB,KAAK4qF,GACjC,IAAID,EAAiB9zC,aAAa92D,KAAKigB,KAAK4qF,IAC5C50B,EAAWynB,cAAcuW,yBAA2BrJ,IAGxDxH,2BAA4B,WAC1BpjG,KAAKmsF,YAAc,IAAIsmB,cAAczyG,KAAKigB,KAAMjgB,OAElDk0G,YAAa,WACNl0G,KAAKqiG,QAAYriG,KAAKoiG,YAAapiG,KAAKsiG,gBAC3CtiG,KAAKqiG,QAAS,IAGlB8R,YAAa,WACPn0G,KAAKoiG,YAAcpiG,KAAKsiG,gBAC1BtiG,KAAKqiG,QAAS,EACdriG,KAAKq2E,eAAgB,EACrBr2E,KAAKmsF,YAAY9V,eAAgB,IAGrCsmB,YAAa,WACX,IAAI38F,KAAKqiG,SAAUriG,KAAKigB,KAAKk4E,GAA7B,CAGAn4F,KAAKgiG,kBACLhiG,KAAK6iG,mBACL7iG,KAAK2qG,eACL,IAAIyJ,EAAkC,IAAjBp0G,KAAKigB,KAAK44C,GAC/B74D,KAAKi2E,WAAW0H,SAASogB,KAAKqW,GAC9Bp0G,KAAKi2E,WAAW0H,SAAS2f,aAAat9F,KAAKmhG,eAAeppB,IAAIx3E,OAC9DP,KAAKi2E,WAAW0H,SAASggB,WAAW39F,KAAKmhG,eAAeC,MAAM1oC,EAAEnjB,GAChEv1C,KAAKwjG,qBACLxjG,KAAKi2E,WAAW0H,SAASmgB,QAAQsW,GAC7Bp0G,KAAKmsF,YAAYumB,UACnB1yG,KAAKi2E,WAAW0H,SAASmgB,SAAQ,GAE/B99F,KAAKq2E,gBACPr2E,KAAKq2E,eAAgB,KAGzBrpC,QAAS,WACPhtC,KAAK09F,cAAgB,KACrB19F,KAAKigB,KAAO,KACZjgB,KAAKi2E,WAAa,KAClBj2E,KAAKmsF,YAAYn/C,WAEnBigD,QAAS,IAAI/1B,QAEfs7C,cAAc5yG,UAAUwgD,KAAOoyD,cAAc5yG,UAAUs0G,YACvD1B,cAAc5yG,UAAUo0B,KAAOw+E,cAAc5yG,UAAUu0G,YAUvDtyC,gBAAgB,CAAC+kC,YAAahP,iBAAkB4a,cAAe9a,iBAAkBC,aAAcE,mBAAoBsF,gBAEnHA,eAAev9F,UAAUojG,YAAchH,gBAAgBp8F,UAAUojG,YACjE7F,eAAev9F,UAAUi9F,aAAeX,cAAct8F,UAAUi9F,aAEhEM,eAAev9F,UAAUyjG,cAAgB,WACvC,GAAIrjG,KAAK0B,IAAIkB,QAAU5C,KAAK2mF,UAAUn7E,IAAMxL,KAAK0B,IAAIkB,OAAS5C,KAAK2mF,UAAUl7E,IAAMzL,KAAK0B,IAAImB,QAAS,CACnG,IAAImjF,EAAS5vB,UAAU,UACvB4vB,EAAOpjF,MAAQ5C,KAAK2mF,UAAUn7E,EAC9Bw6E,EAAOnjF,OAAS7C,KAAK2mF,UAAUl7E,EAC/B,IAMI4oG,EACAC,EAPA/9F,EAAMyvE,EAAOvX,WAAW,MAExB8lC,EAAOv0G,KAAK0B,IAAIkB,MAChB4xG,EAAOx0G,KAAK0B,IAAImB,OAChB4xG,EAASF,EAAOC,EAChBE,EAAY10G,KAAK2mF,UAAUn7E,EAAIxL,KAAK2mF,UAAUl7E,EAG9CszF,EAAM/+F,KAAK2mF,UAAU8mB,IAAMztG,KAAKi2E,WAAW6e,aAAaE,yBACvDyf,EAASC,GAAqB,mBAAR3V,GAA8B0V,EAASC,GAAqB,mBAAR3V,EAE7EsV,GADAC,EAAaE,GACYE,EAGzBJ,GADAD,EAAYE,GACaG,EAE3Bn+F,EAAIo+F,UAAU30G,KAAK0B,KAAM6yG,EAAOF,GAAa,GAAIG,EAAOF,GAAc,EAAGD,EAAWC,EAAY,EAAG,EAAGt0G,KAAK2mF,UAAUn7E,EAAGxL,KAAK2mF,UAAUl7E,GACvIzL,KAAK0B,IAAMskF,IAIfmX,eAAev9F,UAAU4jG,mBAAqB,WAC5CxjG,KAAK09F,cAAciX,UAAU30G,KAAK0B,IAAK,EAAG,IAG5Cy7F,eAAev9F,UAAUotC,QAAU,WACjChtC,KAAK0B,IAAM,MAcbmgE,gBAAgB,CAAC6zB,eAAgBsR,aAAcwL,eAAgBpV,eAE/DA,cAAcx9F,UAAU4jG,mBAAqB,WAC3C,IAQIjkG,EARAgX,EAAMvW,KAAK09F,cAUf,IATAnnF,EAAI0oF,YACJ1oF,EAAIq+F,OAAO,EAAG,GACdr+F,EAAIs+F,OAAO70G,KAAKigB,KAAKzU,EAAG,GACxB+K,EAAIs+F,OAAO70G,KAAKigB,KAAKzU,EAAGxL,KAAKigB,KAAKxU,GAClC8K,EAAIs+F,OAAO,EAAG70G,KAAKigB,KAAKxU,GACxB8K,EAAIs+F,OAAO,EAAG,GACdt+F,EAAI4oF,OAGC5/F,EADKS,KAAKyoE,OAAOhpE,OACP,EAAGF,GAAK,EAAGA,GAAK,GACzBS,KAAKwoE,gBAAkBxoE,KAAKsrC,SAAS/rC,KACvCS,KAAKsrC,SAAS/rC,GAAGo9F,eAKvBS,cAAcx9F,UAAUotC,QAAU,WAChC,IAAIztC,EAEJ,IAAKA,EADKS,KAAKyoE,OAAOhpE,OACP,EAAGF,GAAK,EAAGA,GAAK,EACzBS,KAAKsrC,SAAS/rC,IAChBS,KAAKsrC,SAAS/rC,GAAGytC,UAGrBhtC,KAAKyoE,OAAS,KACdzoE,KAAKsrC,SAAW,MAyBlBmnE,cAAc7yG,UAAU+8F,YAAc,WACpC,GAAK38F,KAAK0yG,SAAV,CAGA,IAEInzG,EAEAw8D,EACAG,EACAj8C,EANA1S,EAAYvN,KAAK8K,QAAQq2F,eAAeppB,IACxCxhE,EAAMvW,KAAK8K,QAAQ4yF,cAEnB/vD,EAAM3tC,KAAKmpE,gBAAgB1pE,OAK/B,IADA8W,EAAI0oF,YACC1/F,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB,GAAqC,MAAjCS,KAAKmpE,gBAAgB5pE,GAAG2sD,KAAc,CAWxC,IAAItiC,EAVA5pB,KAAKmpE,gBAAgB5pE,GAAGyiF,MAC1BzrE,EAAIq+F,OAAO,EAAG,GACdr+F,EAAIs+F,OAAO70G,KAAK8K,QAAQmrE,WAAW6lB,SAAStwF,EAAG,GAC/C+K,EAAIs+F,OAAO70G,KAAK8K,QAAQmrE,WAAW6lB,SAAStwF,EAAGxL,KAAK8K,QAAQmrE,WAAW6lB,SAASrwF,GAChF8K,EAAIs+F,OAAO,EAAG70G,KAAK8K,QAAQmrE,WAAW6lB,SAASrwF,GAC/C8K,EAAIs+F,OAAO,EAAG,IAEhB50F,EAAOjgB,KAAKs2F,SAAS/2F,GAAGg2C,EACxBwmB,EAAKxuD,EAAUyuD,kBAAkB/7C,EAAKs1B,EAAE,GAAG,GAAIt1B,EAAKs1B,EAAE,GAAG,GAAI,GAC7Dh/B,EAAIq+F,OAAO74C,EAAG,GAAIA,EAAG,IAErB,IAAI6M,EAAO3oD,EAAK2kD,QAChB,IAAKh7C,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EACzBsyC,EAAM3uD,EAAU6uD,oBAAoBn8C,EAAKy4C,EAAE9uC,EAAI,GAAI3J,EAAK1gB,EAAEqqB,GAAI3J,EAAKs1B,EAAE3rB,IACrErT,EAAIu+F,cAAc54C,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAEhEA,EAAM3uD,EAAU6uD,oBAAoBn8C,EAAKy4C,EAAE9uC,EAAI,GAAI3J,EAAK1gB,EAAE,GAAI0gB,EAAKs1B,EAAE,IACrEh/B,EAAIu+F,cAAc54C,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAGlEl8D,KAAK8K,QAAQmrE,WAAW0H,SAASogB,MAAK,GACtCxnF,EAAI4oF,SAGNsT,cAAc7yG,UAAUwsF,gBAAkBiK,YAAYz2F,UAAUwsF,gBAEhEqmB,cAAc7yG,UAAUotC,QAAU,WAChChtC,KAAK8K,QAAU,MAmBjB+2D,gBAAgB,CAAC+kC,YAAahP,iBAAkB4a,cAAe1L,cAAepP,iBAAkBC,aAAcE,mBAAoBoF,gBAElIA,eAAer9F,UAAUojG,YAAclL,qBAAqBl4F,UAAUojG,YAEtE/F,eAAer9F,UAAUm1G,gBAAkB,CAAE18F,QAAS,EAAGypF,QAAQ,GAEjE7E,eAAer9F,UAAUo1G,aAAe,GAExC/X,eAAer9F,UAAUyjG,cAAgB,WACvCrjG,KAAK8uG,aAAa9uG,KAAKunG,WAAYvnG,KAAK0nG,UAAW1nG,KAAKk5F,cAAc,EAAM,KAG9E+D,eAAer9F,UAAUuvG,mBAAqB,SAAUlvF,EAAMg6B,GAC5D,IAAIqrD,EAAY,CACdrlF,KAAMA,EACNnE,KAAMmE,EAAK44C,GACXo8C,cAAej1G,KAAKumG,kBAAkBG,qBAAqBzsD,GAC3DA,WAAY,GACZ3O,SAAU,GACVk5B,QAAoB,IAAZvkD,EAAKk4E,IAEXiX,EAAc,GAclB,GAbgB,OAAZnvF,EAAK44C,IAA2B,OAAZ54C,EAAK44C,IAC3Bu2C,EAAY9qD,EAAIitB,gBAAgB0F,QAAQj3E,KAAMigB,EAAKqkC,EAAG,EAAG,IAAKtkD,MACzDovG,EAAY9qD,EAAEqF,IACjB27C,EAAU4P,GAAK,OAAS5iD,QAAQ88C,EAAY9qD,EAAE/O,EAAE,IAAM,IAAM+c,QAAQ88C,EAAY9qD,EAAE/O,EAAE,IAAM,IAAM+c,QAAQ88C,EAAY9qD,EAAE/O,EAAE,IAAM,MAE3G,OAAZt1B,EAAK44C,IAA2B,OAAZ54C,EAAK44C,KAClCu2C,EAAYnwF,EAAIsyD,gBAAgB0F,QAAQj3E,KAAMigB,EAAKhB,EAAG,EAAG,KAAMjf,MAC/DovG,EAAY/vF,EAAIkyD,gBAAgB0F,QAAQj3E,KAAMigB,EAAKZ,EAAG,EAAG,KAAMrf,MAC/DovG,EAAY3jG,EAAI8lE,gBAAgB0F,QAAQj3E,KAAMigB,EAAKxU,GAAK,CAAEk+C,EAAG,GAAK,EAAG,IAAM3pD,MAC3EovG,EAAY3vF,EAAI8xD,gBAAgB0F,QAAQj3E,KAAMigB,EAAKR,GAAK,CAAEkqC,EAAG,GAAK,EAAGoJ,UAAW/yD,MAChFovG,EAAYt6C,EAAI,IAAIkpB,iBAAiBh+E,KAAMigB,EAAK60C,EAAG90D,OAErDovG,EAAY12C,EAAI6Y,gBAAgB0F,QAAQj3E,KAAMigB,EAAKy4C,EAAG,EAAG,IAAM14D,MAC/C,OAAZigB,EAAK44C,IAA2B,OAAZ54C,EAAK44C,IAU3B,GATAysC,EAAUhB,GAAKttC,YAAY/2C,EAAKqkF,IAAM,GACtCgB,EAAUf,GAAKttC,aAAah3C,EAAKskF,IAAM,GACxB,GAAXtkF,EAAKskF,KACPe,EAAUd,GAAKvkF,EAAKukF,IAEtB4K,EAAY5jG,EAAI+lE,gBAAgB0F,QAAQj3E,KAAMigB,EAAKzU,EAAG,EAAG,KAAMxL,MAC1DovG,EAAY5jG,EAAEm+C,IACjB27C,EAAU6P,GAAK/F,EAAY5jG,EAAE+pC,GAE3Bt1B,EAAKra,EAAG,CACV,IAAIA,EAAI,IAAI83E,aAAa19E,KAAMigB,EAAKra,EAAG,SAAU5F,MACjDovG,EAAYxpG,EAAIA,EACXwpG,EAAYxpG,EAAE+jD,IACjB27C,EAAU8P,GAAKhG,EAAYxpG,EAAEk4E,UAC7BwnB,EAAU+P,GAAKjG,EAAYxpG,EAAEm4E,WAAW,UAI5CunB,EAAU16F,EAAe,IAAXqV,EAAKrV,EAAU,UAAY,UAI3C,OAFA5K,KAAKwnG,WAAWtnF,KAAKolF,GACrB8J,EAAYt0F,MAAQwqF,EACb8J,GAGTnS,eAAer9F,UAAU0vG,mBAAqB,WAK5C,MAJkB,CAChB/rD,GAAI,GACJ21C,aAAc,KAKlB+D,eAAer9F,UAAU2vG,uBAAyB,SAAUtvF,GAU1D,MATkB,CAChB1S,UAAW,CACT8K,QAAS,EACTypF,QAAQ,EACRniG,IAAKK,KAAKumG,kBAAkBoD,YAC5BrmB,GAAI/R,gBAAgB0F,QAAQj3E,KAAMigB,EAAKy4C,EAAG,EAAG,IAAM14D,MACnD6jF,OAAQ3M,yBAAyBuB,qBAAqBz4E,KAAMigB,EAAMjgB,SAMxEi9F,eAAer9F,UAAU6vG,mBAAqB,SAAUxvF,GACtD,IAAImvF,EAAc,IAAI9I,YAAYtmG,KAAMigB,EAAMjgB,KAAKwnG,WAAYxnG,KAAKumG,mBAIpE,OAFAvmG,KAAKwpE,OAAOtpD,KAAKkvF,GACjBpvG,KAAKqsG,oBAAoB+C,GAClBA,GAGTnS,eAAer9F,UAAUujF,aAAe,WAEtC,IAAI5jF,EADJS,KAAKq2E,eAAgB,EAErB,IAAI1oC,EAAM3tC,KAAK0nG,UAAUjoG,OACzB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKk5F,aAAa35F,GAAKS,KAAK0nG,UAAUnoG,GAIxC,IAFAS,KAAK8uG,aAAa9uG,KAAKunG,WAAYvnG,KAAK0nG,UAAW1nG,KAAKk5F,cAAc,EAAM,IAC5EvrD,EAAM3tC,KAAKw2D,kBAAkB/2D,OACxBF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKw2D,kBAAkBj3D,GAAGq3D,WAE5B52D,KAAKwsG,kBACLxsG,KAAKumG,kBAAkBmD,iBAAiB1pG,KAAKq2E,gBAG/C4mB,eAAer9F,UAAU01G,wBAA0B,SAAU/nG,GAC3D,IAAIhO,EACAouC,EAAM3tC,KAAKwnG,WAAW/nG,OAC1B,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACnBS,KAAKwnG,WAAWjoG,GAAGilE,QACtBxkE,KAAKwnG,WAAWjoG,GAAG06C,WAAW/5B,KAAK3S,IAKzC0vF,eAAer9F,UAAU21G,6BAA+B,WACtD,IAAIh2G,EACAouC,EAAM3tC,KAAKwnG,WAAW/nG,OAC1B,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACnBS,KAAKwnG,WAAWjoG,GAAGilE,QACtBxkE,KAAKwnG,WAAWjoG,GAAG06C,WAAWgmC,OAKpCgd,eAAer9F,UAAU41G,YAAc,SAAUnwG,GAC/C,IAAI9F,EACAouC,EAAMtoC,EAAO5F,OACjB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB8F,EAAO9F,GAAGilE,QAAS,GAIvBy4B,eAAer9F,UAAUkvG,aAAe,SAAUh5C,EAAK4xC,EAAWxO,EAAcuc,EAAcx7D,GAC5F,IAAI16C,EAEAqqB,EACAg/C,EAGAinC,EACA3lE,EACA0lE,EAPAjiE,EAAMmoB,EAAIr2D,OAAS,EAGnBqwG,EAAY,GACZC,EAAe,GAIf2F,EAAgB,GAAG1qF,OAAOivB,GAC9B,IAAK16C,EAAIouC,EAAKpuC,GAAK,EAAGA,GAAK,EAAG,CAO5B,IANAswG,EAAe7vG,KAAKysG,uBAAuB32C,EAAIv2D,KAI7CmoG,EAAUnoG,GAAK25F,EAAa2W,EAAe,GAF3C/5C,EAAIv2D,GAAGo2G,cAAgBF,EAIP,OAAd3/C,EAAIv2D,GAAGs5D,IAA6B,OAAd/C,EAAIv2D,GAAGs5D,IAA6B,OAAd/C,EAAIv2D,GAAGs5D,IAA6B,OAAd/C,EAAIv2D,GAAGs5D,GACtEg3C,EAGHnI,EAAUnoG,GAAGub,MAAM0pD,QAAS,EAF5BkjC,EAAUnoG,GAAKS,KAAKmvG,mBAAmBr5C,EAAIv2D,GAAIm2G,GAKjD5F,EAAU5vF,KAAKwnF,EAAUnoG,GAAGub,YACvB,GAAkB,OAAdg7C,EAAIv2D,GAAGs5D,GAAa,CAC7B,GAAKg3C,EAIH,IADAjnC,EAAO8+B,EAAUnoG,GAAGgkD,GAAG9jD,OAClBmqB,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EACzB89E,EAAUnoG,GAAG25F,aAAatvE,GAAK89E,EAAUnoG,GAAGgkD,GAAG35B,QAJjD89E,EAAUnoG,GAAKS,KAAKsvG,mBAAmBx5C,EAAIv2D,IAO7CS,KAAK8uG,aAAah5C,EAAIv2D,GAAGgkD,GAAImkD,EAAUnoG,GAAGgkD,GAAImkD,EAAUnoG,GAAG25F,aAAcuc,EAAcC,OAChE,OAAd5/C,EAAIv2D,GAAGs5D,IACXg3C,IACHD,EAAmB5vG,KAAKuvG,uBAAuBz5C,EAAIv2D,IACnDmoG,EAAUnoG,GAAKqwG,GAEjB8F,EAAcx1F,KAAKwnF,EAAUnoG,IAC7BS,KAAKs1G,wBAAwB5N,EAAUnoG,KAChB,OAAdu2D,EAAIv2D,GAAGs5D,IAA6B,OAAd/C,EAAIv2D,GAAGs5D,IAA6B,OAAd/C,EAAIv2D,GAAGs5D,IAA6B,OAAd/C,EAAIv2D,GAAGs5D,GAC7Eg3C,IACHnI,EAAUnoG,GAAKS,KAAKyvG,mBAAmB35C,EAAIv2D,KAEtB,OAAdu2D,EAAIv2D,GAAGs5D,IAA6B,OAAd/C,EAAIv2D,GAAGs5D,IAA6B,OAAd/C,EAAIv2D,GAAGs5D,IACvDg3C,GAMH3lE,EAAWw9D,EAAUnoG,IACZilE,QAAS,IANlBt6B,EAAW+yC,eAAeE,YAAYrnB,EAAIv2D,GAAGs5D,KACpC+gB,KAAK55E,KAAM81D,EAAIv2D,IACxBmoG,EAAUnoG,GAAK2qC,EACflqC,KAAKynG,eAAevnF,KAAKgqB,IAK3B6lE,EAAa7vF,KAAKgqB,IACK,OAAd4rB,EAAIv2D,GAAGs5D,KACXg3C,GAOH3lE,EAAWw9D,EAAUnoG,IACZilE,QAAS,GAPlBt6B,EAAW+yC,eAAeE,YAAYrnB,EAAIv2D,GAAGs5D,IAC7C6uC,EAAUnoG,GAAK2qC,EACfA,EAAS0vC,KAAK55E,KAAM81D,EAAKv2D,EAAGmoG,GAC5B1nG,KAAKynG,eAAevnF,KAAKgqB,GACzBurE,GAAe,GAKjB1F,EAAa7vF,KAAKgqB,IAEpBlqC,KAAK0sG,oBAAoB52C,EAAIv2D,GAAIA,EAAI,GAKvC,IAHAS,KAAKu1G,+BACLv1G,KAAKw1G,YAAY1F,GACjBniE,EAAMoiE,EAAatwG,OACdF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBwwG,EAAaxwG,GAAGilE,QAAS,GAI7By4B,eAAer9F,UAAU4jG,mBAAqB,WAC5CxjG,KAAK+0G,gBAAgB18F,QAAU,EAC/BrY,KAAK+0G,gBAAgBjT,QAAS,EAC9B9hG,KAAKwsG,kBACLxsG,KAAKumG,kBAAkBmD,iBAAiB1pG,KAAKq2E,eAC7Cr2E,KAAKgwG,YAAYhwG,KAAK+0G,gBAAiB/0G,KAAKunG,WAAYvnG,KAAK0nG,WAAW,IAG1EzK,eAAer9F,UAAUg2G,qBAAuB,SAAUC,EAAiBC,IACrED,EAAgB/T,QAAUgU,EAAexyB,GAAG3sB,MAAQ32D,KAAKq2E,iBAC3Dy/B,EAAez9F,QAAUw9F,EAAgBx9F,QACzCy9F,EAAez9F,SAAWy9F,EAAexyB,GAAG/tC,EAC5CugE,EAAehU,QAAS,IAI5B7E,eAAer9F,UAAUm2G,UAAY,WACnC,IAAIx2G,EAEAqqB,EACAg/C,EACAjf,EACAkf,EACAua,EACAz9D,EAGA7J,EACAk6F,EAVAroE,EAAM3tC,KAAKwnG,WAAW/nG,OAOtBk+E,EAAW39E,KAAKi2E,WAAW0H,SAC3BpnE,EAAMvW,KAAKi2E,WAAWynB,cAG1B,IAAKn+F,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EASxB,IAAiB,QAPjBuc,GADAk6F,EAAeh2G,KAAKwnG,WAAWjoG,IACXuc,OAOc,OAATA,GAAsC,IAApBk6F,EAAab,KAAca,EAAa/1F,KAAK01F,eAAuC,IAAtBK,EAAaC,MAAqD,IAAvCj2G,KAAKi2E,WAAW4f,mBAA2B,CAkB7K,IAjBAlY,EAASogB,OACT3a,EAAQ4yB,EAAa1qE,SACR,OAATxvB,GAA0B,OAATA,GACnBvF,EAAI2/F,YAAuB,OAATp6F,EAAgBk6F,EAAad,GAAKc,EAAaG,IACjE5/F,EAAIk6E,UAAYulB,EAAab,GAC7B5+F,EAAI6/F,QAAUJ,EAAa1R,GAC3B/tF,EAAI8/F,SAAWL,EAAazR,GAC5BhuF,EAAI+/F,WAAaN,EAAaxR,IAAM,GAEpCjuF,EAAI0vE,UAAqB,OAATnqE,EAAgBk6F,EAAad,GAAKc,EAAaG,IAEjEx4B,EAASggB,WAAWqY,EAAaC,MACpB,OAATn6F,GAA0B,OAATA,GACnBvF,EAAI0oF,YAENthB,EAAS2f,aAAa0Y,EAAaf,cAAc9T,eAAe5gG,OAChEqoE,EAAOwa,EAAM3jF,OACRmqB,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EAAG,CAW5B,IAVa,OAAT9N,GAA0B,OAATA,IACnBvF,EAAI0oF,YACA+W,EAAaZ,KACf7+F,EAAIggG,YAAYP,EAAaZ,IAC7B7+F,EAAIigG,eAAiBR,EAAaX,KAItCxsC,GADAljD,EAAQy9D,EAAMx5D,GAAG+8E,SACJlnG,OAERkqD,EAAI,EAAGA,EAAIkf,EAAMlf,GAAK,EACN,MAAfhkC,EAAMgkC,GAAG3qC,EACXzI,EAAIq+F,OAAOjvF,EAAMgkC,GAAGxqC,EAAE,GAAIwG,EAAMgkC,GAAGxqC,EAAE,IACb,MAAfwG,EAAMgkC,GAAG3qC,EAClBzI,EAAIu+F,cAAcnvF,EAAMgkC,GAAGuS,IAAI,GAAIv2C,EAAMgkC,GAAGuS,IAAI,GAAIv2C,EAAMgkC,GAAGuS,IAAI,GAAIv2C,EAAMgkC,GAAGuS,IAAI,GAAIv2C,EAAMgkC,GAAGuS,IAAI,GAAIv2C,EAAMgkC,GAAGuS,IAAI,IAEpH3lD,EAAI2oF,YAGK,OAATpjF,GAA0B,OAATA,IACnBvF,EAAIhM,SACAyrG,EAAaZ,IACf7+F,EAAIggG,YAAYv2G,KAAKg1G,eAId,OAATl5F,GAA0B,OAATA,GACnBvF,EAAI5Q,KAAKqwG,EAAaprG,GAExB+yE,EAASmgB,YAKfb,eAAer9F,UAAUowG,YAAc,SAAU6F,EAAiBhzB,EAAO5iE,EAAMw2F,GAC7E,IAAIl3G,EAEAu2G,EAEJ,IADAA,EAAiBD,EACZt2G,EAHKsjF,EAAMpjF,OAAS,EAGXF,GAAK,EAAGA,GAAK,EACL,OAAhBsjF,EAAMtjF,GAAGs5D,IACXi9C,EAAiB71F,EAAK1gB,GAAGgO,UACzBvN,KAAK41G,qBAAqBC,EAAiBC,IAClB,OAAhBjzB,EAAMtjF,GAAGs5D,IAA+B,OAAhBgqB,EAAMtjF,GAAGs5D,IAA+B,OAAhBgqB,EAAMtjF,GAAGs5D,IAA+B,OAAhBgqB,EAAMtjF,GAAGs5D,GAC1F74D,KAAKglG,WAAWniB,EAAMtjF,GAAI0gB,EAAK1gB,IACN,OAAhBsjF,EAAMtjF,GAAGs5D,GAClB74D,KAAKqlG,WAAWxiB,EAAMtjF,GAAI0gB,EAAK1gB,GAAIu2G,GACV,OAAhBjzB,EAAMtjF,GAAGs5D,GAClB74D,KAAKylG,aAAa5iB,EAAMtjF,GAAI0gB,EAAK1gB,GAAIu2G,GACZ,OAAhBjzB,EAAMtjF,GAAGs5D,IAA+B,OAAhBgqB,EAAMtjF,GAAGs5D,GAC1C74D,KAAK02G,mBAAmB7zB,EAAMtjF,GAAI0gB,EAAK1gB,GAAIu2G,GAClB,OAAhBjzB,EAAMtjF,GAAGs5D,GAClB74D,KAAKgwG,YAAY8F,EAAgBjzB,EAAMtjF,GAAGgkD,GAAItjC,EAAK1gB,GAAGgkD,IAC7Cs/B,EAAMtjF,GAAGs5D,GAIlB49C,GACFz2G,KAAK+1G,aAIT9Y,eAAer9F,UAAU+2G,kBAAoB,SAAUlQ,EAAahoB,GAClE,GAAIz+E,KAAKq2E,eAAiBoI,EAAM9nB,MAAQ8vC,EAAYxsD,WAAW0c,KAAM,CACnE,IAEIp3D,EACAouC,EACA/jB,EAJAgtF,EAAanQ,EAAYE,QACzBh8B,EAAQ8T,EAAM9T,MAId/B,EAAO+B,EAAM/F,QACjBgyC,EAAWn3G,OAAS,EACpB,IAAIo3G,EAAoBpQ,EAAYxsD,WAAWknD,eAC/C,IAAKv3E,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EAAG,CAC5B,IAAIo6D,EAAYrZ,EAAMnB,OAAO5/C,GAC7B,GAAIo6D,GAAaA,EAAUzuC,EAAG,CAE5B,IADA5H,EAAMq2C,EAAUpf,QACXrlE,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACd,IAANA,GACFq3G,EAAW12F,KAAK,CACdlB,EAAG,IACHG,EAAG03F,EAAkB76C,kBAAkBgoB,EAAUzuC,EAAE,GAAG,GAAIyuC,EAAUzuC,EAAE,GAAG,GAAI,KAGjFqhE,EAAW12F,KAAK,CACdlB,EAAG,IACHk9C,IAAK26C,EAAkBz6C,oBAAoB4nB,EAAUtrB,EAAEn5D,EAAI,GAAIykF,EAAUzkF,EAAEA,GAAIykF,EAAUzuC,EAAEh2C,MAGnF,IAARouC,GACFipE,EAAW12F,KAAK,CACdlB,EAAG,IACHG,EAAG03F,EAAkB76C,kBAAkBgoB,EAAUzuC,EAAE,GAAG,GAAIyuC,EAAUzuC,EAAE,GAAG,GAAI,KAG7EyuC,EAAU1/B,GAAK3W,IACjBipE,EAAW12F,KAAK,CACdlB,EAAG,IACHk9C,IAAK26C,EAAkBz6C,oBAAoB4nB,EAAUtrB,EAAEn5D,EAAI,GAAIykF,EAAUzkF,EAAE,GAAIykF,EAAUzuC,EAAE,MAE7FqhE,EAAW12F,KAAK,CACdlB,EAAG,QAKXynF,EAAYE,QAAUiQ,IAI1B3Z,eAAer9F,UAAUolG,WAAa,SAAUt6B,EAAUq6B,GACxD,IAAoB,IAAhBr6B,EAASytB,IAAeztB,EAASirC,cAAe,CAClD,IAAIp2G,EACAouC,EAAMo3D,EAASyB,aAAa/mG,OAChC,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAK22G,kBAAkB5R,EAASyB,aAAajnG,GAAIwlG,EAASvxB,MAKhEypB,eAAer9F,UAAUylG,WAAa,SAAUP,EAAWC,EAAU+Q,GACnE,IAAIxQ,EAAYP,EAASjqF,OAErBiqF,EAASzgD,EAAEqS,MAAQ32D,KAAKq2E,iBAC1BivB,EAAU4P,GAAK,OACT5iD,QAAQyyC,EAASzgD,EAAE/O,EAAE,IAAM,IAC3B+c,QAAQyyC,EAASzgD,EAAE/O,EAAE,IAAM,IAC3B+c,QAAQyyC,EAASzgD,EAAE/O,EAAE,IAAM,MAE/BwvD,EAASrsC,EAAE/B,MAAQm/C,EAAehU,QAAU9hG,KAAKq2E,iBACnDivB,EAAU2Q,KAAOlR,EAASrsC,EAAEnjB,EAAIugE,EAAez9F,UAInD4kF,eAAer9F,UAAU82G,mBAAqB,SAAU5R,EAAWC,EAAU+Q,GAC3E,IACIK,EADA7Q,EAAYP,EAASjqF,MAEzB,IAAKwqF,EAAU6Q,KAAOpR,EAASjwC,EAAE6B,MAAQouC,EAAS9lF,EAAE03C,MAAQouC,EAAS1lF,EAAEs3C,MAAyB,IAAhBmuC,EAAU9lF,IAAY+lF,EAASt5F,EAAEkrD,MAAQouC,EAAStlF,EAAEk3C,MAAQ,CAC1I,IAqBIp3D,EArBAgX,EAAMvW,KAAKi2E,WAAWynB,cACtBrhC,EAAM0oC,EAAS9lF,EAAEs2B,EACjB+mB,EAAMyoC,EAAS1lF,EAAEk2B,EACrB,GAAoB,IAAhBuvD,EAAU9lF,EACZm3F,EAAM5/F,EAAIugG,qBAAqBz6C,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,QACtD,CACL,IAAIyf,EAAMhzD,KAAKspC,KAAKtpC,KAAKioC,IAAIqL,EAAI,GAAKC,EAAI,GAAI,GAAKvzC,KAAKioC,IAAIqL,EAAI,GAAKC,EAAI,GAAI,IACzEypC,EAAMh9E,KAAKgrD,MAAMzX,EAAI,GAAKD,EAAI,GAAIC,EAAI,GAAKD,EAAI,IAE/CiK,EAAUy+B,EAASt5F,EAAE8pC,EACrB+wB,GAAW,EACbA,EAAU,IACDA,IAAY,IACrBA,GAAW,KAEb,IAAI0/B,EAAOjqB,EAAMzV,EACbz5D,EAAIkc,KAAKquC,IAAI2uC,EAAMhB,EAAStlF,EAAE81B,GAAKywD,EAAO3pC,EAAI,GAC9CvvD,EAAIic,KAAKuuC,IAAIyuC,EAAMhB,EAAStlF,EAAE81B,GAAKywD,EAAO3pC,EAAI,GAClD85C,EAAM5/F,EAAIwgG,qBAAqBlqG,EAAGC,EAAG,EAAGuvD,EAAI,GAAIA,EAAI,GAAI0f,GAI1D,IAAIpuC,EAAMm3D,EAAUhwC,EAAE31C,EAClB0mF,EAAUd,EAASjwC,EAAExQ,EACrBjsC,EAAU,EAEd,IAAK9Y,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACpBwlG,EAASjwC,EAAEwpB,aAAeymB,EAASjwC,EAAEspB,eACvC/lE,EAAU0sF,EAASjwC,EAAE4D,EAAM,EAAJn5D,EAAQ,IAEjC42G,EAAIa,aAAanR,EAAY,EAAJtmG,GAAS,IAAK,QAAUsmG,EAAY,EAAJtmG,EAAQ,GAAK,IAAMsmG,EAAY,EAAJtmG,EAAQ,GAAK,IAAMsmG,EAAY,EAAJtmG,EAAQ,GAAK,IAAM8Y,EAAU,KAE9IitF,EAAU6Q,IAAMA,EAElB7Q,EAAU2Q,KAAOlR,EAASrsC,EAAEnjB,EAAIugE,EAAez9F,SAGjD4kF,eAAer9F,UAAU6lG,aAAe,SAAUX,EAAWC,EAAU+Q,GACrE,IAAIxQ,EAAYP,EAASjqF,MACrBlV,EAAIm/F,EAASn/F,EACbA,IAAMA,EAAE+wD,MAAQ32D,KAAKq2E,iBACvBivB,EAAU8P,GAAKxvG,EAAEk4E,UACjBwnB,EAAU+P,GAAKzvG,EAAEm4E,WAAW,KAE1BgnB,EAASzgD,EAAEqS,MAAQ32D,KAAKq2E,iBAC1BivB,EAAU4P,GAAK,OAAS5iD,QAAQyyC,EAASzgD,EAAE/O,EAAE,IAAM,IAAM+c,QAAQyyC,EAASzgD,EAAE/O,EAAE,IAAM,IAAM+c,QAAQyyC,EAASzgD,EAAE/O,EAAE,IAAM,MAEnHwvD,EAASrsC,EAAE/B,MAAQm/C,EAAehU,QAAU9hG,KAAKq2E,iBACnDivB,EAAU2Q,KAAOlR,EAASrsC,EAAEnjB,EAAIugE,EAAez9F,UAE7C0sF,EAASv5F,EAAEmrD,MAAQ32D,KAAKq2E,iBAC1BivB,EAAU6P,GAAKpQ,EAASv5F,EAAE+pC,IAI9B0nD,eAAer9F,UAAUotC,QAAU,WACjChtC,KAAKunG,WAAa,KAClBvnG,KAAKi2E,WAAa,KAClBj2E,KAAK09F,cAAgB,KACrB19F,KAAKwnG,WAAW/nG,OAAS,EACzBO,KAAK0nG,UAAUjoG,OAAS,GAS1BoiE,gBAAgB,CAAC+kC,YAAahP,iBAAkB4a,cAAe9a,iBAAkBC,aAAcE,mBAAoBwF,gBAEnHA,eAAez9F,UAAUojG,YAAchH,gBAAgBp8F,UAAUojG,YACjE3F,eAAez9F,UAAUi9F,aAAeX,cAAct8F,UAAUi9F,aAEhEQ,eAAez9F,UAAU4jG,mBAAqB,WAC5C,IAAIjtF,EAAMvW,KAAK09F,cACfnnF,EAAI0vE,UAAYjmF,KAAKigB,KAAK2wD,GAC1Br6D,EAAI2vE,SAAS,EAAG,EAAGlmF,KAAKigB,KAAKiqE,GAAIlqF,KAAKigB,KAAKuzD,KA0B7C3R,gBAAgB,CAAC+kC,YAAahP,iBAAkB4a,cAAe9a,iBAAkBC,aAAcE,kBAAmBkP,cAAe7J,eAEjIA,cAAct9F,UAAUyuE,QAAUjY,UAAU,UAAUqY,WAAW,MAEjEyuB,cAAct9F,UAAUgtG,aAAe,WACrC,IAAIxiC,EAAepqE,KAAKuyF,aAAazH,YACrC9qF,KAAK4pF,gBAAkB/2B,iBAAiBuX,EAAazgD,EAAIygD,EAAazgD,EAAElqB,OAAS,GAEjF,IAAIw3G,GAAU,EACV7sC,EAAa+f,IACf8sB,GAAU,EACVj3G,KAAKoa,OAAOzU,KAAO3F,KAAKktG,WAAW9iC,EAAa+f,KAEhDnqF,KAAKoa,OAAOzU,KAAO,gBAErB3F,KAAK2F,KAAOsxG,EACZ,IAAIC,GAAY,EACZ9sC,EAAawG,KACfsmC,GAAY,EACZl3G,KAAKoa,OAAO7P,OAASvK,KAAKktG,WAAW9iC,EAAawG,IAClD5wE,KAAKoa,OAAOw4F,OAASxoC,EAAa8f,IAEpC,IACI3qF,EACAouC,EAOAyiD,EACA/rB,EACA1a,EACAkf,EACAW,EACA5/C,EACAg/C,EACAob,EACAmzB,EACAC,EAlBApqC,EAAWhtE,KAAKi2E,WAAWoa,YAAYtf,cAAc3G,EAAaxlB,GAGlEuoC,EAAU/iB,EAAazgD,EACvBqjE,EAAehtF,KAAKitF,QACxBjtF,KAAKuK,OAAS2sG,EACdl3G,KAAKoa,OAAOy4F,OAASzoC,EAAawhB,UAAY,MAAQ5rF,KAAKi2E,WAAWoa,YAAYtf,cAAc3G,EAAaxlB,GAAG2pB,QAChH5gC,EAAMy8B,EAAayhB,UAAUpsF,OAY7B,IAAI0rE,EAAcnrE,KAAKigB,KAAKkrD,YACxBwlB,EAAmC,KAAlBvmB,EAAamX,GAAanX,EAAawhB,UACxDU,EAAO,EACPC,EAAO,EACPiB,GAAY,EACZ1lE,EAAM,EACV,IAAKvoB,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAAG,CAkB3B,IAhBA8kE,GADA+rB,EAAWpwF,KAAKi2E,WAAWoa,YAAYvf,YAAY1G,EAAayhB,UAAUtsF,GAAIytE,EAASC,OAAQjtE,KAAKi2E,WAAWoa,YAAYtf,cAAc3G,EAAaxlB,GAAG2pB,WAChI6hB,EAASnwE,MAAS,GAC3C+sE,EAAapgD,QACTu+B,GAAegiB,EAAQ5tF,GAAG2f,IAC5BotE,GAAQqE,EACRpE,GAAQniB,EAAauhB,QACrBY,GAAQiB,EAAY,EAAI,EACxBA,GAAY,GAId5kB,GADAY,EAASnF,EAAUmF,OAASnF,EAAUmF,OAAO,GAAGjmB,GAAK,IACvC9jD,OACdutF,EAAa10E,MAAM8xD,EAAawhB,UAAY,IAAKxhB,EAAawhB,UAAY,KACtEzgB,GACFnrE,KAAKgtG,4BAA4B5iC,EAAc4iB,EAAcG,EAAQ5tF,GAAGwvF,KAAMzC,EAAMC,GAEtF4qB,EAAWtkD,iBAAiB+V,GACvBh/C,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EAAG,CAI5B,IAHAi/C,EAAOW,EAAO5/C,GAAG+/C,GAAGhgB,EAAEpqD,EAAEE,OACxBukF,EAAYxa,EAAO5/C,GAAG+/C,GAAGhgB,EACzBytD,EAAU,GACLztD,EAAI,EAAGA,EAAIkf,EAAMlf,GAAK,EACf,IAANA,GACFytD,EAAQl3F,KAAK8sE,EAAaxxB,SAASwoB,EAAUzuC,EAAE,GAAG,GAAIyuC,EAAUzuC,EAAE,GAAG,GAAI,GAAIy3C,EAAavxB,SAASuoB,EAAUzuC,EAAE,GAAG,GAAIyuC,EAAUzuC,EAAE,GAAG,GAAI,IAE3I6hE,EAAQl3F,KAAK8sE,EAAaxxB,SAASwoB,EAAUtrB,EAAE/O,EAAI,GAAG,GAAIq6B,EAAUtrB,EAAE/O,EAAI,GAAG,GAAI,GAAIqjC,EAAavxB,SAASuoB,EAAUtrB,EAAE/O,EAAI,GAAG,GAAIq6B,EAAUtrB,EAAE/O,EAAI,GAAG,GAAI,GAAIqjC,EAAaxxB,SAASwoB,EAAUzkF,EAAEoqD,GAAG,GAAIq6B,EAAUzkF,EAAEoqD,GAAG,GAAI,GAAIqjC,EAAavxB,SAASuoB,EAAUzkF,EAAEoqD,GAAG,GAAIq6B,EAAUzkF,EAAEoqD,GAAG,GAAI,GAAIqjC,EAAaxxB,SAASwoB,EAAUzuC,EAAEoU,GAAG,GAAIq6B,EAAUzuC,EAAEoU,GAAG,GAAI,GAAIqjC,EAAavxB,SAASuoB,EAAUzuC,EAAEoU,GAAG,GAAIq6B,EAAUzuC,EAAEoU,GAAG,GAAI,IAE3ZytD,EAAQl3F,KAAK8sE,EAAaxxB,SAASwoB,EAAUtrB,EAAE/O,EAAI,GAAG,GAAIq6B,EAAUtrB,EAAE/O,EAAI,GAAG,GAAI,GAAIqjC,EAAavxB,SAASuoB,EAAUtrB,EAAE/O,EAAI,GAAG,GAAIq6B,EAAUtrB,EAAE/O,EAAI,GAAG,GAAI,GAAIqjC,EAAaxxB,SAASwoB,EAAUzkF,EAAE,GAAG,GAAIykF,EAAUzkF,EAAE,GAAG,GAAI,GAAIytF,EAAavxB,SAASuoB,EAAUzkF,EAAE,GAAG,GAAIykF,EAAUzkF,EAAE,GAAG,GAAI,GAAIytF,EAAaxxB,SAASwoB,EAAUzuC,EAAE,GAAG,GAAIyuC,EAAUzuC,EAAE,GAAG,GAAI,GAAIy3C,EAAavxB,SAASuoB,EAAUzuC,EAAE,GAAG,GAAIyuC,EAAUzuC,EAAE,GAAG,GAAI,IACzZ4hE,EAASvtF,GAAKwtF,EAEZjsC,IACFmhB,GAAQa,EAAQ5tF,GAAGoqB,EACnB2iE,GAAQqE,GAEN3wF,KAAKsnG,UAAUx/E,GACjB9nB,KAAKsnG,UAAUx/E,GAAKkuD,KAAOmhC,EAE3Bn3G,KAAKsnG,UAAUx/E,GAAO,CAAEkuD,KAAMmhC,GAEhCrvF,GAAO,IAIXo1E,cAAct9F,UAAU4jG,mBAAqB,WAC3C,IAUIjkG,EACAouC,EACA/jB,EACAg/C,EACAjf,EACAkf,EAfAtyD,EAAMvW,KAAK09F,cACfnnF,EAAIm3D,KAAO1tE,KAAKoa,OAAOy4F,OACvBt8F,EAAI6/F,QAAU,OACd7/F,EAAI8/F,SAAW,QACf9/F,EAAI+/F,WAAa,EAEZt2G,KAAKigB,KAAKkrD,aACbnrE,KAAK2sG,aAAatgB,YAAYrsF,KAAKuyF,aAAazH,YAAa9qF,KAAK6pF,oBASpE,IAKI4kB,EALA7kB,EAAkB5pF,KAAK2sG,aAAa/iB,gBAEpCuD,EAAUntF,KAAKuyF,aAAazH,YAAYnhE,EAE5CgkB,EAAMw/C,EAAQ1tF,OAEd,IAGI03G,EACAC,EAJAC,EAAW,KACXC,EAAa,KACbC,EAAc,KAGlB,IAAKh4G,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB,IAAK4tF,EAAQ5tF,GAAG2f,EAAG,CAOjB,IANAuvF,EAAiB7kB,EAAgBrqF,MAE/BS,KAAKi2E,WAAW0H,SAASogB,OACzB/9F,KAAKi2E,WAAW0H,SAAS2f,aAAamR,EAAetvF,GACrDnf,KAAKi2E,WAAW0H,SAASggB,WAAW8Q,EAAe/1C,IAEjD14D,KAAK2F,KAAM,CAab,IAZI8oG,GAAkBA,EAAetkB,GAC/BktB,IAAa5I,EAAetkB,KAC9BktB,EAAW5I,EAAetkB,GAC1B5zE,EAAI0vE,UAAYwoB,EAAetkB,IAExBktB,IAAar3G,KAAKoa,OAAOzU,OAClC0xG,EAAWr3G,KAAKoa,OAAOzU,KACvB4Q,EAAI0vE,UAAYjmF,KAAKoa,OAAOzU,MAG9BijE,GADAuuC,EAAWn3G,KAAKsnG,UAAU/nG,GAAGy2E,MACbv2E,OAChBO,KAAKi2E,WAAWynB,cAAcuB,YACzBr1E,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EAIzB,IAFAi/C,GADAuuC,EAAUD,EAASvtF,IACJnqB,OACfO,KAAKi2E,WAAWynB,cAAckX,OAAOwC,EAAQ,GAAIA,EAAQ,IACpDztD,EAAI,EAAGA,EAAIkf,EAAMlf,GAAK,EACzB3pD,KAAKi2E,WAAWynB,cAAcoX,cAAcsC,EAAQztD,GAAIytD,EAAQztD,EAAI,GAAIytD,EAAQztD,EAAI,GAAIytD,EAAQztD,EAAI,GAAIytD,EAAQztD,EAAI,GAAIytD,EAAQztD,EAAI,IAGxI3pD,KAAKi2E,WAAWynB,cAAcwB,YAC9Bl/F,KAAKi2E,WAAWynB,cAAc/3F,OAGhC,GAAI3F,KAAKuK,OAAQ,CAsBf,IArBIkkG,GAAkBA,EAAevkB,GAC/BqtB,IAAgB9I,EAAevkB,KACjCqtB,EAAc9I,EAAevkB,GAC7B3zE,EAAIk6E,UAAYge,EAAevkB,IAExBqtB,IAAgBv3G,KAAKoa,OAAOw4F,SACrC2E,EAAcv3G,KAAKoa,OAAOw4F,OAC1Br8F,EAAIk6E,UAAYzwF,KAAKoa,OAAOw4F,QAE1BnE,GAAkBA,EAAe79B,GAC/B0mC,IAAe7I,EAAe79B,KAChC0mC,EAAa7I,EAAe79B,GAC5Br6D,EAAI2/F,YAAczH,EAAe79B,IAE1B0mC,IAAet3G,KAAKoa,OAAO7P,SACpC+sG,EAAat3G,KAAKoa,OAAO7P,OACzBgM,EAAI2/F,YAAcl2G,KAAKoa,OAAO7P,QAGhCq+D,GADAuuC,EAAWn3G,KAAKsnG,UAAU/nG,GAAGy2E,MACbv2E,OAChBO,KAAKi2E,WAAWynB,cAAcuB,YACzBr1E,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EAIzB,IAFAi/C,GADAuuC,EAAUD,EAASvtF,IACJnqB,OACfO,KAAKi2E,WAAWynB,cAAckX,OAAOwC,EAAQ,GAAIA,EAAQ,IACpDztD,EAAI,EAAGA,EAAIkf,EAAMlf,GAAK,EACzB3pD,KAAKi2E,WAAWynB,cAAcoX,cAAcsC,EAAQztD,GAAIytD,EAAQztD,EAAI,GAAIytD,EAAQztD,EAAI,GAAIytD,EAAQztD,EAAI,GAAIytD,EAAQztD,EAAI,GAAIytD,EAAQztD,EAAI,IAGxI3pD,KAAKi2E,WAAWynB,cAAcwB,YAC9Bl/F,KAAKi2E,WAAWynB,cAAcnzF,SAG5BkkG,GACFzuG,KAAKi2E,WAAW0H,SAASmgB,YASjCgV,UAAUlzG,UAAU+8F,YAAc,aAKlCoW,aAAanzG,UAAY,CACvB43G,eAAgB,aAChBtU,oBAAqB,WACnBljG,KAAKsjG,YAAcltC,UAAUp2D,KAAKigB,KAAKw3F,IAAM,OACzCz3G,KAAKigB,KAAKgpD,SACZjpE,KAAKs0F,WAAap+B,SAAS,OAC3Bl2D,KAAK60F,aAAe3+B,SAAS,KAC7Bl2D,KAAKw3F,cAAgBx3F,KAAK60F,aAC1B70F,KAAKs0F,WAAWv8D,YAAY/3B,KAAK60F,cACjC70F,KAAKsjG,YAAYvrE,YAAY/3B,KAAKs0F,aAElCt0F,KAAK60F,aAAe70F,KAAKsjG,YAE3BlwC,SAASpzD,KAAKsjG,cAEhBH,wBAAyB,WACvBnjG,KAAKmsG,yBAA2B,IAAI2G,UAAU9yG,MAC9CA,KAAKmrG,mBAAqBnrG,KAAKsjG,YAC/BtjG,KAAKw3F,cAAgBx3F,KAAK60F,aACtB70F,KAAKigB,KAAK8rF,IACZ/rG,KAAK60F,aAAar9D,aAAa,KAAMx3B,KAAKigB,KAAK8rF,IAE7C/rG,KAAKigB,KAAKirD,IACZlrE,KAAK60F,aAAar9D,aAAa,QAASx3B,KAAKigB,KAAKirD,IAE/B,IAAjBlrE,KAAKigB,KAAK4qF,IACZ7qG,KAAK2qG,gBAGTpH,cAAe,WACb,IAAImU,EAA0B13G,KAAKmrG,mBAAqBnrG,KAAKmrG,mBAAmBrwF,MAAQ,GACxF,GAAI9a,KAAKmhG,eAAeU,QAAS,CAC/B,IAAI8V,EAAc33G,KAAKmhG,eAAeppB,IAAIjb,QAC1C46C,EAAwBnqG,UAAYoqG,EACpCD,EAAwBrX,gBAAkBsX,EAExC33G,KAAKmhG,eAAeW,SACtB4V,EAAwBr/F,QAAUrY,KAAKmhG,eAAeC,MAAM1oC,EAAEnjB,IAGlEonD,YAAa,WAGP38F,KAAKigB,KAAKk4E,IAAMn4F,KAAKqiG,SAGzBriG,KAAKgiG,kBACLhiG,KAAK6iG,mBACL7iG,KAAKujG,gBACLvjG,KAAKwjG,qBACDxjG,KAAKq2E,gBACPr2E,KAAKq2E,eAAgB,KAGzBrpC,QAAS,WACPhtC,KAAK60F,aAAe,KACpB70F,KAAKmrG,mBAAqB,KACtBnrG,KAAKkrG,eACPlrG,KAAKkrG,aAAe,MAElBlrG,KAAKmsF,cACPnsF,KAAKmsF,YAAYn/C,UACjBhtC,KAAKmsF,YAAc,OAGvBiX,2BAA4B,WAC1BpjG,KAAKmsF,YAAc,IAAIkK,YAAYr2F,KAAKigB,KAAMjgB,KAAMA,KAAKi2E,aAE3D2hC,WAAY,aAEZnb,SAAU,cAEZsW,aAAanzG,UAAUk9F,eAAiB+J,eAAejnG,UAAUk9F,eACjEiW,aAAanzG,UAAU8jG,mBAAqBqP,aAAanzG,UAAUotC,QACnE+lE,aAAanzG,UAAUg7F,sBAAwB3E,eAAer2F,UAAUg7F,sBAQxE/4B,gBAAgB,CAAC+kC,YAAahP,iBAAkBmb,aAAcrb,iBAAkBC,aAAcG,sBAAuBkI,eAErHA,cAAcpgG,UAAUyjG,cAAgB,WACtC,IAAI/8D,EACAtmC,KAAKigB,KAAKgpD,UACZ3iC,EAAO4vB,SAAS,SACX1+B,aAAa,QAASx3B,KAAKigB,KAAKiqE,IACrC5jD,EAAK9O,aAAa,SAAUx3B,KAAKigB,KAAKuzD,IACtCltC,EAAK9O,aAAa,OAAQx3B,KAAKigB,KAAK2wD,IACpC5wE,KAAKs0F,WAAW98D,aAAa,QAASx3B,KAAKigB,KAAKiqE,IAChDlqF,KAAKs0F,WAAW98D,aAAa,SAAUx3B,KAAKigB,KAAKuzD,OAEjDltC,EAAO8vB,UAAU,QACZt7C,MAAMlY,MAAQ5C,KAAKigB,KAAKiqE,GAAK,KAClC5jD,EAAKxrB,MAAMjY,OAAS7C,KAAKigB,KAAKuzD,GAAK,KACnCltC,EAAKxrB,MAAM+8F,gBAAkB73G,KAAKigB,KAAK2wD,IAEzC5wE,KAAK60F,aAAa98D,YAAYuO,IAehCu7B,gBAAgB,CAACo0B,eAAgB+Q,aAAc+L,cAAehT,cAC9DA,aAAangG,UAAUk4G,6BAA+B/X,aAAangG,UAAUujG,wBAE7EpD,aAAangG,UAAUujG,wBAA0B,WAC/CnjG,KAAK83G,+BAED93G,KAAKigB,KAAKgpD,SACZjpE,KAAKs0F,WAAW98D,aAAa,QAASx3B,KAAKigB,KAAKzU,GAChDxL,KAAKs0F,WAAW98D,aAAa,SAAUx3B,KAAKigB,KAAKxU,GACjDzL,KAAKmrG,mBAAqBnrG,KAAKsjG,aAE/BtjG,KAAKmrG,mBAAqBnrG,KAAK60F,cAInCkL,aAAangG,UAAU2/F,iBAAmB,SAAUvpB,EAAMryC,GAGxD,IAFA,IACIo5D,EADAnzE,EAAI,EAEDA,EAAI+Z,GACL3jC,KAAKsrC,SAAS1hB,IAAM5pB,KAAKsrC,SAAS1hB,GAAGkzE,iBACvCC,EAAc/8F,KAAKsrC,SAAS1hB,GAAGkzE,kBAEjClzE,GAAK,EAEHmzE,EACF/8F,KAAK60F,aAAamI,aAAahnB,EAAM+mB,GAErC/8F,KAAK60F,aAAa98D,YAAYi+C,IAkClCnU,gBAAgB,CAAC+kC,YAAahP,iBAAkBoI,cAAehE,gBAAiB+W,aAAcrb,iBAAkBC,aAAcE,mBAAoB8H,eAClJA,cAAc//F,UAAUm4G,kBAAoBpY,cAAc//F,UAAU4jG,mBAEpE7D,cAAc//F,UAAUyjG,cAAgB,WACtC,IAAItgB,EAEJ,GADA/iF,KAAKsjG,YAAYxoF,MAAM8B,SAAW,EAC9B5c,KAAKigB,KAAKgpD,QACZjpE,KAAK60F,aAAa98D,YAAY/3B,KAAKgzG,iBACnCjwB,EAAO/iF,KAAKs0F,eACP,CACLvR,EAAO7sB,SAAS,OAChB,IAAI1tD,EAAOxI,KAAKu1E,KAAKt1D,KAAOjgB,KAAKu1E,KAAKt1D,KAAOjgB,KAAKi2E,WAAW6lB,SAC7D/Y,EAAKvrD,aAAa,QAAShvB,EAAKgD,GAChCu3E,EAAKvrD,aAAa,SAAUhvB,EAAKiD,GACjCs3E,EAAKhrD,YAAY/3B,KAAKgzG,iBACtBhzG,KAAK60F,aAAa98D,YAAYgrD,GAGhC/iF,KAAK8uG,aAAa9uG,KAAKunG,WAAYvnG,KAAK0nG,UAAW1nG,KAAKk5F,aAAcl5F,KAAKgzG,gBAAiB,EAAG,IAAI,GACnGhzG,KAAK+uG,qBACL/uG,KAAKg4G,UAAYj1B,GAGnB4c,cAAc//F,UAAUq4G,oBAAsB,SAAU1f,EAAc9qC,GACpE,IAAIluD,EACAouC,EAAM4qD,EAAa94F,OACvB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBkuD,EAAQ8qC,EAAah5F,GAAGskF,OAAOtuC,EAAEymB,kBAAkBvO,EAAM,GAAIA,EAAM,GAAI,GAEzE,OAAOA,GAGTkyC,cAAc//F,UAAUs4G,0BAA4B,SAAUjiG,EAAMkiG,GAClE,IAEI54G,EAEA64G,EACAC,EACAC,EACAC,EAPA95B,EAAQxoE,EAAKu9D,GAAGj+B,EAChBgjD,EAAetiF,EAAKsiF,aAEpB5qD,EAAM8wC,EAAM7Z,QAKhB,KAAIj3B,GAAO,GAAX,CAGA,IAAKpuC,EAAI,EAAGA,EAAIouC,EAAM,EAAGpuC,GAAK,EAC5B64G,EAASp4G,KAAKi4G,oBAAoB1f,EAAc9Z,EAAMlpC,EAAEh2C,IACxD84G,EAASr4G,KAAKi4G,oBAAoB1f,EAAc9Z,EAAM/lB,EAAEn5D,IACxD+4G,EAAat4G,KAAKi4G,oBAAoB1f,EAAc9Z,EAAMl/E,EAAEA,EAAI,IAChEg5G,EAAav4G,KAAKi4G,oBAAoB1f,EAAc9Z,EAAMlpC,EAAEh2C,EAAI,IAChES,KAAKw4G,YAAYJ,EAAQC,EAAQC,EAAYC,EAAYJ,GAEvD15B,EAAMn6B,IACR8zD,EAASp4G,KAAKi4G,oBAAoB1f,EAAc9Z,EAAMlpC,EAAEh2C,IACxD84G,EAASr4G,KAAKi4G,oBAAoB1f,EAAc9Z,EAAM/lB,EAAEn5D,IACxD+4G,EAAat4G,KAAKi4G,oBAAoB1f,EAAc9Z,EAAMl/E,EAAE,IAC5Dg5G,EAAav4G,KAAKi4G,oBAAoB1f,EAAc9Z,EAAMlpC,EAAE,IAC5Dv1C,KAAKw4G,YAAYJ,EAAQC,EAAQC,EAAYC,EAAYJ,MAI7DxY,cAAc//F,UAAU44G,YAAc,SAAUJ,EAAQC,EAAQC,EAAYC,EAAYJ,GACtFn4G,KAAKy4G,iBAAiBL,EAAQC,EAAQC,EAAYC,GAClD,IAAIG,EAAS14G,KAAK24G,iBAClBR,EAAYtrG,EAAI2lD,MAAMkmD,EAAO/5F,KAAMw5F,EAAYtrG,GAC/CsrG,EAAYS,KAAOrmD,MAAMmmD,EAAOzmF,MAAOkmF,EAAYS,MACnDT,EAAYrrG,EAAI0lD,MAAMkmD,EAAOh6F,IAAKy5F,EAAYrrG,GAC9CqrG,EAAYU,KAAOtmD,MAAMmmD,EAAOn0G,OAAQ4zG,EAAYU,OAGtDlZ,cAAc//F,UAAU+4G,iBAAmB,CACzCh6F,KAAM,EACNsT,MAAO,EACPvT,IAAK,EACLna,OAAQ,GAGVo7F,cAAc//F,UAAUk5G,gBAAkB,CACxCjsG,EAAG,EACH+rG,KAAM,EACN9rG,EAAG,EACH+rG,KAAM,EACNj2G,MAAO,EACPC,OAAQ,GAGV88F,cAAc//F,UAAU64G,iBAAmB,SAAUj8C,EAAIxB,EAAIlB,EAAIi/C,GAG/D,IAFA,IAESt5F,EAAG2K,EAAGk6B,EAAGtlC,EAAGg6F,EAAM9zC,EAAI+zC,EAF3BP,EAAS,CAAC,CAACl8C,EAAG,GAAIu8C,EAAG,IAAK,CAACv8C,EAAG,GAAIu8C,EAAG,KAENx5G,EAAI,EAAGA,EAAI,IAAKA,EACjD6qB,EAAI,EAAIoyC,EAAGj9D,GAAK,GAAKy7D,EAAGz7D,GAAK,EAAIu6D,EAAGv6D,GACpCkgB,GAAK,EAAI+8C,EAAGj9D,GAAK,EAAIy7D,EAAGz7D,GAAK,EAAIu6D,EAAGv6D,GAAK,EAAIw5G,EAAGx5G,GAChD+kD,EAAI,EAAI0W,EAAGz7D,GAAK,EAAIi9D,EAAGj9D,GAEvB6qB,GAAK,EAELk6B,GAAK,EAEK,KAHV7kC,GAAK,IAGgB,IAAN2K,IAEE,IAAN3K,GACTT,GAAKslC,EAAIl6B,GAED,GAAKpL,EAAI,GACf05F,EAAOn5G,GAAG2gB,KAAKlgB,KAAKk5G,WAAWl6F,EAAGw9C,EAAIxB,EAAIlB,EAAIi/C,EAAIx5G,KAGpDy5G,EAAO5uF,EAAIA,EAAI,EAAIk6B,EAAI7kC,IAEX,KACVylD,IAAO96C,EAAIgoC,OAAO4mD,KAAU,EAAIv5F,IACvB,GAAKylD,EAAK,GAAGwzC,EAAOn5G,GAAG2gB,KAAKlgB,KAAKk5G,WAAWh0C,EAAI1I,EAAIxB,EAAIlB,EAAIi/C,EAAIx5G,KACzE05G,IAAO7uF,EAAIgoC,OAAO4mD,KAAU,EAAIv5F,IACvB,GAAKw5F,EAAK,GAAGP,EAAOn5G,GAAG2gB,KAAKlgB,KAAKk5G,WAAWD,EAAIz8C,EAAIxB,EAAIlB,EAAIi/C,EAAIx5G,MAK/ES,KAAK24G,iBAAiBh6F,KAAO6zC,MAAMzyD,MAAM,KAAM24G,EAAO,IACtD14G,KAAK24G,iBAAiBj6F,IAAM8zC,MAAMzyD,MAAM,KAAM24G,EAAO,IACrD14G,KAAK24G,iBAAiB1mF,MAAQsgC,MAAMxyD,MAAM,KAAM24G,EAAO,IACvD14G,KAAK24G,iBAAiBp0G,OAASguD,MAAMxyD,MAAM,KAAM24G,EAAO,KAG1D/Y,cAAc//F,UAAUs5G,WAAa,SAAUl6F,EAAGw9C,EAAIxB,EAAIlB,EAAIi/C,EAAIx5G,GAChE,OAAO4yD,MAAM,EAAInzC,EAAG,GAAKw9C,EAAGj9D,GACpB,EAAI4yD,MAAM,EAAInzC,EAAG,GAAKA,EAAIg8C,EAAGz7D,GAC7B,GAAK,EAAIyf,GAAKmzC,MAAMnzC,EAAG,GAAK86C,EAAGv6D,GAC/B4yD,MAAMnzC,EAAG,GAAK+5F,EAAGx5G,IAG3BogG,cAAc//F,UAAUu5G,qBAAuB,SAAUzR,EAAWyQ,GAClE,IAAI54G,EACAouC,EAAM+5D,EAAUjoG,OACpB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACpBmoG,EAAUnoG,IAAMmoG,EAAUnoG,GAAGi0E,GAC/BxzE,KAAKk4G,0BAA0BxQ,EAAUnoG,GAAI44G,GACpCzQ,EAAUnoG,IAAMmoG,EAAUnoG,GAAGgkD,IACtCvjD,KAAKm5G,qBAAqBzR,EAAUnoG,GAAGgkD,GAAI40D,IAKjDxY,cAAc//F,UAAUw5G,mBAAqB,SAAUC,GACrD,OAAOr5G,KAAKizG,YAAYpmG,GAAKwsG,EAAIxsG,GAC5B7M,KAAKizG,YAAYnmG,GAAKusG,EAAIvsG,GAC1B9M,KAAKizG,YAAYrwG,MAAQ5C,KAAKizG,YAAYpmG,GAAKwsG,EAAIxsG,EAAIwsG,EAAIz2G,OAC3D5C,KAAKizG,YAAYpwG,OAAS7C,KAAKizG,YAAYnmG,GAAKusG,EAAIvsG,EAAIusG,EAAIx2G,QAGnE88F,cAAc//F,UAAU4jG,mBAAqB,WAG3C,GAFAxjG,KAAK+3G,qBAEA/3G,KAAKqiG,SAAWriG,KAAKq2E,eAAiBr2E,KAAK22D,MAAO,CACrD,IAAImiD,EAAkB94G,KAAK84G,gBACvBtxG,EAAM,OASV,GARAsxG,EAAgBjsG,EAAIrF,EACpBsxG,EAAgBF,MAAQpxG,EACxBsxG,EAAgBhsG,EAAItF,EACpBsxG,EAAgBD,MAAQrxG,EACxBxH,KAAKm5G,qBAAqBn5G,KAAK0nG,UAAWoR,GAC1CA,EAAgBl2G,MAAQk2G,EAAgBF,KAAOE,EAAgBjsG,EAAI,EAAIisG,EAAgBF,KAAOE,EAAgBjsG,EAC9GisG,EAAgBj2G,OAASi2G,EAAgBD,KAAOC,EAAgBhsG,EAAI,EAAIgsG,EAAgBD,KAAOC,EAAgBhsG,EAE3G9M,KAAKo5G,mBAAmBN,GAC1B,OAEF,IAAIQ,GAAU,EAWd,GAVIt5G,KAAKizG,YAAYznG,IAAMstG,EAAgBl2G,QACzC5C,KAAKizG,YAAYznG,EAAIstG,EAAgBl2G,MACrC5C,KAAKg4G,UAAUxgF,aAAa,QAASshF,EAAgBl2G,OACrD02G,GAAU,GAERt5G,KAAKizG,YAAYxnG,IAAMqtG,EAAgBj2G,SACzC7C,KAAKizG,YAAYxnG,EAAIqtG,EAAgBj2G,OACrC7C,KAAKg4G,UAAUxgF,aAAa,SAAUshF,EAAgBj2G,QACtDy2G,GAAU,GAERA,GAAWt5G,KAAKizG,YAAYpmG,IAAMisG,EAAgBjsG,GAAK7M,KAAKizG,YAAYnmG,IAAMgsG,EAAgBhsG,EAAG,CACnG9M,KAAKizG,YAAYznG,EAAIstG,EAAgBl2G,MACrC5C,KAAKizG,YAAYxnG,EAAIqtG,EAAgBj2G,OACrC7C,KAAKizG,YAAYpmG,EAAIisG,EAAgBjsG,EACrC7M,KAAKizG,YAAYnmG,EAAIgsG,EAAgBhsG,EAErC9M,KAAKg4G,UAAUxgF,aAAa,UAAWx3B,KAAKizG,YAAYpmG,EAAI,IAAM7M,KAAKizG,YAAYnmG,EAAI,IAAM9M,KAAKizG,YAAYznG,EAAI,IAAMxL,KAAKizG,YAAYxnG,GACzI,IAAI8tG,EAAav5G,KAAKg4G,UAAUl9F,MAC5B0+F,EAAiB,aAAex5G,KAAKizG,YAAYpmG,EAAI,MAAQ7M,KAAKizG,YAAYnmG,EAAI,MACtFysG,EAAWhsG,UAAYisG,EACvBD,EAAWlZ,gBAAkBmZ,KAqBnC33C,gBAAgB,CAAC+kC,YAAahP,iBAAkBmb,aAAcrb,iBAAkBC,aAAcG,qBAAsBiP,cAAenH,cAEnIA,aAAahgG,UAAUyjG,cAAgB,WAErC,GADArjG,KAAKmzG,SAAWnzG,KAAK4pG,aACjB5pG,KAAKmzG,SAAU,CACjBnzG,KAAKkpF,WAAa,MAClBlpF,KAAKy5G,MAAQz5G,KAAKu1E,KAAKt1D,KAAKzU,EAC5BxL,KAAK05G,MAAQ15G,KAAKu1E,KAAKt1D,KAAKxU,EAC5BzL,KAAKs0F,WAAW98D,aAAa,QAASx3B,KAAKy5G,OAC3Cz5G,KAAKs0F,WAAW98D,aAAa,SAAUx3B,KAAK05G,OAC5C,IAAI5kD,EAAIoB,SAAS,KACjBl2D,KAAKw3F,cAAcz/D,YAAY+8B,GAC/B90D,KAAKyjG,UAAY3uC,OAEjB90D,KAAKkpF,WAAa,OAClBlpF,KAAKyjG,UAAYzjG,KAAK60F,aAGxB70F,KAAK08F,kBAGPkD,aAAahgG,UAAUgtG,aAAe,WACpC,IAAIxiC,EAAepqE,KAAKuyF,aAAazH,YACrC9qF,KAAK4pF,gBAAkB/2B,iBAAiBuX,EAAazgD,EAAIygD,EAAazgD,EAAElqB,OAAS,GACjF,IAAIk6G,EAAiB35G,KAAKyjG,UAAU3oF,MAChC8+F,EAAYxvC,EAAa+f,GAAKnqF,KAAKktG,WAAW9iC,EAAa+f,IAAM,gBACrEwvB,EAAeh0G,KAAOi0G,EACtBD,EAAej0G,MAAQk0G,EACnBxvC,EAAawG,KACf+oC,EAAepvG,OAASvK,KAAKktG,WAAW9iC,EAAawG,IACrD+oC,EAAenvG,YAAc4/D,EAAa8f,GAAK,MAEjD,IAcI3qF,EACAouC,EAfAq/B,EAAWhtE,KAAKi2E,WAAWoa,YAAYtf,cAAc3G,EAAaxlB,GACtE,IAAK5kD,KAAKi2E,WAAWoa,YAAY5lB,MAG/B,GAFAkvC,EAAe/8F,SAAWwtD,EAAawhB,UAAY,KACnD+tB,EAAejuG,WAAa0+D,EAAawhB,UAAY,KACjD5e,EAASwB,OACXxuE,KAAKyjG,UAAU7/F,UAAYopE,EAASwB,WAC/B,CACLmrC,EAAe/rC,WAAaZ,EAASuB,QACrC,IAAIrB,EAAU9C,EAAa8C,QACvBD,EAAS7C,EAAa6C,OAC1B0sC,EAAe5rC,UAAYd,EAC3B0sC,EAAe3zG,WAAaknE,EAMhC,IAEIghC,EACA2L,EACAC,EAJA3sB,EAAU/iB,EAAazgD,EAC3BgkB,EAAMw/C,EAAQ1tF,OAId,IACI+pE,EADAwjB,EAAehtF,KAAKitF,QAEpB6f,EAAW,GACXhlF,EAAM,EACV,IAAKvoB,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAAG,CAqC3B,GApCIS,KAAKi2E,WAAWoa,YAAY5lB,OACzBzqE,KAAKkzG,UAAUprF,GAMlBomF,EAAQluG,KAAKkzG,UAAUprF,KALvBomF,EAAQh4C,SAAS,SACX1+B,aAAa,iBAAkBw/B,YAAY,IACjDk3C,EAAM12E,aAAa,kBAAmBy/B,aAAa,IACnDi3C,EAAM12E,aAAa,oBAAqB,MAIrCx3B,KAAKmzG,WACJnzG,KAAKsnG,UAAUx/E,GAEjBgyF,GADAD,EAAU75G,KAAKsnG,UAAUx/E,IACThhB,SAAS,KAEzB+yG,EAAUzjD,UAAU,QACZt7C,MAAMpP,WAAa,GAC3BouG,EAAQ5jD,SAAS,QACXn+B,YAAYm2E,GAClB96C,SAASymD,MAGH75G,KAAKmzG,SAYfjF,EAAQluG,KAAKkzG,UAAUprF,GAAO9nB,KAAKkzG,UAAUprF,GAAOouC,SAAS,QAXzDl2D,KAAKsnG,UAAUx/E,IACjB+xF,EAAU75G,KAAKsnG,UAAUx/E,GACzBomF,EAAQluG,KAAKkzG,UAAUprF,KAGvBsrC,SADAymD,EAAUzjD,UAAU,SAGpBhD,SADA86C,EAAQ93C,UAAU,SAElByjD,EAAQ9hF,YAAYm2E,IAMpBluG,KAAKi2E,WAAWoa,YAAY5lB,MAAO,CACrC,IACIpG,EADA+rB,EAAWpwF,KAAKi2E,WAAWoa,YAAYvf,YAAY1G,EAAayhB,UAAUtsF,GAAIytE,EAASC,OAAQjtE,KAAKi2E,WAAWoa,YAAYtf,cAAc3G,EAAaxlB,GAAG2pB,SAc7J,GAXElK,EADE+rB,EACUA,EAASnwE,KAET,KAEd+sE,EAAapgD,QACTy3B,GAAaA,EAAUmF,SACzBA,EAASnF,EAAUmF,OAAO,GAAGjmB,GAC7BypC,EAAa10E,MAAM8xD,EAAawhB,UAAY,IAAKxhB,EAAawhB,UAAY,KAC1EkhB,EAAW9sG,KAAK6sG,gBAAgB7f,EAAcxjB,GAC9C0kC,EAAM12E,aAAa,IAAKs1E,IAErB9sG,KAAKmzG,SAqBRnzG,KAAKyjG,UAAU1rE,YAAYm2E,OArBT,CAElB,GADAluG,KAAKyjG,UAAU1rE,YAAY8hF,GACvBx1C,GAAaA,EAAUmF,OAAQ,CAEjClgE,SAASilB,KAAKwJ,YAAY+hF,GAC1B,IAAI3B,EAAc2B,EAAM3yB,UACxB2yB,EAAMtiF,aAAa,QAAS2gF,EAAYv1G,MAAQ,GAChDk3G,EAAMtiF,aAAa,SAAU2gF,EAAYt1G,OAAS,GAClDi3G,EAAMtiF,aAAa,UAAY2gF,EAAYtrG,EAAI,EAAK,KAAOsrG,EAAYrrG,EAAI,GAAK,KAAOqrG,EAAYv1G,MAAQ,GAAK,KAAOu1G,EAAYt1G,OAAS,IAC5I,IAAIk3G,EAAaD,EAAMh/F,MACnBk/F,EAAmB,cAAgB7B,EAAYtrG,EAAI,GAAK,OAASsrG,EAAYrrG,EAAI,GAAK,MAC1FitG,EAAWxsG,UAAYysG,EACvBD,EAAW1Z,gBAAkB2Z,EAE7B7sB,EAAQ5tF,GAAGosF,QAAUwsB,EAAYrrG,EAAI,OAErCgtG,EAAMtiF,aAAa,QAAS,GAC5BsiF,EAAMtiF,aAAa,SAAU,GAE/BqiF,EAAQ9hF,YAAY+hF,SAOtB,GAFA5L,EAAM3zF,YAAc4yE,EAAQ5tF,GAAGqtD,IAC/BshD,EAAM9lB,eAAe,uCAAwC,YAAa,YACrEpoF,KAAKmzG,SAQRnzG,KAAKyjG,UAAU1rE,YAAYm2E,OART,CAClBluG,KAAKyjG,UAAU1rE,YAAY8hF,GAE3B,IAAII,EAAS/L,EAAMpzF,MACfo/F,EAAmB,kBAAoB9vC,EAAawhB,UAAY,IAAM,QAC1EquB,EAAO1sG,UAAY2sG,EACnBD,EAAO5Z,gBAAkB6Z,EAMxBl6G,KAAKmzG,SAGRnzG,KAAKsnG,UAAUx/E,GAAOomF,EAFtBluG,KAAKsnG,UAAUx/E,GAAO+xF,EAIxB75G,KAAKsnG,UAAUx/E,GAAKhN,MAAM3W,QAAU,QACpCnE,KAAKkzG,UAAUprF,GAAOomF,EACtBpmF,GAAO,EAET,KAAOA,EAAM9nB,KAAKsnG,UAAU7nG,QAC1BO,KAAKsnG,UAAUx/E,GAAKhN,MAAM3W,QAAU,OACpC2jB,GAAO,GAIX83E,aAAahgG,UAAU4jG,mBAAqB,WAC1C,IAAI2W,EACJ,GAAIn6G,KAAKigB,KAAKkrD,YAAa,CACzB,IAAKnrE,KAAKq2E,gBAAkBr2E,KAAK6pF,mBAC/B,OACA,GAAI7pF,KAAKmzG,UAAYnzG,KAAKmhG,eAAeU,QAAS,CAElD7hG,KAAKs0F,WAAW98D,aAAa,WAAYx3B,KAAKmhG,eAAeC,MAAMjiF,EAAEo2B,EAAE,GAAK,KAAOv1C,KAAKmhG,eAAeC,MAAMjiF,EAAEo2B,EAAE,GAAK,IAAMv1C,KAAKy5G,MAAQ,IAAMz5G,KAAK05G,OACpJS,EAAWn6G,KAAKs0F,WAAWx5E,MAC3B,IAAIs/F,EAAc,cAAgBp6G,KAAKmhG,eAAeC,MAAMjiF,EAAEo2B,EAAE,GAAK,OAASv1C,KAAKmhG,eAAeC,MAAMjiF,EAAEo2B,EAAE,GAAK,MACjH4kE,EAAS5sG,UAAY6sG,EACrBD,EAAS9Z,gBAAkB+Z,GAK/B,GADAp6G,KAAK2sG,aAAatgB,YAAYrsF,KAAKuyF,aAAazH,YAAa9qF,KAAK6pF,oBAC7D7pF,KAAK6pF,oBAAuB7pF,KAAK2sG,aAAa9iB,mBAAnD,CAGA,IAAItqF,EACAouC,EAOA8gE,EACAC,EACA2L,EARA38C,EAAQ,EACRksB,EAAkB5pF,KAAK2sG,aAAa/iB,gBAEpCuD,EAAUntF,KAAKuyF,aAAazH,YAAYnhE,EAM5C,IAJAgkB,EAAMw/C,EAAQ1tF,OAITF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACpB4tF,EAAQ5tF,GAAG2f,EACbw+C,GAAS,GAETgxC,EAAW1uG,KAAKsnG,UAAU/nG,GAC1B86G,EAAWr6G,KAAKkzG,UAAU3zG,GAC1BkvG,EAAiB7kB,EAAgBlsB,GACjCA,GAAS,EACL+wC,EAAe93C,KAAKvqB,IACjBpsC,KAAKmzG,SAIRzE,EAASl3E,aAAa,YAAai3E,EAAeriE,IAHlDsiE,EAAS5zF,MAAMulF,gBAAkBoO,EAAeriE,EAChDsiE,EAAS5zF,MAAMvN,UAAYkhG,EAAeriE,IAM9CsiE,EAAS5zF,MAAMzC,QAAUo2F,EAAe/1C,EACpC+1C,EAAevkB,IAAMukB,EAAe93C,KAAKuzB,IAC3CmwB,EAAS7iF,aAAa,eAAgBi3E,EAAevkB,IAEnDukB,EAAe79B,IAAM69B,EAAe93C,KAAKia,IAC3CypC,EAAS7iF,aAAa,SAAUi3E,EAAe79B,IAE7C69B,EAAetkB,IAAMskB,EAAe93C,KAAKwzB,KAC3CkwB,EAAS7iF,aAAa,OAAQi3E,EAAetkB,IAC7CkwB,EAASv/F,MAAMpV,MAAQ+oG,EAAetkB,KAK5C,GAAInqF,KAAKyjG,UAAUtc,UAAYnnF,KAAKqiG,SAAWriG,KAAKq2E,eAAiBr2E,KAAK22D,MAAO,CAC/E,IAAIwhD,EAAcn4G,KAAKyjG,UAAUtc,UAYjC,GAVInnF,KAAKizG,YAAYznG,IAAM2sG,EAAYv1G,QACrC5C,KAAKizG,YAAYznG,EAAI2sG,EAAYv1G,MACjC5C,KAAKs0F,WAAW98D,aAAa,QAAS2gF,EAAYv1G,QAEhD5C,KAAKizG,YAAYxnG,IAAM0sG,EAAYt1G,SACrC7C,KAAKizG,YAAYxnG,EAAI0sG,EAAYt1G,OACjC7C,KAAKs0F,WAAW98D,aAAa,SAAU2gF,EAAYt1G,SAIjD7C,KAAKizG,YAAYznG,IAAO2sG,EAAYv1G,MAAQs0C,GAAel3C,KAAKizG,YAAYxnG,IAAO0sG,EAAYt1G,OAASq0C,GAAel3C,KAAKizG,YAAYpmG,IAAOsrG,EAAYtrG,EADlJ,GACiK7M,KAAKizG,YAAYnmG,IAAOqrG,EAAYrrG,EADrM,EACkN,CAC7N9M,KAAKizG,YAAYznG,EAAI2sG,EAAYv1G,MAAQs0C,EACzCl3C,KAAKizG,YAAYxnG,EAAI0sG,EAAYt1G,OAASq0C,EAC1Cl3C,KAAKizG,YAAYpmG,EAAIsrG,EAAYtrG,EAJtB,EAKX7M,KAAKizG,YAAYnmG,EAAIqrG,EAAYrrG,EALtB,EAOX9M,KAAKs0F,WAAW98D,aAAa,UAAWx3B,KAAKizG,YAAYpmG,EAAI,IAAM7M,KAAKizG,YAAYnmG,EAAI,IAAM9M,KAAKizG,YAAYznG,EAAI,IAAMxL,KAAKizG,YAAYxnG,GAC1I0uG,EAAWn6G,KAAKs0F,WAAWx5E,MAC3B,IAAIw/F,EAAe,aAAet6G,KAAKizG,YAAYpmG,EAAI,MAAQ7M,KAAKizG,YAAYnmG,EAAI,MACpFqtG,EAAS5sG,UAAY+sG,EACrBH,EAAS9Z,gBAAkBia,MAajCz4C,gBAAgB,CAAC+kC,YAAahP,iBAAkBmb,aAAc/S,cAAetI,iBAAkBC,aAAcE,mBAAoBiI,eAEjIA,cAAclgG,UAAUyjG,cAAgB,WACtC,IAAIre,EAAYhlF,KAAKi2E,WAAWyQ,cAAc1mF,KAAK2mF,WAC/CjlF,EAAM,IAAIC,MAEV3B,KAAKigB,KAAKgpD,SACZjpE,KAAKu6G,UAAYrkD,SAAS,SAC1Bl2D,KAAKu6G,UAAU/iF,aAAa,QAASx3B,KAAK2mF,UAAUn7E,EAAI,MACxDxL,KAAKu6G,UAAU/iF,aAAa,SAAUx3B,KAAK2mF,UAAUl7E,EAAI,MACzDzL,KAAKu6G,UAAUnyB,eAAe,+BAAgC,OAAQpD,GACtEhlF,KAAK60F,aAAa98D,YAAY/3B,KAAKu6G,WACnCv6G,KAAKsjG,YAAY9rE,aAAa,QAASx3B,KAAK2mF,UAAUn7E,GACtDxL,KAAKsjG,YAAY9rE,aAAa,SAAUx3B,KAAK2mF,UAAUl7E,IAEvDzL,KAAK60F,aAAa98D,YAAYr2B,GAEhCA,EAAIb,YAAc,YAClBa,EAAIjB,IAAMukF,EACNhlF,KAAKigB,KAAK8rF,IACZ/rG,KAAKsjG,YAAY9rE,aAAa,KAAMx3B,KAAKigB,KAAK8rF,KA4ClDlqC,gBAAgB,CAAC+kC,YAAajP,aAAcD,kBAAmBmI,gBAE/DA,eAAejgG,UAAUghG,MAAQ,WAC/B,IAAIrhG,EAEAg2E,EACAilC,EACAjc,EAHA5wD,EAAM3tC,KAAKu1E,KAAK2gB,eAAez2F,OAInC,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAGxB,GAAkB,QADlBg2E,EAAOv1E,KAAKu1E,KAAK2gB,eAAe32F,IACvBuc,KAAe,CACtB0+F,EAAmBjlC,EAAK4qB,gBAAgBrlF,MACxCyjF,EAAiBhpB,EAAKruE,UAAU4T,MAChC,IAAIuuB,EAAcrpC,KAAKozG,GAAG79D,EAAI,KAC1Bm3B,EAAS,cACToV,EAAS,4CACb04B,EAAiBnxE,YAAcA,EAC/BmxE,EAAiBzZ,kBAAoB13D,EACrCk1D,EAAexjF,gBAAkB2xD,EACjC6xB,EAAeC,mBAAqB9xB,EACpC6xB,EAAelrC,sBAAwBqZ,EACvC8tC,EAAiBjtG,UAAYu0E,EAC7B04B,EAAiBna,gBAAkBve,IAKzC+d,eAAejgG,UAAUo0G,eAAiB,aAG1CnU,eAAejgG,UAAUwgD,KAAO,aAGhCy/C,eAAejgG,UAAU+8F,YAAc,WACrC,IACIp9F,EACAouC,EAFAgpB,EAAO32D,KAAKq2E,cAGhB,GAAIr2E,KAAK86F,UAEP,IADAntD,EAAM3tC,KAAK86F,UAAUr7F,OAChBF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBo3D,EAAO32D,KAAK86F,UAAUv7F,GAAG4hG,eAAeC,MAAMzqC,MAAQA,EAG1D,GAAIA,GAAQ32D,KAAKozG,GAAGz8C,MAAS32D,KAAKmf,GAAKnf,KAAKmf,EAAEw3C,MAAU32D,KAAKkgD,KAAOlgD,KAAKkgD,GAAGyW,MAAQ32D,KAAKu3E,GAAG5gB,MAAQ32D,KAAKw3E,GAAG7gB,OAAU32D,KAAK2M,GAAGgqD,MAAQ32D,KAAK4M,GAAG+pD,MAAQ32D,KAAKy3E,GAAG9gB,MAAQ32D,KAAK03E,GAAG/gB,MAAS32D,KAAKyf,GAAKzf,KAAKyf,EAAEk3C,KAAO,CAG7M,GAFA32D,KAAK+3E,IAAInrC,QAEL5sC,KAAK86F,UAEP,IAAKv7F,EADLouC,EAAM3tC,KAAK86F,UAAUr7F,OAAS,EAChBF,GAAK,EAAGA,GAAK,EAAG,CAC5B,IAAIk7G,EAAUz6G,KAAK86F,UAAUv7F,GAAG4hG,eAAeC,MAC/CphG,KAAK+3E,IAAIpf,WAAW8hD,EAAQt7F,EAAEo2B,EAAE,IAAKklE,EAAQt7F,EAAEo2B,EAAE,GAAIklE,EAAQt7F,EAAEo2B,EAAE,IACjEv1C,KAAK+3E,IAAIjgB,SAAS2iD,EAAQ/iC,GAAGniC,EAAE,IAAIwiB,SAAS0iD,EAAQ/iC,GAAGniC,EAAE,IAAIyiB,QAAQyiD,EAAQ/iC,GAAGniC,EAAE,IAClFv1C,KAAK+3E,IAAIjgB,SAAS2iD,EAAQ9tG,GAAG4oC,GAAGwiB,SAAS0iD,EAAQ7tG,GAAG2oC,GAAGyiB,QAAQyiD,EAAQhjC,GAAGliC,GAC1Ev1C,KAAK+3E,IAAIz/D,MAAM,EAAImiG,EAAQx7F,EAAEs2B,EAAE,GAAI,EAAIklE,EAAQx7F,EAAEs2B,EAAE,GAAI,EAAIklE,EAAQx7F,EAAEs2B,EAAE,IACvEv1C,KAAK+3E,IAAIpf,UAAU8hD,EAAQh7F,EAAE81B,EAAE,GAAIklE,EAAQh7F,EAAE81B,EAAE,GAAIklE,EAAQh7F,EAAE81B,EAAE,IAQnE,GALIv1C,KAAKmf,EACPnf,KAAK+3E,IAAIpf,WAAW34D,KAAKmf,EAAEo2B,EAAE,IAAKv1C,KAAKmf,EAAEo2B,EAAE,GAAIv1C,KAAKmf,EAAEo2B,EAAE,IAExDv1C,KAAK+3E,IAAIpf,WAAW34D,KAAKkgD,GAAG3K,GAAIv1C,KAAKu3E,GAAGhiC,EAAGv1C,KAAKw3E,GAAGjiC,GAEjDv1C,KAAKyf,EAAG,CACV,IAAIi7F,EAEFA,EADE16G,KAAKmf,EACM,CAACnf,KAAKmf,EAAEo2B,EAAE,GAAKv1C,KAAKyf,EAAE81B,EAAE,GAAIv1C,KAAKmf,EAAEo2B,EAAE,GAAKv1C,KAAKyf,EAAE81B,EAAE,GAAIv1C,KAAKmf,EAAEo2B,EAAE,GAAKv1C,KAAKyf,EAAE81B,EAAE,IAE9E,CAACv1C,KAAKkgD,GAAG3K,EAAIv1C,KAAKyf,EAAE81B,EAAE,GAAIv1C,KAAKu3E,GAAGhiC,EAAIv1C,KAAKyf,EAAE81B,EAAE,GAAIv1C,KAAKw3E,GAAGjiC,EAAIv1C,KAAKyf,EAAE81B,EAAE,IAEvF,IAAIolE,EAAM5xF,KAAKspC,KAAKtpC,KAAKioC,IAAI0pD,EAAW,GAAI,GAAK3xF,KAAKioC,IAAI0pD,EAAW,GAAI,GAAK3xF,KAAKioC,IAAI0pD,EAAW,GAAI,IAElGE,EAAU,CAACF,EAAW,GAAKC,EAAKD,EAAW,GAAKC,EAAKD,EAAW,GAAKC,GACrEE,EAAiB9xF,KAAKspC,KAAKuoD,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAC1EE,EAAc/xF,KAAKgrD,MAAM6mC,EAAQ,GAAIC,GACrCE,EAAchyF,KAAKgrD,MAAM6mC,EAAQ,IAAKA,EAAQ,IAClD56G,KAAK+3E,IAAIhgB,QAAQgjD,GAAYjjD,SAASgjD,GAExC96G,KAAK+3E,IAAIjgB,SAAS93D,KAAK2M,GAAG4oC,GAAGwiB,SAAS/3D,KAAK4M,GAAG2oC,GAAGyiB,QAAQh4D,KAAKy3E,GAAGliC,GACjEv1C,KAAK+3E,IAAIjgB,SAAS93D,KAAK03E,GAAGniC,EAAE,IAAIwiB,SAAS/3D,KAAK03E,GAAGniC,EAAE,IAAIyiB,QAAQh4D,KAAK03E,GAAGniC,EAAE,IACzEv1C,KAAK+3E,IAAIpf,UAAU34D,KAAKi2E,WAAW6lB,SAAStwF,EAAI,EAAGxL,KAAKi2E,WAAW6lB,SAASrwF,EAAI,EAAG,GACnFzL,KAAK+3E,IAAIpf,UAAU,EAAG,EAAG34D,KAAKozG,GAAG79D,GAEjC,IAAIylE,GAAoBh7G,KAAKqzG,SAASl4C,OAAOn7D,KAAK+3E,KAClD,IAAKijC,GAAoBh7G,KAAKozG,GAAGz8C,OAAS32D,KAAKu1E,KAAK2gB,eAAgB,CAElE,IAAI3gB,EACAilC,EACAjc,EACJ,IAJA5wD,EAAM3tC,KAAKu1E,KAAK2gB,eAAez2F,OAI1BF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAExB,GAAkB,QADlBg2E,EAAOv1E,KAAKu1E,KAAK2gB,eAAe32F,IACvBuc,KAAe,CACtB,GAAIk/F,EAAkB,CACpB,IAAIC,EAAWj7G,KAAK+3E,IAAIjb,SACxByhC,EAAiBhpB,EAAKruE,UAAU4T,OACjBvN,UAAY0tG,EAC3B1c,EAAe8B,gBAAkB4a,EAE/Bj7G,KAAKozG,GAAGz8C,QACV6jD,EAAmBjlC,EAAK4qB,gBAAgBrlF,OACvBuuB,YAAcrpC,KAAKozG,GAAG79D,EAAI,KAC3CilE,EAAiBzZ,kBAAoB/gG,KAAKozG,GAAG79D,EAAI,MAIvDv1C,KAAK+3E,IAAIt6D,MAAMzd,KAAKqzG,WAGxBrzG,KAAKq2E,eAAgB,GAGvBwpB,eAAejgG,UAAUi9F,aAAe,SAAUxD,GAChDr5F,KAAK0hG,kBAAkBrI,GAAK,IAG9BwG,eAAejgG,UAAUotC,QAAU,aAEnC6yD,eAAejgG,UAAUk9F,eAAiB,WAAc,OAAO,MAI/DwW,SAAS1zG,UAAU+8F,YAAc,aAKjC,IAAIue,iBAAoB,WACtB,IAAI9vC,EAAW,GACX+vC,EAAuB,GACvBrsC,EAAW,EACXnhC,EAAM,EACNytE,EAAuB,EACvBC,GAAW,EACXC,GAAY,EAEhB,SAASC,EAAcC,GAGrB,IAFA,IAAIj8G,EAAI,EACJk8G,EAAWD,EAAGl8G,OACXC,EAAIouC,GACLwtE,EAAqB57G,GAAG++C,YAAcm9D,IACxCN,EAAqBh2F,OAAO5lB,EAAG,GAC/BA,GAAK,EACLouC,GAAO,EACF8tE,EAASC,UACZC,KAGJp8G,GAAK,EAIT,SAASq8G,EAAkB9wG,EAASw/D,GAClC,IAAKx/D,EACH,OAAO,KAGT,IADA,IAAIvL,EAAI,EACDA,EAAIouC,GAAK,CACd,GAAIwtE,EAAqB57G,GAAGy2E,OAASlrE,GAA4C,OAAjCqwG,EAAqB57G,GAAGy2E,KACtE,OAAOmlC,EAAqB57G,GAAG++C,UAEjC/+C,GAAK,EAEP,IAAIk8G,EAAW,IAAII,cAGnB,OAFAC,EAAeL,EAAU3wG,GACzB2wG,EAASM,QAAQjxG,EAASw/D,GACnBmxC,EAaT,SAASO,IACPZ,GAAwB,EACxBa,IAGF,SAASN,IACPP,GAAwB,EAG1B,SAASU,EAAeL,EAAU3wG,GAChC2wG,EAAS7qF,iBAAiB,UAAW2qF,GACrCE,EAAS7qF,iBAAiB,UAAWorF,GACrCP,EAAS7qF,iBAAiB,QAAS+qF,GACnCR,EAAqBj7F,KAAK,CAAE81D,KAAMlrE,EAASwzC,UAAWm9D,IACtD9tE,GAAO,EA8BT,SAASi3C,EAAOs3B,GACd,IACI38G,EADA48G,EAAcD,EAAUptC,EAE5B,IAAKvvE,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB47G,EAAqB57G,GAAG++C,UAAU89D,YAAYD,GAEhDrtC,EAAWotC,EACPd,IAAyBE,EAC3BjyG,OAAO49D,sBAAsB2d,GAE7By2B,GAAW,EAIf,SAAShoG,EAAM6oG,GACbptC,EAAWotC,EACX7yG,OAAO49D,sBAAsB2d,GAuE/B,SAASq3B,KACFX,GAAaF,GACZC,IACFhyG,OAAO49D,sBAAsB5zD,GAC7BgoG,GAAW,GAsDjB,OAnBAjwC,EAASwwC,kBAAoBA,EAC7BxwC,EAASmB,cA1JT,SAAuB8vC,GACrB,IAAIZ,EAAW,IAAII,cAGnB,OAFAC,EAAeL,EAAU,MACzBA,EAASa,UAAUD,GACZZ,GAuJTrwC,EAASmxC,SApJT,SAAkB3vD,EAAKtO,GACrB,IAAI/+C,EACJ,IAAKA,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB47G,EAAqB57G,GAAG++C,UAAUi+D,SAAS3vD,EAAKtO,IAkJpD8sB,EAASoxC,aA9IT,SAAsB5vD,EAAKtO,GACzB,IAAI/+C,EACJ,IAAKA,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB47G,EAAqB57G,GAAG++C,UAAUk+D,aAAa5vD,EAAKtO,IA4IxD8sB,EAAS+Z,KAxIT,SAAc7mC,GACZ,IAAI/+C,EACJ,IAAKA,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB47G,EAAqB57G,GAAG++C,UAAU6mC,KAAK7mC,IAsI3C8sB,EAASuZ,MAhHT,SAAermC,GACb,IAAI/+C,EACJ,IAAKA,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB47G,EAAqB57G,GAAG++C,UAAUqmC,MAAMrmC,IA8G5C8sB,EAAS64B,KAnGT,SAAc3lD,GACZ,IAAI/+C,EACJ,IAAKA,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB47G,EAAqB57G,GAAG++C,UAAU2lD,KAAK3lD,IAiG3C8sB,EAASqxC,YA7FT,SAAqBn+D,GACnB,IAAI/+C,EACJ,IAAKA,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB47G,EAAqB57G,GAAG++C,UAAUm+D,YAAYn+D,IA2FlD8sB,EAASsxC,iBAhFT,SAA0BpyC,EAAeqyC,EAAYh/B,GACnD,IAEIp+E,EAFAq9G,EAAe,GAAG5xF,OAAO,GAAGljB,MAAMhI,KAAKwJ,SAASuzG,uBAAuB,WACzE,GAAG/0G,MAAMhI,KAAKwJ,SAASuzG,uBAAuB,eAE5CC,EAAWF,EAAan9G,OAC5B,IAAKF,EAAI,EAAGA,EAAIu9G,EAAUv9G,GAAK,EACzBo+E,GACFi/B,EAAar9G,GAAGi4B,aAAa,eAAgBmmD,GAE/Ci+B,EAAkBgB,EAAar9G,GAAI+qE,GAErC,GAAIqyC,GAA2B,IAAbG,EAAgB,CAC3Bn/B,IACHA,EAAW,OAEb,IAAIpvD,EAAOjlB,SAAS4uB,qBAAqB,QAAQ,GACjD3J,EAAKs/C,UAAY,GACjB,IAAIkvC,EAAM3mD,UAAU,OACpB2mD,EAAIjiG,MAAMlY,MAAQ,OAClBm6G,EAAIjiG,MAAMjY,OAAS,OACnBk6G,EAAIvlF,aAAa,eAAgBmmD,GACjCpvD,EAAKwJ,YAAYglF,GACjBnB,EAAkBmB,EAAKzyC,KA2D3Bc,EAASv0B,OAvDT,WACE,IAAIt3C,EACJ,IAAKA,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB47G,EAAqB57G,GAAG++C,UAAUzH,UAsDtCu0B,EAAS4xC,YA/GT,SAAqB51G,EAAO61G,EAAS3+D,GACnC,IAAI/+C,EACJ,IAAKA,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB47G,EAAqB57G,GAAG++C,UAAU0+D,YAAY51G,EAAO61G,EAAS3+D,IA6GlE8sB,EAASp+B,QA3FT,SAAiBsR,GACf,IAAI/+C,EACJ,IAAKA,EAAKouC,EAAM,EAAIpuC,GAAK,EAAGA,GAAK,EAC/B47G,EAAqB57G,GAAG++C,UAAUtR,QAAQsR,IAyF9C8sB,EAAS/gE,OA3CT,WACEixG,GAAY,GA2CdlwC,EAAS8xC,SAxCT,WACE5B,GAAY,EACZW,KAuCF7wC,EAASma,UApCT,SAAmB34B,EAAKtO,GACtB,IAAI/+C,EACJ,IAAKA,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB47G,EAAqB57G,GAAG++C,UAAUinC,UAAU34B,EAAKtO,IAkCrD8sB,EAASsa,KA9BT,SAAcpnC,GACZ,IAAI/+C,EACJ,IAAKA,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB47G,EAAqB57G,GAAG++C,UAAUonC,KAAKpnC,IA4B3C8sB,EAASua,OAxBT,SAAgBrnC,GACd,IAAI/+C,EACJ,IAAKA,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB47G,EAAqB57G,GAAG++C,UAAUqnC,OAAOrnC,IAsB7C8sB,EAAS+xC,wBAtMT,WACE,IAAI59G,EACAu9G,EAAW3B,EAAqB17G,OAChC29G,EAAa,GACjB,IAAK79G,EAAI,EAAGA,EAAIu9G,EAAUv9G,GAAK,EAC7B69G,EAAWl9F,KAAKi7F,EAAqB57G,GAAG++C,WAE1C,OAAO8+D,GAgMFhyC,EAjPe,GAyPpBywC,cAAgB,WAClB77G,KAAK21D,KAAO,GACZ31D,KAAK6E,KAAO,GACZ7E,KAAKoJ,KAAO,GACZpJ,KAAKi+C,UAAW,EAChBj+C,KAAK48F,aAAe,EACpB58F,KAAKq9G,gBAAkB,EACvBr9G,KAAKo0D,WAAa,EAClBp0D,KAAKq0D,YAAc,EACnBr0D,KAAKk4E,UAAY,EACjBl4E,KAAKs9G,UAAY,EACjBt9G,KAAKu9G,UAAY,EACjBv9G,KAAKw9G,cAAgB,EACrBx9G,KAAKy9G,UAAY,EACjBz9G,KAAKsqE,cAAgB,GACrBtqE,KAAKuqE,OAAS,GACdvqE,KAAK07G,UAAW,EAChB17G,KAAK09G,UAAW,EAChB19G,KAAK29G,MAAO,EACZ39G,KAAK29E,SAAW,KAChB39E,KAAK49G,YAAcjpD,kBACnB30D,KAAK4mF,WAAa,GAClB5mF,KAAK69G,cAAgB,EACrB79G,KAAK89G,WAAa,EAClB99G,KAAK+9G,kBAAoBlsD,gBACzB7xD,KAAKk/E,SAAW,GAChBl/E,KAAKg+G,OAAQ,EACbh+G,KAAKi+G,gBAAiB,EACtBj+G,KAAK06F,iBAAmBhoC,mBACxB1yD,KAAK27F,eAAiB,IAAI7V,eAC1B9lF,KAAK47F,gBAAkBzX,yBACvBnkF,KAAK0zF,QAAU,GACf1zF,KAAKq8F,gBAAkBr8F,KAAKq8F,gBAAgBn1E,KAAKlnB,MACjDA,KAAKk+G,aAAel+G,KAAKk+G,aAAah3F,KAAKlnB,MAC3CA,KAAKm+G,kBAAoBn+G,KAAKm+G,kBAAkBj3F,KAAKlnB,OAGvD6hE,gBAAgB,CAACrM,WAAYqmD,eAE7BA,cAAcj8G,UAAU08G,UAAY,SAAUD,IACxCA,EAAOzmB,SAAWymB,EAAOn1G,aAC3BlH,KAAK41F,QAAUymB,EAAOzmB,SAAWymB,EAAOn1G,WAE1C,IAAIk3G,EAAW,MAMf,OALI/B,EAAO+B,SACTA,EAAW/B,EAAO+B,SACT/B,EAAO1+B,WAChBygC,EAAW/B,EAAO1+B,UAEZygC,GACN,IAAK,SACHp+G,KAAK29E,SAAW,IAAI+X,eAAe11F,KAAMq8G,EAAOgC,kBAChD,MACF,IAAK,MACHr+G,KAAK29E,SAAW,IAAIwW,YAAYn0F,KAAMq8G,EAAOgC,kBAC7C,MACF,QACEr+G,KAAK29E,SAAW,IAAIsY,eAAej2F,KAAMq8G,EAAOgC,kBAGpDr+G,KAAK27F,eAAepT,aAAa61B,EAAUp+G,KAAK29E,SAAS1H,WAAWjG,MACpEhwE,KAAK29E,SAAS6c,oBAAoBx6F,KAAK06F,kBACvC16F,KAAKo+G,SAAWA,EACI,KAAhB/B,EAAOsB,MACc,OAAhBtB,EAAOsB,WACSt6G,IAAhBg5G,EAAOsB,OACS,IAAhBtB,EAAOsB,KACd39G,KAAK29G,MAAO,GACa,IAAhBtB,EAAOsB,KAChB39G,KAAK29G,MAAO,EAEZ39G,KAAK29G,KAAO5qF,SAASspF,EAAOsB,KAAM,IAEpC39G,KAAK09G,WAAW,aAAcrB,IAASA,EAAOqB,SAC9C19G,KAAK6E,KAAOw3G,EAAOx3G,KAAOw3G,EAAOx3G,KAAO,GACxC7E,KAAKs+G,kBAAmBl/G,OAAOQ,UAAUC,eAAeC,KAAKu8G,EAAQ,qBAAsBA,EAAOiC,iBAClGt+G,KAAK4mF,WAAay1B,EAAOz1B,WACzB5mF,KAAKu+G,eAAiBlC,EAAOkC,eACzBlC,EAAOh4B,cACTrkF,KAAK47F,gBAAgBpW,gBAAgB62B,EAAOh4B,cAE1Cg4B,EAAO/xC,cACTtqE,KAAK87G,eAAeO,EAAO/xC,eAClB+xC,EAAOjzG,QACuB,IAAnCizG,EAAOjzG,KAAKo1G,YAAY,MAC1Bx+G,KAAKoJ,KAAOizG,EAAOjzG,KAAK8mF,OAAO,EAAGmsB,EAAOjzG,KAAKo1G,YAAY,MAAQ,GAElEx+G,KAAKoJ,KAAOizG,EAAOjzG,KAAK8mF,OAAO,EAAGmsB,EAAOjzG,KAAKo1G,YAAY,KAAO,GAEnEx+G,KAAKy+G,SAAWpC,EAAOjzG,KAAK8mF,OAAOmsB,EAAOjzG,KAAKo1G,YAAY,KAAO,GAClEx+G,KAAKy+G,SAAWz+G,KAAKy+G,SAASvuB,OAAO,EAAGlwF,KAAKy+G,SAASD,YAAY,UAClEj3C,YAAYgF,cACV8vC,EAAOjzG,KACPpJ,KAAKq8F,gBACLr8F,KAAKk+G,gBAKXrC,cAAcj8G,UAAUs+G,aAAe,WACrCl+G,KAAK8+C,QAAQ,gBAGf+8D,cAAcj8G,UAAUk8G,eAAiB,SAAU77F,GACjDsnD,YAAYsF,kBACV5sD,EACAjgB,KAAKq8F,kBAITwf,cAAcj8G,UAAUm8G,QAAU,SAAUnmB,EAAStrB,GAC/CA,GAC2B,kBAAlBA,IACTA,EAAgBlc,KAAKx1B,MAAM0xC,IAG/B,IAAI+xC,EAAS,CACXzmB,QAASA,EACTtrB,cAAeA,GAEbo0C,EAAoB9oB,EAAQrqD,WAEhC8wE,EAAOjzG,KAAOs1G,EAAkBC,aAAa,uBACzCD,EAAkBC,aAAa,uBAAuBv3G,MACtDs3G,EAAkBC,aAAa,gBAC7BD,EAAkBC,aAAa,gBAAgBv3G,MAC/Cs3G,EAAkBC,aAAa,WAC7BD,EAAkBC,aAAa,WAAWv3G,MAC1C,GACRi1G,EAAO+B,SAAWM,EAAkBC,aAAa,kBAC7CD,EAAkBC,aAAa,kBAAkBv3G,MACjDs3G,EAAkBC,aAAa,gBAC7BD,EAAkBC,aAAa,gBAAgBv3G,MAC/Cs3G,EAAkBC,aAAa,WAC7BD,EAAkBC,aAAa,WAAWv3G,MAC1Cs3G,EAAkBC,aAAa,oBAC7BD,EAAkBC,aAAa,oBAAoBv3G,MACnDs3G,EAAkBC,aAAa,eAC7BD,EAAkBC,aAAa,eAAev3G,MAC9C,SAEZ,IAAIu2G,EAAOe,EAAkBC,aAAa,kBACtCD,EAAkBC,aAAa,kBAAkBv3G,MACjDs3G,EAAkBC,aAAa,gBAC7BD,EAAkBC,aAAa,gBAAgBv3G,MAC/Cs3G,EAAkBC,aAAa,WAC7BD,EAAkBC,aAAa,WAAWv3G,MAC1C,GACK,UAATu2G,EACFtB,EAAOsB,MAAO,EACI,SAATA,EACTtB,EAAOsB,MAAO,EACI,KAATA,IACTtB,EAAOsB,KAAO5qF,SAAS4qF,EAAM,KAE/B,IAAID,EAAWgB,EAAkBC,aAAa,sBAC1CD,EAAkBC,aAAa,sBAAsBv3G,MACrDs3G,EAAkBC,aAAa,oBAC7BD,EAAkBC,aAAa,oBAAoBv3G,OACnDs3G,EAAkBC,aAAa,gBAC7BD,EAAkBC,aAAa,eAAev3G,MAEtDi1G,EAAOqB,SAAwB,UAAbA,EAElBrB,EAAOx3G,KAAO65G,EAAkBC,aAAa,aACzCD,EAAkBC,aAAa,aAAav3G,MAC5Cs3G,EAAkBC,aAAa,gBAC7BD,EAAkBC,aAAa,gBAAgBv3G,MAC/Cs3G,EAAkBC,aAAa,WAC7BD,EAAkBC,aAAa,WAAWv3G,MAC1C,GASU,WARFs3G,EAAkBC,aAAa,uBAC3CD,EAAkBC,aAAa,uBAAuBv3G,MACtDs3G,EAAkBC,aAAa,qBAC7BD,EAAkBC,aAAa,qBAAqBv3G,MACpDs3G,EAAkBC,aAAa,gBAC7BD,EAAkBC,aAAa,gBAAgBv3G,MAC/C,MAGNi1G,EAAOuC,WAAY,GAErB5+G,KAAKs8G,UAAUD,IAGjBR,cAAcj8G,UAAU06F,cAAgB,SAAUr6E,GAC5CA,EAAKqjE,GAAKtjF,KAAKsqE,cAAcgZ,KAC/BtjF,KAAKsqE,cAAcgZ,GAAKrjE,EAAKqjE,GAC7BtjF,KAAKq0D,YAActrC,KAAK2jC,MAAMzsC,EAAKqjE,GAAKtjF,KAAKsqE,cAAcgvB,KAE7D,IACI/5F,EAGAqqB,EAJA6+C,EAASzoE,KAAKsqE,cAAc7B,OAE5B96B,EAAM86B,EAAOhpE,OACb86F,EAAYt6E,EAAKwoD,OAEjBG,EAAO2xB,EAAU96F,OACrB,IAAKmqB,EAAI,EAAGA,EAAIg/C,EAAMh/C,GAAK,EAEzB,IADArqB,EAAI,EACGA,EAAIouC,GAAK,CACd,GAAI86B,EAAOlpE,GAAG4N,KAAOotF,EAAU3wE,GAAGzc,GAAI,CACpCs7D,EAAOlpE,GAAKg7F,EAAU3wE,GACtB,MAEFrqB,GAAK,EAOT,IAJI0gB,EAAKwqD,OAASxqD,EAAK0uD,SACrB3uE,KAAK29E,SAAS1H,WAAWoa,YAAYzgB,SAAS3vD,EAAKwqD,OACnDzqE,KAAK29E,SAAS1H,WAAWoa,YAAYtgB,SAAS9vD,EAAK0uD,MAAO3uE,KAAK29E,SAAS1H,WAAWjG,OAEjF/vD,EAAKsqD,OAEP,IADA58B,EAAM1tB,EAAKsqD,OAAO9qE,OACbF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKsqE,cAAcC,OAAOrqD,KAAKD,EAAKsqD,OAAOhrE,IAG/CS,KAAKsqE,cAAce,YAAa,EAChC9D,YAAYsF,kBACV7sE,KAAKsqE,cACLtqE,KAAKm+G,oBAITtC,cAAcj8G,UAAUu+G,kBAAoB,SAAUl+F,GACpDjgB,KAAKsqE,cAAgBrqD,EACjB8xC,mBACFA,kBAAkBqpC,gBAAgBp7F,MAEpCA,KAAK6+G,mBAGPhD,cAAcj8G,UAAUi/G,gBAAkB,WACxC,IAAI3/B,EAAWl/E,KAAKsqE,cAAc4U,SAClC,IAAKA,GAAgC,IAApBA,EAASz/E,SAAiBO,KAAKs+G,iBAG9C,OAFAt+G,KAAK8+C,QAAQ,mBACb9+C,KAAK69G,cAAgB79G,KAAKq0D,aAG5B,IAAIssB,EAAUzB,EAAS4/B,QACvB9+G,KAAK69G,cAAgBl9B,EAAQkT,KAAO7zF,KAAKk4E,UACzC,IAAI6mC,EAAc/+G,KAAKoJ,KAAOpJ,KAAKy+G,SAAW,IAAMz+G,KAAK89G,WAAa,QACtE99G,KAAK89G,YAAc,EACnBv2C,YAAYqF,SAASmyC,EAAa/+G,KAAKs6F,cAAcpzE,KAAKlnB,MAAO,WAC/DA,KAAK8+C,QAAQ,gBACb53B,KAAKlnB,QAGT67G,cAAcj8G,UAAUo/G,aAAe,WACtBh/G,KAAKsqE,cAAc4U,WAEhCl/E,KAAK69G,cAAgB79G,KAAKq0D,aAE5Br0D,KAAK6+G,mBAGPhD,cAAcj8G,UAAUq/G,aAAe,WACrCj/G,KAAK8+C,QAAQ,iBACb9+C,KAAKk/G,eAGPrD,cAAcj8G,UAAUu/G,cAAgB,WACtCn/G,KAAK27F,eAAe9T,cAAc7nF,KAAK4mF,YACvC5mF,KAAK27F,eAAe7T,QAAQ9nF,KAAKoJ,MACjCpJ,KAAK27F,eAAehU,WAAW3nF,KAAKsqE,cAAcC,OAAQvqE,KAAKi/G,aAAa/3F,KAAKlnB,QAGnF67G,cAAcj8G,UAAUy8F,gBAAkB,SAAUd,GAClD,GAAKv7F,KAAK29E,SAGV,IACE39E,KAAKsqE,cAAgBixB,EACjBv7F,KAAKu+G,gBACPv+G,KAAKq0D,YAActrC,KAAK2jC,MAAM1sD,KAAKu+G,eAAe,GAAKv+G,KAAKu+G,eAAe,IAC3Ev+G,KAAKo0D,WAAarrC,KAAKod,MAAMnmC,KAAKu+G,eAAe,MAEjDv+G,KAAKq0D,YAActrC,KAAK2jC,MAAM1sD,KAAKsqE,cAAcgZ,GAAKtjF,KAAKsqE,cAAcgvB,IACzEt5F,KAAKo0D,WAAarrC,KAAKod,MAAMnmC,KAAKsqE,cAAcgvB,KAElDt5F,KAAK29E,SAAS0e,gBAAgBd,GACzBA,EAAShxB,SACZgxB,EAAShxB,OAAS,IAGpBvqE,KAAKuqE,OAASvqE,KAAKsqE,cAAcC,OACjCvqE,KAAKk4E,UAAYl4E,KAAKsqE,cAAcuxB,GACpC77F,KAAKs9G,UAAYt9G,KAAKsqE,cAAcuxB,GAAK,IACzC77F,KAAK29E,SAASud,wBAAwBK,EAAShxB,QAC/CvqE,KAAK0zF,QAAUN,aAAamI,EAAS7H,SAAW,IAChD1zF,KAAK8+C,QAAQ,gBACb9+C,KAAKm/G,gBACLn/G,KAAKg/G,eACLh/G,KAAKo/G,oBACLp/G,KAAKq/G,qBACDr/G,KAAK07G,UACP17G,KAAK47F,gBAAgBjX,QAEvB,MAAO3iF,GACPhC,KAAKs/G,mBAAmBt9G,KAI5B65G,cAAcj8G,UAAUy/G,mBAAqB,WACtCr/G,KAAK29E,WAGN39E,KAAK29E,SAAS1H,WAAWoa,YAAYpyC,SACvCj+C,KAAKk/G,cAEL9rG,WAAWpT,KAAKq/G,mBAAmBn4F,KAAKlnB,MAAO,MAInD67G,cAAcj8G,UAAUs/G,YAAc,YAC/Bl/G,KAAKi+C,UACDj+C,KAAK29E,SAAS1H,WAAWoa,YAAYpyC,WACpCj+C,KAAK27F,eAAe5T,gBAAiD,WAA/B/nF,KAAK29E,SAAS8X,eACpDz1F,KAAK27F,eAAe3T,mBAE5BhoF,KAAKi+C,UAAW,EACZ8T,mBACFA,kBAAkBqpC,gBAAgBp7F,MAEpCA,KAAK29E,SAASgd,YACdvnF,WAAW,WACTpT,KAAK8+C,QAAQ,cACb53B,KAAKlnB,MAAO,GACdA,KAAKu/G,YACDv/G,KAAK09G,UACP19G,KAAKmlF,SAKX02B,cAAcj8G,UAAUi3C,OAAS,WAC/B72C,KAAK29E,SAAS4e,uBAGhBsf,cAAcj8G,UAAU4/G,YAAc,SAAUrsD,GAC9CnzD,KAAK+9G,oBAAsB5qD,GAG7B0oD,cAAcj8G,UAAU2/G,UAAY,WAClCv/G,KAAK48F,aAAe58F,KAAK+9G,kBAAoB/9G,KAAKq9G,kBAAoBr9G,KAAKq9G,gBAEvEr9G,KAAK69G,gBAAkB79G,KAAKq0D,aAAer0D,KAAK48F,aAAe58F,KAAK69G,gBACtE79G,KAAK48F,aAAe58F,KAAK69G,eAE3B79G,KAAK8+C,QAAQ,cACb9+C,KAAK28F,cACL38F,KAAK8+C,QAAQ,eAGf+8D,cAAcj8G,UAAU+8F,YAAc,WACpC,IAAsB,IAAlB38F,KAAKi+C,UAAuBj+C,KAAK29E,SAGrC,IACE39E,KAAK29E,SAASgf,YAAY38F,KAAK48F,aAAe58F,KAAKo0D,YACnD,MAAOpyD,GACPhC,KAAKy/G,wBAAwBz9G,KAIjC65G,cAAcj8G,UAAUulF,KAAO,SAAUtgF,GACnCA,GAAQ7E,KAAK6E,OAASA,IAGJ,IAAlB7E,KAAK07G,WACP17G,KAAK07G,UAAW,EAChB17G,KAAK47F,gBAAgBhX,SACjB5kF,KAAKg+G,QACPh+G,KAAKg+G,OAAQ,EACbh+G,KAAK8+C,QAAQ,cAKnB+8D,cAAcj8G,UAAU+kF,MAAQ,SAAU9/E,GACpCA,GAAQ7E,KAAK6E,OAASA,IAGJ,IAAlB7E,KAAK07G,WACP17G,KAAK07G,UAAW,EAChB17G,KAAKg+G,OAAQ,EACbh+G,KAAK8+C,QAAQ,SACb9+C,KAAK47F,gBAAgBjX,UAIzBk3B,cAAcj8G,UAAU68G,YAAc,SAAU53G,GAC1CA,GAAQ7E,KAAK6E,OAASA,KAGJ,IAAlB7E,KAAK07G,SACP17G,KAAKmlF,OAELnlF,KAAK2kF,UAITk3B,cAAcj8G,UAAUqkG,KAAO,SAAUp/F,GACnCA,GAAQ7E,KAAK6E,OAASA,IAG1B7E,KAAK2kF,QACL3kF,KAAKy9G,UAAY,EACjBz9G,KAAKi+G,gBAAiB,EACtBj+G,KAAK0/G,wBAAwB,KAG/B7D,cAAcj8G,UAAU+/G,cAAgB,SAAUphF,GAEhD,IADA,IAAIqhF,EACKrgH,EAAI,EAAGA,EAAIS,KAAK0zF,QAAQj0F,OAAQF,GAAK,EAE5C,IADAqgH,EAAS5/G,KAAK0zF,QAAQn0F,IACX8sE,SAAWuzC,EAAOvzC,QAAQxnE,OAAS05B,EAC5C,OAAOqhF,EAGX,OAAO,MAGT/D,cAAcj8G,UAAUo9G,YAAc,SAAU51G,EAAO61G,EAASp4G,GAC9D,IAAIA,GAAQ7E,KAAK6E,OAASA,EAA1B,CAGA,IAAIg7G,EAAW31G,OAAO9C,GACtB,GAAIulD,MAAMkzD,GAAW,CACnB,IAAID,EAAS5/G,KAAK2/G,cAAcv4G,GAC5Bw4G,GACF5/G,KAAKg9G,YAAY4C,EAAO/rB,MAAM,QAEvBopB,EACTj9G,KAAK0/G,wBAAwBt4G,GAE7BpH,KAAK0/G,wBAAwBt4G,EAAQpH,KAAK8/G,eAE5C9/G,KAAK2kF,UAGPk3B,cAAcj8G,UAAUmgH,YAAc,SAAU34G,EAAO61G,EAASp4G,GAC9D,IAAIA,GAAQ7E,KAAK6E,OAASA,EAA1B,CAGA,IAAIg7G,EAAW31G,OAAO9C,GACtB,GAAIulD,MAAMkzD,GAAW,CACnB,IAAID,EAAS5/G,KAAK2/G,cAAcv4G,GAC5Bw4G,IACGA,EAAOpnG,SAGVxY,KAAKggH,aAAa,CAACJ,EAAO/rB,KAAM+rB,EAAO/rB,KAAO+rB,EAAOpnG,WAAW,GAFhExY,KAAKg9G,YAAY4C,EAAO/rB,MAAM,SAMlC7zF,KAAKg9G,YAAY6C,EAAU5C,EAASp4G,GAEtC7E,KAAKmlF,SAGP02B,cAAcj8G,UAAUw8G,YAAc,SAAUh1G,GAC9C,IAAsB,IAAlBpH,KAAK07G,WAAuC,IAAlB17G,KAAKi+C,SAAnC,CAGA,IAAIgiE,EAAYjgH,KAAKq9G,gBAAkBj2G,EAAQpH,KAAK8/G,cAChDI,GAAc,EAGdD,GAAajgH,KAAKq0D,YAAc,GAAKr0D,KAAK8/G,cAAgB,EACvD9/G,KAAK29G,MAAQ39G,KAAKy9G,YAAcz9G,KAAK29G,KAK/BsC,GAAajgH,KAAKq0D,aAC3Br0D,KAAKy9G,WAAa,EACbz9G,KAAKmgH,cAAcF,EAAYjgH,KAAKq0D,eACvCr0D,KAAK0/G,wBAAwBO,EAAYjgH,KAAKq0D,aAC9Cr0D,KAAKi+G,gBAAiB,EACtBj+G,KAAK8+C,QAAQ,kBAGf9+C,KAAK0/G,wBAAwBO,GAZxBjgH,KAAKmgH,cAAcF,EAAYjgH,KAAKq0D,YAAc4rD,EAAYjgH,KAAKq0D,YAAc,KACpF6rD,GAAc,EACdD,EAAYjgH,KAAKq0D,YAAc,GAY1B4rD,EAAY,EAChBjgH,KAAKmgH,cAAcF,EAAYjgH,KAAKq0D,gBACnCr0D,KAAK29G,MAAU39G,KAAKy9G,aAAe,IAAmB,IAAdz9G,KAAK29G,MAQ/CuC,GAAc,EACdD,EAAY,IARZjgH,KAAK0/G,wBAAwB1/G,KAAKq0D,YAAe4rD,EAAYjgH,KAAKq0D,aAC7Dr0D,KAAKi+G,eAGRj+G,KAAK8+C,QAAQ,gBAFb9+C,KAAKi+G,gBAAiB,IAU5Bj+G,KAAK0/G,wBAAwBO,GAE3BC,IACFlgH,KAAK0/G,wBAAwBO,GAC7BjgH,KAAK2kF,QACL3kF,KAAK8+C,QAAQ,eAIjB+8D,cAAcj8G,UAAUwgH,cAAgB,SAAUtqD,EAAKzoD,GACrDrN,KAAKy9G,UAAY,EACb3nD,EAAI,GAAKA,EAAI,IACX91D,KAAK8/G,cAAgB,IACnB9/G,KAAKu9G,UAAY,EACnBv9G,KAAKu8G,UAAUv8G,KAAKu9G,WAEpBv9G,KAAKw8G,cAAc,IAGvBx8G,KAAKq0D,YAAcyB,EAAI,GAAKA,EAAI,GAChC91D,KAAK69G,cAAgB79G,KAAKq0D,YAC1Br0D,KAAKo0D,WAAa0B,EAAI,GACtB91D,KAAK0/G,wBAAwB1/G,KAAKq0D,YAAc,KAAQhnD,IAC/CyoD,EAAI,GAAKA,EAAI,KAClB91D,KAAK8/G,cAAgB,IACnB9/G,KAAKu9G,UAAY,EACnBv9G,KAAKu8G,UAAUv8G,KAAKu9G,WAEpBv9G,KAAKw8G,aAAa,IAGtBx8G,KAAKq0D,YAAcyB,EAAI,GAAKA,EAAI,GAChC91D,KAAK69G,cAAgB79G,KAAKq0D,YAC1Br0D,KAAKo0D,WAAa0B,EAAI,GACtB91D,KAAK0/G,wBAAwB,KAAQryG,IAEvCrN,KAAK8+C,QAAQ,iBAEf+8D,cAAcj8G,UAAUygH,WAAa,SAAUzmC,EAAM7qD,GACnD,IAAIuxF,GAAgB,EAChBtgH,KAAK07G,WACH17G,KAAKq9G,gBAAkBr9G,KAAKo0D,WAAawlB,EAC3C0mC,EAAe1mC,EACN55E,KAAKq9G,gBAAkBr9G,KAAKo0D,WAAarlC,IAClDuxF,EAAevxF,EAAM6qD,IAIzB55E,KAAKo0D,WAAawlB,EAClB55E,KAAKq0D,YAActlC,EAAM6qD,EACzB55E,KAAK69G,cAAgB79G,KAAKq0D,aACJ,IAAlBisD,GACFtgH,KAAKg9G,YAAYsD,GAAc,IAInCzE,cAAcj8G,UAAUogH,aAAe,SAAUlqD,EAAKyqD,GAIpD,GAHIA,IACFvgH,KAAKk/E,SAASz/E,OAAS,GAEH,kBAAXq2D,EAAI,GAAiB,CAC9B,IAAIv2D,EACAouC,EAAMmoB,EAAIr2D,OACd,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKk/E,SAASh/D,KAAK41C,EAAIv2D,SAGzBS,KAAKk/E,SAASh/D,KAAK41C,GAEjB91D,KAAKk/E,SAASz/E,QAAU8gH,GAC1BvgH,KAAKogH,cAAcpgH,KAAKk/E,SAAS4/B,QAAS,GAExC9+G,KAAK07G,UACP17G,KAAKmlF,QAIT02B,cAAcj8G,UAAU4gH,cAAgB,SAAUD,GAChDvgH,KAAKk/E,SAASz/E,OAAS,EACvBO,KAAKk/E,SAASh/D,KAAK,CAAClgB,KAAKsqE,cAAcgvB,GAAIt5F,KAAKsqE,cAAcgZ,KAC1Di9B,GACFvgH,KAAKmgH,cAAc,IAGvBtE,cAAcj8G,UAAUugH,cAAgB,SAAU9yG,GAChD,QAAIrN,KAAKk/E,SAASz/E,SAChBO,KAAKogH,cAAcpgH,KAAKk/E,SAAS4/B,QAASzxG,IACnC,IAKXwuG,cAAcj8G,UAAUotC,QAAU,SAAUnoC,GACrCA,GAAQ7E,KAAK6E,OAASA,IAAU7E,KAAK29E,WAG1C39E,KAAK29E,SAAS3wC,UACdhtC,KAAK27F,eAAe3uD,UACpBhtC,KAAK8+C,QAAQ,WACb9+C,KAAK21D,KAAO,KACZ31D,KAAKygH,aAAe,KACpBzgH,KAAK0gH,eAAiB,KACtB1gH,KAAKyb,WAAa,KAClBzb,KAAK2gH,eAAiB,KACtB3gH,KAAK4gH,UAAY,KACjB5gH,KAAK29E,SAAW,KAChB39E,KAAK29E,SAAW,KAChB39E,KAAK27F,eAAiB,KACtB37F,KAAK06F,iBAAmB,OAG1BmhB,cAAcj8G,UAAU8/G,wBAA0B,SAAUt4G,GAC1DpH,KAAKq9G,gBAAkBj2G,EACvBpH,KAAKu/G,aAGP1D,cAAcj8G,UAAU28G,SAAW,SAAU3vD,GAC3C5sD,KAAKu9G,UAAY3wD,EACjB5sD,KAAKo/G,qBAGPvD,cAAcj8G,UAAU48G,aAAe,SAAU5vD,GAC/C5sD,KAAKw9G,cAAgB5wD,EAAM,GAAK,EAAI,EACpC5sD,KAAKo/G,qBAGPvD,cAAcj8G,UAAU2lF,UAAY,SAAU34B,EAAK/nD,GAC7CA,GAAQ7E,KAAK6E,OAASA,GAG1B7E,KAAK47F,gBAAgBrW,UAAU34B,IAGjCivD,cAAcj8G,UAAUgmF,UAAY,WAClC,OAAO5lF,KAAK47F,gBAAgBhW,aAG9Bi2B,cAAcj8G,UAAU8lF,KAAO,SAAU7gF,GACnCA,GAAQ7E,KAAK6E,OAASA,GAG1B7E,KAAK47F,gBAAgBlW,QAGvBm2B,cAAcj8G,UAAU+lF,OAAS,SAAU9gF,GACrCA,GAAQ7E,KAAK6E,OAASA,GAG1B7E,KAAK47F,gBAAgBjW,UAGvBk2B,cAAcj8G,UAAUw/G,kBAAoB,WAC1Cp/G,KAAK8/G,cAAgB9/G,KAAKs9G,UAAYt9G,KAAKu9G,UAAYv9G,KAAKw9G,cAC5Dx9G,KAAK47F,gBAAgB/W,QAAQ7kF,KAAKu9G,UAAYv9G,KAAKw9G,gBAGrD3B,cAAcj8G,UAAUihH,QAAU,WAChC,OAAO7gH,KAAKoJ,MAGdyyG,cAAcj8G,UAAU8mF,cAAgB,SAAUC,GAChD,IAAIv9E,EAAO,GACX,GAAIu9E,EAAUtnE,EACZjW,EAAOu9E,EAAUxnE,OACZ,GAAInf,KAAK4mF,WAAY,CAC1B,IAAIE,EAAYH,EAAUxnE,GACY,IAAlC2nE,EAAUzmF,QAAQ,aACpBymF,EAAYA,EAAU/hF,MAAM,KAAK,IAEnCqE,EAAOpJ,KAAK4mF,WAAaE,OAEzB19E,EAAOpJ,KAAKoJ,KACZA,GAAQu9E,EAAUI,EAAIJ,EAAUI,EAAI,GACpC39E,GAAQu9E,EAAUxnE,EAEpB,OAAO/V,GAGTyyG,cAAcj8G,UAAU67F,aAAe,SAAUtuF,GAG/C,IAFA,IAAI5N,EAAI,EACJouC,EAAM3tC,KAAKuqE,OAAO9qE,OACfF,EAAIouC,GAAK,CACd,GAAIxgC,IAAOnN,KAAKuqE,OAAOhrE,GAAG4N,GACxB,OAAOnN,KAAKuqE,OAAOhrE,GAErBA,GAAK,EAEP,OAAO,MAGTs8G,cAAcj8G,UAAUwgD,KAAO,WAC7BpgD,KAAK29E,SAASv9B,QAGhBy7D,cAAcj8G,UAAUo0B,KAAO,WAC7Bh0B,KAAK29E,SAAS3pD,QAGhB6nF,cAAcj8G,UAAUkhH,YAAc,SAAU7D,GAC9C,OAAOA,EAAUj9G,KAAKq0D,YAAcr0D,KAAKq0D,YAAcr0D,KAAKk4E,WAG9D2jC,cAAcj8G,UAAUk/C,QAAU,SAAUj6C,GAC1C,GAAI7E,KAAK21D,MAAQ31D,KAAK21D,KAAK9wD,GACzB,OAAQA,GACN,IAAK,aACL,IAAK,aACH7E,KAAKy1D,aAAa5wD,EAAM,IAAI8uD,kBAAkB9uD,EAAM7E,KAAK48F,aAAc58F,KAAKq0D,YAAar0D,KAAK8/G,gBAC9F,MACF,IAAK,eACH9/G,KAAKy1D,aAAa5wD,EAAM,IAAImvD,oBAAoBnvD,EAAM7E,KAAK29G,KAAM39G,KAAKy9G,UAAWz9G,KAAKs9G,YACtF,MACF,IAAK,WACHt9G,KAAKy1D,aAAa5wD,EAAM,IAAIkvD,gBAAgBlvD,EAAM7E,KAAKs9G,YACvD,MACF,IAAK,eACHt9G,KAAKy1D,aAAa5wD,EAAM,IAAIsvD,oBAAoBtvD,EAAM7E,KAAKo0D,WAAYp0D,KAAKq0D,cAC5E,MACF,IAAK,UACHr0D,KAAKy1D,aAAa5wD,EAAM,IAAIyvD,eAAezvD,EAAM7E,OACjD,MACF,QACEA,KAAKy1D,aAAa5wD,GAGX,eAATA,GAAyB7E,KAAKygH,cAChCzgH,KAAKygH,aAAa3gH,KAAKE,KAAM,IAAI2zD,kBAAkB9uD,EAAM7E,KAAK48F,aAAc58F,KAAKq0D,YAAar0D,KAAKs9G,YAExF,iBAATz4G,GAA2B7E,KAAK0gH,gBAClC1gH,KAAK0gH,eAAe5gH,KAAKE,KAAM,IAAIg0D,oBAAoBnvD,EAAM7E,KAAK29G,KAAM39G,KAAKy9G,UAAWz9G,KAAKs9G,YAElF,aAATz4G,GAAuB7E,KAAKyb,YAC9Bzb,KAAKyb,WAAW3b,KAAKE,KAAM,IAAI+zD,gBAAgBlvD,EAAM7E,KAAKs9G,YAE/C,iBAATz4G,GAA2B7E,KAAK2gH,gBAClC3gH,KAAK2gH,eAAe7gH,KAAKE,KAAM,IAAIm0D,oBAAoBtvD,EAAM7E,KAAKo0D,WAAYp0D,KAAKq0D,cAExE,YAATxvD,GAAsB7E,KAAK4gH,WAC7B5gH,KAAK4gH,UAAU9gH,KAAKE,KAAM,IAAIs0D,eAAezvD,EAAM7E,QAIvD67G,cAAcj8G,UAAU6/G,wBAA0B,SAAUjrD,GAC1D,IAAIxyD,EAAQ,IAAIuyD,wBAAwBC,EAAax0D,KAAK48F,cAC1D58F,KAAKy1D,aAAa,QAASzzD,GAEvBhC,KAAKY,SACPZ,KAAKY,QAAQd,KAAKE,KAAMgC,IAI5B65G,cAAcj8G,UAAU0/G,mBAAqB,SAAU9qD,GACrD,IAAIxyD,EAAQ,IAAIyyD,mBAAmBD,EAAax0D,KAAK48F,cACrD58F,KAAKy1D,aAAa,QAASzzD,GAEvBhC,KAAKY,SACPZ,KAAKY,QAAQd,KAAKE,KAAMgC,IAO5B,IAAI++G,YAAe,WACjB,IAAIvhD,EAAK,CACTA,gBAEA,SAAyBlhB,GACvB,IAAI0iE,EAAa,EACbC,EAAY,GA4BhB3iE,EAAUq/B,SAASysB,cAAgBC,wBAAwB/rD,EAAUq/B,UACrEr/B,EAAUq/B,SAAS1H,WAAWykB,iBAAiBW,oBAAoB/8C,EAAUq/B,UAC7Er/B,EAAUq/B,SAAS1H,WAAWirC,eA5B9B,WACEF,GAAc,GA4BhB1iE,EAAUq/B,SAAS1H,WAAWkrC,cAzB9B,WAEqB,KADnBH,GAAc,IAYhB,WACE,IAAIzhH,EACAouC,EAAMszE,EAAUxhH,OACpB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB0hH,EAAU1hH,GAAGigF,UAEfyhC,EAAUxhH,OAAS,EAhBjB2hH,IAuBJ9iE,EAAUq/B,SAAS1H,WAAWorC,2BAnB9B,SAAoCC,IACK,IAAnCL,EAAU5gH,QAAQihH,IACpBL,EAAU/gG,KAAKohG,MAmBrB,OAAO9hD,EAxCU,GA2CnBzN,kBAAoBgvD,YAKpB,IAAIQ,kBAAqB,WAGvB,IAAI/hD,GAAK,GACLz2C,KAAO0pC,OACPppD,OAAS,KACTC,SAAW,KACXgoD,eAAiB,KACjBkwD,MAAQ,KACRC,OAAS,KAEb,SAASC,sBAAsB5rD,GAC7B,OAAOA,EAAIlxC,cAAgB/a,OAASisD,EAAIlxC,cAAgBoxC,aAG1D,SAAS2rD,YAAYC,EAAMrsE,GACzB,MAAgB,WAATqsE,GAA8B,YAATA,GAA+B,WAATA,GAAqBrsE,aAAarrC,OAGtF,SAAS23G,QAAQpiG,GACf,IAAIqiG,SAAcriG,EAClB,GAAa,WAATqiG,GAA8B,YAATA,GAAsBriG,aAAavV,OAC1D,OAAQuV,EAEV,GAAIiiG,sBAAsBjiG,GAAI,CAC5B,IAAIlgB,EACAwiH,EAAOtiG,EAAEhgB,OACTuiH,EAAS,GACb,IAAKziH,EAAI,EAAGA,EAAIwiH,EAAMxiH,GAAK,EACzByiH,EAAOziH,IAAMkgB,EAAElgB,GAEjB,OAAOyiH,EAET,OAAIviG,EAAEqyD,SACGryD,EAAE81B,GAEH91B,EAGV,IAAIwiG,UAAY1iD,cAAcqT,gBAAgB,KAAO,EAAG,KAAO,KAAO,UAAU3rD,IAC5Ei7F,WAAa3iD,cAAcqT,gBAAgB,KAAO,KAAO,KAAO,EAAG,WAAW3rD,IAC9Ek7F,aAAe5iD,cAAcqT,gBAAgB,IAAM,EAAG,KAAO,EAAG,aAAa3rD,IAEjF,SAASsoD,IAAI9vD,EAAG2K,GACd,IAAI03F,SAAcriG,EACd2iG,SAAch4F,EAClB,GAAa,WAAT03F,GAA8B,WAATM,EACvB,OAAO3iG,EAAI2K,EAEb,GAAIu3F,YAAYG,EAAMriG,IAAMkiG,YAAYS,EAAMh4F,GAC5C,OAAO3K,EAAI2K,EAEb,GAAIs3F,sBAAsBjiG,IAAMkiG,YAAYS,EAAMh4F,GAGhD,OAFA3K,EAAIA,EAAE3X,MAAM,IACV,IAAMsiB,EACD3K,EAET,GAAIkiG,YAAYG,EAAMriG,IAAMiiG,sBAAsBt3F,GAGhD,OAFAA,EAAIA,EAAEtiB,MAAM,IACV,GAAK2X,EAAI2K,EAAE,GACNA,EAET,GAAIs3F,sBAAsBjiG,IAAMiiG,sBAAsBt3F,GAAI,CAKxD,IAJA,IAAI7qB,EAAI,EACJwiH,EAAOtiG,EAAEhgB,OACT4iH,EAAOj4F,EAAE3qB,OACTuiH,EAAS,GACNziH,EAAIwiH,GAAQxiH,EAAI8iH,IACA,kBAAT5iG,EAAElgB,IAAmBkgB,EAAElgB,aAAc2K,UAA4B,kBAATkgB,EAAE7qB,IAAmB6qB,EAAE7qB,aAAc2K,QACvG83G,EAAOziH,GAAKkgB,EAAElgB,GAAK6qB,EAAE7qB,GAErByiH,EAAOziH,QAAc8D,IAAT+mB,EAAE7qB,GAAmBkgB,EAAElgB,GAAKkgB,EAAElgB,IAAM6qB,EAAE7qB,GAEpDA,GAAK,EAEP,OAAOyiH,EAET,OAAO,EAET,IAAIxuG,IAAM+7D,IAEV,SAAS+yC,IAAI7iG,EAAG2K,GACd,IAAI03F,SAAcriG,EACd2iG,SAAch4F,EAClB,GAAIu3F,YAAYG,EAAMriG,IAAMkiG,YAAYS,EAAMh4F,GAO5C,MANa,WAAT03F,IACFriG,EAAIsT,SAAStT,EAAG,KAEL,WAAT2iG,IACFh4F,EAAI2I,SAAS3I,EAAG,KAEX3K,EAAI2K,EAEb,GAAIs3F,sBAAsBjiG,IAAMkiG,YAAYS,EAAMh4F,GAGhD,OAFA3K,EAAIA,EAAE3X,MAAM,IACV,IAAMsiB,EACD3K,EAET,GAAIkiG,YAAYG,EAAMriG,IAAMiiG,sBAAsBt3F,GAGhD,OAFAA,EAAIA,EAAEtiB,MAAM,IACV,GAAK2X,EAAI2K,EAAE,GACNA,EAET,GAAIs3F,sBAAsBjiG,IAAMiiG,sBAAsBt3F,GAAI,CAKxD,IAJA,IAAI7qB,EAAI,EACJwiH,EAAOtiG,EAAEhgB,OACT4iH,EAAOj4F,EAAE3qB,OACTuiH,EAAS,GACNziH,EAAIwiH,GAAQxiH,EAAI8iH,IACA,kBAAT5iG,EAAElgB,IAAmBkgB,EAAElgB,aAAc2K,UAA4B,kBAATkgB,EAAE7qB,IAAmB6qB,EAAE7qB,aAAc2K,QACvG83G,EAAOziH,GAAKkgB,EAAElgB,GAAK6qB,EAAE7qB,GAErByiH,EAAOziH,QAAc8D,IAAT+mB,EAAE7qB,GAAmBkgB,EAAElgB,GAAKkgB,EAAElgB,IAAM6qB,EAAE7qB,GAEpDA,GAAK,EAEP,OAAOyiH,EAET,OAAO,EAGT,SAASO,IAAI9iG,EAAG2K,GACd,IAEI0rC,EAKAv2D,EACAouC,EARAm0E,SAAcriG,EACd2iG,SAAch4F,EAElB,GAAIu3F,YAAYG,EAAMriG,IAAMkiG,YAAYS,EAAMh4F,GAC5C,OAAO3K,EAAI2K,EAKb,GAAIs3F,sBAAsBjiG,IAAMkiG,YAAYS,EAAMh4F,GAAI,CAGpD,IAFAujB,EAAMluB,EAAEhgB,OACRq2D,EAAMF,iBAAiB,UAAWjoB,GAC7BpuC,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBu2D,EAAIv2D,GAAKkgB,EAAElgB,GAAK6qB,EAElB,OAAO0rC,EAET,GAAI6rD,YAAYG,EAAMriG,IAAMiiG,sBAAsBt3F,GAAI,CAGpD,IAFAujB,EAAMvjB,EAAE3qB,OACRq2D,EAAMF,iBAAiB,UAAWjoB,GAC7BpuC,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBu2D,EAAIv2D,GAAKkgB,EAAI2K,EAAE7qB,GAEjB,OAAOu2D,EAET,OAAO,EAGT,SAASinD,IAAIt9F,EAAG2K,GACd,IAEI0rC,EAIAv2D,EACAouC,EAPAm0E,SAAcriG,EACd2iG,SAAch4F,EAElB,GAAIu3F,YAAYG,EAAMriG,IAAMkiG,YAAYS,EAAMh4F,GAC5C,OAAO3K,EAAI2K,EAIb,GAAIs3F,sBAAsBjiG,IAAMkiG,YAAYS,EAAMh4F,GAAI,CAGpD,IAFAujB,EAAMluB,EAAEhgB,OACRq2D,EAAMF,iBAAiB,UAAWjoB,GAC7BpuC,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBu2D,EAAIv2D,GAAKkgB,EAAElgB,GAAK6qB,EAElB,OAAO0rC,EAET,GAAI6rD,YAAYG,EAAMriG,IAAMiiG,sBAAsBt3F,GAAI,CAGpD,IAFAujB,EAAMvjB,EAAE3qB,OACRq2D,EAAMF,iBAAiB,UAAWjoB,GAC7BpuC,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBu2D,EAAIv2D,GAAKkgB,EAAI2K,EAAE7qB,GAEjB,OAAOu2D,EAET,OAAO,EAET,SAAS0sD,IAAI/iG,EAAG2K,GAOd,MANiB,kBAAN3K,IACTA,EAAIsT,SAAStT,EAAG,KAED,kBAAN2K,IACTA,EAAI2I,SAAS3I,EAAG,KAEX3K,EAAI2K,EAEb,IAAIq4F,QAAUlzC,IACVmzC,QAAUJ,IACVK,QAAUJ,IACVK,QAAU7F,IACV8F,QAAUL,IAEd,SAASM,MAAMzpB,EAAKnzD,EAAK1+B,GACvB,GAAI0+B,EAAM1+B,EAAK,CACb,IAAIu7G,EAAKv7G,EACTA,EAAM0+B,EACNA,EAAM68E,EAER,OAAOh6F,KAAKmd,IAAInd,KAAKvhB,IAAI6xF,EAAKnzD,GAAM1+B,GAGtC,SAASw7G,iBAAiBp2D,GACxB,OAAOA,EAAMmG,UAEf,IAAIkwD,mBAAqBD,iBAEzB,SAASE,iBAAiBt2D,GACxB,OAAOA,EAAMmG,UAEf,IAAIowD,mBAAqBH,iBAErBI,kBAAoB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAExC,SAAS3jH,OAAO4jH,EAAMC,GACpB,GAAoB,kBAATD,GAAqBA,aAAgBn5G,OAE9C,OADAo5G,EAAOA,GAAQ,EACRv6F,KAAKC,IAAIq6F,EAAOC,GAKzB,IAAI/jH,EAHC+jH,IACHA,EAAOF,mBAGT,IAAIz1E,EAAM5kB,KAAKmd,IAAIm9E,EAAK5jH,OAAQ6jH,EAAK7jH,QACjCsjE,EAAc,EAClB,IAAKxjE,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBwjE,GAAeh6C,KAAKioC,IAAIsyD,EAAK/jH,GAAK8jH,EAAK9jH,GAAI,GAE7C,OAAOwpB,KAAKspC,KAAK0Q,GAGnB,SAASwgD,UAAUC,GACjB,OAAOzG,IAAIyG,EAAK/jH,OAAO+jH,IAGzB,SAASC,SAAS72D,GAChB,IAGInhD,EACAwT,EAJArU,EAAIgiD,EAAI,GAAQkI,EAAIlI,EAAI,GAAQxiC,EAAIwiC,EAAI,GACxCplD,EAAMuhB,KAAKvhB,IAAIoD,EAAGkqD,EAAG1qC,GACrB8b,EAAMnd,KAAKmd,IAAIt7B,EAAGkqD,EAAG1qC,GAGrBT,GAAKniB,EAAM0+B,GAAO,EAEtB,GAAI1+B,IAAQ0+B,EACVz6B,EAAI,EACJwT,EAAI,MACC,CACL,IAAIrZ,EAAI4B,EAAM0+B,EAEd,OADAjnB,EAAI0K,EAAI,GAAM/jB,GAAK,EAAI4B,EAAM0+B,GAAOtgC,GAAK4B,EAAM0+B,GACvC1+B,GACN,KAAKoD,EAAGa,GAAKqpD,EAAI1qC,GAAKxkB,GAAKkvD,EAAI1qC,EAAI,EAAI,GAAI,MAC3C,KAAK0qC,EAAGrpD,GAAK2e,EAAIxf,GAAKhF,EAAI,EAAG,MAC7B,KAAKwkB,EAAG3e,GAAKb,EAAIkqD,GAAKlvD,EAAI,EAG5B6F,GAAK,EAGP,MAAO,CAACA,EAAGwT,EAAG0K,EAAGijC,EAAI,IAGvB,SAAS82D,QAAQvkG,EAAG41C,EAAG/1C,GAGrB,OAFIA,EAAI,IAAGA,GAAK,GACZA,EAAI,IAAGA,GAAK,GACZA,EAAI,EAAI,EAAUG,EAAc,GAAT41C,EAAI51C,GAASH,EACpCA,EAAI,GAAc+1C,EAClB/1C,EAAI,EAAI,EAAUG,GAAK41C,EAAI51C,IAAM,EAAI,EAAIH,GAAK,EAC3CG,EAGT,SAASwkG,SAAS/2D,GAChB,IAIIhiD,EACAkqD,EACA1qC,EANA3e,EAAImhD,EAAI,GACR3tC,EAAI2tC,EAAI,GACRjjC,EAAIijC,EAAI,GAMZ,GAAU,IAAN3tC,EACFrU,EAAI+e,EACJS,EAAIT,EACJmrC,EAAInrC,MACC,CACL,IAAIorC,EAAIprC,EAAI,GAAMA,GAAK,EAAI1K,GAAK0K,EAAI1K,EAAI0K,EAAI1K,EACxCE,EAAI,EAAIwK,EAAIorC,EAChBnqD,EAAI84G,QAAQvkG,EAAG41C,EAAGtpD,EAAI,EAAI,GAC1BqpD,EAAI4uD,QAAQvkG,EAAG41C,EAAGtpD,GAClB2e,EAAIs5F,QAAQvkG,EAAG41C,EAAGtpD,EAAI,EAAI,GAG5B,MAAO,CAACb,EAAGkqD,EAAG1qC,EAAGwiC,EAAI,IAGvB,SAASg3D,OAAO5kG,EAAG6kG,EAAMC,EAAMC,EAAQC,GAOrC,QANe3gH,IAAX0gH,QAAmC1gH,IAAX2gH,IAC1BD,EAASF,EACTG,EAASF,EACTD,EAAO,EACPC,EAAO,GAELA,EAAOD,EAAM,CACf,IAAII,EAAQH,EACZA,EAAOD,EACPA,EAAOI,EAET,GAAIjlG,GAAK6kG,EACP,OAAOE,EACP,GAAI/kG,GAAK8kG,EACT,OAAOE,EAET,IAIIzkH,EAJAqjE,EAAOkhD,IAASD,EAAO,GAAK7kG,EAAI6kG,IAASC,EAAOD,GACpD,IAAKE,EAAOtkH,OACV,OAAOskH,GAAUC,EAASD,GAAUnhD,EAGtC,IAAIj1B,EAAMo2E,EAAOtkH,OACbq2D,EAAMF,iBAAiB,UAAWjoB,GACtC,IAAKpuC,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBu2D,EAAIv2D,GAAKwkH,EAAOxkH,IAAMykH,EAAOzkH,GAAKwkH,EAAOxkH,IAAMqjE,EAEjD,OAAO9M,EAET,SAAShJ,OAAO5mB,EAAK1+B,GAUnB,QATYnE,IAARmE,SACUnE,IAAR6iC,GACFA,EAAM,EACN1+B,EAAM,IAENA,EAAM0+B,EACNA,OAAM7iC,IAGNmE,EAAI/H,OAAQ,CACd,IAAIF,EACAouC,EAAMnmC,EAAI/H,OACTymC,IACHA,EAAM0vB,iBAAiB,UAAWjoB,IAEpC,IAAImoB,EAAMF,iBAAiB,UAAWjoB,GAClCu2E,EAAMzxD,OAAO3F,SACjB,IAAKvtD,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBu2D,EAAIv2D,GAAK2mC,EAAI3mC,GAAK2kH,GAAO18G,EAAIjI,GAAK2mC,EAAI3mC,IAExC,OAAOu2D,EAMT,YAJYzyD,IAAR6iC,IACFA,EAAM,GAGDA,EADIusB,OAAO3F,UACGtlD,EAAM0+B,GAG7B,SAASi+E,WAAW12G,EAAQ22G,EAAYC,EAAa7/C,GACnD,IAAIjlE,EACAouC,EAAMlgC,EAAOhO,OACb2J,EAAOsxE,UAAUvX,aACrB/5D,EAAKwvE,cAAcpU,EAAQ72B,GAC3B,IACI22E,EACAC,EAFAC,EAAiB,CAAC,EAAG,GAGzB,IAAKjlH,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB+kH,EAAiBF,GAAcA,EAAW7kH,GAAM6kH,EAAW7kH,GAAKilH,EAChED,EAAkBF,GAAeA,EAAY9kH,GAAM8kH,EAAY9kH,GAAKilH,EACpEp7G,EAAK6vE,YAAYxrE,EAAOlO,GAAG,GAAIkO,EAAOlO,GAAG,GAAIglH,EAAe,GAAK92G,EAAOlO,GAAG,GAAIglH,EAAe,GAAK92G,EAAOlO,GAAG,GAAI+kH,EAAc,GAAK72G,EAAOlO,GAAG,GAAI+kH,EAAc,GAAK72G,EAAOlO,GAAG,GAAIA,GAAG,GAExL,OAAO6J,EAGT,SAASq7G,mBAAmBzuC,KAAM/1D,KAAMk3B,UACtC,IAAIyV,IAAM3sC,KAAKpT,EACX63G,cAAgB,qBAAqBp9E,KAAKslB,KAC1C+3D,cAA0C,IAA3B/3D,IAAIvsD,QAAQ,UAC3BukH,SAAW5uC,KAAK/1D,KAAK44C,GACrBtrD,UACAs3G,cACAra,QACAl+D,OACAw4E,aAAe3tE,SACnB2tE,aAAaC,YAAcD,aAAaxsC,eACxCl5E,OAAO07B,eAAegqF,aAAc,QAAS,CAC3C79F,IAAK,WACH,OAAO69F,aAAavvE,KAGxBygC,KAAKT,KAAKyvC,cAAgB,EAAIhvC,KAAKT,KAAKU,WAAWiC,UACnDlC,KAAKT,KAAK0vC,iBAAmB,EAC7B,IAAIC,QAAUlvC,KAAK/1D,KAAKq5E,GAAKtjB,KAAKT,KAAKU,WAAWiC,UAC9CitC,SAAWnvC,KAAK/1D,KAAKqjE,GAAKtN,KAAKT,KAAKU,WAAWiC,UAC/Ct1E,MAAQozE,KAAK/1D,KAAKiqE,GAAKlU,KAAK/1D,KAAKiqE,GAAK,EACtCrnF,OAASmzE,KAAK/1D,KAAKuzD,GAAKwC,KAAK/1D,KAAKuzD,GAAK,EACvC3uE,KAAOmxE,KAAK/1D,KAAKw/C,GACjB2lD,OACAC,QACAC,QACAC,SACAC,OACAC,QACAC,UACAC,SACAC,OACAC,kBACA3hH,SACA4hH,SACAC,YACAztG,MACA0tG,UACAC,SACA3oD,KACAynD,YACAmB,eAEAC,aAEAC,oBAAsBC,KAAK,oCAAsCz5D,IAAM,0BAA0B,GACjG05D,QAAUnvE,SAASo/B,GAAKt2D,KAAK0pC,EAAElqD,OAAS,EAExC8mH,QAAUvmH,KAAKigB,OAAyB,IAAjBjgB,KAAKigB,KAAKk4E,GAEjCquB,OAAS,SAAgBC,EAAMC,GACjC,IAAIC,EACA/8F,EACAg9F,EAAY5mH,KAAK+xE,GAAGtyE,OAASO,KAAK+xE,GAAGtyE,OAAS,EAC9ConH,EAAYjxD,iBAAiB,UAAWgxD,GAExCzhB,EAAap8E,KAAK2jC,MADf,EACqBmnC,MAG5B,IAFA8yB,EAAU,EACV/8F,EAAI,EACG+8F,EAAUxhB,GAAY,CAE3B,IAAKv7E,EAAI,EAAGA,EAAIg9F,EAAWh9F,GAAK,EAC9Bi9F,EAAUj9F,KAAO88F,EAAY,EAANA,EAAUj0D,OAAO3F,SAG1C65D,GAAW,EAGb,IAAIG,EAbG,EAaOjzB,KACVjxB,EAAOkkD,EAAU/9F,KAAK2jC,MAAMo6D,GAC5BhxD,EAAMF,iBAAiB,UAAWgxD,GACtC,GAAIA,EAAY,EAAG,CACjB,IAAKh9F,EAAI,EAAGA,EAAIg9F,EAAWh9F,GAAK,EAC9BksC,EAAIlsC,GAAK5pB,KAAK+xE,GAAGnoD,GAAKi9F,EAAUj9F,KAAO88F,EAAY,EAANA,EAAUj0D,OAAO3F,UAAY8V,EAI5E,OAAO9M,EAET,OAAO91D,KAAK+xE,GAAK80C,EAAU,KAAOH,EAAY,EAANA,EAAUj0D,OAAO3F,UAAY8V,GACrE17C,KAAKlnB,MAgBP,SAAS+mH,eAAejrG,EAAMtD,GAC5B,OAAO4sG,OAAOtpG,EAAMtD,GAAU,GAGhC,SAASwuG,gBAAgBlrG,EAAMtD,GAC7B,OAAO8sG,QAAQxpG,EAAMtD,GAAU,GAnB7BssG,aAAaM,SACfA,OAASN,aAAaM,OAAOl+F,KAAK49F,cAClCO,QAAUD,QAGRN,aAAaQ,UACfA,QAAUR,aAAaQ,QAAQp+F,KAAK49F,cACpCS,SAAWD,SAGTR,aAAaU,SACfA,OAASV,aAAaU,OAAOt+F,KAAK49F,eAWhC9kH,KAAKs4E,iBACPysC,YAAc/kH,KAAKs4E,eAAepxD,KAAKlnB,OAGrCA,KAAKinH,oBACPf,eAAiBlmH,KAAKinH,kBAAkB//F,KAAKlnB,OAG/C,IAAIu1E,KAAOS,KAAKT,KAAKU,WAAWykB,iBAAiBxzE,KAAK8uD,KAAKT,KAAKU,WAAWykB,kBAiKvE7G,KACAqzB,SACA9/G,MACA0oF,KACAq3B,UACAC,UACAC,cArKJ,SAASC,OAAOC,EAAOC,GACrB,IAAIC,EAAO,CAACD,EAAM,GAAKD,EAAM,GAAIC,EAAM,GAAKD,EAAM,GAAIC,EAAM,GAAKD,EAAM,IACnEG,EAAQ3+F,KAAKgrD,MAAM0zC,EAAK,GAAI1+F,KAAKspC,KAAKo1D,EAAK,GAAKA,EAAK,GAAKA,EAAK,GAAKA,EAAK,KAAO10D,UAEpF,MAAO,EADIhqC,KAAKgrD,MAAM0zC,EAAK,GAAIA,EAAK,IAAM10D,UAC7B20D,EAAO,GAGtB,SAAS51F,QAAQ9S,EAAG6kG,EAAMC,EAAM6D,EAAMC,GACpC,OAAOC,UAAU3F,WAAYljG,EAAG6kG,EAAMC,EAAM6D,EAAMC,GAGpD,SAAS/1F,OAAO7S,EAAG6kG,EAAMC,EAAM6D,EAAMC,GACnC,OAAOC,UAAU5F,UAAWjjG,EAAG6kG,EAAMC,EAAM6D,EAAMC,GAGnD,SAASnvG,KAAKuG,EAAG6kG,EAAMC,EAAM6D,EAAMC,GACjC,OAAOC,UAAU1F,aAAcnjG,EAAG6kG,EAAMC,EAAM6D,EAAMC,GAGtD,SAASC,UAAU9+G,EAAIiW,EAAG6kG,EAAMC,EAAM6D,EAAMC,QAC7BvkH,IAATskH,GACFA,EAAO9D,EACP+D,EAAO9D,GAEP9kG,GAAKA,EAAI6kG,IAASC,EAAOD,GAEvB7kG,EAAI,EACNA,EAAI,EACKA,EAAI,IACbA,EAAI,GAEN,IAAI82D,EAAO/sE,EAAGiW,GACd,GAAI0iG,sBAAsBiG,GAAO,CAC/B,IAAIG,EACAC,EAASJ,EAAKloH,OACdq2D,EAAMF,iBAAiB,UAAWmyD,GACtC,IAAKD,EAAO,EAAGA,EAAOC,EAAQD,GAAQ,EACpChyD,EAAIgyD,IAASF,EAAKE,GAAQH,EAAKG,IAAShyC,EAAO6xC,EAAKG,GAEtD,OAAOhyD,EAET,OAAQ8xD,EAAOD,GAAQ7xC,EAAO6xC,EAGhC,SAASK,WAAWn0B,GAClB,IAAIi0B,EAEA1/G,EACAoqE,EAFAu1C,EAAS9nG,KAAK0pC,EAAElqD,OAGpB,GAAKwgB,KAAK0pC,EAAElqD,QAAiC,kBAAfwgB,KAAK0pC,EAAE,GAMnC,GAFAvhD,GAAS,GACTyrF,GAAQ7d,KAAKT,KAAKU,WAAWiC,WAClBj4D,KAAK0pC,EAAE,GAAG3qC,EACnB5W,EAAQ,EACRoqE,EAAUvyD,KAAK0pC,EAAE,GAAG3qC,MACf,CACL,IAAK8oG,EAAO,EAAGA,EAAOC,EAAS,EAAGD,GAAQ,EAAG,CAC3C,GAAIj0B,IAAS5zE,KAAK0pC,EAAEm+D,GAAM9oG,EAAG,CAC3B5W,EAAQ0/G,EAAO,EACft1C,EAAUvyD,KAAK0pC,EAAEm+D,GAAM9oG,EACvB,MACK,GAAI60E,EAAO5zE,KAAK0pC,EAAEm+D,GAAM9oG,GAAK60E,EAAO5zE,KAAK0pC,EAAEm+D,EAAO,GAAG9oG,EAAG,CACzD60E,EAAO5zE,KAAK0pC,EAAEm+D,GAAM9oG,EAAIiB,KAAK0pC,EAAEm+D,EAAO,GAAG9oG,EAAI60E,GAC/CzrF,EAAQ0/G,EAAO,EACft1C,EAAUvyD,KAAK0pC,EAAEm+D,EAAO,GAAG9oG,IAE3B5W,EAAQ0/G,EAAO,EACft1C,EAAUvyD,KAAK0pC,EAAEm+D,GAAM9oG,GAEzB,QAGW,IAAX5W,IACFA,EAAQ0/G,EAAO,EACft1C,EAAUvyD,KAAK0pC,EAAEm+D,GAAM9oG,QA3B3B5W,EAAQ,EACRoqE,EAAU,EA8BZ,IAAIy1C,EAAQ,GAGZ,OAFAA,EAAM7/G,MAAQA,EACd6/G,EAAMp0B,KAAOrhB,EAAUwD,KAAKT,KAAKU,WAAWiC,UACrC+vC,EAGT,SAAStoH,IAAI+yE,GACX,IAAIu1C,EACAH,EACAC,EACJ,IAAK9nG,KAAK0pC,EAAElqD,QAAiC,kBAAfwgB,KAAK0pC,EAAE,GACnC,MAAM,IAAIrwC,MAAM,yCAA2Co5D,GAE7DA,GAAO,EACPu1C,EAAQ,CACNp0B,KAAM5zE,KAAK0pC,EAAE+oB,GAAK1zD,EAAIg3D,KAAKT,KAAKU,WAAWiC,UAC3C9wE,MAAO,IAET,IAAI0uD,EAAM12D,OAAOQ,UAAUC,eAAeC,KAAKmgB,KAAK0pC,EAAE+oB,GAAM,KAAOzyD,KAAK0pC,EAAE+oB,GAAKzzD,EAAIgB,KAAK0pC,EAAE+oB,EAAM,GAAGrzD,EAGnG,IADA0oG,EAASjyD,EAAIr2D,OACRqoH,EAAO,EAAGA,EAAOC,EAAQD,GAAQ,EACpCG,EAAMH,GAAQhyD,EAAIgyD,GAClBG,EAAM7gH,MAAM0gH,GAAQhyD,EAAIgyD,GAE1B,OAAOG,EAGT,SAASC,aAAarsB,EAAIssB,GAIxB,OAHKA,IACHA,EAAMnyC,KAAKT,KAAKU,WAAWiC,WAEtB2jB,EAAKssB,EAGd,SAASC,aAAappG,EAAGmpG,GAOvB,OANKnpG,GAAW,IAANA,IACRA,EAAI60E,MAEDs0B,IACHA,EAAMnyC,KAAKT,KAAKU,WAAWiC,WAEtBl5D,EAAImpG,EAGb,SAASE,WAAWrqD,GAClBvL,OAAO61D,WAAWC,SAAWvqD,GAG/B,SAAS8kC,mBACP,OAAO9sB,KAAK8sB,mBAGd,SAAS0lB,UAAU5uC,EAAM7qD,GACvB,MAAqB,kBAAV3nB,WACG/D,IAAR0rB,EACK3nB,MAAMohH,UAAU5uC,GAElBxyE,MAAMohH,UAAU5uC,EAAM7qD,GAExB,GAGT,SAASmhE,OAAOtW,EAAM7qD,GACpB,MAAqB,kBAAV3nB,WACG/D,IAAR0rB,EACK3nB,MAAM8oF,OAAOtW,GAEfxyE,MAAM8oF,OAAOtW,EAAM7qD,GAErB,GAGT,SAAS05F,cAAcC,GACrB70B,KAA2B,IAApB60B,EAAwB,EAAI3/F,KAAK2jC,MAAMmnC,KAAO60B,GAAmBA,EACxEthH,MAAQ29G,YAAYlxB,MAUtB,IAAIzrF,MAAQ4tE,KAAK/1D,KAAKyyD,IAClBi2C,aAAe3yC,KAAK8kB,YAAa9kB,KAAK8kB,UAAUr7F,QAChDsrB,OACAw9F,SAAWx/F,KAAK2jC,MAAsB,IAAhB3jC,KAAK+jC,UAC3BmpB,WAAaD,KAAKC,WACtB,SAAS2yC,kBAAkBC,GAGzB,OADAzhH,MAAQyhH,EACJ7oH,KAAK8oH,oBAAsB9yC,KAAKC,WAAWC,SAA6B,iBAAlBl2E,KAAK8xE,SACtD1qE,OAEa,iBAAlBpH,KAAK8xE,WACPq1C,UAAYnnH,KAAKmnH,UACjBC,UAAYpnH,KAAKonH,UACjBC,cAAgBrnH,KAAKqnH,eAElBrB,YACHl2B,KAAO9Z,KAAK6zB,eAAe/Z,KAC3Bk2B,UAAYhwC,KAAK6zB,eACjBoc,SAAWjwC,KAAKT,KAAK60B,cACrBqb,QAAUO,UAAUP,QAAQv+F,KAAK8+F,WACjCN,UAAYM,UAAUN,UAAUx+F,KAAK8+F,WACrCL,SAAWK,UAAUL,SAASz+F,KAAK8+F,WACnCJ,OAASI,UAAUJ,OAAO1+F,KAAK8+F,WAC/B1oD,KAAO0oD,UAAU1oD,KAAO0oD,UAAU1oD,KAAKp2C,KAAK8+F,WAAa,KACzDH,kBAAoBF,UAEjBp4G,YACHA,UAAYyoE,KAAK6zB,eAAe,wBAChCgb,cAAgBt3G,UACZA,YACFw4G,YAAcx4G,UAAUw4G,cAOX,IAAbnB,UAAmBpa,UACrBA,QAAUwb,UAAU,4BAEjB15E,SACHA,OAAS05E,UAAU,KAErB2C,aAAe3yC,KAAK8kB,YAAa9kB,KAAK8kB,UAAUr7F,WAC9BsrB,SAChBA,OAASirD,KAAK8kB,UAAU,GAAG+O,gBAE7BhW,KAAO7zF,KAAKu1E,KAAKC,cAAgBx1E,KAAKu1E,KAAKU,WAAWiC,UAClDysC,cACF0D,WAAWE,SAAW10B,MAEpB6wB,gBACFwC,SAAWhB,eAAeryB,OAE5BuyB,sBACApmH,KAAK8oH,kBAAoB9yC,KAAKC,WAAWC,QAGX,UAA1BiwC,aAAar0C,WACfq0C,aAAeA,aAAa5wE,GAGvB4wE,cAET,OAAOyC,kBAIT,OADAppD,GAAGilD,mBAAqBA,mBACjBjlD,GA7sBgB,GAmtBrBupD,kBAsEK,CACLC,kBAtEF,SAA2BhzC,EAAM/1D,EAAMs2C,GACjCt2C,EAAKpT,IACP0pD,EAAK5M,GAAI,EACT4M,EAAK1pD,GAAI,EACT0pD,EAAKkuD,mBAAqBlD,kBAAkBkD,mBAC5CluD,EAAK4f,gBAAgBj2D,KAAKq2C,EAAKkuD,mBAAmBzuC,EAAM/1D,EAAMs2C,GAAMrvC,KAAKqvC,MAkE3E0yD,eAnDF,SAAwBt3C,GACtB,IACIyG,EAAKp4E,KAAKs4E,eAAe3G,GACzB0G,EAAKr4E,KAAKs4E,eAAe3G,GAFhB,KAGTxzB,EAAQ,EACZ,GAAIi6B,EAAG34E,OAAQ,CACb,IAAIF,EACJ,IAAKA,EAAI,EAAGA,EAAI64E,EAAG34E,OAAQF,GAAK,EAC9B4+C,GAASp1B,KAAKioC,IAAIqnB,EAAG94E,GAAK64E,EAAG74E,GAAI,GAEnC4+C,EAA2B,IAAnBp1B,KAAKspC,KAAKlU,QAElBA,EAAQ,EAEV,OAAOA,GAsCP8oE,kBAnCF,SAA2Bt1C,GACzB,QAAiBtuE,IAAbrD,KAAK22E,IACP,OAAO32E,KAAK22E,IAEd,IAIIuwC,EAGE3nH,EAPFu9B,GAAS,KAETs7C,EAAKp4E,KAAKs4E,eAAe3G,GACzB0G,EAAKr4E,KAAKs4E,eAAe3G,EAAW70C,GAExC,GAAIs7C,EAAG34E,OAGL,IAFAynH,EAAWtxD,iBAAiB,UAAWwiB,EAAG34E,QAErCF,EAAI,EAAGA,EAAI64E,EAAG34E,OAAQF,GAAK,EAI9B2nH,EAAS3nH,IAAM84E,EAAG94E,GAAK64E,EAAG74E,IAAMu9B,OAGlCoqF,GAAY7uC,EAAKD,GAAMt7C,EAEzB,OAAOoqF,GAeP5uC,eAhEF,SAAwB3G,GAQtB,OAPAA,GAAY3xE,KAAKg2E,KAAKC,WAAWiC,WACjCvG,GAAY3xE,KAAK6xE,cACA7xE,KAAKkpH,eAAen2C,YACnC/yE,KAAKkpH,eAAe/gG,UAAYnoB,KAAKkpH,eAAen2C,UAAYpB,EAAW3xE,KAAKkpH,eAAe/gG,UAAY,EAC3GnoB,KAAKkpH,eAAe9hH,MAAQpH,KAAK0xE,iBAAiBC,EAAU3xE,KAAKkpH,gBACjElpH,KAAKkpH,eAAen2C,UAAYpB,GAE3B3xE,KAAKkpH,eAAe9hH,OAyD3B+hH,qBAbF,WACE,OAAOnpH,KAAK+xE,IAaZq3C,iBAVF,SAA0BC,GACxBrpH,KAAKqpH,cAAgBA,KAgBxB,WACC,SAAS/D,EAAQxpG,EAAMtD,EAAU8wG,GAC/B,IAAKtpH,KAAK2pD,IAAM3pD,KAAKw9C,UACnB,OAAOx9C,KAAK+xE,GAEdj2D,EAAOA,EAAOA,EAAKmrB,cAAgB,GACnC,IAMIsiF,EACAC,EAeAjqH,EACAouC,EACAzkB,EAxBA0zE,EAAe58F,KAAKu1E,KAAKC,cACzBh4B,EAAYx9C,KAAKw9C,UACjBisE,EAAejsE,EAAUA,EAAU/9C,OAAS,GAAGuf,EACnD,GAAI49E,GAAgB6sB,EAClB,OAAOzpH,KAAK+xE,GAqBd,GAjBKu3C,EAYHE,EAAgBC,GAFdF,EAHG/wG,EAGauQ,KAAKC,IAAIygG,EAAezpH,KAAKg2E,KAAKT,KAAKU,WAAWiC,UAAY1/D,GAF9DuQ,KAAKvhB,IAAI,EAAGiiH,EAAezpH,KAAKg2E,KAAK/1D,KAAKq5E,QAPvD9gF,GAAYA,EAAWglC,EAAU/9C,OAAS,KAC7C+Y,EAAWglC,EAAU/9C,OAAS,GAGhC8pH,EAAgBE,GADhBD,EAAgBhsE,EAAUA,EAAU/9C,OAAS,EAAI+Y,GAAUwG,IAahD,aAATlD,GAEF,GADiBiN,KAAK2jC,OAAOkwC,EAAe4sB,GAAiBD,GAC5C,IAAM,EACnB,OAAOvpH,KAAKs4E,gBAAiBixC,GAAiB3sB,EAAe4sB,GAAiBD,EAAgBC,GAAkBxpH,KAAKu1E,KAAKU,WAAWiC,UAAW,OAE/I,IAAa,WAATp8D,EAAmB,CAC5B,IAAI4tG,EAAQ1pH,KAAKs4E,eAAekxC,EAAgBxpH,KAAKu1E,KAAKU,WAAWiC,UAAW,GAC5EyxC,EAAO3pH,KAAKs4E,eAAemxC,EAAezpH,KAAKu1E,KAAKU,WAAWiC,UAAW,GACxEj2E,EAAUjC,KAAKs4E,iBAAiBskB,EAAe4sB,GAAiBD,EAAgBC,GAAiBxpH,KAAKu1E,KAAKU,WAAWiC,UAAW,GACnI0xC,EAAU7gG,KAAK2jC,OAAOkwC,EAAe4sB,GAAiBD,GAC1D,GAAIvpH,KAAK+xE,GAAGtyE,OAAQ,CAGlB,IADAkuC,GADAzkB,EAAM,IAAIrf,MAAM6/G,EAAMjqH,SACZA,OACLF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB2pB,EAAI3pB,IAAMoqH,EAAKpqH,GAAKmqH,EAAMnqH,IAAMqqH,EAAU3nH,EAAQ1C,GAEpD,OAAO2pB,EAET,OAAQygG,EAAOD,GAASE,EAAU3nH,EAC7B,GAAa,aAAT6Z,EAAqB,CAC9B,IAAI+tG,EAAY7pH,KAAKs4E,eAAemxC,EAAezpH,KAAKu1E,KAAKU,WAAWiC,UAAW,GAC/E4xC,EAAgB9pH,KAAKs4E,gBAAgBmxC,EAAe,MAASzpH,KAAKu1E,KAAKU,WAAWiC,UAAW,GACjG,GAAIl4E,KAAK+xE,GAAGtyE,OAAQ,CAGlB,IADAkuC,GADAzkB,EAAM,IAAIrf,MAAMggH,EAAUpqH,SAChBA,OACLF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACtB2pB,EAAI3pB,GAAKsqH,EAAUtqH,IAAMsqH,EAAUtqH,GAAKuqH,EAAcvqH,MAAQq9F,EAAe6sB,GAAgBzpH,KAAKu1E,KAAKU,WAAWiC,WAAa,KAEnI,OAAOhvD,EAET,OAAO2gG,GAA6CjtB,EAAe6sB,GAAiB,MAAhEI,EAAYC,IAEhC,OAAO9pH,KAAKs4E,iBAAkBskB,EAAe4sB,GAAiBD,EAAgBC,GAAkBxpH,KAAKu1E,KAAKU,WAAWiC,UAAW,GAIpI,SAASktC,EAAOtpG,EAAMtD,EAAU8wG,GAC9B,IAAKtpH,KAAK2pD,EACR,OAAO3pD,KAAK+xE,GAEdj2D,EAAOA,EAAOA,EAAKmrB,cAAgB,GACnC,IAMIsiF,EACAE,EAeAlqH,EACAouC,EACAzkB,EAxBA0zE,EAAe58F,KAAKu1E,KAAKC,cACzBh4B,EAAYx9C,KAAKw9C,UACjBgsE,EAAgBhsE,EAAU,GAAGx+B,EACjC,GAAI49E,GAAgB4sB,EAClB,OAAOxpH,KAAK+xE,GAqBd,GAjBKu3C,EAYHG,EAAeD,GAFbD,EAHG/wG,EAGauQ,KAAKC,IAAIhpB,KAAKg2E,KAAKT,KAAKU,WAAWiC,UAAY1/D,GAF/CuQ,KAAKvhB,IAAI,EAAGxH,KAAKg2E,KAAK/1D,KAAKqjE,GAAKkmC,OAP7ChxG,GAAYA,EAAWglC,EAAU/9C,OAAS,KAC7C+Y,EAAWglC,EAAU/9C,OAAS,GAGhC8pH,GADAE,EAAejsE,EAAUhlC,GAAUwG,GACJwqG,GAYpB,aAAT1tG,GAEF,GADiBiN,KAAK2jC,OAAO88D,EAAgB5sB,GAAgB2sB,GAC5C,IAAM,EACnB,OAAOvpH,KAAKs4E,iBAAkBkxC,EAAgB5sB,GAAgB2sB,EAAgBC,GAAkBxpH,KAAKu1E,KAAKU,WAAWiC,UAAW,OAE/H,IAAa,WAATp8D,EAAmB,CAC5B,IAAI4tG,EAAQ1pH,KAAKs4E,eAAekxC,EAAgBxpH,KAAKu1E,KAAKU,WAAWiC,UAAW,GAC5EyxC,EAAO3pH,KAAKs4E,eAAemxC,EAAezpH,KAAKu1E,KAAKU,WAAWiC,UAAW,GAC1Ej2E,EAAUjC,KAAKs4E,gBAAgBixC,GAAkBC,EAAgB5sB,GAAgB2sB,EAAiBC,GAAiBxpH,KAAKu1E,KAAKU,WAAWiC,UAAW,GACnJ0xC,EAAU7gG,KAAK2jC,OAAO88D,EAAgB5sB,GAAgB2sB,GAAiB,EAC3E,GAAIvpH,KAAK+xE,GAAGtyE,OAAQ,CAGlB,IADAkuC,GADAzkB,EAAM,IAAIrf,MAAM6/G,EAAMjqH,SACZA,OACLF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB2pB,EAAI3pB,GAAK0C,EAAQ1C,IAAMoqH,EAAKpqH,GAAKmqH,EAAMnqH,IAAMqqH,EAE/C,OAAO1gG,EAET,OAAOjnB,GAAW0nH,EAAOD,GAASE,EAC7B,GAAa,aAAT9tG,EAAqB,CAC9B,IAAIiuG,EAAa/pH,KAAKs4E,eAAekxC,EAAgBxpH,KAAKu1E,KAAKU,WAAWiC,UAAW,GACjF8xC,EAAiBhqH,KAAKs4E,gBAAgBkxC,EAAgB,MAASxpH,KAAKu1E,KAAKU,WAAWiC,UAAW,GACnG,GAAIl4E,KAAK+xE,GAAGtyE,OAAQ,CAGlB,IADAkuC,GADAzkB,EAAM,IAAIrf,MAAMkgH,EAAWtqH,SACjBA,OACLF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB2pB,EAAI3pB,GAAKwqH,EAAWxqH,IAAOwqH,EAAWxqH,GAAKyqH,EAAezqH,KAAOiqH,EAAgB5sB,GAAiB,KAEpG,OAAO1zE,EAET,OAAO6gG,GAAeA,EAAaC,IAAmBR,EAAgB5sB,GAAiB,MAEvF,OAAO58F,KAAKs4E,gBAAiBixC,IAAkBC,EAAgB5sB,GAAgB2sB,EAAgBC,IAAmBxpH,KAAKu1E,KAAKU,WAAWiC,UAAW,GAItJ,SAASstC,EAAO5iH,EAAOqnH,GACrB,IAAKjqH,KAAK2pD,EACR,OAAO3pD,KAAK+xE,GAId,GAFAnvE,EAAyB,IAAhBA,GAAS,KAClBqnH,EAAUlhG,KAAK2jC,MAAMu9D,GAAW,KACjB,EACb,OAAOjqH,KAAK+xE,GAEd,IAMI3qE,EAMA8iH,EAZAt2D,EAAc5zD,KAAKu1E,KAAKC,cAAgBx1E,KAAKu1E,KAAKU,WAAWiC,UAC7D1G,EAAY5d,EAAchxD,EAE1BunH,EAAkBF,EAAU,GADjBr2D,EAAchxD,EACmB4uE,IAAcy4C,EAAU,GAAK,EACzE1qH,EAAI,EACJqqB,EAAI,EAQR,IALExiB,EADEpH,KAAK+xE,GAAGtyE,OACFm2D,iBAAiB,UAAW51D,KAAK+xE,GAAGtyE,QAEpC,EAGHF,EAAI0qH,GAAS,CAElB,GADAC,EAAclqH,KAAKs4E,eAAe9G,EAAYjyE,EAAI4qH,GAC9CnqH,KAAK+xE,GAAGtyE,OACV,IAAKmqB,EAAI,EAAGA,EAAI5pB,KAAK+xE,GAAGtyE,OAAQmqB,GAAK,EACnCxiB,EAAMwiB,IAAMsgG,EAAYtgG,QAG1BxiB,GAAS8iH,EAEX3qH,GAAK,EAEP,GAAIS,KAAK+xE,GAAGtyE,OACV,IAAKmqB,EAAI,EAAGA,EAAI5pB,KAAK+xE,GAAGtyE,OAAQmqB,GAAK,EACnCxiB,EAAMwiB,IAAMqgG,OAGd7iH,GAAS6iH,EAEX,OAAO7iH,EAGT,SAASgjH,EAAwBv2B,GAC1B7zF,KAAKqqH,0BACRrqH,KAAKqqH,wBAA0B,CAC7B90E,EAAG,IAAI2hB,SAIX,IAAI4qB,EAAS9hF,KAAKqqH,wBAAwB90E,EAE1C,GADAusC,EAAOzmB,eAAer7D,KAAKq3E,IAAI92E,OAC3BP,KAAKs3E,uBAAyB,EAAG,CACnC,IAAIgzC,EAAStqH,KAAKyf,EAAE64D,eAAeub,GACnC/R,EAAOnpB,WACJ2xD,EAAO,GAAKtqH,KAAKyf,EAAEq2D,MACnBw0C,EAAO,GAAKtqH,KAAKyf,EAAEq2D,KACpBw0C,EAAO,GAAKtqH,KAAKyf,EAAEq2D,MAGvB,GAAI91E,KAAKs3E,uBAAyB,EAAG,CACnC,IAAIh/D,EAAQtY,KAAKif,EAAEq5D,eAAeub,GAClC/R,EAAOxpE,MACLA,EAAM,GAAKtY,KAAKif,EAAE62D,KAClBx9D,EAAM,GAAKtY,KAAKif,EAAE62D,KAClBx9D,EAAM,GAAKtY,KAAKif,EAAE62D,MAGtB,GAAI91E,KAAK23E,IAAM33E,KAAKs3E,uBAAyB,EAAG,CAC9C,IAAIlf,EAAOp4D,KAAK23E,GAAGW,eAAeub,GAC9B02B,EAAWvqH,KAAK43E,GAAGU,eAAeub,GACtC/R,EAAOvpB,cAAcH,EAAOp4D,KAAK23E,GAAG7B,KAAMy0C,EAAWvqH,KAAK43E,GAAG9B,MAE/D,GAAI91E,KAAK4K,GAAK5K,KAAKs3E,uBAAyB,EAAG,CAC7C,IAAIwuC,EAAW9lH,KAAK4K,EAAE0tE,eAAeub,GACrC/R,EAAOpqB,QAAQouD,EAAW9lH,KAAK4K,EAAEkrE,WAC5B,IAAK91E,KAAK4K,GAAK5K,KAAKs3E,uBAAyB,EAAG,CACrD,IAAIkzC,EAAYxqH,KAAKy3E,GAAGa,eAAeub,GACnC42B,EAAYzqH,KAAK4M,GAAG0rE,eAAeub,GACnC62B,EAAY1qH,KAAK2M,GAAG2rE,eAAeub,GACnCz9E,EAAcpW,KAAK03E,GAAGY,eAAeub,GACzC/R,EAAO9pB,SAASwyD,EAAYxqH,KAAKy3E,GAAG3B,MACjC/d,QAAQ0yD,EAAYzqH,KAAK4M,GAAGkpE,MAC5Bhe,QAAQ4yD,EAAY1qH,KAAK2M,GAAGmpE,MAC5B9d,SAAS5hD,EAAY,GAAKpW,KAAK03E,GAAG5B,MAClC/d,QAAQ3hD,EAAY,GAAKpW,KAAK03E,GAAG5B,MACjChe,QAAQ1hD,EAAY,GAAKpW,KAAK03E,GAAG5B,MAEtC,GAAI91E,KAAKigB,KAAKd,GAAKnf,KAAKigB,KAAKd,EAAEF,EAAG,CAChC,IAAI0rG,EAAY3qH,KAAKkgD,GAAGo4B,eAAeub,GACnC+2B,EAAY5qH,KAAKu3E,GAAGe,eAAeub,GACvC,GAAI7zF,KAAKigB,KAAKd,EAAEo8C,EAAG,CACjB,IAAIsvD,EAAY7qH,KAAKw3E,GAAGc,eAAeub,GACvC/R,EAAOnpB,UACLgyD,EAAY3qH,KAAKkgD,GAAG41B,KACpB80C,EAAY5qH,KAAKu3E,GAAGzB,MACnB+0C,EAAY7qH,KAAKw3E,GAAG1B,WAGvBgM,EAAOnpB,UAAUgyD,EAAY3qH,KAAKkgD,GAAG41B,KAAM80C,EAAY5qH,KAAKu3E,GAAGzB,KAAM,OAElE,CACL,IAAI5xE,EAAWlE,KAAKmf,EAAEm5D,eAAeub,GACrC/R,EAAOnpB,UACLz0D,EAAS,GAAKlE,KAAKmf,EAAE22D,KACrB5xE,EAAS,GAAKlE,KAAKmf,EAAE22D,MACpB5xE,EAAS,GAAKlE,KAAKmf,EAAE22D,MAG1B,OAAOgM,EAIT,SAASgpC,IACP,OAAO9qH,KAAKu1C,EAAE93B,MAAM,IAAIy5C,QAG1B,IAAIuhB,EAAuBvB,yBAAyBuB,qBACpDvB,yBAAyBuB,qBAAuB,SAAUzC,EAAM/1D,EAAM/Y,GACpE,IAAIqvD,EAAOkiB,EAAqBzC,EAAM/1D,EAAM/Y,GAO5C,OANIqvD,EAAKC,kBAAkB/2D,OACzB82D,EAAK+hB,eAAiB8xC,EAAwBljG,KAAKqvC,GAEnDA,EAAK+hB,eAAiBwyC,EAA8B5jG,KAAKqvC,GAE3DA,EAAK6yD,iBAAmBL,kBAAkBK,iBACnC7yD,GAGT,IAAIw0D,EAAkBx5C,gBAAgB0F,QACtC1F,gBAAgB0F,QAAU,SAAUjB,EAAM/1D,EAAMnE,EAAMg6D,EAAM5uE,GAC1D,IAAIqvD,EAAOw0D,EAAgB/0C,EAAM/1D,EAAMnE,EAAMg6D,EAAM5uE,GAI/CqvD,EAAKggB,GACPhgB,EAAK+hB,eAAiBywC,kBAAkBzwC,eAAepxD,KAAKqvC,GAE5DA,EAAK+hB,eAAiBywC,kBAAkBI,qBAAqBjiG,KAAKqvC,GAEpEA,EAAK6yD,iBAAmBL,kBAAkBK,iBAC1C7yD,EAAK+uD,QAAUA,EACf/uD,EAAK6uD,OAASA,EACd7uD,EAAKivD,OAASA,EACdjvD,EAAK0wD,kBAAoB8B,kBAAkB9B,kBAAkB//F,KAAKqvC,GAClEA,EAAK0yD,eAAiBF,kBAAkBE,eAAe/hG,KAAKqvC,GAC5DA,EAAK+vD,QAAqB,IAAXrmG,EAAKR,EAAUQ,EAAK0pC,EAAElqD,OAAS,EAC9C82D,EAAKy0D,cAAgB/qG,EAAKijE,GAC1B,IAAI97E,EAAQ,EAcZ,OAba,IAAT0U,IACF1U,EAAQwuD,iBAAiB,UAAsB,IAAX31C,EAAKR,EAAUQ,EAAK0pC,EAAE,GAAG1qC,EAAExf,OAASwgB,EAAK0pC,EAAElqD,SAEjF82D,EAAK2yD,eAAiB,CACpBn2C,UAAWphB,oBACXxpC,UAAW,EACX/gB,MAAOA,GAET2hH,kBAAkBC,kBAAkBhzC,EAAM/1D,EAAMs2C,GAC5CA,EAAK5M,GACPziD,EAAUovD,mBAAmBC,GAGxBA,GAuBT,IAAI00D,EAAmCpxC,qBAAqBqxC,yBACxDC,EAA4CtxC,qBAAqBuxC,kCAErE,SAASC,KACTA,EAAiBzrH,UAAY,CAC3B65E,SAAU,SAAUljB,EAAMs9B,GACpB7zF,KAAK2pD,GACP3pD,KAAK42D,WAEP,IAIIr3D,EAJA8gF,EAAYrgF,KAAKu1C,OACRlyC,IAATwwF,IACFxT,EAAYrgF,KAAKs4E,eAAeub,EAAM,IAGxC,IAAIlmD,EAAM0yC,EAAUzb,QAChB6U,EAAW4G,EAAU9pB,GACrB9oD,EAAS4yE,EAAU9qC,EACnBugB,EAAMjD,iBAAiBllB,GAC3B,IAAKpuC,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAEtBu2D,EAAIv2D,GADO,MAATg3D,GAAyB,MAATA,EACT,CAACkjB,EAASl6E,GAAG,GAAKkO,EAAOlO,GAAG,GAAIk6E,EAASl6E,GAAG,GAAKkO,EAAOlO,GAAG,IAE3D,CAACk6E,EAASl6E,GAAG,GAAIk6E,EAASl6E,GAAG,IAG1C,OAAOu2D,GAETroD,OAAQ,SAAUomF,GAChB,OAAO7zF,KAAKy5E,SAAS,IAAKoa,IAE5BuwB,WAAY,SAAUvwB,GACpB,OAAO7zF,KAAKy5E,SAAS,IAAKoa,IAE5BwwB,YAAa,SAAUxwB,GACrB,OAAO7zF,KAAKy5E,SAAS,IAAKoa,IAE5By3B,SAAU,WACR,OAAOtrH,KAAKu1C,EAAE+O,GAEhBinE,YAAa,SAAU3oD,EAAMixB,GAC3B,IAAIxT,EAAYrgF,KAAKu1C,OACRlyC,IAATwwF,IACFxT,EAAYrgF,KAAKs4E,eAAeub,EAAM,IAEnC7zF,KAAKwrH,kBACRxrH,KAAKwrH,gBAAkBlkD,IAAIlD,kBAAkBic,IAU/C,IAPA,IAMItkB,EANAuI,EAAiBtkE,KAAKwrH,gBACtBnoD,EAAUiB,EAAejB,QACzBY,EAAYK,EAAeO,YAAcjC,EACzCrjE,EAAI,EACJouC,EAAM01B,EAAQ5jE,OACdgsH,EAAoB,EAEjBlsH,EAAIouC,GAAK,CACd,GAAI89E,EAAoBpoD,EAAQ9jE,GAAGwjE,YAAckB,EAAW,CAC1D,IAAIynD,EAAYnsH,EACZosH,EAAYtrC,EAAU/7B,GAAK/kD,IAAMouC,EAAM,EAAK,EAAIpuC,EAAI,EACpDszE,GAAe5O,EAAYwnD,GAAqBpoD,EAAQ9jE,GAAGwjE,YAC/DhH,EAAKuL,IAAIjB,kBAAkBga,EAAU9qC,EAAEm2E,GAAYrrC,EAAU9qC,EAAEo2E,GAAWtrC,EAAU3nB,EAAEgzD,GAAYrrC,EAAU9gF,EAAEosH,GAAW94C,EAAaxP,EAAQ9jE,IAC9I,MAEAksH,GAAqBpoD,EAAQ9jE,GAAGwjE,YAElCxjE,GAAK,EAKP,OAHKw8D,IACHA,EAAKskB,EAAU/7B,EAAI,CAAC+7B,EAAU9qC,EAAE,GAAG,GAAI8qC,EAAU9qC,EAAE,GAAG,IAAM,CAAC8qC,EAAU9qC,EAAE8qC,EAAUzb,QAAU,GAAG,GAAIyb,EAAU9qC,EAAE8qC,EAAUzb,QAAU,GAAG,KAElI7I,GAET6vD,aAAc,SAAUhpD,EAAMixB,EAAMg4B,GAEtB,GAARjpD,EACFA,EAAO5iE,KAAKu1C,EAAE+O,EACG,GAARse,IACTA,EAAO,MAET,IAAIvG,EAAMr8D,KAAKurH,YAAY3oD,EAAMixB,GAC7Bv3B,EAAMt8D,KAAKurH,YAAY3oD,EAAO,KAAOixB,GACrCi4B,EAAUxvD,EAAI,GAAKD,EAAI,GACvB0vD,EAAUzvD,EAAI,GAAKD,EAAI,GACvB2vD,EAAYjjG,KAAKspC,KAAKtpC,KAAKioC,IAAI86D,EAAS,GAAK/iG,KAAKioC,IAAI+6D,EAAS,IACnE,OAAkB,IAAdC,EACK,CAAC,EAAG,GAEmB,YAAfH,EAA2B,CAACC,EAAUE,EAAWD,EAAUC,GAAa,EAAED,EAAUC,EAAWF,EAAUE,IAG5HC,cAAe,SAAUrpD,EAAMixB,GAC7B,OAAO7zF,KAAK4rH,aAAahpD,EAAMixB,EAAM,YAEvCq4B,aAAc,SAAUtpD,EAAMixB,GAC5B,OAAO7zF,KAAK4rH,aAAahpD,EAAMixB,EAAM,WAEvCu1B,iBAAkBL,kBAAkBK,iBACpC9wC,eAAgBywC,kBAAkBI,sBAEpCtnD,gBAAgB,CAACwpD,GAAmBJ,GACpCppD,gBAAgB,CAACwpD,GAAmBF,GACpCA,EAA0CvrH,UAAU04E,eAzHpD,SAA6B3G,GAiB3B,OAfK3xE,KAAKkpH,iBACRlpH,KAAKkpH,eAAiB,CACpBiD,WAAYzxC,UAAUj9D,MAAMzd,KAAK+xE,IACjC5pD,UAAW,EACX4+C,SAAUpV,sBAIdggB,GAAY3xE,KAAKg2E,KAAKC,WAAWiC,WACjCvG,GAAY3xE,KAAK6xE,cACA7xE,KAAKkpH,eAAeniD,WACnC/mE,KAAKkpH,eAAe/gG,UAAYnoB,KAAKkpH,eAAeniD,SAAW4K,EAAW3xE,KAAK01E,SAASvtD,UAAY,EACpGnoB,KAAKkpH,eAAeniD,SAAW4K,EAC/B3xE,KAAK85E,iBAAiBnI,EAAU3xE,KAAKkpH,eAAeiD,WAAYnsH,KAAKkpH,iBAEhElpH,KAAKkpH,eAAeiD,YAyG7BhB,EAA0CvrH,UAAU6kH,mBAAqBlD,kBAAkBkD,mBAE3F,IAAI2H,EAAuBvyC,qBAAqBid,aAChDjd,qBAAqBid,aAAe,SAAU9gB,EAAM/1D,EAAMnE,EAAMg6C,EAAKu2D,GACnE,IAAI91D,EAAO61D,EAAqBp2C,EAAM/1D,EAAMnE,EAAMg6C,EAAKu2D,GAWvD,OAVA91D,EAAKy0D,cAAgB/qG,EAAKijE,GAC1B3sB,EAAK6f,MAAO,EACC,IAATt6D,EACFitG,kBAAkBC,kBAAkBhzC,EAAM/1D,EAAK87C,GAAIxF,GACjC,IAATz6C,GACTitG,kBAAkBC,kBAAkBhzC,EAAM/1D,EAAK0pD,GAAIpT,GAEjDA,EAAK5M,GACPqsB,EAAK1f,mBAAmBC,GAEnBA,GAnbV,GAmcCm0B,aAAa9qF,UAAU0sH,mBAAqB,SAAU58B,EAAcI,GAClE,IAAIzxE,EAAWre,KAAKusH,oBAAoBz8B,GACxC,GAAIJ,EAAa1wE,IAAMX,EAAU,CAC/B,IAAIozE,EAAU,GAId,OAHAzxF,KAAK+rF,SAAS0F,EAAS/B,GACvB+B,EAAQzyE,EAAIX,EAAS2U,WACrBy+D,EAAQpmB,YAAa,EACdomB,EAET,OAAO/B,GAGThF,aAAa9qF,UAAUosF,eAAiB,WACtC,IAAIwgC,EAAcxsH,KAAKuvF,kBACnBk9B,EAAiBzsH,KAAKgpH,oBAE1B,OADAhpH,KAAKu2E,GAAKi2C,GAAeC,EAClBzsH,KAAKu2E,IAGdmU,aAAa9qF,UAAUopH,kBA5BvB,WACE,OAAIhpH,KAAKigB,KAAKra,EAAEiH,GACd7M,KAAKusH,oBAAsBhL,kBAAkBkD,mBAAmBv9F,KAAKlnB,KAA1CuhH,CAAgDvhH,KAAKg2E,KAAMh2E,KAAKigB,KAAKra,EAAG5F,MACnGA,KAAKw2E,UAAUx2E,KAAKssH,mBAAmBplG,KAAKlnB,QACrC,GAEF,MA4BX,IAAI0sH,mBAGO,SAA8BjuC,EAAOkuC,EAAMtD,GAChD,IAAI9yD,EAAOo2D,EAAKn5C,GAEhB,SAASo5C,EAAkBhgE,GACzB,MAAY,UAARA,GAA2B,UAARA,GAA2B,SAARA,GAA0B,SAARA,GAA0B,sBAARA,GAAuC,IAARA,EACpGggE,EAAkBxjH,KAEpB,KAGT,IAAIyjH,EAAiBC,qBAAqBF,EAAmBvD,GAyB7D,OAxBA9yD,EAAK6yD,iBAAiB2D,kBAAkB,OAAQF,IAChDztH,OAAO4iD,iBAAiB4qE,EAAmB,CACzCxjH,KAAM,CACJ6d,IAAK,WAIH,OAHIsvC,EAAK5M,GACP4M,EAAKK,WAEAL,IAGXkoB,MAAO,CACLx3D,IAAK,WAIH,OAHIsvC,EAAK5M,GACP4M,EAAKK,WAEAL,IAGXy2D,MAAO,CAAE5lH,MAAOq3E,EAAMhf,IACtByjB,GAAI,CAAE97E,MAAOq3E,EAAMyE,IACnB8nC,cAAe,CAAE5jH,MAAOq3E,EAAMyE,IAC9B+pC,GAAI,CAAE7lH,MAAOq3E,EAAMwuC,IACnB5D,cAAe,CAAEjiH,MAAOiiH,KAEnBuD,GAOTE,qBACK,SAAUF,EAAmBM,GAClC,OAAO,SAAUtgE,GAEf,OADAA,OAAcvpD,IAARupD,EAAoB,EAAIA,IACnB,EACFggE,EAEFM,EAAoBtgE,EAAM,KAOnCmgE,kBACK,SAAUI,EAAc9D,GAC7B,IAAIuD,EAAoB,CACtBI,MAAOG,GAWT,OARA,SAAwBvgE,GAEtB,OADAA,OAAcvpD,IAARupD,EAAoB,EAAIA,IACnB,EACFggE,EAEFvD,EAAcz8D,EAAM,KAU7B29C,yBAA4B,WAC9B,SAAS6iB,EAAgB5jD,EAAQmjD,EAAMtD,GACrC,IACI9pH,EADAu2D,EAAM,GAENnoB,EAAM67B,EAASA,EAAO/pE,OAAS,EACnC,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACH,OAAjBiqE,EAAOjqE,GAAGs5D,GACZ/C,EAAI51C,KAAKmtG,EAAsB7jD,EAAOjqE,GAAIotH,EAAKptH,GAAI8pH,IACzB,OAAjB7/C,EAAOjqE,GAAGs5D,GACnB/C,EAAI51C,KAAKotG,EAAqB9jD,EAAOjqE,GAAIotH,EAAKptH,GAAI8pH,IACxB,OAAjB7/C,EAAOjqE,GAAGs5D,GACnB/C,EAAI51C,KAAKqtG,EAAuB/jD,EAAOjqE,GAAIotH,EAAKptH,GAAI8pH,IAC1B,OAAjB7/C,EAAOjqE,GAAGs5D,GACnB/C,EAAI51C,KAAKstG,EAAqBhkD,EAAOjqE,GAAIotH,EAAKptH,GAAI8pH,IACxB,OAAjB7/C,EAAOjqE,GAAGs5D,KAEO,OAAjB2Q,EAAOjqE,GAAGs5D,GACnB/C,EAAI51C,KAAKutG,EAAwBjkD,EAAOjqE,GAAIotH,EAAKptH,GAAI8pH,IAC3B,OAAjB7/C,EAAOjqE,GAAGs5D,GACnB/C,EAAI51C,KAAKwtG,EAAqBlkD,EAAOjqE,GAAIotH,EAAKptH,GAAI8pH,IACxB,OAAjB7/C,EAAOjqE,GAAGs5D,GACnB/C,EAAI51C,KAAKwsG,mBAAmBljD,EAAOjqE,GAAIotH,EAAKptH,GAAI8pH,IACtB,OAAjB7/C,EAAOjqE,GAAGs5D,GACnB/C,EAAI51C,KAAKytG,EAAqBnkD,EAAOjqE,GAAIotH,EAAKptH,GAAI8pH,IACxB,OAAjB7/C,EAAOjqE,GAAGs5D,GACnB/C,EAAI51C,KAAK0tG,EAAwBpkD,EAAOjqE,GAAIotH,EAAKptH,GAAI8pH,IAC3B,OAAjB7/C,EAAOjqE,GAAGs5D,GACnB/C,EAAI51C,KAAK2tG,EAAyBrkD,EAAOjqE,GAAIotH,EAAKptH,GAAI8pH,IAC5B,OAAjB7/C,EAAOjqE,GAAGs5D,GACnB/C,EAAI51C,KAAK4tG,EAA6BtkD,EAAOjqE,GAAIotH,EAAKptH,GAAI8pH,IAE1DvzD,EAAI51C,MAA6BspD,EAAOjqE,GAAIotH,EAAKptH,GAiIrD,WACE,OAAO,SA/HT,OAAOu2D,EA+BT,SAASu3D,EAAsB5uC,EAAOkuC,EAAMtD,GAC1C,IAAIuD,EAAoB,SAA4BxlH,GAClD,OAAQA,GACN,IAAK,qBACL,IAAK,WACL,KAAK,EACH,OAAOwlH,EAAkBpiB,QAI3B,QACE,OAAOoiB,EAAkBr/G,YAG/Bq/G,EAAkBvD,cAAgByD,qBAAqBF,EAAmBvD,GAC1E,IAAI7e,EA3CN,SAAkC/rB,EAAOkuC,EAAMtD,GAC7C,IAAI0E,EACAnB,EAAoB,SAA4BxlH,GAGlD,IAFA,IAAI7H,EAAI,EACJouC,EAAMogF,EAAWtuH,OACdF,EAAIouC,GAAK,CACd,GAAIogF,EAAWxuH,GAAGytH,QAAU5lH,GAAS2mH,EAAWxuH,GAAG0tH,KAAO7lH,GAAS2mH,EAAWxuH,GAAGyrH,gBAAkB5jH,GAAS2mH,EAAWxuH,GAAG2jF,KAAO97E,GAAS2mH,EAAWxuH,GAAGmzE,MAAQtrE,EAC9J,OAAO2mH,EAAWxuH,GAEpBA,GAAK,EAEP,MAAqB,kBAAV6H,EACF2mH,EAAW3mH,EAAQ,GAErB,MAGTwlH,EAAkBvD,cAAgByD,qBAAqBF,EAAmBvD,GAC1E0E,EAAaX,EAAgB3uC,EAAMl7B,GAAIopE,EAAKppE,GAAIqpE,EAAkBvD,eAClEuD,EAAkBoB,cAAgBD,EAAWtuH,OAC7C,IAAIwuH,EAAqBC,EAA0BzvC,EAAMl7B,GAAGk7B,EAAMl7B,GAAG9jD,OAAS,GAAIktH,EAAKppE,GAAGopE,EAAKppE,GAAG9jD,OAAS,GAAImtH,EAAkBvD,eAKjI,OAJAuD,EAAkBr/G,UAAY0gH,EAC9BrB,EAAkB5B,cAAgBvsC,EAAM0vC,IACxCvB,EAAkBI,MAAQvuC,EAAMhf,GAEzBmtD,EAkBOwB,CAAyB3vC,EAAOkuC,EAAMC,EAAkBvD,eAClE4E,EAAqBC,EAA0BzvC,EAAMl7B,GAAGk7B,EAAMl7B,GAAG9jD,OAAS,GAAIktH,EAAKppE,GAAGopE,EAAKppE,GAAG9jD,OAAS,GAAImtH,EAAkBvD,eAajI,OAZAuD,EAAkBpiB,QAAUA,EAC5BoiB,EAAkBr/G,UAAY0gH,EAC9B7uH,OAAO07B,eAAe8xF,EAAmB,QAAS,CAChD3lG,IAAK,WACH,OAAOw3D,EAAMhf,MAIjBmtD,EAAkBoB,cAAgBvvC,EAAM4vC,GACxCzB,EAAkB5B,cAAgBvsC,EAAMyE,GACxC0pC,EAAkBntD,GAAKgf,EAAMhf,GAC7BmtD,EAAkBK,GAAKxuC,EAAMwuC,GACtBL,EAGT,SAASU,EAAqB7uC,EAAOkuC,EAAMtD,GACzC,SAASuD,EAAkBhgE,GACzB,MAAY,UAARA,GAA2B,UAARA,EACdggE,EAAkBlnH,MACb,YAARknD,GAA6B,YAARA,EAClBggE,EAAkBv0G,QAEpB,KAeT,OAbAjZ,OAAO4iD,iBAAiB4qE,EAAmB,CACzClnH,MAAO,CACLuhB,IAAKqnG,4BAA4B3B,EAAKroE,IAExCjsC,QAAS,CACP4O,IAAKqnG,4BAA4B3B,EAAKj0D,IAExCs0D,MAAO,CAAE5lH,MAAOq3E,EAAMhf,IACtBwtD,GAAI,CAAE7lH,MAAOq3E,EAAMwuC,MAGrBN,EAAKroE,EAAE8kE,iBAAiB2D,kBAAkB,QAAS1D,IACnDsD,EAAKj0D,EAAE0wD,iBAAiB2D,kBAAkB,UAAW1D,IAC9CuD,EAGT,SAASkB,EAA6BrvC,EAAOkuC,EAAMtD,GACjD,SAASuD,EAAkBhgE,GACzB,MAAY,gBAARA,GAAiC,gBAARA,EACpBggE,EAAkB2B,WAEf,cAAR3hE,GAA+B,cAARA,EAClBggE,EAAkB4B,SAEf,YAAR5hE,GAA6B,YAARA,EAChBggE,EAAkBv0G,QAEpB,KAwBT,OAtBAjZ,OAAO4iD,iBAAiB4qE,EAAmB,CACzC2B,WAAY,CACVtnG,IAAKqnG,4BAA4B3B,EAAK1tG,IAExCuvG,SAAU,CACRvnG,IAAKqnG,4BAA4B3B,EAAKttG,IAExChH,QAAS,CACP4O,IAAKqnG,4BAA4B3B,EAAKj0D,IAExC58C,KAAM,CACJmL,IAAK,WACH,MAAO,MAGX+lG,MAAO,CAAE5lH,MAAOq3E,EAAMhf,IACtBwtD,GAAI,CAAE7lH,MAAOq3E,EAAMwuC,MAGrBN,EAAK1tG,EAAEmqG,iBAAiB2D,kBAAkB,cAAe1D,IACzDsD,EAAKttG,EAAE+pG,iBAAiB2D,kBAAkB,YAAa1D,IACvDsD,EAAKj0D,EAAE0wD,iBAAiB2D,kBAAkB,UAAW1D,IAC9CuD,EAST,SAASW,EAAuB9uC,EAAOkuC,EAAMtD,GAC3C,IAOI9pH,EAPAstH,EAAiBC,qBAAqBF,EAAmBvD,GACzDoF,EAAqB3B,qBAAqB4B,EAAQ7B,GACtD,SAAS8B,EAAoBpvH,GAC3BH,OAAO07B,eAAe4zF,EAAQjwC,EAAM74E,EAAErG,GAAGkgE,GAAI,CAC3Cx4C,IAAKqnG,4BAA4B3B,EAAK/mH,EAAEg4E,UAAUr+E,GAAG4f,KAIzD,IAAIwuB,EAAM8wC,EAAM74E,EAAI64E,EAAM74E,EAAEnG,OAAS,EACjCivH,EAAS,GACb,IAAKnvH,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBovH,EAAoBpvH,GACpBotH,EAAK/mH,EAAEg4E,UAAUr+E,GAAG4f,EAAEiqG,iBAAiBqF,GAGzC,SAAS7B,EAAkBhgE,GACzB,MAAY,UAARA,GAA2B,UAARA,EACdggE,EAAkBlnH,MACb,YAARknD,GAA6B,YAARA,EAClBggE,EAAkBv0G,QACb,iBAARu0C,GAAkC,iBAARA,EACvBggE,EAAkBpiH,YAEpB,KAwBT,OAtBApL,OAAO4iD,iBAAiB4qE,EAAmB,CACzClnH,MAAO,CACLuhB,IAAKqnG,4BAA4B3B,EAAKroE,IAExCjsC,QAAS,CACP4O,IAAKqnG,4BAA4B3B,EAAKj0D,IAExCluD,YAAa,CACXyc,IAAKqnG,4BAA4B3B,EAAKnhH,IAExCojH,KAAM,CACJ3nG,IAAK,WACH,OAAOynG,IAGX1B,MAAO,CAAE5lH,MAAOq3E,EAAMhf,IACtBwtD,GAAI,CAAE7lH,MAAOq3E,EAAMwuC,MAGrBN,EAAKroE,EAAE8kE,iBAAiB2D,kBAAkB,QAASF,IACnDF,EAAKj0D,EAAE0wD,iBAAiB2D,kBAAkB,UAAWF,IACrDF,EAAKnhH,EAAE49G,iBAAiB2D,kBAAkB,eAAgBF,IACnDD,EAGT,SAASY,EAAqB/uC,EAAOkuC,EAAMtD,GACzC,SAASuD,EAAkBhgE,GACzB,OAAIA,IAAQ6xB,EAAMp/D,EAAE6jE,IAAc,QAARt2B,GAAyB,QAARA,EAClCggE,EAAkB79F,IAEvB69B,IAAQ6xB,EAAMx/D,EAAEikE,GACX0pC,EAAkBhoF,MAEvBgoB,IAAQ6xB,EAAM/lB,EAAEwqB,GACX0pC,EAAkBv/G,OAEpB,KAGT,IAAIw/G,EAAiBC,qBAAqBF,EAAmBvD,GAsB7D,OArBAuD,EAAkB5B,cAAgBvsC,EAAMyE,GAExCypC,EAAK1tG,EAAEmqG,iBAAiB2D,kBAAkB,QAASF,IACnDF,EAAKttG,EAAE+pG,iBAAiB2D,kBAAkB,MAAOF,IACjDF,EAAKj0D,EAAE0wD,iBAAiB2D,kBAAkB,SAAUF,IACpDD,EAAkB5B,cAAgBvsC,EAAMyE,GACxC0pC,EAAkBvD,cAAgBA,EAElCjqH,OAAO4iD,iBAAiB4qE,EAAmB,CACzChoF,MAAO,CACL3d,IAAKqnG,4BAA4B3B,EAAK1tG,IAExC8P,IAAK,CACH9H,IAAKqnG,4BAA4B3B,EAAKttG,IAExChS,OAAQ,CACN4Z,IAAKqnG,4BAA4B3B,EAAKj0D,IAExCs0D,MAAO,CAAE5lH,MAAOq3E,EAAMhf,MAExBmtD,EAAkBK,GAAKxuC,EAAMwuC,GACtBL,EAGT,SAASsB,EAA0BzvC,EAAOkuC,EAAMtD,GAC9C,SAASuD,EAAkBxlH,GACzB,OAAIq3E,EAAMh/D,EAAEyjE,KAAO97E,GAAmB,iBAAVA,EACnBwlH,EAAkB7G,YAEvBtnC,EAAM/lB,EAAEwqB,KAAO97E,GAAmB,YAAVA,EACnBwlH,EAAkBv0G,QAEvBomE,EAAMt/D,EAAE+jE,KAAO97E,GAAmB,aAAVA,EACnBwlH,EAAkB1oH,SAEvBu6E,EAAM7zE,EAAEs4E,KAAO97E,GAAmB,aAAVA,GAAkC,yBAAVA,EAC3CwlH,EAAkB9G,SAEvBrnC,EAAMx/D,EAAEikE,KAAO97E,GAAmB,UAAVA,EACnBwlH,EAAkBt0G,MAEtBmmE,EAAM9G,IAAM8G,EAAM9G,GAAGuL,KAAO97E,GAAoB,SAAVA,EAClCwlH,EAAkBx0D,KAEtBqmB,EAAM7G,IAAM6G,EAAM7G,GAAGsL,KAAO97E,GAAoB,cAAVA,EAClCwlH,EAAkBrC,SAEpB,KAET,IAAIsC,EAAiBC,qBAAqBF,EAAmBvD,GAsC7D,OArCAsD,EAAKp/G,UAAUs2E,OAAOnrB,EAAE0wD,iBAAiB2D,kBAAkB,UAAWF,IACtEF,EAAKp/G,UAAUs2E,OAAO1kE,EAAEiqG,iBAAiB2D,kBAAkB,WAAYF,IACvEF,EAAKp/G,UAAUs2E,OAAOpkE,EAAE2pG,iBAAiB2D,kBAAkB,eAAgBF,IAC3EF,EAAKp/G,UAAUs2E,OAAO5kE,EAAEmqG,iBAAiB2D,kBAAkB,QAASF,IACpEF,EAAKp/G,UAAUs2E,OAAOj5E,EAAEw+G,iBAAiB2D,kBAAkB,WAAYF,IACnEF,EAAKp/G,UAAUs2E,OAAOlM,KACxBg1C,EAAKp/G,UAAUs2E,OAAOlM,GAAGyxC,iBAAiB2D,kBAAkB,OAAQF,IACpEF,EAAKp/G,UAAUs2E,OAAOjM,GAAGwxC,iBAAiB2D,kBAAkB,aAAcF,KAE5EF,EAAKp/G,UAAU+1E,GAAG8lC,iBAAiB2D,kBAAkB,UAAWF,IAChEztH,OAAO4iD,iBAAiB4qE,EAAmB,CACzCv0G,QAAS,CACP4O,IAAKqnG,4BAA4B3B,EAAKp/G,UAAUs2E,OAAOnrB,IAEzDx0D,SAAU,CACR+iB,IAAKqnG,4BAA4B3B,EAAKp/G,UAAUs2E,OAAO1kE,IAEzD4mG,YAAa,CACX9+F,IAAKqnG,4BAA4B3B,EAAKp/G,UAAUs2E,OAAOpkE,IAEzDnH,MAAO,CACL2O,IAAKqnG,4BAA4B3B,EAAKp/G,UAAUs2E,OAAO5kE,IAEzD6mG,SAAU,CACR7+F,IAAKqnG,4BAA4B3B,EAAKp/G,UAAUs2E,OAAOj5E,IAEzDwtD,KAAM,CACJnxC,IAAKqnG,4BAA4B3B,EAAKp/G,UAAUs2E,OAAOlM,KAEzD4yC,SAAU,CACRtjG,IAAKqnG,4BAA4B3B,EAAKp/G,UAAUs2E,OAAOjM,KAEzDo1C,MAAO,CAAE5lH,MAAOq3E,EAAMhf,MAExBmtD,EAAkB/zD,GAAK,KACvB+zD,EAAkBK,GAAKxuC,EAAMwuC,GAC7BL,EAAkBvD,cAAgBA,EAC3BuD,EAGT,SAASa,EAAwBhvC,EAAOkuC,EAAMtD,GAC5C,SAASuD,EAAkBxlH,GACzB,OAAIq3E,EAAMt/D,EAAE+jE,KAAO97E,EACVwlH,EAAkB1oH,SAEvBu6E,EAAMx/D,EAAEikE,KAAO97E,EACVwlH,EAAkBpkH,KAEpB,KAET,IAAIqkH,EAAiBC,qBAAqBF,EAAmBvD,GAC7DuD,EAAkB5B,cAAgBvsC,EAAMyE,GACxC,IAAI3sB,EAAsB,OAAfo2D,EAAKn5C,GAAG3a,GAAc8zD,EAAKn5C,GAAGjd,KAAOo2D,EAAKn5C,GAcrD,OAbAjd,EAAKt3C,EAAEmqG,iBAAiB2D,kBAAkB,OAAQF,IAClDt2D,EAAKp3C,EAAEiqG,iBAAiB2D,kBAAkB,WAAYF,IAEtDztH,OAAO4iD,iBAAiB4qE,EAAmB,CACzCpkH,KAAM,CACJye,IAAKqnG,4BAA4B/3D,EAAKt3C,IAExC/a,SAAU,CACR+iB,IAAKqnG,4BAA4B/3D,EAAKp3C,IAExC6tG,MAAO,CAAE5lH,MAAOq3E,EAAMhf,MAExBmtD,EAAkBK,GAAKxuC,EAAMwuC,GACtBL,EAGT,SAASc,EAAqBjvC,EAAOkuC,EAAMtD,GACzC,SAASuD,EAAkBxlH,GACzB,OAAIq3E,EAAMt/D,EAAE+jE,KAAO97E,EACVwlH,EAAkB1oH,SAEvBu6E,EAAM7zE,EAAEs4E,KAAO97E,EACVwlH,EAAkB9G,SAEvBrnC,EAAM1iB,GAAGmnB,KAAO97E,EACXwlH,EAAkBn/G,OAEvBgxE,EAAM/G,GAAGwL,KAAO97E,GAAmB,kCAAVA,EACpBwlH,EAAkBiC,YAEvBpwC,EAAM3C,GAAGoH,KAAO97E,EACXwlH,EAAkBkC,gBAEvBrwC,EAAM/C,IAAO+C,EAAM/C,GAAGwH,KAAO97E,GAAmB,kCAAVA,EAGtCq3E,EAAMl6B,IAAMk6B,EAAMl6B,GAAG2+B,KAAO97E,EACvBwlH,EAAkBmC,eAEpB,KALEnC,EAAkBoC,YAQ7B,IAAInC,EAAiBC,qBAAqBF,EAAmBvD,GACzD9yD,EAAsB,OAAfo2D,EAAKn5C,GAAG3a,GAAc8zD,EAAKn5C,GAAGjd,KAAOo2D,EAAKn5C,GAqCrD,OApCAo5C,EAAkB5B,cAAgBvsC,EAAMyE,GACxC3sB,EAAKmhB,GAAG0xC,iBAAiB2D,kBAAkB,eAAgBF,IAC3Dt2D,EAAKulB,GAAGstC,iBAAiB2D,kBAAkB,kBAAmBF,IAC9Dt2D,EAAKwF,GAAGqtD,iBAAiB2D,kBAAkB,SAAUF,IACrDt2D,EAAKp3C,EAAEiqG,iBAAiB2D,kBAAkB,WAAYF,IACtDt2D,EAAK3rD,EAAEw+G,iBAAiB2D,kBAAkB,WAAYF,IAClDpuC,EAAM/C,KACRnlB,EAAKmlB,GAAG0tC,iBAAiB2D,kBAAkB,eAAgBF,IAC3Dt2D,EAAKhS,GAAG6kE,iBAAiB2D,kBAAkB,kBAAmBF,KAGhEztH,OAAO4iD,iBAAiB4qE,EAAmB,CACzC1oH,SAAU,CACR+iB,IAAKqnG,4BAA4B/3D,EAAKp3C,IAExC2mG,SAAU,CACR7+F,IAAKqnG,4BAA4B/3D,EAAK3rD,IAExC6C,OAAQ,CACNwZ,IAAKqnG,4BAA4B/3D,EAAKwF,KAExC8yD,YAAa,CACX5nG,IAAKqnG,4BAA4B/3D,EAAKmhB,KAExCo3C,eAAgB,CACd7nG,IAAKqnG,4BAA4B/3D,EAAKulB,KAExCkzC,YAAa,CACX/nG,IAAKqnG,4BAA4B/3D,EAAKmlB,KAExCqzC,eAAgB,CACd9nG,IAAKqnG,4BAA4B/3D,EAAKhS,KAExCyoE,MAAO,CAAE5lH,MAAOq3E,EAAMhf,MAExBmtD,EAAkBK,GAAKxuC,EAAMwuC,GACtBL,EAGT,SAASe,EAAqBlvC,EAAOkuC,EAAMtD,GACzC,SAASuD,EAAkBxlH,GACzB,OAAIq3E,EAAMt/D,EAAE+jE,KAAO97E,EACVwlH,EAAkB1oH,SAEvBu6E,EAAM7zE,EAAEs4E,KAAO97E,EACVwlH,EAAkB5wC,UAEvByC,EAAMx/D,EAAEikE,KAAO97E,GAAmB,SAAVA,GAA8B,0BAAVA,EACvCwlH,EAAkBpkH,KAEpB,KAET,IAAIqkH,EAAiBC,qBAAqBF,EAAmBvD,GAEzD9yD,EAAsB,OAAfo2D,EAAKn5C,GAAG3a,GAAc8zD,EAAKn5C,GAAGjd,KAAOo2D,EAAKn5C,GAmBrD,OAlBAo5C,EAAkB5B,cAAgBvsC,EAAMyE,GACxC3sB,EAAKp3C,EAAEiqG,iBAAiB2D,kBAAkB,WAAYF,IACtDt2D,EAAKt3C,EAAEmqG,iBAAiB2D,kBAAkB,OAAQF,IAClDt2D,EAAK3rD,EAAEw+G,iBAAiB2D,kBAAkB,WAAYF,IAEtDztH,OAAO4iD,iBAAiB4qE,EAAmB,CACzC1oH,SAAU,CACR+iB,IAAKqnG,4BAA4B/3D,EAAKp3C,IAExC68D,UAAW,CACT/0D,IAAKqnG,4BAA4B/3D,EAAK3rD,IAExCpC,KAAM,CACJye,IAAKqnG,4BAA4B/3D,EAAKt3C,IAExC+tG,MAAO,CAAE5lH,MAAOq3E,EAAMhf,MAExBmtD,EAAkBK,GAAKxuC,EAAMwuC,GACtBL,EAGT,SAASgB,EAAwBnvC,EAAOkuC,EAAMtD,GAC5C,SAASuD,EAAkBxlH,GACzB,OAAIq3E,EAAM7zE,EAAEs4E,KAAO97E,GAAmB,oBAAVA,EACnBwlH,EAAkBqC,OAEpB,KAGT,IAAIpC,EAAiBC,qBAAqBF,EAAmBvD,GACzD9yD,EAAOo2D,EAWX,OAVAC,EAAkB5B,cAAgBvsC,EAAMyE,GACxC3sB,EAAKqqB,GAAGwoC,iBAAiB2D,kBAAkB,SAAUF,IAErDztH,OAAO4iD,iBAAiB4qE,EAAmB,CACzCqC,OAAQ,CACNhoG,IAAKqnG,4BAA4B/3D,EAAKqqB,KAExCosC,MAAO,CAAE5lH,MAAOq3E,EAAMhf,MAExBmtD,EAAkBK,GAAKxuC,EAAMwuC,GACtBL,EAGT,SAASiB,EAAyBpvC,EAAOkuC,EAAMtD,GAC7C,SAASuD,EAAkBxlH,GACzB,OAAIq3E,EAAMn6B,EAAE4+B,KAAO97E,GAAmB,WAAVA,EACnBwlH,EAAkB3pC,OACrBxE,EAAM/lB,EAAEwqB,KAAO97E,GAAmB,WAAVA,EACrBwlH,EAAkBv/G,OAEpB,KAGT,IAAIw/G,EAAiBC,qBAAqBF,EAAmBvD,GACzD9yD,EAAOo2D,EAcX,OAbAC,EAAkB5B,cAAgBvsC,EAAMyE,GACxC3sB,EAAKjS,EAAE8kE,iBAAiB2D,kBAAkB,SAAUF,IACpDt2D,EAAKmC,EAAE0wD,iBAAiB2D,kBAAkB,SAAUF,IACpDztH,OAAO4iD,iBAAiB4qE,EAAmB,CACzC3pC,OAAQ,CACNh8D,IAAKqnG,4BAA4B/3D,EAAKjS,IAExCj3C,OAAQ,CACN4Z,IAAKqnG,4BAA4B/3D,EAAKmC,IAExCs0D,MAAO,CAAE5lH,MAAOq3E,EAAMhf,MAExBmtD,EAAkBK,GAAKxuC,EAAMwuC,GACtBL,EAGT,OAAO,SAAUpjD,EAAQmjD,EAAMtD,GAC7B,IAAI0E,EACJ,SAASmB,EAAmB9nH,GAC1B,GAAqB,kBAAVA,EAET,OAAc,KADdA,OAAkB/D,IAAV+D,EAAsB,EAAIA,GAEzBiiH,EAEF0E,EAAW3mH,EAAQ,GAI5B,IAFA,IAAI7H,EAAI,EACJouC,EAAMogF,EAAWtuH,OACdF,EAAIouC,GAAK,CACd,GAAIogF,EAAWxuH,GAAGytH,QAAU5lH,EAC1B,OAAO2mH,EAAWxuH,GAEpBA,GAAK,EAEP,OAAO,KAST,OAJA2vH,EAAmB7F,cAAgByD,qBAAqBoC,GAHxD,WACE,OAAO7F,KAGT0E,EAAaX,EAAgB5jD,EAAQmjD,EAAMuC,EAAmB7F,eAC9D6F,EAAmBlB,cAAgBD,EAAWtuH,OAC9CyvH,EAAmBlC,MAAQ,WACpBkC,GArhBqB,GA2hB5BxkB,wBACK,SAAU10B,GACf,IAAIm5C,EACAC,EACJ,SAASC,EAAmBxqH,GAC1B,MACO,uBADCA,EAEGwqH,EAAmBC,WAEnB,KAgBb,OAbAlwH,OAAO07B,eAAeu0F,EAAoB,aAAc,CACtDpoG,IAAK,WACH+uD,EAAKuc,aAAa37B,WAClB,IAAI24D,EAAcv5C,EAAKuc,aAAazH,YAAY9rE,EAOhD,OANIuwG,IAAgBJ,IAClBn5C,EAAKuc,aAAazH,YAAY9rE,EAAImwG,GAClCC,EAAc,IAAI7iE,OAAOgjE,IAEbnoH,MAAQmoH,GAAe,IAAIhjE,OAAOgjE,IAEzCH,KAGJC,GAOPvlB,yBAA4B,WAC9B,SAAS0lB,EAAU37B,GACjB,IAAI47B,EAAa,IAAIv4D,OAQrB,YAPa7zD,IAATwwF,EACe7zF,KAAKupF,MAAM4X,eAAeC,MAAM9oB,eAAeub,GACrDp2E,MAAMgyG,GAEEzvH,KAAKupF,MAAM4X,eAAeC,MAChCtpB,cAAc23C,GAEtBA,EAGT,SAASC,EAAW55D,EAAK+9B,GACvB,IAAI47B,EAAazvH,KAAKwvH,UAAU37B,GAIhC,OAHA47B,EAAWlvH,MAAM,IAAM,EACvBkvH,EAAWlvH,MAAM,IAAM,EACvBkvH,EAAWlvH,MAAM,IAAM,EAChBP,KAAK2vH,WAAWF,EAAY35D,GAGrC,SAAS2vD,EAAQ3vD,EAAK+9B,GACpB,IAAI47B,EAAazvH,KAAKwvH,UAAU37B,GAChC,OAAO7zF,KAAK2vH,WAAWF,EAAY35D,GAGrC,SAAS85D,EAAa95D,EAAK+9B,GACzB,IAAI47B,EAAazvH,KAAKwvH,UAAU37B,GAIhC,OAHA47B,EAAWlvH,MAAM,IAAM,EACvBkvH,EAAWlvH,MAAM,IAAM,EACvBkvH,EAAWlvH,MAAM,IAAM,EAChBP,KAAK6vH,YAAYJ,EAAY35D,GAGtC,SAAS4vD,EAAU5vD,EAAK+9B,GACtB,IAAI47B,EAAazvH,KAAKwvH,UAAU37B,GAChC,OAAO7zF,KAAK6vH,YAAYJ,EAAY35D,GAGtC,SAAS65D,EAAW7tC,EAAQhsB,GAC1B,GAAI91D,KAAKupF,MAAMuR,WAAa96F,KAAKupF,MAAMuR,UAAUr7F,OAAQ,CACvD,IAAIF,EACAouC,EAAM3tC,KAAKupF,MAAMuR,UAAUr7F,OAC/B,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKupF,MAAMuR,UAAUv7F,GAAG4hG,eAAeC,MAAMtpB,cAAcgK,GAG/D,OAAOA,EAAO9lB,kBAAkBlG,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAAM,GAG5D,SAAS+5D,EAAY/tC,EAAQhsB,GAC3B,GAAI91D,KAAKupF,MAAMuR,WAAa96F,KAAKupF,MAAMuR,UAAUr7F,OAAQ,CACvD,IAAIF,EACAouC,EAAM3tC,KAAKupF,MAAMuR,UAAUr7F,OAC/B,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKupF,MAAMuR,UAAUv7F,GAAG4hG,eAAeC,MAAMtpB,cAAcgK,GAG/D,OAAOA,EAAOhmB,aAAahG,GAG7B,SAAS6vD,EAAS7vD,GAChB,IAAI25D,EAAa,IAAIv4D,OAGrB,GAFAu4D,EAAW7iF,QACX5sC,KAAKupF,MAAM4X,eAAeC,MAAMtpB,cAAc23C,GAC1CzvH,KAAKupF,MAAMuR,WAAa96F,KAAKupF,MAAMuR,UAAUr7F,OAAQ,CACvD,IAAIF,EACAouC,EAAM3tC,KAAKupF,MAAMuR,UAAUr7F,OAC/B,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBS,KAAKupF,MAAMuR,UAAUv7F,GAAG4hG,eAAeC,MAAMtpB,cAAc23C,GAE7D,OAAOA,EAAW3zD,aAAahG,GAEjC,OAAO25D,EAAW3zD,aAAahG,GAGjC,SAASg6D,IACP,MAAO,CAAC,EAAG,EAAG,EAAG,GAGnB,OAAO,SAAU95C,GACf,IAAIi4C,EASJ,SAASoB,EAAmBxqH,GAC1B,OAAQA,GACN,IAAK,0BACL,IAAK,WACL,KAAK,EACH,OAAOwqH,EAAmB/kB,eAC5B,KAAK,EACL,KAAK,EACL,IAAK,YACL,IAAK,YACL,IAAK,uBACH,OAAO2jB,EACT,KAAK,EACL,IAAK,qBACL,IAAK,UACL,IAAK,UACH,OAAOoB,EAAmB/iF,OAC5B,IAAK,uBACH,OAAO+iF,EAAmB5kB,cAC5B,QACE,OAAO,MAGb4kB,EAAmBG,UAAYA,EAC/BH,EAAmBQ,YAAcA,EACjCR,EAAmBM,WAAaA,EAChCN,EAAmB5J,QAAUA,EAC7B4J,EAAmBK,WAAaA,EAChCL,EAAmB3J,UAAYA,EAC/B2J,EAAmBO,aAAeA,EAClCP,EAAmBzJ,OAASH,EAC5B4J,EAAmB1J,SAAWA,EAC9B0J,EAAmBS,YAAcA,EACjCT,EAAmBvsB,iBAAmB9sB,EAAK8sB,iBAAiB57E,KAAK8uD,GACjEq5C,EAAmB9lC,MAAQvT,EAE3B,IAAI+5C,EAAwB9tD,cAD5BgsD,EAAqB+B,6BAA6Bh6C,EAAKmrB,eAAeC,OACR,eAyC9D,OAxCAhiG,OAAO4iD,iBAAiBqtE,EAAoB,CAC1C1G,UAAW,CACT1hG,IAAK,WACH,OAAO+uD,EAAK8kB,UAAUr7F,SAG1BsrB,OAAQ,CACN9D,IAAK,WACH,OAAO+uD,EAAK8kB,UAAU,GAAG+O,iBAG7Bic,SAAU7jD,cAAcgsD,EAAoB,YAC5C31G,MAAO2pD,cAAcgsD,EAAoB,SACzC/pH,SAAU+9D,cAAcgsD,EAAoB,YAC5C51G,QAAS4pD,cAAcgsD,EAAoB,WAC3ClI,YAAagK,EACbE,aAAcF,EACdxiH,UAAW,CACT0Z,IAAK,WACH,OAAOgnG,IAGX1H,OAAQ,CACNt/F,IAAK,WACH,OAAO+uD,EAAKosB,cAKlBitB,EAAmBa,UAAYl6C,EAAK/1D,KAAK62D,GACzCu4C,EAAmBjnH,MAAQ4tE,EAAK/1D,KAAKyyD,IACrC28C,EAAmB3vH,OAASs2E,EAAK/1D,KAAKqpD,MACtC+lD,EAAmBxsH,OAA0B,IAAjBmzE,EAAK/1D,KAAK44C,GAAWmd,EAAK/1D,KAAKxU,EAAI,IAC/D4jH,EAAmBzsH,MAAyB,IAAjBozE,EAAK/1D,KAAK44C,GAAWmd,EAAK/1D,KAAKzU,EAAI,IAC9D6jH,EAAmBnK,QAAUlvC,EAAK/1D,KAAKq5E,GAAKtjB,EAAKT,KAAKU,WAAWiC,UACjEm3C,EAAmBlK,SAAWnvC,EAAK/1D,KAAKqjE,GAAKtN,EAAKT,KAAKU,WAAWiC,UAClEm3C,EAAmBrC,MAAQh3C,EAAK/1D,KAAKw/C,GAErC4vD,EAAmBtlB,sBAlFnB,SAAgC5d,GAC9BkjC,EAAmB/xD,KAAO,IAAI6yD,qBAAqBhkC,EAAanW,IAkFlEq5C,EAAmBllB,yBAhFnB,SAAmCimB,GACjCf,EAAmB/iF,OAAS8jF,GAgFvBf,GAvKqB,GA8K5B1hB,iBAAoB,WACtB,IA+BI0iB,EAAuB,SAAUr6C,GACnC,SAAS42C,EAAkBxlH,GACzB,MAAc,YAAVA,EACKwlH,EAAkB0D,mBAEpB,KAKT,OAFA1D,EAAkBI,MAAQ,UAC1BJ,EAAkB0D,iBAxCW,SAAUt6C,GACvC,IAAIu6C,EAAsB,GACtBC,EAAkBx6C,EAAK43B,iBAM3B,SAAS5hB,EAAe5kF,GACtB,GAAIopH,EAAgBppH,GAGlB,OAFAmpH,EAAsBnpH,EAES,kBAD/BopH,EAAkBA,EAAgBppH,IAEzB4kF,EAEFwkC,EAET,IAAIC,EAAoBrpH,EAAM/G,QAAQkwH,GACtC,IAA2B,IAAvBE,EAA0B,CAC5B,IAAIroH,EAAQ2qB,SAAS3rB,EAAM8oF,OAAOugC,EAAoBF,EAAoB9wH,QAAS,IAEnF,MAA+B,kBAD/B+wH,EAAkBA,EAAgBpoH,IAEzB4jF,EAEFwkC,EAET,MAAO,GAET,OAzBA,WAGE,OAFAD,EAAsB,GACtBC,EAAkBx6C,EAAK43B,iBAChB5hB,GAkC4B0kC,CAAwB16C,GACtD42C,GAGT,OAAO,SAAU52C,GACf,SAASk5C,EAAmB9nH,GAC1B,MAAc,SAAVA,EACK8nH,EAAmByB,cAErB,KAKT,OAFAzB,EAAmBlC,MAAQ,OAC3BkC,EAAmByB,cAAgBN,EAAqBr6C,GACjDk5C,GAvDa,GA6DpB7kB,wBACK,SAAU90B,GACf,SAAS85C,EAAmBxqH,GAG1B,IAFA,IAAItF,EAAI,EACJouC,EAAM4nC,EAAK9M,OAAOhpE,OACfF,EAAIouC,GAAK,CACd,GAAI4nC,EAAK9M,OAAOlpE,GAAGkgE,KAAO56D,GAAQ0wE,EAAK9M,OAAOlpE,GAAGmzE,MAAQ7tE,EACvD,OAAO0wE,EAAKjqC,SAAS/rC,GAAGsqG,eAE1BtqG,GAAK,EAEP,OAAO,KAYT,OATAH,OAAO07B,eAAeu0F,EAAoB,QAAS,CAAEjoH,MAAOmuE,EAAKt1D,KAAKw/C,KACtE4vD,EAAmB31B,MAAQ21B,EAC3BA,EAAmBuB,YAAc,EACjCvB,EAAmBxsH,OAAS0yE,EAAKt1D,KAAKxU,GAAK8pE,EAAKU,WAAW6lB,SAASrwF,EACpE4jH,EAAmBzsH,MAAQ2yE,EAAKt1D,KAAKzU,GAAK+pE,EAAKU,WAAW6lB,SAAStwF,EACnE6jH,EAAmBuB,YAAc,EACjCvB,EAAmBrK,cAAgB,EAAIzvC,EAAKU,WAAWiC,UACvDm3C,EAAmBpK,iBAAmB,EACtCoK,EAAmBwB,UAAYt7C,EAAK9M,OAAOhpE,OACpC4vH,GAOPW,6BACK,SAAUziH,GACf,SAASujH,EAAcjsH,GACrB,OAAQA,GACN,IAAK,QACL,IAAK,QACL,IAAK,aACL,KAAK,EACH,OAAOisH,EAAcx4G,MACvB,IAAK,WACL,IAAK,WACL,IAAK,gBACL,IAAK,gBACL,KAAK,GACH,OAAOw4G,EAAchL,SACvB,IAAK,gBACH,OAAOgL,EAAcC,UACvB,IAAK,gBACH,OAAOD,EAAcE,UACvB,IAAK,WACL,IAAK,WACL,IAAK,gBACL,KAAK,EACH,OAAOF,EAAc5sH,SACvB,IAAK,kBACH,OAAO4sH,EAAcG,UACvB,IAAK,kBACH,OAAOH,EAAcI,UACvB,IAAK,kBACH,OAAOJ,EAAcK,UACvB,IAAK,cACL,IAAK,cACL,IAAK,eACL,IAAK,mBACL,KAAK,EACH,OAAOL,EAAc/K,YACvB,IAAK,UACL,IAAK,UACL,KAAK,GACH,OAAO+K,EAAcz4G,QACvB,QACE,OAAO,MAqBb,IAAI+4G,EACAC,EACAC,EACAC,EAsDJ,OA3EAnyH,OAAO07B,eAAeg2F,EAAe,WAAY,CAC/C7pG,IAAKqnG,4BAA4B/gH,EAAU3C,GAAK2C,EAAUkqE,MAG5Dr4E,OAAO07B,eAAeg2F,EAAe,YAAa,CAChD7pG,IAAKqnG,4BAA4B/gH,EAAUkqE,IAAMlqE,EAAU3C,KAG7DxL,OAAO07B,eAAeg2F,EAAe,YAAa,CAChD7pG,IAAKqnG,4BAA4B/gH,EAAUZ,MAG7CvN,OAAO07B,eAAeg2F,EAAe,YAAa,CAChD7pG,IAAKqnG,4BAA4B/gH,EAAUX,MAE7CxN,OAAO07B,eAAeg2F,EAAe,QAAS,CAC5C7pG,IAAKqnG,4BAA4B/gH,EAAU0R,KAMzC1R,EAAU4R,EACZoyG,EAAoBjD,4BAA4B/gH,EAAU4R,IAE1DiyG,EAAM9C,4BAA4B/gH,EAAU2yC,IAC5CmxE,EAAM/C,4BAA4B/gH,EAAUgqE,IACxChqE,EAAUiqE,KACZ85C,EAAMhD,4BAA4B/gH,EAAUiqE,MAGhDp4E,OAAO07B,eAAeg2F,EAAe,WAAY,CAC/C7pG,IAAK,WACH,OAAI1Z,EAAU4R,EACLoyG,IAEF,CACLH,IACAC,IACAC,EAAMA,IAAQ,MAIpBlyH,OAAO07B,eAAeg2F,EAAe,YAAa,CAChD7pG,IAAKqnG,4BAA4B/gH,EAAU2yC,MAG7C9gD,OAAO07B,eAAeg2F,EAAe,YAAa,CAChD7pG,IAAKqnG,4BAA4B/gH,EAAUgqE,MAG7Cn4E,OAAO07B,eAAeg2F,EAAe,YAAa,CAChD7pG,IAAKqnG,4BAA4B/gH,EAAUiqE,MAG7Cp4E,OAAO07B,eAAeg2F,EAAe,cAAe,CAClD7pG,IAAKqnG,4BAA4B/gH,EAAUkS,KAG7CrgB,OAAO07B,eAAeg2F,EAAe,UAAW,CAC9C7pG,IAAKqnG,4BAA4B/gH,EAAUmrD,KAG7Ct5D,OAAO07B,eAAeg2F,EAAe,OAAQ,CAC3C7pG,IAAKqnG,4BAA4B/gH,EAAUoqE,MAG7Cv4E,OAAO07B,eAAeg2F,EAAe,WAAY,CAC/C7pG,IAAKqnG,4BAA4B/gH,EAAUqqE,MAG7Cx4E,OAAO07B,eAAeg2F,EAAe,cAAe,CAClD7pG,IAAKqnG,4BAA4B/gH,EAAUmqE,MAGtCo5C,GAMPp+D,iBAAoB,WACtB,SAAS2oC,EAAoB9lB,GAC3Bv1E,KAAKwxH,aAAatxG,KAAKq1D,GAGzB,OAAO,WACL,SAASk8C,EAAqB5sH,GAG5B,IAFA,IAAItF,EAAI,EACJouC,EAAM3tC,KAAKwxH,aAAa/xH,OACrBF,EAAIouC,GAAK,CACd,GAAI3tC,KAAKwxH,aAAajyH,GAAG0gB,MAAQjgB,KAAKwxH,aAAajyH,GAAG0gB,KAAKw/C,KAAO56D,EAIhE,OAHI7E,KAAKwxH,aAAajyH,GAAGs9F,cAAgB78F,KAAKwxH,aAAajyH,GAAG0gB,KAAKk7E,IACjEn7F,KAAKwxH,aAAajyH,GAAGs9F,aAAa78F,KAAK48F,cAElC58F,KAAKwxH,aAAajyH,GAAG6qG,cAE9B7qG,GAAK,EAEP,OAAO,KAQT,OALAkyH,EAAqBD,aAAe,GACpCC,EAAqB70B,aAAe,EAEpC60B,EAAqBp2B,oBAAsBA,EAEpCo2B,GA1Ba,GAiCpBxnB,2BAA8B,WAqChC,SAASynB,EAAqBzxG,EAAMqrB,EAAU+9E,EAAerzC,GAC3D,SAAS27C,EAAe9sH,GAItB,IAHA,IAAIurH,EAAUnwG,EAAKqyF,GACf/yG,EAAI,EACJouC,EAAMyiF,EAAQ3wH,OACXF,EAAIouC,GAAK,CACd,GAAI9oC,IAASurH,EAAQ7wH,GAAGkgE,IAAM56D,IAASurH,EAAQ7wH,GAAG0tH,IAAMpoH,IAASurH,EAAQ7wH,GAAG2jF,GAC1E,OAAsB,IAAlBktC,EAAQ7wH,GAAGs5D,GACNmvC,EAAezoG,GAEjByoG,EAAezoG,KAExBA,GAAK,EAEP,MAAM,IAAI+Z,MAEZ,IAGI/Z,EAHAstH,EAAiBC,qBAAqB6E,EAAgBtI,GAEtDrhB,EAAiB,GAEjBr6D,EAAM1tB,EAAKqyF,GAAG7yG,OAClB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACF,IAAlB0gB,EAAKqyF,GAAG/yG,GAAGs5D,GACbmvC,EAAe9nF,KAAKwxG,EAAqBzxG,EAAKqyF,GAAG/yG,GAAI+rC,EAAS08D,eAAezoG,GAAI+rC,EAAS08D,eAAezoG,GAAG8pH,cAAerzC,IAE3HgyB,EAAe9nF,KAAK0xG,EAAqBtmF,EAAS08D,eAAezoG,GAAI0gB,EAAKqyF,GAAG/yG,GAAGs5D,GAAImd,EAAM62C,IAsB9F,MAlBgB,uBAAZ5sG,EAAKgtG,IACP7tH,OAAO07B,eAAe62F,EAAgB,QAAS,CAC7C1qG,IAAK,WACH,OAAO+gF,EAAe,QAI5B5oG,OAAO4iD,iBAAiB2vE,EAAgB,CACtC3D,cAAe,CACb/mG,IAAK,WACH,OAAOhH,EAAKouG,KAGhBrB,MAAO,CAAE5lH,MAAO6Y,EAAKw/C,IACrB4pD,cAAe,CAAEjiH,MAAOylH,KAE1B8E,EAAe19G,QAAsB,IAAZgM,EAAK4xG,GAC9BF,EAAepL,OAASoL,EAAe19G,QAChC09G,EAGT,SAASC,EAAqB9mH,EAASgR,EAAMk6D,EAAMqzC,GACjD,IAAIyI,EAAqBxD,4BAA4BxjH,EAAQqU,GAY7D,OAJIrU,EAAQqU,EAAEiqG,kBACZt+G,EAAQqU,EAAEiqG,iBAAiB2D,kBAAkB,GAAI1D,IARnD,WACE,OAAa,KAATvtG,EACKk6D,EAAKT,KAAK60B,cAAct/F,EAAQqU,EAAEo2B,GAEpCu8E,KAUX,MAtGS,CACP5nB,uBAGF,SAAgCl0B,EAAMqzC,GACpC,GAAIrzC,EAAK+0B,eAAgB,CACvB,IAEIxrG,EAFAyoG,EAAiB,GACjB+pB,EAAc/7C,EAAK/1D,KAAKqyF,GAExB3kE,EAAMqoC,EAAK+0B,eAAe/C,eAAevoG,OAC7C,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxByoG,EAAe9nF,KAAKwxG,EAAqBK,EAAYxyH,GAAIy2E,EAAK+0B,eAAe/C,eAAezoG,GAAI8pH,EAAerzC,IAGjH,IAAIo6C,EAAUp6C,EAAK/1D,KAAKqyF,IAAM,GAC1Bqf,EAAiB,SAAU9sH,GAG7B,IAFAtF,EAAI,EACJouC,EAAMyiF,EAAQ3wH,OACPF,EAAIouC,GAAK,CACd,GAAI9oC,IAASurH,EAAQ7wH,GAAGkgE,IAAM56D,IAASurH,EAAQ7wH,GAAG0tH,IAAMpoH,IAASurH,EAAQ7wH,GAAG2jF,GAC1E,OAAO8kB,EAAezoG,GAExBA,GAAK,EAEP,OAAO,MAOT,OALAH,OAAO07B,eAAe62F,EAAgB,gBAAiB,CACrD1qG,IAAK,WACH,OAAOmpG,EAAQ3wH,UAGZkyH,EAET,OAAO,OAlCuB,GA6G9BxB,qBAAwB,WAC1B,SAAS6B,EAAc10D,EAAMr9C,GAC3BjgB,KAAKiyH,MAAQ30D,EACbt9D,KAAKkyH,MAAQjyG,EAuCf,OArCA7gB,OAAO07B,eAAek3F,EAAcpyH,UAAW,WAAY,CACzDqnB,IAAK,WAIH,OAHIjnB,KAAKiyH,MAAM17D,KAAK5M,GAClB3pD,KAAKiyH,MAAM17D,KAAKK,WAEX52D,KAAKiyH,MAAM17D,QAGtBn3D,OAAO07B,eAAek3F,EAAcpyH,UAAW,cAAe,CAC5DqnB,IAAK,WAIH,OAHIjnB,KAAKiyH,MAAM3uC,GAAG35B,GAChB3pD,KAAKiyH,MAAM3uC,GAAG1sB,WAES,IAAlB52D,KAAKiyH,MAAM3uC,GAAG/tC,KAIP,SAAU42C,GAC1B,IACI5sF,EADA4yH,EAAmBt/D,iBAAiBs5B,EAAYmK,SAAS72F,QAEzDkuC,EAAMw+C,EAAYmK,SAAS72F,OAC/B,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxB4yH,EAAiB5yH,GAAK,IAAIyyH,EAAc7lC,EAAYmK,SAAS/2F,GAAI4sF,EAAYhjB,gBAAgB5pE,IAa/F,OAVmB,SAAUsF,GAE3B,IADAtF,EAAI,EACGA,EAAIouC,GAAK,CACd,GAAIw+C,EAAYhjB,gBAAgB5pE,GAAGkgE,KAAO56D,EACxC,OAAOstH,EAAiB5yH,GAE1BA,GAAK,EAEP,OAAO,OAtCe,GAgDxB+uH,4BAA+B,WACjC,IAAI8D,EAA6B,CAAErgD,GAAI,EAAGx8B,EAAG,EAAGugC,KAAM,GAClDu8C,EAA+B,CAAEtgD,GAAI,CAAC,EAAG,EAAG,GAAIx8B,EAAG,CAAC,EAAG,EAAG,GAAIugC,KAAM,GAExE,SAASw8C,EAAiBC,EAAiBp7E,EAAUr7B,GACnD1c,OAAO07B,eAAey3F,EAAiB,WAAY,CACjDtrG,IAAK,WACH,OAAOkwB,EAAS8vE,kBAAkB9vE,EAASo+B,KAAKqnB,iBAGpD21B,EAAgBjM,QAAUnvE,EAASqG,UAAYrG,EAASqG,UAAU/9C,OAAS,EAC3E8yH,EAAgB5yH,IAAM,SAAUgkC,GAC9B,IAAK4uF,EAAgBjM,QACnB,OAAO,EAET,IAAIl/G,EAAQ,GAEVA,EADE,MAAO+vC,EAASqG,UAAU7Z,EAAM,GAC1BwT,EAASqG,UAAU7Z,EAAM,GAAG1kB,EAC3B,MAAOk4B,EAASqG,UAAU7Z,EAAM,GACjCwT,EAASqG,UAAU7Z,EAAM,GAAGtkB,EAE5B83B,EAASqG,UAAU7Z,EAAM,GAAG1kB,EAEtC,IAAIuzG,EAAqB,mBAAT12G,EAA4B,IAAI5R,OAAO9C,GAAShI,OAAOC,OAAO,GAAI+H,GAGlF,OAFAorH,EAAU3+B,KAAO18C,EAASqG,UAAU7Z,EAAM,GAAG3kB,EAAIm4B,EAAS6+B,KAAKT,KAAKU,WAAWiC,UAC/Es6C,EAAUprH,MAAiB,mBAAT0U,EAA4B1U,EAAM,GAAKA,EAClDorH,GAETD,EAAgBxN,YAAc5tE,EAASmhC,eACvCi6C,EAAgBE,YAAct7E,EAAS8xE,eACvCsJ,EAAgBrM,eAAiB/uE,EAAS8vE,kBAC1CsL,EAAgBlJ,cAAgBlyE,EAASkyE,cAmD3C,SAASqJ,IACP,OAAON,EAGT,OAAO,SAAUj7E,GACf,OAAKA,EAEuB,mBAAtBA,EAAS26B,SAvDjB,SAAyC36B,GAClCA,GAAc,OAAQA,IACzBA,EAAWi7E,GAEb,IAAIt8C,EAAO,EAAI3+B,EAAS2+B,KACpBlpB,EAAMzV,EAAS46B,GAAK+D,EACpBy8C,EAAkB,IAAIroH,OAAO0iD,GAIjC,OAHA2lE,EAAgBnrH,MAAQwlD,EACxB0lE,EAAiBC,EAAiBp7E,EAAU,kBAErC,WAUL,OATIA,EAASwS,GACXxS,EAASyf,WAEXhK,EAAMzV,EAAS5B,EAAIugC,EACfy8C,EAAgBnrH,QAAUwlD,KAC5B2lE,EAAkB,IAAIroH,OAAO0iD,IACbxlD,MAAQwlD,EACxB0lE,EAAiBC,EAAiBp7E,EAAU,mBAEvCo7E,GAoCAI,CAAgCx7E,GAhC3C,SAA2CA,GACpCA,GAAc,OAAQA,IACzBA,EAAWk7E,GAEb,IAAIv8C,EAAO,EAAI3+B,EAAS2+B,KACpBnoC,EAAOwJ,EAASl3B,MAAQk3B,EAASl3B,KAAK0J,GAAMwtB,EAAS46B,GAAGtyE,OACxD8yH,EAAkB38D,iBAAiB,UAAWjoB,GAC9CilF,EAAWh9D,iBAAiB,UAAWjoB,GAI3C,OAHA4kF,EAAgBnrH,MAAQwrH,EACxBN,EAAiBC,EAAiBp7E,EAAU,oBAErC,WACDA,EAASwS,GACXxS,EAASyf,WAEX,IAAK,IAAIr3D,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAC5BqzH,EAASrzH,GAAK43C,EAAS5B,EAAEh2C,GAAKu2E,EAC9By8C,EAAgBhzH,GAAKqzH,EAASrzH,GAEhC,OAAOgzH,GAeFM,CAAkC17E,GAJhCu7E,GAxFsB,GAmG/BI,kCAAqC,WACvC,SAASC,EAAc3qH,EAAO4qH,GAI5B,OAHAhzH,KAAKmnH,UAAY/+G,EAAQ,EACzBpI,KAAKonH,UAAY4L,EACjBhzH,KAAKu1C,EAAIv1C,KAAK42D,WAAa52D,KAAK81E,KACzB91E,KAAKu1C,EAGd,OAAO,SAAUygC,EAAM/1D,GACrBjgB,KAAK+xE,GAAK,EACV/xE,KAAKu1E,KAAOS,EAAKT,KACjBv1E,KAAKg2E,KAAOA,EACZh2E,KAAK81E,KAAO,IACZ91E,KAAK8xE,SAAW,eAChB9xE,KAAKonH,UAAYnnG,EAAK6uE,WACtB9uF,KAAKqnH,cAAgB,IACrBrnH,KAAK6pH,UAAY,CAAC,EAAG,EAAG,GACxB7pH,KAAK2pD,GAAI,EACT3pD,KAAK6M,GAAI,EACT7M,KAAK42D,SAAW2qD,kBAAkBkD,mBAAmBv9F,KAAKlnB,KAA1CuhH,CAAgDvrC,EAAM/1D,EAAMjgB,MAC5EA,KAAK4uF,QAAUmkC,EACf/yH,KAAKinH,kBAAoB8B,kBAAkB9B,kBACvCjnH,KAAKu2E,GACPv2E,KAAKs4E,eAAiBywC,kBAAkBzwC,eAAepxD,KAAKlnB,MAE5DA,KAAKs4E,eAAiBywC,kBAAkBI,qBAAqBjiG,KAAKlnB,MAEpEA,KAAKopH,iBAAmBL,kBAAkBK,kBA3BL,GA+BrC6J,oBAAsB1oC,iBAAiBC,oBAW3C,SAAS0oC,aAAajzG,EAAM+1D,EAAM9uE,GAChClH,KAAKmf,EAAIoyD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKs1B,EAAG,EAAG,EAAGruC,GAEvD,SAASisH,YAAYlzG,EAAM+1D,EAAM9uE,GAC/BlH,KAAKmf,EAAIoyD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKs1B,EAAG,EAAG,EAAGruC,GAEvD,SAASksH,YAAYnzG,EAAM+1D,EAAM9uE,GAC/BlH,KAAKmf,EAAIoyD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKs1B,EAAG,EAAG,EAAGruC,GAEvD,SAASmsH,YAAYpzG,EAAM+1D,EAAM9uE,GAC/BlH,KAAKmf,EAAIoyD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKs1B,EAAG,EAAG,EAAGruC,GAEvD,SAASosH,iBAAiBrzG,EAAM+1D,EAAM9uE,GACpClH,KAAKmf,EAAIoyD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKs1B,EAAG,EAAG,EAAGruC,GAEvD,SAASqsH,gBAAgBtzG,EAAM+1D,EAAM9uE,GACnClH,KAAKmf,EAAIoyD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKs1B,EAAG,EAAG,EAAGruC,GAEvD,SAASssH,eAAevzG,EAAM+1D,EAAM9uE,GAClClH,KAAKmf,EAAIoyD,gBAAgB0F,QAAQjB,EAAM/1D,EAAKs1B,EAAG,EAAG,EAAGruC,GAEvD,SAASusH,gBACPzzH,KAAKmf,EAAI,GAMX,SAAS6rF,eAAe/qF,EAAMnV,GAC5B,IAEIvL,EAFA6wH,EAAUnwG,EAAKqyF,IAAM,GACzBtyG,KAAKgoG,eAAiB,GAEtB,IACI0rB,EADA/lF,EAAMyiF,EAAQ3wH,OAElB,IAAKF,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACxBm0H,EAAa,IAAIC,YAAYvD,EAAQ7wH,GAAIuL,GACzC9K,KAAKgoG,eAAe9nF,KAAKwzG,GAI7B,SAASC,YAAY1zG,EAAMnV,GACzB9K,KAAK45E,KAAK35D,EAAMnV,GAnDlBy/E,iBAAiBC,oBAAsB,SAAUxU,EAAM/1D,EAAM61C,GAC3D,OAAe,IAAX71C,EAAKjB,EACA,IAAI8zG,kCAAkC98C,EAAM/1D,EAAM61C,GAEpDm9D,oBAAoBj9C,EAAM/1D,EAAM61C,IAkDzC+L,gBAAgB,CAACxL,0BAA2Bs9D,aAE5CA,YAAY/zH,UAAUg3D,SAAW+8D,YAAY/zH,UAAU82D,yBAEvDi9D,YAAY/zH,UAAUg6E,KAAO,SAAU35D,EAAMnV,GAI3C,IAAIvL,EAHJS,KAAKigB,KAAOA,EACZjgB,KAAKgoG,eAAiB,GACtBhoG,KAAK62D,6BAA6B/rD,GAElC,IACI8oH,EADAjmF,EAAM3tC,KAAKigB,KAAKqyF,GAAG7yG,OAEnB2wH,EAAUpwH,KAAKigB,KAAKqyF,GACxB,IAAK/yG,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EAAG,CAE3B,OADAq0H,EAAM,KACExD,EAAQ7wH,GAAGs5D,IACjB,KAAK,EACH+6D,EAAM,IAAIV,aAAa9C,EAAQ7wH,GAAIuL,EAAS9K,MAC5C,MACF,KAAK,EACH4zH,EAAM,IAAIT,YAAY/C,EAAQ7wH,GAAIuL,EAAS9K,MAC3C,MACF,KAAK,EACH4zH,EAAM,IAAIR,YAAYhD,EAAQ7wH,GAAIuL,EAAS9K,MAC3C,MACF,KAAK,EACH4zH,EAAM,IAAIP,YAAYjD,EAAQ7wH,GAAIuL,EAAS9K,MAC3C,MACF,KAAK,EACL,KAAK,EACH4zH,EAAM,IAAIJ,eAAepD,EAAQ7wH,GAAIuL,EAAS9K,MAC9C,MACF,KAAK,GACH4zH,EAAM,IAAIN,iBAAiBlD,EAAQ7wH,GAAIuL,EAAS9K,MAChD,MACF,KAAK,GACH4zH,EAAM,IAAIL,gBAAgBnD,EAAQ7wH,GAAIuL,EAAS9K,MAC/C,MACF,KAAK,EACH4zH,EAAM,IAAI5oB,eAAeolB,EAAQ7wH,GAAIuL,EAAS9K,MAC9C,MAEF,QACE4zH,EAAM,IAAIH,cAAcrD,EAAQ7wH,GAAIuL,EAAS9K,MAG7C4zH,GACF5zH,KAAKgoG,eAAe9nF,KAAK0zG,KAM/B,IAAIC,OAAS,GAEb,SAASC,gBAAgBpjD,GACvBhf,aAAegf,EAGjB,SAASgsC,oBACY,IAAfC,WACFzB,iBAAiBwB,iBAAiBpyC,cAAeqyC,WAAYh/B,UAE7Du9B,iBAAiBwB,mBAIrB,SAASqX,qBAAqB5gE,GAC5BtB,gBAAkBsB,EAGpB,SAAS6gE,YAAYC,GACnBniE,SAAWmiE,EAGb,SAAS1nD,cAAc8vC,GAIrB,OAHmB,IAAfM,aACFN,EAAO/xC,cAAgBlc,KAAKx1B,MAAM0xC,gBAE7B4wC,iBAAiB3uC,cAAc8vC,GAGxC,SAAS6X,WAAW9sH,GAClB,GAAqB,kBAAVA,EACT,OAAQA,GACN,IAAK,OACH0rD,qBAAuB,IACvB,MACF,QACA,IAAK,SACHA,qBAAuB,GACvB,MACF,IAAK,MACHA,qBAAuB,QAGjBnG,MAAMvlD,IAAUA,EAAQ,IAClC0rD,qBAAuB1rD,GAGvB8rD,cADEJ,sBAAwB,KAO9B,SAASqhE,YACP,MAA4B,qBAAdhrF,UAGhB,SAASirF,cAAct4G,EAAMu4G,GACd,gBAATv4G,IACFi2C,kBAAoBsiE,GAIxB,SAASC,WAAWzvH,GAClB,OAAQA,GACN,IAAK,kBACH,OAAO0sE,gBACT,IAAK,uBACH,OAAOsI,qBACT,IAAK,SACH,OAAO3iB,OACT,QACE,OAAO,MAmCb,SAASq9D,aACqB,aAAxBjrH,SAAS4iE,aACXmb,cAAcmtC,yBACd9X,oBAIJ,SAAS+X,iBAAiBC,GAExB,IADA,IAAI/5E,EAAOg6E,YAAY5vH,MAAM,KACpBxF,EAAI,EAAGA,EAAIo7C,EAAKl7C,OAAQF,GAAK,EAAG,CACvC,IAAIq1H,EAAOj6E,EAAKp7C,GAAGwF,MAAM,KACzB,GAAI8vH,mBAAmBD,EAAK,KAAOF,EACjC,OAAOG,mBAAmBD,EAAK,IAGnC,OAAO,KA9CTf,OAAO1uC,KAAO+1B,iBAAiB/1B,KAC/B0uC,OAAOlvC,MAAQu2B,iBAAiBv2B,MAChCkvC,OAAOC,gBAAkBA,gBACzBD,OAAOpX,YAAcvB,iBAAiBuB,YACtCoX,OAAOtX,SAAWrB,iBAAiBqB,SACnCsX,OAAOrX,aAAetB,iBAAiBsB,aACvCqX,OAAO5vB,KAAOiX,iBAAiBjX,KAC/B4vB,OAAOnX,iBAAmBA,iBAC1BmX,OAAOjY,kBAAoBV,iBAAiBU,kBAC5CiY,OAAOtnD,cAAgBA,cACvBsnD,OAAOE,qBAAuBA,qBAC9BF,OAAOh9E,OAASqkE,iBAAiBrkE,OAEjCg9E,OAAO7W,YAAc9B,iBAAiB8B,YACtC6W,OAAO7mF,QAAUkuE,iBAAiBluE,QAClC6mF,OAAOK,WAAaA,WACpBL,OAAOM,UAAYA,UACnBN,OAAOO,cAAgBA,cACvBP,OAAOxpH,OAAS6wG,iBAAiB7wG,OACjCwpH,OAAO3W,SAAWhC,iBAAiBgC,SACnC2W,OAAOtuC,UAAY21B,iBAAiB31B,UACpCsuC,OAAOnuC,KAAOw1B,iBAAiBx1B,KAC/BmuC,OAAOluC,OAASu1B,iBAAiBv1B,OACjCkuC,OAAO1W,wBAA0BjC,iBAAiBiC,wBAClD0W,OAAOiB,aAAe,SAAU3hE,GAC9BvB,cAAgBuB,GAElB0gE,OAAOG,YAAcA,YACrBH,OAAOkB,aAAeT,WACtBT,OAAO3vE,QAAU,QAmBjB,IAAIy4D,WAAa,mBACbryC,cAAgB,sBAChBqT,SAAW,GACXg3C,YACJ,GAAIhY,WAAY,CACd,IAAIqY,QAAU1rH,SAAS4uB,qBAAqB,UACxC9vB,MAAQ4sH,QAAQv1H,OAAS,EACzBw1H,SAAWD,QAAQ5sH,QAAU,CAC/B3H,IAAK,IAEPk0H,YAAcM,SAASx0H,IAAIivC,QAAQ,aAAc,IACjDiuC,SAAW82C,iBAAiB,YAE9B,IAAID,wBAA0BttC,YAAYqtC,WAAY,KAEtD,OAAOV,aAxsgBO,KAANqB,8BAAAA,WACI,OAAO1jE,QAAQD,OADb,uHCMdxQ,EAAQo0E,OAAS,SAAUhsH,GACzB,IAAIu2D,EAAM,GAEV,IAAK,IAAIngE,KAAK4J,EACRA,EAAItJ,eAAeN,KACjBmgE,EAAIjgE,SAAQigE,GAAO,KACvBA,GAAO01D,mBAAmB71H,GAAK,IAAM61H,mBAAmBjsH,EAAI5J,KAIhE,OAAOmgE,GAUT3e,EAAQs0E,OAAS,SAASC,GAGxB,IAFA,IAAIC,EAAM,GACNC,EAAQF,EAAGvwH,MAAM,KACZxF,EAAI,EAAGoqB,EAAI6rG,EAAM/1H,OAAQF,EAAIoqB,EAAGpqB,IAAK,CAC5C,IAAIq1H,EAAOY,EAAMj2H,GAAGwF,MAAM,KAC1BwwH,EAAIV,mBAAmBD,EAAK,KAAOC,mBAAmBD,EAAK,IAE7D,OAAOW,qBC5BT,IAAIE,EAAK,0OAELC,EAAQ,CACR,SAAU,WAAY,YAAa,WAAY,OAAQ,WAAY,OAAQ,OAAQ,WAAY,OAAQ,YAAa,OAAQ,QAAS,UAGzIj0E,EAAOV,QAAU,SAAkB2e,GAC/B,IAAIj/D,EAAMi/D,EACNt1C,EAAIs1C,EAAIr/D,QAAQ,KAChBgf,EAAIqgD,EAAIr/D,QAAQ,MAEV,GAAN+pB,IAAiB,GAAN/K,IACXqgD,EAAMA,EAAI8oD,UAAU,EAAGp+F,GAAKs1C,EAAI8oD,UAAUp+F,EAAG/K,GAAGqwB,QAAQ,KAAM,KAAOgwB,EAAI8oD,UAAUnpG,EAAGqgD,EAAIjgE,SAO9F,IAJA,IAAI2sC,EAAIqpF,EAAGrvE,KAAKsZ,GAAO,IACnBi2D,EAAM,GACNp2H,EAAI,GAEDA,KACHo2H,EAAID,EAAMn2H,IAAM6sC,EAAE7sC,IAAM,GAa5B,OAVU,GAAN6qB,IAAiB,GAAN/K,IACXs2G,EAAIj2H,OAASe,EACbk1H,EAAI9uG,KAAO8uG,EAAI9uG,KAAK2hG,UAAU,EAAGmN,EAAI9uG,KAAKpnB,OAAS,GAAGiwC,QAAQ,KAAM,KACpEimF,EAAIC,UAAYD,EAAIC,UAAUlmF,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,KAAM,KAC9EimF,EAAIE,SAAU,GAGlBF,EAAIG,UAMR,SAAmB3sH,EAAKC,GACpB,IAAI2sH,EAAO,WACPvqE,EAAQpiD,EAAKsmC,QAAQqmF,EAAM,KAAKhxH,MAAM,KAEjB,KAArBqE,EAAK8mF,OAAO,EAAG,IAA6B,IAAhB9mF,EAAK3J,QACjC+rD,EAAMrmC,OAAO,EAAG,GAEmB,KAAnC/b,EAAK8mF,OAAO9mF,EAAK3J,OAAS,EAAG,IAC7B+rD,EAAMrmC,OAAOqmC,EAAM/rD,OAAS,EAAG,GAGnC,OAAO+rD,EAjBSsqE,CAAUH,EAAKA,EAAG,MAClCA,EAAIK,SAmBR,SAAkBL,EAAKM,GACnB,IAAIh2G,EAAO,GAQX,OANAg2G,EAAMvmF,QAAQ,6BAA6B,SAAUwmF,EAAIC,EAAIC,GACrDD,IACAl2G,EAAKk2G,GAAMC,MAIZn2G,EA5BQ+1G,CAASL,EAAKA,EAAG,OAEzBA,qCC/BX,IAAIU,EAAuB30E,EAAQ,MAEnC,SAAS40E,KACT,SAASC,KACTA,EAAuBC,kBAAoBF,EAE3C70E,EAAOV,QAAU,WACf,SAAS01E,EAAKl2H,EAAOm2H,EAAUC,EAAelqD,EAAUmqD,EAAcC,GACpE,GAAIA,IAAWR,EAAf,CAIA,IAAIt7F,EAAM,IAAIzhB,MACZ,mLAKF,MADAyhB,EAAIl2B,KAAO,sBACLk2B,GAGR,SAAS+7F,IACP,OAAOL,EAFTA,EAAKM,WAAaN,EAMlB,IAAIO,EAAiB,CACnBC,MAAOR,EACPS,OAAQT,EACRU,KAAMV,EACNW,KAAMX,EACNY,OAAQZ,EACRjwE,OAAQiwE,EACRa,OAAQb,EACR5iB,OAAQ4iB,EAERc,IAAKd,EACLe,QAASV,EACThsH,QAAS2rH,EACTgB,YAAahB,EACbiB,WAAYZ,EACZ9gH,KAAMygH,EACNkB,SAAUb,EACVc,MAAOd,EACPe,UAAWf,EACXr4C,MAAOq4C,EACPgB,MAAOhB,EAEPiB,eAAgBxB,EAChBC,kBAAmBF,GAKrB,OAFAU,EAAegB,UAAYhB,EAEpBA,yBC9CPv1E,EAAOV,QAAUW,EAAQ,IAARA,kCCNnBD,EAAOV,QAFoB,kFCH3B,IAEIk3E,EAAYv1E,EAFAhB,EAAQ,OAMpBw2E,EAAmBx1E,EAFDhB,EAAQ,OAM1By2E,EAAmBz1E,EAFAhB,EAAQ,OAM3B02E,EAAgB11E,EAFAhB,EAAQ,OAMxB22E,EAA8B31E,EAFAhB,EAAQ,OAMtC42E,EAAa51E,EAFAhB,EAAQ,OAMrB62E,EAAU71E,EAFDhB,EAAQ,OAMjB82E,EAAc91E,EAFDhB,EAAQ,OAMrB+2E,EAAc/1E,EAFDhB,EAAQ,OAIzB,SAASgB,EAAuBv5C,GAAO,OAAOA,GAAOA,EAAIw4C,WAAax4C,EAAM,CAAE44C,QAAS54C,GAEvF,IAAIuvH,EAAS,SAAUC,GAGrB,SAASD,IACP,IAAI75G,EAEAuV,EAAOwkG,EAAOC,GAElB,EAAIV,EAAiBp2E,SAAS/hD,KAAM04H,GAEpC,IAAK,IAAIvtH,EAAO3L,UAAUC,OAAQmK,EAAOC,MAAMsB,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC3EzB,EAAKyB,GAAQ7L,UAAU6L,GAGzB,OAAe+oB,EAASwkG,GAAQ,EAAIP,EAA4Bt2E,SAAS/hD,MAAO6e,EAAO65G,EAAO71E,YAAa,EAAIq1E,EAAiBn2E,SAAS22E,IAAS54H,KAAKC,MAAM8e,EAAM,CAAC7e,MAAMgrB,OAAOphB,KAAiBgvH,EAAME,mBAAqB,WAGvNF,EAAM9rD,KAAK4uC,SACbkd,EAAM9rD,KAAKqY,OAEXyzC,EAAM9rD,KAAK6X,SANRk0C,EAQJzkG,GAAQ,EAAIikG,EAA4Bt2E,SAAS62E,EAAOC,GAkL7D,OAvMA,EAAIP,EAAWv2E,SAAS22E,EAAQC,IAwBhC,EAAIP,EAAcr2E,SAAS22E,EAAQ,CAAC,CAClC/4H,IAAK,oBACLyH,MAAO,WACL,IAAIwK,EAAS5R,KAAKO,MACdwJ,EAAU6H,EAAO7H,QACjB2xC,EAAiB9pC,EAAO8pC,eACxBiiE,EAAO5zG,EAAQ4zG,KACfD,EAAW3zG,EAAQ2zG,SACnBpzC,EAAgBvgE,EAAQugE,cACxB+zC,EAAmBt0G,EAAQs0G,iBAC3Bn/B,EAAWn1E,EAAQm1E,SAGvBl/E,KAAK+J,QAAU,CACb7C,UAAWlH,KAAK4lB,GAChB+3D,SAAU,MACVggC,MAAe,IAATA,EACND,UAAuB,IAAbA,EACVx+B,UAAuB,IAAbA,EACV5U,cAAeA,EACf+zC,iBAAkBA,GAGpBr+G,KAAK+J,SAAU,EAAIkuH,EAAUl2E,SAAS,GAAI/hD,KAAK+J,QAASA,GAExD/J,KAAK8sE,KAAO2rD,EAAY12E,QAAQwqB,cAAcvsE,KAAK+J,SACnD/J,KAAK+4H,eAAer9E,KAErB,CACD/7C,IAAK,sBACLyH,MAAO,SAA6B4xH,GAE9Bh5H,KAAK+J,QAAQugE,gBAAkB0uD,EAAUjvH,QAAQugE,gBACnDtqE,KAAKi5H,iBAAiBj5H,KAAKO,MAAMm7C,gBACjC17C,KAAKgtC,UACLhtC,KAAK+J,SAAU,EAAIkuH,EAAUl2E,SAAS,GAAI/hD,KAAK+J,QAASivH,EAAUjvH,SAClE/J,KAAK8sE,KAAO2rD,EAAY12E,QAAQwqB,cAAcvsE,KAAK+J,SACnD/J,KAAK+4H,eAAeC,EAAUt9E,mBAGjC,CACD/7C,IAAK,qBACLyH,MAAO,WACDpH,KAAKO,MAAM24H,UACbl5H,KAAKikG,OACIjkG,KAAKO,MAAM2+E,SACpBl/E,KAAKggH,eAELhgH,KAAKmlF,OAGPnlF,KAAK2kF,QACL3kF,KAAKu8G,WACLv8G,KAAKw8G,iBAEN,CACD78G,IAAK,uBACLyH,MAAO,WACLpH,KAAKi5H,iBAAiBj5H,KAAKO,MAAMm7C,gBACjC17C,KAAKgtC,UACLhtC,KAAK+J,QAAQugE,cAAgB,KAC7BtqE,KAAK8sE,KAAO,OAEb,CACDntE,IAAK,WACLyH,MAAO,WACLpH,KAAK8sE,KAAKyvC,SAASv8G,KAAKO,MAAM49C,SAE/B,CACDx+C,IAAK,eACLyH,MAAO,WACLpH,KAAK8sE,KAAK0vC,aAAax8G,KAAKO,MAAMqS,aAEnC,CACDjT,IAAK,OACLyH,MAAO,WACLpH,KAAK8sE,KAAKqY,SAEX,CACDxlF,IAAK,eACLyH,MAAO,WACLpH,KAAK8sE,KAAKkzC,aAAahgH,KAAKO,MAAM2+E,YAEnC,CACDv/E,IAAK,OACLyH,MAAO,WACLpH,KAAK8sE,KAAKm3B,SAEX,CACDtkG,IAAK,QACLyH,MAAO,YACDpH,KAAKO,MAAMm7G,WAAa17G,KAAK8sE,KAAK4uC,WAE1B17G,KAAKO,MAAMm7G,UAAY17G,KAAK8sE,KAAK4uC,WAD3C17G,KAAK8sE,KAAK6X,UAKb,CACDhlF,IAAK,UACLyH,MAAO,WACLpH,KAAK8sE,KAAK9/B,YAEX,CACDrtC,IAAK,iBACLyH,MAAO,SAAwBs0C,GAC7B,IAAIy9E,EAASn5H,KAEb07C,EAAetmC,SAAQ,SAAUgkH,GAC/BD,EAAOrsD,KAAKl8C,iBAAiBwoG,EAAc1jE,UAAW0jE,EAAcl7G,eAGvE,CACDve,IAAK,mBACLyH,MAAO,SAA0Bs0C,GAC/B,IAAI29E,EAASr5H,KAEb07C,EAAetmC,SAAQ,SAAUgkH,GAC/BC,EAAOvsD,KAAK97C,oBAAoBooG,EAAc1jE,UAAW0jE,EAAcl7G,eAG1E,CACDve,IAAK,SACLyH,MAAO,WACL,IAAIkyH,EAASt5H,KAET8O,EAAU9O,KAAKO,MACfqC,EAAQkM,EAAQlM,MAChBC,EAASiM,EAAQjM,OACjB02H,EAAWzqH,EAAQyqH,SACnB76E,EAAY5vC,EAAQ4vC,UACpB86E,EAAyB1qH,EAAQ0qH,uBACjCj8G,EAAQzO,EAAQyO,MAGhBk8G,EAAU,SAAiB99G,GAS7B,MANuB,kBAAZA,EACFA,EAAU,KAEVA,GAAW,QAMlB+9G,GAAe,EAAIzB,EAAUl2E,SAAS,CACxCn/C,MAAO62H,EAAQ72H,GACfC,OAAQ42H,EAAQ52H,GAChB4b,SAAU,SACVy4B,OAAQ,SACRtgC,QAAS,QACR5W,KAAKO,MAAMua,OAEV6+G,EAAiBH,EAAyB,WAC5C,OAAO,MACLx5H,KAAK84H,mBAET,OAGEP,EAAQx2E,QAAQx4C,cAAc,MAAO,CACnChH,IAAK,SAAa+hD,GAChBg1E,EAAO1zG,GAAK0+B,GAEdxpC,MAAO4+G,EACPpqH,QAASqqH,EACTp8G,MAAOA,EACPjY,KAAMi0H,EACN,aAAc76E,EACdxtC,SAAU,UAKXwnH,EAxMI,CAyMXH,EAAQx2E,QAAQ63E,WAElB74E,EAAQ,EAAU23E,EAGlBA,EAAO55G,UAAY,CACjB48B,eAAgB88E,EAAYz2E,QAAQy1E,QAAQgB,EAAYz2E,QAAQyE,QAChEz8C,QAASyuH,EAAYz2E,QAAQyE,OAAOuwE,WACpCl0H,OAAQ21H,EAAYz2E,QAAQ81E,UAAU,CAACW,EAAYz2E,QAAQu1E,OAAQkB,EAAYz2E,QAAQs1E,SACvFz0H,MAAO41H,EAAYz2E,QAAQ81E,UAAU,CAACW,EAAYz2E,QAAQu1E,OAAQkB,EAAYz2E,QAAQs1E,SACtF6B,UAAWV,EAAYz2E,QAAQo1E,KAC/Bzb,SAAU8c,EAAYz2E,QAAQo1E,KAC9Bh5E,MAAOq6E,EAAYz2E,QAAQs1E,OAC3Bn4C,SAAUs5C,EAAYz2E,QAAQy1E,QAAQgB,EAAYz2E,QAAQs1E,QAC1DzkH,UAAW4lH,EAAYz2E,QAAQs1E,OAC/BkC,SAAUf,EAAYz2E,QAAQu1E,OAC9B54E,UAAW85E,EAAYz2E,QAAQu1E,OAC/BkC,uBAAwBhB,EAAYz2E,QAAQo1E,KAC5C55G,MAAOi7G,EAAYz2E,QAAQu1E,QAG7BoB,EAAOxsH,aAAe,CACpBwvC,eAAgB,GAChBw9E,WAAW,EACXxd,UAAU,EACVv9D,MAAO,EACPo7E,SAAU,SACV76E,UAAW,YACX86E,wBAAwB,EACxBj8G,MAAO,uCChRTne,OAAO07B,eAAeimB,EAAS,aAAc,CAC3C35C,OAAO,IAET25C,EAAiB,aAAI,EAErB,IAAI84E,EAASn3E,EAAuBhB,EAAQ,OAExCo4E,EAAYp3E,EAAuBhB,EAAQ,OAE3Cq4E,EAAar3E,EAAuBhB,EAAQ,OAE5Cs4E,EAAUt3E,EAAuBhB,EAAQ,OAE7C,SAASgB,EAAuBv5C,GAAO,OAAOA,GAAOA,EAAIw4C,WAAax4C,EAAM,CAAE,QAAWA,GAEzF,SAASg6C,EAAQh6C,GAAwT,OAAtOg6C,EAArD,oBAAXsG,QAAoD,kBAApBA,OAAO4F,SAAmC,SAAiBlmD,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,oBAAXsgD,QAAyBtgD,EAAIyb,cAAgB6kC,QAAUtgD,IAAQsgD,OAAO7pD,UAAY,gBAAkBuJ,GAAiBg6C,EAAQh6C,GAIxV,SAAS8wH,EAAkB36H,EAAQiB,GAAS,IAAK,IAAIhB,EAAI,EAAGA,EAAIgB,EAAMd,OAAQF,IAAK,CAAE,IAAI0iD,EAAa1hD,EAAMhB,GAAI0iD,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMhjD,OAAO07B,eAAex7B,EAAQ2iD,EAAWtiD,IAAKsiD,IAI7S,SAASi4E,EAA2Bn3E,EAAMjjD,GAAQ,OAAIA,GAA2B,WAAlBqjD,EAAQrjD,IAAsC,oBAATA,EAEpG,SAAgCijD,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIC,eAAe,6DAAgE,OAAOD,EAFbo3E,CAAuBp3E,GAAtCjjD,EAInI,SAASs6H,EAAgB1hE,GAAwJ,OAAnJ0hE,EAAkBh7H,OAAOylB,eAAiBzlB,OAAO8nD,eAAiB,SAAyBwR,GAAK,OAAOA,EAAE7V,WAAazjD,OAAO8nD,eAAewR,IAAc0hE,EAAgB1hE,GAIxM,SAAS2hE,EAAgB3hE,EAAGv5C,GAA+G,OAA1Gk7G,EAAkBj7H,OAAOylB,gBAAkB,SAAyB6zC,EAAGv5C,GAAsB,OAAjBu5C,EAAE7V,UAAY1jC,EAAUu5C,GAAa2hE,EAAgB3hE,EAAGv5C,GAErK,IAAIm7G,EAAoB,SAA2Bp8G,GACjD9K,WAAW8K,EAAU,IAAS,KAG5Bq8G,EAAsB,SAA6BC,GACrDnlH,aAAamlH,IAGXvzD,EACoB,qBAAX59D,OACFixH,EAEAjxH,OAAO49D,uBAAyB59D,OAAOoxH,6BAA+BpxH,OAAOqxH,0BAA4BrxH,OAAOsxH,wBAA0BtxH,OAAOuxH,yBAA2BN,EAInLpzD,EACoB,qBAAX79D,OACFkxH,EAEAlxH,OAAO69D,sBAAwB79D,OAAOwxH,4BAA8BxxH,OAAOyxH,yBAA2BzxH,OAAO0xH,uBAAyB1xH,OAAO2xH,wBAA0BT,EAI9KxrD,EAAwB,qBAAX1lE,QAA0BA,OAAO4xH,cAAgBA,YAAYlsD,KAAOksD,YAAYC,QAAUD,YAAYE,OAASF,YAAYG,MAAQH,YAAYI,WAE5Jj0D,EAAU,WACZ,OAAO2H,GAAOA,EAAIjvE,KAAKm7H,cAAgBp8D,KAAKkQ,OAG1CusD,EAEJ,SAAU3C,GAGR,SAAS2C,EAAiB/6H,GACxB,IAAIq4H,EAOJ,OA3DJ,SAAyBt0G,EAAUs9B,GAAe,KAAMt9B,aAAoBs9B,GAAgB,MAAM,IAAIC,UAAU,qCAsD5G05E,CAAgBv7H,KAAMs7H,IAEtB1C,EAAQsB,EAA2Bl6H,KAAMo6H,EAAgBkB,GAAkBx7H,KAAKE,KAAMO,KAChF4jB,MAAQ,GACdy0G,EAAM5iH,UAAO3S,EACNu1H,EAvDX,IAAsBh3E,EAAaS,EAAYC,EA4I7C,OApIF,SAAmB79B,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIm9B,UAAU,sDAAyDp9B,EAAS7kB,UAAYR,OAAOulB,OAAOD,GAAcA,EAAW9kB,UAAW,CAAEglB,YAAa,CAAExd,MAAOqd,EAAU29B,UAAU,EAAMD,cAAc,KAAez9B,GAAY21G,EAAgB51G,EAAUC,GAqCjX82G,CAAUF,EAAkB3C,GA7CR/2E,EA0DP05E,GA1DoBj5E,EA0DF,CAAC,CAC9B1iD,IAAK,oBACLyH,MAAO,WACDpH,KAAKO,MAAMm9D,MAAQ,IACrB19D,KAAKgW,KAAO8jH,EAAS,QAAY2B,YAAYz7H,KAAK+d,KAAKtZ,OACvDzE,KAAK4b,aAGR,CACDjc,IAAK,qBACLyH,MAAO,SAA4Bs0H,GAC7B17H,KAAKO,MAAMm9D,MAAQg+D,EAAUh+D,QAC/B19D,KAAKgW,KAAO8jH,EAAS,QAAY2B,YAAYz7H,KAAK+d,KAAKtZ,OACvDzE,KAAK4b,aAGR,CACDjc,IAAK,UACLyH,MAAO,WACL,IAAI+xH,EAASn5H,KAET27H,EAAS,CACX,iBAAkB37H,KAAKO,MAAM+rC,OAAO,GACpC,oBAAqBtsC,KAAKO,MAAM+rC,OAAO,GACvC,eAAgBtsC,KAAKO,MAAM+rC,OAAO,GAClC/+B,UAAWvN,KAAKO,MAAM+rC,OAAO,IAE/BtsC,KAAK47H,YAAYD,GAEb37H,KAAKO,MAAM+rC,OAAO,IACpBtsC,KAAK47H,YAAY57H,KAAKO,MAAM+rC,OAAO,IAGrC,IACIkuF,EADAtK,EAAY9oD,KAGG,SAASy0D,IAC1B,IAAI90D,EAAWK,IAGf,GAFYr+C,KAAK2jC,OAAOqa,EAAWmpD,IAAc,IAAS,IAAQiJ,EAAO54H,MAAMu7H,eAEjE3C,EAAO54H,MAAMu7H,YAAc,EAAG,CAC1C50D,EAAqBszD,GACrB,IAAIuB,EAAS,CACX,iBAAkB5C,EAAO54H,MAAM+rC,OAAO,GACtC,oBAAqB6sF,EAAO54H,MAAM+rC,OAAO,GACzC,eAAgB6sF,EAAO54H,MAAM+rC,OAAO,GACpC/+B,UAAW4rH,EAAO54H,MAAM+rC,OAAO,IAGjC6sF,EAAOyC,YAAYG,GAEf5C,EAAO54H,MAAM+rC,OAAO,IACtB6sF,EAAOyC,YAAYzC,EAAO54H,MAAM+rC,OAAO,SAGzCkuF,EAAQvzD,EAAsB40D,GAIlCA,KAED,CACDl8H,IAAK,cACLyH,MAAO,SAAqB0T,GAC1B,IAAK,IAAInb,KAAOmb,EACVA,EAAMjb,eAAeF,KACvBK,KAAKgW,KAAK8E,MAAMnb,GAAOmb,EAAMnb,MAIlC,CACDA,IAAK,SACLyH,MAAO,WACL,IAAIA,EAAQpH,KAAKO,MAAMgF,OAASvF,KAAKO,MAAMm9D,MAC3C,OAAOm8D,EAAM,QAAYtwH,cAAc,OAAQ,CAC7ChH,IAAK,QACLuY,MAAO9a,KAAKO,MAAMua,MAClBlX,UAAW5D,KAAKO,MAAMqD,WACrBwD,QAxIqE6yH,EAAkBr4E,EAAYhiD,UAAWyiD,GAAiBC,GAAa23E,EAAkBr4E,EAAaU,GA4I3Kg5E,EAhGT,CAiGEzB,EAAM,QAAYD,WAEpB0B,EAAiBx8G,UAAY,CAC3B4+C,MAAOq8D,EAAU,QAAY1C,OAC7B9xH,MAAOw0H,EAAU,QAAYzC,OAC7Bx8G,MAAOi/G,EAAU,QAAYvzE,OAC7Bla,OAAQytF,EAAU,QAAY9C,MAC9B6E,YAAa/B,EAAU,QAAY1C,OACnCzzH,UAAWm2H,EAAU,QAAYzC,QAEnCgE,EAAiBpvH,aAAe,CAC9BwxD,MAAO,EACPn4D,MAAO,KACPuV,MAAO,GACPwxB,OAAQ0tF,EAAO,QAAYgC,MAC3BF,YAAa,IAEf,IAAIG,EAAWX,EACfv6E,EAAiB,QAAIk7E,mCCpLrB78H,OAAO07B,eAAeimB,EAAS,aAAc,CAC3C35C,OAAO,IAET25C,EAAiB,aAAI,EAMrBA,EAAiB,QALF,CACbm7E,SAAU,CAAC,mBAAoB,iBAC/BC,SAAU,CAAC,mBAAoB,iBAC/BH,MAAO,CAAC,kBAAmB,mDCP7B58H,OAAO07B,eAAeimB,EAAS,aAAc,CAC3C35C,OAAO,IAET25C,EAAiB,aAAI,EAErB,IAAI84E,EAASn3E,EAAuBhB,EAAQ,OAExCq4E,EAAar3E,EAAuBhB,EAAQ,OAE5C06E,EAAoB15E,EAAuBhB,EAAQ,OAEvD,SAASgB,EAAuBv5C,GAAO,OAAOA,GAAOA,EAAIw4C,WAAax4C,EAAM,CAAE,QAAWA,GAEzF,SAASg6C,EAAQh6C,GAAwT,OAAtOg6C,EAArD,oBAAXsG,QAAoD,kBAApBA,OAAO4F,SAAmC,SAAiBlmD,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,oBAAXsgD,QAAyBtgD,EAAIyb,cAAgB6kC,QAAUtgD,IAAQsgD,OAAO7pD,UAAY,gBAAkBuJ,GAAiBg6C,EAAQh6C,GAIxV,SAAS8wH,EAAkB36H,EAAQiB,GAAS,IAAK,IAAIhB,EAAI,EAAGA,EAAIgB,EAAMd,OAAQF,IAAK,CAAE,IAAI0iD,EAAa1hD,EAAMhB,GAAI0iD,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMhjD,OAAO07B,eAAex7B,EAAQ2iD,EAAWtiD,IAAKsiD,IAI7S,SAASi4E,EAA2Bn3E,EAAMjjD,GAAQ,OAAIA,GAA2B,WAAlBqjD,EAAQrjD,IAAsC,oBAATA,EAEpG,SAAgCijD,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIC,eAAe,6DAAgE,OAAOD,EAFbo3E,CAAuBp3E,GAAtCjjD,EAInI,SAASs6H,EAAgB1hE,GAAwJ,OAAnJ0hE,EAAkBh7H,OAAOylB,eAAiBzlB,OAAO8nD,eAAiB,SAAyBwR,GAAK,OAAOA,EAAE7V,WAAazjD,OAAO8nD,eAAewR,IAAc0hE,EAAgB1hE,GAIxM,SAAS2hE,EAAgB3hE,EAAGv5C,GAA+G,OAA1Gk7G,EAAkBj7H,OAAOylB,gBAAkB,SAAyB6zC,EAAGv5C,GAAsB,OAAjBu5C,EAAE7V,UAAY1jC,EAAUu5C,GAAa2hE,EAAgB3hE,EAAGv5C,GAErK,IAAI9Z,EACS,CACTnB,SAAU,WACVtB,MAAO,OACPC,OAAQ,QAJRwC,EAMK,CACLg3H,iBAAkB,+CAClBC,cAAe,+CACfC,aAAc,+CACdhkH,WAAY,+CACZpU,QAAS,eACTD,SAAU,WACVw4C,SAAU,OACVl+B,QAAS,UACT5B,SAAU,OACV5W,WAAY,MACZ0F,WAAY,IACZhG,MAAO,OACPI,UAAW,SACX02H,WAAY,SACZ3wH,cAAe,WACfgsG,gBAAiB,uBACjBrxG,aAAc,OACdkY,IAAK,OACLuT,MAAO,QAIPwqG,EAEJ,SAAU9D,GAGR,SAAS8D,EAAkBl8H,GACzB,IAAIq4H,EAMJ,OAzDJ,SAAyBt0G,EAAUs9B,GAAe,KAAMt9B,aAAoBs9B,GAAgB,MAAM,IAAIC,UAAU,qCAqD5G05E,CAAgBv7H,KAAMy8H,IAEtB7D,EAAQsB,EAA2Bl6H,KAAMo6H,EAAgBqC,GAAmB38H,KAAKE,KAAMO,KACjF4jB,MAAQ,GACPy0G,EArDX,IAAsBh3E,EAAaS,EAAYC,EAgG7C,OAxFF,SAAmB79B,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIm9B,UAAU,sDAAyDp9B,EAAS7kB,UAAYR,OAAOulB,OAAOD,GAAcA,EAAW9kB,UAAW,CAAEglB,YAAa,CAAExd,MAAOqd,EAAU29B,UAAU,EAAMD,cAAc,KAAez9B,GAAY21G,EAAgB51G,EAAUC,GAoCjX82G,CAAUiB,EAAmB9D,GA5CT/2E,EAwDP66E,GAxDoBp6E,EAwDD,CAAC,CAC/B1iD,IAAK,SACLyH,MAAO,WACL,IAAIs1H,EAAa18H,KAAK28H,MAAMt3H,EAAcrF,KAAKO,MAAMua,OACjDyjF,EAAiBv+F,KAAK28H,MAAMt3H,EAAkBrF,KAAKO,MAAMg+F,gBACzDn3F,EAAQpH,KAAKO,MAAMm9D,MAAQ,EAAIm8D,EAAM,QAAYtwH,cAAc6yH,EAAiB,QAAa,CAC/Fz8H,IAAK,WACLmb,MAAO4hH,EACP94H,UAAW5D,KAAKO,MAAMqD,UACtB85D,MAAO19D,KAAKO,MAAMm9D,MAClBn4D,MAAOvF,KAAKO,MAAMgF,MAClB+mC,OAAQtsC,KAAKO,MAAM+rC,OACnB67E,IAAKnoH,KAAKO,MAAM4nH,IAChB2T,YAAa97H,KAAKO,MAAMu7H,mBACrBz4H,EACL,OAAOw2H,EAAM,QAAYtwH,cAAc,MAAO,CAC5CuR,MAAOyjF,GACNn3F,KAEJ,CACDzH,IAAK,QACLyH,MAAO,SAAew1H,EAAMC,GAC1B,IAAI1zH,EAAM,GAEV,IAAK,IAAI2zH,KAAaF,EAChBA,EAAK/8H,eAAei9H,KACtB3zH,EAAI2zH,GAAaF,EAAKE,IAI1B,IAAK,IAAIC,KAAaF,EAChBA,EAAKh9H,eAAek9H,KACtB5zH,EAAI4zH,GAAaF,EAAKE,IAI1B,OAAO5zH,OA5FiE8wH,EAAkBr4E,EAAYhiD,UAAWyiD,GAAiBC,GAAa23E,EAAkBr4E,EAAaU,GAgG3Km6E,EArDT,CAsDE5C,EAAM,QAAYD,WAEpB6C,EAAkB39G,UAAY,CAC5By/E,eAAgBw7B,EAAU,QAAYvzE,OACtCkX,MAAOq8D,EAAU,QAAY1C,OAC7B9xH,MAAOw0H,EAAU,QAAYzC,OAC7Bx8G,MAAOi/G,EAAU,QAAYvzE,OAC7B5iD,UAAWm2H,EAAU,QAAYzC,OACjChrF,OAAQytF,EAAU,QAAY9C,MAC9B9O,IAAK4R,EAAU,QAAY1C,OAC3ByE,YAAa/B,EAAU,QAAY1C,QAErCoF,EAAkBvwH,aAAe,CAC/BwxD,MAAO,EACP5iD,MAAO,GACPyjF,eAAgB,IAElB,IAAI09B,EAAWQ,EACf17E,EAAiB,QAAIk7E,qCCnIrB78H,OAAO07B,eAAeimB,EAAS,KAA/B3hD,CACE8iD,YAAY,EACZj7B,IAAK,WACH,OAAO+yG,EAAO,WAGlBj5E,EAAAA,QAAqB,EAErB,IAAIi8E,EAAqBt6E,EAAuBhB,EAAQ,OAEpDs4E,EAAUt3E,EAAuBhB,EAAQ,OAE7C,SAASgB,EAAuBv5C,GAAO,OAAOA,GAAOA,EAAIw4C,WAAax4C,EAAM,CAAE,QAAWA,GAEzF,IAAI8yH,EAAWe,EAAkB,QACjCj8E,EAAAA,GAAqBk7E,mDCJjB,EAAgB,SAASr2H,EAAGwkB,GAI5B,OAHA,EAAgBhrB,OAAOylB,gBAClB,CAAEg+B,UAAW,cAAgBh5C,OAAS,SAAUjE,EAAGwkB,GAAKxkB,EAAEi9C,UAAYz4B,IACvE,SAAUxkB,EAAGwkB,GAAK,IAAK,IAAIjL,KAAKiL,EAAOA,EAAEvqB,eAAesf,KAAIvZ,EAAEuZ,GAAKiL,EAAEjL,KAClE,EAAcvZ,EAAGwkB,0CCpB5B,SAAqBwN,EAAKr1B,QACX,IAARA,IAAiBA,EAAM,IAC5B,IAAI06H,EAAW16H,EAAI06H,SAEnB,GAAKrlG,GAA2B,qBAAbtuB,SAAnB,CAEA,IAAI2uB,EAAO3uB,SAAS2uB,MAAQ3uB,SAAS4uB,qBAAqB,QAAQ,GAC9Dpd,EAAQxR,SAASC,cAAc,SACnCuR,EAAMgB,KAAO,WAEI,QAAbmhH,GACEhlG,EAAKilG,WACPjlG,EAAK+kE,aAAaliF,EAAOmd,EAAKilG,YAKhCjlG,EAAKF,YAAYjd,GAGfA,EAAM+c,WACR/c,EAAM+c,WAAWC,QAAUF,EAE3B9c,EAAMid,YAAYzuB,SAAS0uB,eAAeJ,yHCP9C,kBAIE,WAAYr3B,GAAZ,MACE,YAAMA,IAAM,YACZ,EAAK48H,WAAYC,EAAAA,EAAAA,aACjB,EAAKC,YAAaD,EAAAA,EAAAA,aAClB,EAAK//F,aAAe,EAAKA,aAAanW,KAAK,KAoH/C,OFrHO,SAAmBthB,EAAGwkB,GAEzB,SAAS6pE,IAAOj0F,KAAK4kB,YAAchf,EADnC,EAAcA,EAAGwkB,GAEjBxkB,EAAEhG,UAAkB,OAANwqB,EAAahrB,OAAOulB,OAAOyF,IAAM6pE,EAAGr0F,UAAYwqB,EAAExqB,UAAW,IAAIq0F,GEVtDqpC,CAAAA,EAAAA,GA2B3B,YAAAC,wBAAA,WACE,GAAIv9H,KAAKq9H,WAAWp7H,SAAWjC,KAAKm9H,UAAUl7H,QAAS,CAC7C,IAAAu7H,EAA6Bx9H,KAAKO,MAAV,yBAChC,OAAOk9H,EAAeC,WAAW19H,KAAKq9H,WAAWp7H,QAASjC,KAAKm9H,UAAUl7H,QAASu7H,GAEpF,OAAO,GAGT,YAAAv4G,mBAAA,SAAmB04G,EAA6C,EAASC,GACjE,MAAyC59H,KAAKO,MAA5Cs9H,EAAW,eACGC,EADoB,yBACGH,EAAe39H,KAAKO,SAC3Cs9H,GAAeD,IAAa59H,KAAKm9H,UAAUl7H,SAAWjC,KAAKq9H,WAAWp7H,SAC1FjC,KAAK+9H,oBAAoB/9H,KAAKq9H,WAAWp7H,QAASjC,KAAKm9H,UAAUl7H,UAIrE,YAAA+iB,kBAAA,WAEMhlB,KAAKm9H,UAAUl7H,SAAWjC,KAAKq9H,WAAWp7H,SAC5CjC,KAAK+9H,oBAAoB/9H,KAAKq9H,WAAWp7H,QAASjC,KAAKm9H,UAAUl7H,UAS3D,YAAA87H,oBAAV,SAA8BhzG,EAAqB5iB,GACzC,IAAAq1H,EAA6Bx9H,KAAKO,MAAV,yBAChC,IAAKk9H,EAAeC,WAAW3yG,EAAQ5iB,EAAOq1H,GAA4B,CAExE,IAAMQ,EAAajzG,EAAOqb,wBAIpB63F,EAHY91H,EAAMi+B,wBAGQ1nB,IAAMqM,EAAOwP,UAAayjG,EAAWt/G,IAC/D,EAAsC1e,KAAKO,MAAzC29H,EAAa,gBAAEC,EAAgB,mBACnCD,IACFA,EAAcnzG,EAAQkzG,GACtBE,OAYS,EAAAT,WAAf,SAA0B3yG,EAAqB5iB,EAAoBi2H,GACjEA,EAAUA,GAAW,EAGrB,IAAMJ,EAAajzG,EAAOqb,wBACpBi4F,EAAYl2H,EAAMi+B,wBAElBk4F,EAAsBD,EAAU3/G,KAAOs/G,EAAWt/G,IAElD6/G,EAA4BP,EAAWt/G,IAAMqM,EAAO0P,aAAe4jG,EAAU3/G,IAGnF,OAAO4/G,GAFuBC,EAA4BH,GAAW,GAQ7D,YAAA/gG,aAAV,WACQ,MAAyCr9B,KAAKO,MAA5Ci9H,EAAwB,2BAAEgB,EAAQ,WACtCA,GAAYx+H,KAAKm9H,UAAUl7H,SAAWjC,KAAKq9H,WAAWp7H,SAExDu8H,EADmBf,EAAeC,WAAW19H,KAAKq9H,WAAWp7H,QAASjC,KAAKm9H,UAAUl7H,QAASu7H,KAQ3F,YAAAiB,eAAP,WACMz+H,KAAKm9H,UAAUl7H,SAAWjC,KAAKq9H,WAAWp7H,SAC5CjC,KAAK+9H,oBAAoB/9H,KAAKq9H,WAAWp7H,QAASjC,KAAKm9H,UAAUl7H,UAIrE,YAAAmjB,OAAA,WACQ,MAA0BplB,KAAKO,MAA7BuG,EAAQ,WAAElD,EAAS,YACrB86H,EAAkBr5H,GAAwBzB,EAAY,IAAMA,EAAY,IAC9E,OACE+6H,EAAAA,EAAAA,eAAAA,MAAAA,CAAK/6H,UAAW86H,EAAiBn8H,IAAKvC,KAAKq9H,WAAYmB,SAAUx+H,KAAKq9B,cACnEv2B,GACD63H,EAAAA,EAAAA,eAAAA,MAAAA,CAAKp8H,IAAKvC,KAAKm9H,cA7Gd,EAAAjxH,aAAoC,CACzC2xH,aAAa,EACbK,cAAe,SAACpzH,EAAsBuC,GAChCvC,EAAQ8zH,SACV9zH,EAAQ8zH,SAAS,CAAElgH,IAAKrR,IAGxBvC,EAAQyvB,UAAYltB,GAGxB8wH,iBAAkB,aAClBL,sBAAuB,WAAM,UAC7BN,yBAA0B,EAC1BgB,SAAU,cAoGd,EA5HA,CAA6BlB,EAAAA,gDCd7B,IAKIxjH,EALA+kH,EAAW,mEAAmE95H,MAAM,IAEpFmD,EAAM,GACN81D,EAAO,EACPz+D,EAAI,EAUR,SAAS41H,EAAO97B,GACd,IAAIylC,EAAU,GAEd,GACEA,EAAUD,EAASxlC,EAjBV,IAiB0BylC,EACnCzlC,EAAMtwE,KAAK2jC,MAAM2sC,EAlBR,UAmBFA,EAAM,GAEf,OAAOylC,EA0BT,SAASC,IACP,IAAIhwD,EAAMomD,GAAQ,IAAIt2D,MAEtB,OAAIkQ,IAAQj1D,GAAakkD,EAAO,EAAGlkD,EAAOi1D,GACnCA,EAAK,IAAKomD,EAAOn3D,KAM1B,KAAOz+D,EAzDM,GAyDMA,IAAK2I,EAAI22H,EAASt/H,IAAMA,EAK3Cw/H,EAAM5J,OAASA,EACf4J,EAAM1J,OAhCN,SAAgB31D,GACd,IAAIs/D,EAAU,EAEd,IAAKz/H,EAAI,EAAGA,EAAImgE,EAAIjgE,OAAQF,IAC1By/H,EAnCS,GAmCCA,EAAmB92H,EAAIw3D,EAAIx6D,OAAO3F,IAG9C,OAAOy/H,GA0BTv9E,EAAOV,QAAUg+E,qCCnEF,SAAS1E,EAAgB3hE,EAAGv5C,GAMzC,OALAk7G,EAAkBj7H,OAAOylB,gBAAkB,SAAyB6zC,EAAGv5C,GAErE,OADAu5C,EAAE7V,UAAY1jC,EACPu5C,GAGF2hE,EAAgB3hE,EAAGv5C,2QCNb,SAASo8G,EAAgBj3G,EAAUs9B,GAChD,KAAMt9B,aAAoBs9B,GACxB,MAAM,IAAIC,UAAU,qCCFxB,SAASo4E,EAAkB36H,EAAQiB,GACjC,IAAK,IAAIhB,EAAI,EAAGA,EAAIgB,EAAMd,OAAQF,IAAK,CACrC,IAAI0iD,EAAa1hD,EAAMhB,GACvB0iD,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDhjD,OAAO07B,eAAex7B,EAAQ2iD,EAAWtiD,IAAKsiD,IAInC,SAASg9E,EAAar9E,EAAaS,EAAYC,GAM5D,OALID,GAAY43E,EAAkBr4E,EAAYhiD,UAAWyiD,GACrDC,GAAa23E,EAAkBr4E,EAAaU,GAChDljD,OAAO07B,eAAe8mB,EAAa,YAAa,CAC9CQ,UAAU,IAELR,EChBM,SAASu4E,EAAuBp3E,GAC7C,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAG3B,OAAOD,gBCJM,SAASy4E,EAAU/2G,EAAUC,GAC1C,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIm9B,UAAU,sDAGtBp9B,EAAS7kB,UAAYR,OAAOulB,OAAOD,GAAcA,EAAW9kB,UAAW,CACrEglB,YAAa,CACXxd,MAAOqd,EACP29B,UAAU,EACVD,cAAc,KAGlB/iD,OAAO07B,eAAerW,EAAU,YAAa,CAC3C29B,UAAU,IAER19B,IAAY,EAAAG,EAAA,GAAeJ,EAAUC,GChB5B,SAAS01G,EAAgB1hE,GAItC,OAHA0hE,EAAkBh7H,OAAOylB,eAAiBzlB,OAAO8nD,eAAiB,SAAyBwR,GACzF,OAAOA,EAAE7V,WAAazjD,OAAO8nD,eAAewR,IAEvC0hE,EAAgB1hE,GCJV,SAASvV,EAAQh6C,GAG9B,OAAOg6C,EAAU,mBAAqBsG,QAAU,iBAAmBA,OAAO4F,SAAW,SAAUlmD,GAC7F,cAAcA,GACZ,SAAUA,GACZ,OAAOA,GAAO,mBAAqBsgD,QAAUtgD,EAAIyb,cAAgB6kC,QAAUtgD,IAAQsgD,OAAO7pD,UAAY,gBAAkBuJ,GACvHg6C,EAAQh6C,GCLE,SAAS+wH,EAA2Bn3E,EAAMjjD,GACvD,GAAIA,IAA2B,WAAlBqjD,EAAQrjD,IAAsC,oBAATA,GAChD,OAAOA,EACF,QAAa,IAATA,EACT,MAAM,IAAI+hD,UAAU,4DAGtB,OAAO,EAAsBkB,GCNhB,SAASm8E,EAAaC,GACnC,IAAIC,ECJS,WACb,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EACjE,GAAID,QAAQC,UAAUC,KAAM,OAAO,EACnC,GAAqB,oBAAVC,MAAsB,OAAO,EAExC,IAEE,OADAj0H,QAAQ3L,UAAUitD,QAAQ/sD,KAAKu/H,QAAQC,UAAU/zH,QAAS,IAAI,iBACvD,EACP,MAAO8T,GACP,OAAO,GDLuB,GAChC,OAAO,WACL,IACI3V,EADA+1H,EAAQ,EAAeN,GAG3B,GAAIC,EAA2B,CAC7B,IAAIM,EAAY,EAAe1/H,MAAM4kB,YACrClb,EAAS21H,QAAQC,UAAUG,EAAOjgI,UAAWkgI,QAE7Ch2H,EAAS+1H,EAAM1/H,MAAMC,KAAMR,WAG7B,OAAO,EAA0BQ,KAAM0J,kBEhB3C,EACwB,qBAATq5C,KACAA,KAEgB,qBAAX15C,OACLA,OAGA28C,SAAS,cAATA,GCLA,SAAS,EAAC2K,GACrB,IAAMgvE,EAAUhvE,EAAKgvE,QAErB,IACI,GAAI,qBAAuBruE,kBAAoBquE,GAAWC,GACtD,OAAO,IAAItuE,eAGnB,MAAOjyC,IACP,IAAKsgH,EACD,IACI,OAAO,IAAIE,EAAW,CAAC,UAAU70G,OAAO,UAAUxhB,KAAK,OAAM,qBAEjE,MAAO6V,KCfR,SAASshC,EAAKx3C,GAAc,2BAAN61B,EAAM,iCAANA,EAAM,kBAC/B,OAAOA,EAAKzV,QAAO,SAACC,EAAKmgC,GAIrB,OAHIxgD,EAAItJ,eAAe8pD,KACnBngC,EAAImgC,GAAKxgD,EAAIwgD,IAEVngC,IACR,IAGP,IAAMs2G,EAAqB1sH,WACrB2sH,EAAuB1qH,aACtB,SAAS2qH,EAAsB72H,EAAKwnD,GACnCA,EAAKsvE,iBACL92H,EAAI+2H,aAAeJ,EAAmB54G,KAAK24G,GAC3C12H,EAAIg3H,eAAiBJ,EAAqB74G,KAAK24G,KAG/C12H,EAAI+2H,aAAe9sH,WAAW8T,KAAK24G,GACnC12H,EAAIg3H,eAAiB9qH,aAAa6R,KAAK24G,kBClBhC,SAASO,EAAe55E,EAAQrP,GAC7C,MAAQ/3C,OAAOQ,UAAUC,eAAeC,KAAK0mD,EAAQrP,IAEpC,QADfqP,EAAS,EAAeA,MAI1B,OAAOA,ECNM,SAAS65E,IAiBtB,OAfEA,EADqB,qBAAZhB,SAA2BA,QAAQp4G,IACrCo4G,QAAQp4G,IAER,SAAc3nB,EAAQ63C,EAAUmpF,GACrC,IAAIC,EAAO,EAAcjhI,EAAQ63C,GACjC,GAAKopF,EAAL,CACA,IAAI/8E,EAAOpkD,OAAO2rD,yBAAyBw1E,EAAMppF,GAEjD,OAAIqM,EAAKv8B,IACAu8B,EAAKv8B,IAAInnB,KAAKN,UAAUC,OAAS,EAAIH,EAASghI,GAGhD98E,EAAKp8C,QAITi5H,EAAKtgI,MAAMC,KAAMR,WClB1B,IAAMghI,EAAephI,OAAOulB,OAAO,MACnC67G,EAAY,KAAW,IACvBA,EAAY,MAAY,IACxBA,EAAY,KAAW,IACvBA,EAAY,KAAW,IACvBA,EAAY,QAAc,IAC1BA,EAAY,QAAc,IAC1BA,EAAY,KAAW,IACvB,IAAMC,EAAuBrhI,OAAOulB,OAAO,MAC3CvlB,OAAOgB,KAAKogI,GAAcprH,SAAQ,SAAAzV,GAC9B8gI,EAAqBD,EAAa7gI,IAAQA,KCN9C,IDQA,IAAM+gI,EAAe,CAAE5kH,KAAM,QAASmE,KAAM,gBEXtC0gH,EAAiC,oBAATz4D,MACT,qBAATA,MACqC,6BAAzC9oE,OAAOQ,UAAUozB,SAASlzB,KAAKooE,MACjC04D,EAA+C,oBAAhBC,YA4B/BC,EAAqB,SAAC7gH,EAAM/B,GAC9B,IAAM6iH,EAAa,IAAIC,WAKvB,OAJAD,EAAWl/H,OAAS,WAChB,IAAM2oG,EAAUu2B,EAAWr3H,OAAO3E,MAAM,KAAK,GAC7CmZ,EAAS,IAAMssF,IAEZu2B,EAAWE,cAAchhH,IAEpC,EA7BqB,SAAC,EAAgBihH,EAAgBhjH,GAAa,IALpD/U,EAKS2S,EAA2C,EAA3CA,KAAMmE,EAAqC,EAArCA,KAC1B,OAAI0gH,GAAkB1gH,aAAgBioD,KAC9Bg5D,EACOhjH,EAAS+B,GAGT6gH,EAAmB7gH,EAAM/B,GAG/B0iH,IACJ3gH,aAAgB4gH,cAfV13H,EAegC8W,EAdN,oBAAvB4gH,YAAYM,OACpBN,YAAYM,OAAOh4H,GACnBA,GAAOA,EAAI0W,kBAAkBghH,cAa3BK,EACOhjH,EAAS+B,GAGT6gH,EAAmB,IAAI54D,KAAK,CAACjoD,IAAQ/B,GAI7CA,EAASsiH,EAAa1kH,IAASmE,GAAQ,MD9B5CwqD,EAAQ,mEAGR22D,EAA+B,qBAAf7iE,WAA6B,GAAK,IAAIA,WAAW,KAC9Dh/D,EAAI,EAAGA,EAAIkrE,EAAMhrE,OAAQF,IAC9B6hI,EAAO32D,EAAMje,WAAWjtD,IAAMA,MEH5BqhI,EAA+C,oBAAhBC,YA4B/BQ,EAAqB,SAACphH,EAAMqhH,GAC9B,GAAIV,EAAuB,CACvB,IAAM5B,EFFQ,SAACuC,GACnB,IAEIhiI,EAEAiiI,EACAC,EACAC,EACAC,EAPAC,EAA+B,IAAhBL,EAAO9hI,OACtBkuC,EAAM4zF,EAAO9hI,OAEb0f,EAAI,EAM0B,MAA9BoiH,EAAOA,EAAO9hI,OAAS,KACvBmiI,IACkC,MAA9BL,EAAOA,EAAO9hI,OAAS,IACvBmiI,KAIR,IAAMC,EAAc,IAAIhB,YAAYe,GAChCE,EAAQ,IAAIvjE,WAAWsjE,GAE3B,IAAKtiI,EAAI,EAAGA,EAAIouC,EAAKpuC,GAAK,EACtBiiI,EAAWJ,EAAOG,EAAO/0E,WAAWjtD,IACpCkiI,EAAWL,EAAOG,EAAO/0E,WAAWjtD,EAAI,IACxCmiI,EAAWN,EAAOG,EAAO/0E,WAAWjtD,EAAI,IACxCoiI,EAAWP,EAAOG,EAAO/0E,WAAWjtD,EAAI,IAExCuiI,EAAM3iH,KAAQqiH,GAAY,EAAMC,GAAY,EAC5CK,EAAM3iH,MAAoB,GAAXsiH,IAAkB,EAAMC,GAAY,EACnDI,EAAM3iH,MAAoB,EAAXuiH,IAAiB,EAAiB,GAAXC,EAG1C,OAAOE,EE7BaxM,CAAOp1G,GACvB,OAAO8hH,EAAU/C,EAASsC,GAG1B,MAAO,CAAEC,QAAQ,EAAMthH,KAAAA,IAGzB8hH,EAAY,SAAC9hH,EAAMqhH,GACrB,MACS,SADDA,GAEOrhH,aAAgB4gH,YAAc,IAAI34D,KAAK,CAACjoD,IAGxCA,GAGnB,EA7CqB,SAAC+hH,EAAeV,GACjC,GAA6B,kBAAlBU,EACP,MAAO,CACHlmH,KAAM,UACNmE,KAAM8hH,EAAUC,EAAeV,IAGvC,IAAMxlH,EAAOkmH,EAAc98H,OAAO,GAClC,MAAa,MAAT4W,EACO,CACHA,KAAM,UACNmE,KAAMohH,EAAmBW,EAAcxZ,UAAU,GAAI8Y,IAG1Cb,EAAqB3kH,GAIjCkmH,EAAcviI,OAAS,EACxB,CACEqc,KAAM2kH,EAAqB3kH,GAC3BmE,KAAM+hH,EAAcxZ,UAAU,IAEhC,CACE1sG,KAAM2kH,EAAqB3kH,IARxB4kH,GCjBTuB,EAAY11E,OAAO6R,aAAa,ICCzB8jE,EAAb,8BAOI,WAAYvxE,GAAM,wBACd,gBACKvO,UAAW,EAChB49E,EAAsB,KAAMrvE,GAC5B,EAAKA,KAAOA,EACZ,EAAKslE,MAAQtlE,EAAKslE,MAClB,EAAK/pD,WAAa,GAClB,EAAKi2D,OAASxxE,EAAKwxE,OAPL,EAPtB,iCAuBI,SAAQC,EAAK5+E,GACT,IAAMzoB,EAAM,IAAIzhB,MAAM8oH,GAMtB,OAJArnG,EAAIjf,KAAO,iBAEXif,EAAI05D,YAAcjxC,EAClB,wCAAW,QAASzoB,GACb/6B,OA9Bf,kBAqCI,WAKI,MAJI,WAAaA,KAAKksE,YAAc,KAAOlsE,KAAKksE,aAC5ClsE,KAAKksE,WAAa,UAClBlsE,KAAKqiI,UAEFriI,OA1Cf,mBAiDI,WAKI,MAJI,YAAcA,KAAKksE,YAAc,SAAWlsE,KAAKksE,aACjDlsE,KAAKsiI,UACLtiI,KAAK+P,WAEF/P,OAtDf,kBA8DI,SAAKuiI,GACG,SAAWviI,KAAKksE,YAChBlsE,KAAKuqD,MAAMg4E,KAhEvB,oBA2EI,WACIviI,KAAKksE,WAAa,OAClBlsE,KAAKoiD,UAAW,EAChB,wCAAW,UA9EnB,oBAsFI,SAAOniC,GACH,IAAMuiH,EAASC,EAAaxiH,EAAMjgB,KAAKmiI,OAAOb,YAC9CthI,KAAK0iI,SAASF,KAxFtB,sBA+FI,SAASA,GACL,wCAAW,SAAUA,KAhG7B,qBAuGI,WACIxiI,KAAKksE,WAAa,SAClB,wCAAW,aAzGnB,GAA+BrrB,EAAAA,uBCClB8hF,EAAb,8BACI,aAAc,wBACV,eAASnjI,YACJojI,SAAU,EAFL,EADlB,4BAQI,WACI,MAAO,YATf,oBAiBI,WACI5iI,KAAK6iI,SAlBb,mBA0BI,SAAMC,GAAS,WACX9iI,KAAKksE,WAAa,UAClB,IAAMyY,EAAQ,WACV,EAAKzY,WAAa,SAClB42D,KAEJ,GAAI9iI,KAAK4iI,UAAY5iI,KAAKoiD,SAAU,CAChC,IAAI4wE,EAAQ,EACRhzH,KAAK4iI,UACL5P,IACAhzH,KAAKyJ,KAAK,gBAAgB,aACpBupH,GAASruC,QAGd3kF,KAAKoiD,WACN4wE,IACAhzH,KAAKyJ,KAAK,SAAS,aACbupH,GAASruC,aAKnBA,MAhDZ,kBAwDI,WACI3kF,KAAK4iI,SAAU,EACf5iI,KAAK+iI,SACL/iI,KAAKqhD,KAAK,UA3DlB,oBAkEI,SAAOphC,GAAM,YFpDK,SAAC+iH,EAAgB1B,GAGnC,IAFA,IAAM2B,EAAiBD,EAAej+H,MAAMk9H,GACtCM,EAAU,GACPhjI,EAAI,EAAGA,EAAI0jI,EAAexjI,OAAQF,IAAK,CAC5C,IAAM2jI,EAAgBT,EAAaQ,EAAe1jI,GAAI+hI,GAEtD,GADAiB,EAAQriH,KAAKgjH,GACc,UAAvBA,EAAcpnH,KACd,MAGR,OAAOymH,GEyDHY,CAAcljH,EAAMjgB,KAAKmiI,OAAOb,YAAYlsH,SAd3B,SAAAotH,GAMb,GAJI,YAAc,EAAKt2D,YAA8B,SAAhBs2D,EAAO1mH,MACxC,EAAKvJ,SAGL,UAAYiwH,EAAO1mH,KAEnB,OADA,EAAK/L,WACE,EAGX,EAAK2yH,SAASF,MAKd,WAAaxiI,KAAKksE,aAElBlsE,KAAK4iI,SAAU,EACf5iI,KAAKqhD,KAAK,gBACN,SAAWrhD,KAAKksE,YAChBlsE,KAAK6iI,UAxFrB,qBAmGI,WAAU,WACAp4E,EAAQ,WACV,EAAKF,MAAM,CAAC,CAAEzuC,KAAM,YAEpB,SAAW9b,KAAKksE,WAChBzhB,IAKAzqD,KAAKyJ,KAAK,OAAQghD,KA7G9B,mBAuHI,SAAM83E,GAAS,WACXviI,KAAKoiD,UAAW,EFzHF,SAACmgF,EAASrkH,GAE5B,IAAMze,EAAS8iI,EAAQ9iI,OACjBwjI,EAAiB,IAAIp5H,MAAMpK,GAC7Bi+D,EAAQ,EACZ6kE,EAAQntH,SAAQ,SAACotH,EAAQjjI,GAErB6jI,EAAaZ,GAAQ,GAAO,SAAAR,GACxBiB,EAAe1jI,GAAKyiI,IACdtkE,IAAUj+D,GACZye,EAAS+kH,EAAez5H,KAAKy4H,UEgHrCoB,CAAcd,GAAS,SAAAtiH,GACnB,EAAKqjH,QAAQrjH,GAAM,WACf,EAAKmiC,UAAW,EAChB,EAAKf,KAAK,iBA5H1B,iBAqII,WACI,IAAI40E,EAAQj2H,KAAKi2H,OAAS,GACpBsN,EAASvjI,KAAK2wD,KAAK6yE,OAAS,QAAU,OACxCC,EAAO,IAEP,IAAUzjI,KAAK2wD,KAAK+yE,oBACpBzN,EAAMj2H,KAAK2wD,KAAKgzE,gBAAkB5E,KAEjC/+H,KAAKkhI,gBAAmBjL,EAAM2N,MAC/B3N,EAAM4N,IAAM,GAGZ7jI,KAAK2wD,KAAK8yE,OACR,UAAYF,GAAqC,MAA3Br5H,OAAOlK,KAAK2wD,KAAK8yE,OACpC,SAAWF,GAAqC,KAA3Br5H,OAAOlK,KAAK2wD,KAAK8yE,SAC3CA,EAAO,IAAMzjI,KAAK2wD,KAAK8yE,MAE3B,IAAMK,EAAeC,EAAQ5O,OAAOc,GAEpC,OAAQsN,EACJ,QAF8C,IAArCvjI,KAAK2wD,KAAKqzE,SAAS3jI,QAAQ,KAG5B,IAAML,KAAK2wD,KAAKqzE,SAAW,IAAMhkI,KAAK2wD,KAAKqzE,UACnDP,EACAzjI,KAAK2wD,KAAKvnD,MACT06H,EAAarkI,OAAS,IAAMqkI,EAAe,QA7JxD,GAA6B5B,GCK7B,SAAS+B,KACT,IAAMC,EAIK,MAHK,IAAI5yE,EAAe,CAC3BquE,SAAS,IAEM/zD,aAEVu4D,EAAb,8BAOI,WAAYxzE,GAAM,MAEd,GAFc,UACd,cAAMA,GACkB,qBAAb8b,SAA0B,CACjC,IAAM23D,EAAQ,WAAa33D,SAAS43D,SAChCZ,EAAOh3D,SAASg3D,KAEfA,IACDA,EAAOW,EAAQ,MAAQ,MAE3B,EAAKE,GACoB,qBAAb73D,UACJ9b,EAAKqzE,WAAav3D,SAASu3D,UAC3BP,IAAS9yE,EAAK8yE,KACtB,EAAKc,GAAK5zE,EAAK6yE,SAAWY,EAK9B,IAAMI,EAAc7zE,GAAQA,EAAK6zE,YAlBnB,OAmBd,EAAKtD,eAAiBgD,IAAYM,EAnBpB,EAPtB,iCAkCI,WAAmB,IAAX7zE,EAAW,uDAAJ,GAEX,OADAvxD,OAAOC,OAAOsxD,EAAM,CAAE2zE,GAAItkI,KAAKskI,GAAIC,GAAIvkI,KAAKukI,IAAMvkI,KAAK2wD,MAChD,IAAI8zE,EAAQzkI,KAAK21H,MAAOhlE,KApCvC,qBA6CI,SAAQ1wC,EAAMlX,GAAI,WACR27H,EAAM1kI,KAAK2kI,QAAQ,CACrBC,OAAQ,OACR3kH,KAAMA,IAEVykH,EAAI1jF,GAAG,UAAWj4C,GAClB27H,EAAI1jF,GAAG,SAAS,SAAAjmB,GACZ,EAAKn6B,QAAQ,iBAAkBm6B,QApD3C,oBA4DI,WAAS,WACC2pG,EAAM1kI,KAAK2kI,UACjBD,EAAI1jF,GAAG,OAAQhhD,KAAK6kI,OAAO39G,KAAKlnB,OAChC0kI,EAAI1jF,GAAG,SAAS,SAAAjmB,GACZ,EAAKn6B,QAAQ,iBAAkBm6B,MAEnC/6B,KAAK8kI,QAAUJ,MAlEvB,GAAyB/B,GAqEZ8B,EAAb,8BAOI,WAAY9O,EAAKhlE,GAAM,uBAEnBqvE,EAAsB,EADtB,gBAC4BrvE,GAC5B,EAAKA,KAAOA,EACZ,EAAKi0E,OAASj0E,EAAKi0E,QAAU,MAC7B,EAAKjP,IAAMA,EACX,EAAK10G,OAAQ,IAAU0vC,EAAK1vC,MAC5B,EAAKhB,UAAO5c,IAAcstD,EAAK1wC,KAAO0wC,EAAK1wC,KAAO,KAClD,EAAK0E,SARc,EAP3B,gCAsBI,WAAS,WACCgsC,EAAOhQ,EAAK3gD,KAAK2wD,KAAM,QAAS,MAAO,MAAO,aAAc,OAAQ,KAAM,UAAW,qBAAsB,aACjHA,EAAKgvE,UAAY3/H,KAAK2wD,KAAK2zE,GAC3B3zE,EAAKo0E,UAAY/kI,KAAK2wD,KAAK4zE,GAC3B,IAAM94D,EAAOzrE,KAAKyrE,IAAM,IAAIna,EAAeX,GAC3C,IACI8a,EAAInhB,KAAKtqD,KAAK4kI,OAAQ5kI,KAAK21H,IAAK31H,KAAKihB,OACrC,IACI,GAAIjhB,KAAK2wD,KAAKq0E,aAEV,IAAK,IAAIzlI,KADTksE,EAAIw5D,uBAAyBx5D,EAAIw5D,uBAAsB,GACzCjlI,KAAK2wD,KAAKq0E,aAChBhlI,KAAK2wD,KAAKq0E,aAAanlI,eAAeN,IACtCksE,EAAIy5D,iBAAiB3lI,EAAGS,KAAK2wD,KAAKq0E,aAAazlI,IAK/D,MAAO8f,IACP,GAAI,SAAWrf,KAAK4kI,OAChB,IACIn5D,EAAIy5D,iBAAiB,eAAgB,4BAEzC,MAAO7lH,IAEX,IACIosD,EAAIy5D,iBAAiB,SAAU,OAEnC,MAAO7lH,IAEH,oBAAqBosD,IACrBA,EAAI05D,gBAAkBnlI,KAAK2wD,KAAKw0E,iBAEhCnlI,KAAK2wD,KAAKy0E,iBACV35D,EAAI/3C,QAAU1zB,KAAK2wD,KAAKy0E,gBAE5B35D,EAAIQ,mBAAqB,WACjB,IAAMR,EAAIS,aAEV,MAAQT,EAAIvqE,QAAU,OAASuqE,EAAIvqE,OACnC,EAAKP,SAKL,EAAKu/H,cAAa,WACd,EAAKt/H,QAA8B,kBAAf6qE,EAAIvqE,OAAsBuqE,EAAIvqE,OAAS,KAC5D,KAGXuqE,EAAIU,KAAKnsE,KAAKigB,MAElB,MAAOZ,GAOH,YAHArf,KAAKkgI,cAAa,WACd,EAAKt/H,QAAQye,KACd,GAGiB,qBAAb/V,WACPtJ,KAAKoI,MAAQq8H,EAAQY,gBACrBZ,EAAQa,SAAStlI,KAAKoI,OAASpI,QApF3C,uBA4FI,WACIA,KAAKqhD,KAAK,WACVrhD,KAAKq8C,YA9Fb,oBAqGI,SAAOp8B,GACHjgB,KAAKqhD,KAAK,OAAQphC,GAClBjgB,KAAKulI,cAvGb,qBA8GI,SAAQxqG,GACJ/6B,KAAKqhD,KAAK,QAAStmB,GACnB/6B,KAAKq8C,SAAQ,KAhHrB,qBAuHI,SAAQmpF,GACJ,GAAI,qBAAuBxlI,KAAKyrE,KAAO,OAASzrE,KAAKyrE,IAArD,CAIA,GADAzrE,KAAKyrE,IAAIQ,mBAAqBg4D,EAC1BuB,EACA,IACIxlI,KAAKyrE,IAAIg6D,QAEb,MAAOpmH,IAEa,qBAAb/V,iBACAm7H,EAAQa,SAAStlI,KAAKoI,OAEjCpI,KAAKyrE,IAAM,QArInB,oBA4II,WACI,IAAMxrD,EAAOjgB,KAAKyrE,IAAIK,aACT,OAAT7rD,GACAjgB,KAAK6kI,OAAO5kH,KA/IxB,mBAuJI,WACIjgB,KAAKq8C,cAxJb,GAA6BwE,EAAAA,GAkK7B,GAPA4jF,EAAQY,cAAgB,EACxBZ,EAAQa,SAAW,GAMK,qBAAbh8H,SAEP,GAA2B,oBAAhBo8H,YAEPA,YAAY,WAAYC,QAEvB,GAAgC,oBAArB/0G,iBAAiC,CAE7CA,iBADyB,eAAgBivG,EAAa,WAAa,SAChC8F,GAAe,GAG1D,SAASA,IACL,IAAK,IAAIpmI,KAAKklI,EAAQa,SACdb,EAAQa,SAASzlI,eAAeN,IAChCklI,EAAQa,SAAS/lI,GAAGkmI,QCpQzB,IAAM50H,EACqC,oBAAZ6P,SAAqD,oBAApBA,QAAQC,QAEhE,SAAAP,GAAE,OAAIM,QAAQC,UAAUC,KAAKR,IAG7B,SAACA,EAAI8/G,GAAL,OAAsBA,EAAa9/G,EAAI,IAGzCwlH,EAAY/F,EAAAA,WAAwBA,EAAAA,aCH3CgG,EAAqC,qBAAd18F,WACI,kBAAtBA,UAAU28F,SACmB,gBAApC38F,UAAU28F,QAAQ7+F,cACT8+F,EAAb,8BAOI,WAAYp1E,GAAM,wBACd,cAAMA,IACDuwE,gBAAkBvwE,EAAK6zE,YAFd,EAPtB,4BAgBI,WACI,MAAO,cAjBf,oBAwBI,WACI,GAAKxkI,KAAK64C,QAAV,CAIA,IAAM88E,EAAM31H,KAAK21H,MACXqQ,EAAYhmI,KAAK2wD,KAAKq1E,UAEtBr1E,EAAOk1E,EACP,GACAllF,EAAK3gD,KAAK2wD,KAAM,QAAS,oBAAqB,MAAO,MAAO,aAAc,OAAQ,KAAM,UAAW,qBAAsB,eAAgB,kBAAmB,SAAU,aAAc,SAAU,uBAChM3wD,KAAK2wD,KAAKq0E,eACVr0E,EAAKs1E,QAAUjmI,KAAK2wD,KAAKq0E,cAE7B,IACIhlI,KAAKkmI,GACyBL,EAIpB,IAAID,EAAUjQ,EAAKqQ,EAAWr1E,GAH9Bq1E,EACI,IAAIJ,EAAUjQ,EAAKqQ,GACnB,IAAIJ,EAAUjQ,GAGhC,MAAO56F,GACH,OAAO/6B,KAAKqhD,KAAK,QAAStmB,GAE9B/6B,KAAKkmI,GAAG5E,WAAathI,KAAKmiI,OAAOb,YD/CR,cCgDzBthI,KAAKmmI,uBAlDb,+BAyDI,WAAoB,WAChBnmI,KAAKkmI,GAAGE,OAAS,WACT,EAAKz1E,KAAK01E,WACV,EAAKH,GAAGI,QAAQC,QAEpB,EAAKh0H,UAETvS,KAAKkmI,GAAGM,QAAUxmI,KAAK+P,QAAQmX,KAAKlnB,MACpCA,KAAKkmI,GAAGr+D,UAAY,SAAA2zC,GAAE,OAAI,EAAKqpB,OAAOrpB,EAAGv7F,OACzCjgB,KAAKkmI,GAAGnkI,QAAU,SAAAsd,GAAC,OAAI,EAAKze,QAAQ,kBAAmBye,MAlE/D,mBA0EI,SAAMkjH,GAAS,WACXviI,KAAKoiD,UAAW,EAGhB,IAJW,eAIF7iD,GACL,IAAMijI,EAASD,EAAQhjI,GACjBknI,EAAalnI,IAAMgjI,EAAQ9iI,OAAS,EAC1C2jI,EAAaZ,EAAQ,EAAKtB,gBAAgB,SAAAjhH,GAiBtC,IAGQ,EAAKimH,GAAG/5D,KAAKlsD,GAMrB,MAAOZ,IAEHonH,GAGA51H,GAAS,WACL,EAAKuxC,UAAW,EAChB,EAAKf,KAAK,WACX,EAAK6+E,kBArCX3gI,EAAI,EAAGA,EAAIgjI,EAAQ9iI,OAAQF,IAAK,EAAhCA,KA9EjB,qBA6HI,WAC2B,qBAAZS,KAAKkmI,KACZlmI,KAAKkmI,GAAGz7E,QACRzqD,KAAKkmI,GAAK,QAhItB,iBAwII,WACI,IAAIjQ,EAAQj2H,KAAKi2H,OAAS,GACpBsN,EAASvjI,KAAK2wD,KAAK6yE,OAAS,MAAQ,KACtCC,EAAO,GAEPzjI,KAAK2wD,KAAK8yE,OACR,QAAUF,GAAqC,MAA3Br5H,OAAOlK,KAAK2wD,KAAK8yE,OAClC,OAASF,GAAqC,KAA3Br5H,OAAOlK,KAAK2wD,KAAK8yE,SACzCA,EAAO,IAAMzjI,KAAK2wD,KAAK8yE,MAGvBzjI,KAAK2wD,KAAK+yE,oBACVzN,EAAMj2H,KAAK2wD,KAAKgzE,gBAAkB5E,KAGjC/+H,KAAKkhI,iBACNjL,EAAM4N,IAAM,GAEhB,IAAMC,EAAeC,EAAQ5O,OAAOc,GAEpC,OAAQsN,EACJ,QAF8C,IAArCvjI,KAAK2wD,KAAKqzE,SAAS3jI,QAAQ,KAG5B,IAAML,KAAK2wD,KAAKqzE,SAAW,IAAMhkI,KAAK2wD,KAAKqzE,UACnDP,EACAzjI,KAAK2wD,KAAKvnD,MACT06H,EAAarkI,OAAS,IAAMqkI,EAAe,MAjKxD,mBAyKI,WACI,QAAU8B,KACJ,iBAAkBA,GAAa5lI,KAAK6E,OAASkhI,EAAGnmI,UAAUiF,UA3KxE,GAAwBq9H,GCRXwE,EAAa,CACtBC,UAAWZ,EACXnD,QAASuB,GCEAyC,GAAb,8BAQI,WAAYjR,GAAgB,MAAXhlE,EAAW,uDAAJ,GAAI,iBACxB,eACIglE,GAAO,kBAAoBA,IAC3BhlE,EAAOglE,EACPA,EAAM,MAENA,GACAA,EAAMkR,EAASlR,GACfhlE,EAAKqzE,SAAWrO,EAAI9uG,KACpB8pC,EAAK6yE,OAA0B,UAAjB7N,EAAI0O,UAAyC,QAAjB1O,EAAI0O,SAC9C1zE,EAAK8yE,KAAO9N,EAAI8N,KACZ9N,EAAIM,QACJtlE,EAAKslE,MAAQN,EAAIM,QAEhBtlE,EAAK9pC,OACV8pC,EAAKqzE,SAAW6C,EAASl2E,EAAK9pC,MAAMA,MAExCm5G,EAAsB,KAAMrvE,GAC5B,EAAK6yE,OACD,MAAQ7yE,EAAK6yE,OACP7yE,EAAK6yE,OACe,qBAAb/2D,UAA4B,WAAaA,SAAS43D,SAC/D1zE,EAAKqzE,WAAarzE,EAAK8yE,OAEvB9yE,EAAK8yE,KAAO,EAAKD,OAAS,MAAQ,MAEtC,EAAKQ,SACDrzE,EAAKqzE,WACoB,qBAAbv3D,SAA2BA,SAASu3D,SAAW,aAC/D,EAAKP,KACD9yE,EAAK8yE,OACoB,qBAAbh3D,UAA4BA,SAASg3D,KACvCh3D,SAASg3D,KACT,EAAKD,OACD,MACA,MAClB,EAAKkD,WAAa/1E,EAAK+1E,YAAc,CAAC,UAAW,aACjD,EAAKx6D,WAAa,GAClB,EAAK46D,YAAc,GACnB,EAAKC,cAAgB,EACrB,EAAKp2E,KAAOvxD,OAAOC,OAAO,CACtB+J,KAAM,aACN49H,OAAO,EACP7B,iBAAiB,EACjB8B,SAAS,EACTtD,eAAgB,IAChBuD,iBAAiB,EACjBC,oBAAoB,EACpBC,kBAAmB,CACfz0C,UAAW,MAEf00C,iBAAkB,GAClBC,qBAAqB,GACtB32E,GACH,EAAKA,KAAKvnD,KAAO,EAAKunD,KAAKvnD,KAAKsmC,QAAQ,MAAO,IAAM,IACtB,kBAApB,EAAKihB,KAAKslE,QACjB,EAAKtlE,KAAKslE,MAAQ8N,EAAQ1O,OAAO,EAAK1kE,KAAKslE,QAG/C,EAAK9oH,GAAK,KACV,EAAKo6H,SAAW,KAChB,EAAKC,aAAe,KACpB,EAAKC,YAAc,KAEnB,EAAKC,iBAAmB,KACQ,oBAArB92G,mBACH,EAAK+/B,KAAK22E,qBAIV12G,iBAAiB,gBAAgB,WACzB,EAAK+2G,YAEL,EAAKA,UAAUvmF,qBACf,EAAKumF,UAAUl9E,YAEpB,GAEe,cAAlB,EAAKu5E,WACL,EAAK4D,qBAAuB,WACxB,EAAK73H,QAAQ,oBAEjB6gB,iBAAiB,UAAW,EAAKg3G,sBAAsB,KAG/D,EAAKt9E,OArFmB,EARhC,yCAsGI,SAAgBzlD,GACZ,IAAMoxH,EA0bd,SAAe9sH,GACX,IAAMuvD,EAAI,GACV,IAAK,IAAIn5D,KAAK4J,EACNA,EAAItJ,eAAeN,KACnBm5D,EAAEn5D,GAAK4J,EAAI5J,IAGnB,OAAOm5D,EAjcWj7C,CAAMzd,KAAK2wD,KAAKslE,OAE9BA,EAAM4R,IPjFU,EOmFhB5R,EAAM0R,UAAY9iI,EAEd7E,KAAKmN,KACL8oH,EAAM2N,IAAM5jI,KAAKmN,IACrB,IAAMwjD,EAAOvxD,OAAOC,OAAO,GAAIW,KAAK2wD,KAAK02E,iBAAiBxiI,GAAO7E,KAAK2wD,KAAM,CACxEslE,MAAAA,EACAkM,OAAQniI,KACRgkI,SAAUhkI,KAAKgkI,SACfR,OAAQxjI,KAAKwjI,OACbC,KAAMzjI,KAAKyjI,OAEf,OAAO,IAAIiD,EAAW7hI,GAAM8rD,KAtHpC,kBA6HI,WAAO,IACCg3E,EADD,OAEH,GAAI3nI,KAAK2wD,KAAKu2E,iBACVN,EAAOkB,wBACmC,IAA1C9nI,KAAK0mI,WAAWrmI,QAAQ,aACxBsnI,EAAY,gBAEX,IAAI,IAAM3nI,KAAK0mI,WAAWjnI,OAK3B,YAHAO,KAAKkgI,cAAa,WACd,EAAK5+E,aAAa,QAAS,6BAC5B,GAIHqmF,EAAY3nI,KAAK0mI,WAAW,GAEhC1mI,KAAKksE,WAAa,UAElB,IACIy7D,EAAY3nI,KAAK+nI,gBAAgBJ,GAErC,MAAOtoH,GAGH,OAFArf,KAAK0mI,WAAW5nB,aAChB9+G,KAAKsqD,OAGTq9E,EAAUr9E,OACVtqD,KAAKgoI,aAAaL,KAzJ1B,0BAgKI,SAAaA,GAAW,WAChB3nI,KAAK2nI,WACL3nI,KAAK2nI,UAAUvmF,qBAGnBphD,KAAK2nI,UAAYA,EAEjBA,EACK3mF,GAAG,QAAShhD,KAAKioI,QAAQ/gH,KAAKlnB,OAC9BghD,GAAG,SAAUhhD,KAAK0iI,SAASx7G,KAAKlnB,OAChCghD,GAAG,QAAShhD,KAAKY,QAAQsmB,KAAKlnB,OAC9BghD,GAAG,SAAS,WACb,EAAKjxC,QAAQ,wBA5KzB,mBAqLI,SAAMlL,GAAM,WACJ8iI,EAAY3nI,KAAK+nI,gBAAgBljI,GACjCqjI,GAAS,EACbtB,EAAOkB,uBAAwB,EAC/B,IAAMK,EAAkB,WAChBD,IAEJP,EAAUx7D,KAAK,CAAC,CAAErwD,KAAM,OAAQmE,KAAM,WACtC0nH,EAAUl+H,KAAK,UAAU,SAAA24H,GACrB,IAAI8F,EAEJ,GAAI,SAAW9F,EAAItmH,MAAQ,UAAYsmH,EAAIniH,KAAM,CAG7C,GAFA,EAAKmoH,WAAY,EACjB,EAAK9mF,aAAa,YAAaqmF,IAC1BA,EACD,OACJf,EAAOkB,sBAAwB,cAAgBH,EAAU9iI,KACzD,EAAK8iI,UAAUhjD,OAAM,WACbujD,GAEA,WAAa,EAAKh8D,aAEtB7vB,IACA,EAAK2rF,aAAaL,GAClBA,EAAUx7D,KAAK,CAAC,CAAErwD,KAAM,aACxB,EAAKwlC,aAAa,UAAWqmF,GAC7BA,EAAY,KACZ,EAAKS,WAAY,EACjB,EAAK3mI,gBAGR,CACD,IAAMs5B,EAAM,IAAIzhB,MAAM,eAEtByhB,EAAI4sG,UAAYA,EAAU9iI,KAC1B,EAAKy8C,aAAa,eAAgBvmB,SAI9C,SAASstG,IACDH,IAGJA,GAAS,EACT7rF,IACAsrF,EAAUl9E,QACVk9E,EAAY,MAGhB,IAAM5lI,EAAU,SAAAg5B,GACZ,IAAM/4B,EAAQ,IAAIsX,MAAM,gBAAkByhB,GAE1C/4B,EAAM2lI,UAAYA,EAAU9iI,KAC5BwjI,IACA,EAAK/mF,aAAa,eAAgBt/C,IAEtC,SAASsmI,IACLvmI,EAAQ,oBAGZ,SAASykI,IACLzkI,EAAQ,iBAGZ,SAASwmI,EAAU7qF,GACXiqF,GAAajqF,EAAG74C,OAAS8iI,EAAU9iI,MACnCwjI,IAIR,IAAMhsF,EAAU,WACZsrF,EAAUxmF,eAAe,OAAQgnF,GACjCR,EAAUxmF,eAAe,QAASp/C,GAClC4lI,EAAUxmF,eAAe,QAASmnF,GAClC,EAAKpnF,IAAI,QAASslF,GAClB,EAAKtlF,IAAI,YAAaqnF,IAE1BZ,EAAUl+H,KAAK,OAAQ0+H,GACvBR,EAAUl+H,KAAK,QAAS1H,GACxB4lI,EAAUl+H,KAAK,QAAS6+H,GACxBtoI,KAAKyJ,KAAK,QAAS+8H,GACnBxmI,KAAKyJ,KAAK,YAAa8+H,GACvBZ,EAAUr9E,SAvQlB,oBA8QI,WAOI,GANAtqD,KAAKksE,WAAa,OAClB06D,EAAOkB,sBAAwB,cAAgB9nI,KAAK2nI,UAAU9iI,KAC9D7E,KAAKshD,aAAa,QAClBthD,KAAKyB,QAGD,SAAWzB,KAAKksE,YAChBlsE,KAAK2wD,KAAKs2E,SACVjnI,KAAK2nI,UAAUhjD,MAGf,IAFA,IAAIplF,EAAI,EACFoqB,EAAI3pB,KAAKunI,SAAS9nI,OACjBF,EAAIoqB,EAAGpqB,IACVS,KAAKwoI,MAAMxoI,KAAKunI,SAAShoI,MA3RzC,sBAoSI,SAASijI,GACL,GAAI,YAAcxiI,KAAKksE,YACnB,SAAWlsE,KAAKksE,YAChB,YAAclsE,KAAKksE,WAInB,OAHAlsE,KAAKshD,aAAa,SAAUkhF,GAE5BxiI,KAAKshD,aAAa,aACVkhF,EAAO1mH,MACX,IAAK,OACD9b,KAAKyoI,YAAYr6E,KAAKx1B,MAAM4pG,EAAOviH,OACnC,MACJ,IAAK,OACDjgB,KAAK0oI,mBACL1oI,KAAK2oI,WAAW,QAChB3oI,KAAKshD,aAAa,QAClBthD,KAAKshD,aAAa,QAClB,MACJ,IAAK,QACD,IAAMvmB,EAAM,IAAIzhB,MAAM,gBAEtByhB,EAAI6tG,KAAOpG,EAAOviH,KAClBjgB,KAAKY,QAAQm6B,GACb,MACJ,IAAK,UACD/6B,KAAKshD,aAAa,OAAQkhF,EAAOviH,MACjCjgB,KAAKshD,aAAa,UAAWkhF,EAAOviH,SA7TxD,yBA0UI,SAAYA,GACRjgB,KAAKshD,aAAa,YAAarhC,GAC/BjgB,KAAKmN,GAAK8S,EAAK2jH,IACf5jI,KAAK2nI,UAAU1R,MAAM2N,IAAM3jH,EAAK2jH,IAChC5jI,KAAKunI,SAAWvnI,KAAK6oI,eAAe5oH,EAAKsnH,UACzCvnI,KAAKwnI,aAAevnH,EAAKunH,aACzBxnI,KAAKynI,YAAcxnH,EAAKwnH,YACxBznI,KAAKuS,SAED,WAAavS,KAAKksE,YAEtBlsE,KAAK0oI,qBArVb,8BA4VI,WAAmB,WACf1oI,KAAKmgI,eAAengI,KAAK0nI,kBACzB1nI,KAAK0nI,iBAAmB1nI,KAAKkgI,cAAa,WACtC,EAAKnwH,QAAQ,kBACd/P,KAAKwnI,aAAexnI,KAAKynI,aACxBznI,KAAK2wD,KAAK01E,WACVrmI,KAAK0nI,iBAAiBnB,UAlWlC,qBA0WI,WACIvmI,KAAK8mI,YAAY3hH,OAAO,EAAGnlB,KAAK+mI,eAIhC/mI,KAAK+mI,cAAgB,EACjB,IAAM/mI,KAAK8mI,YAAYrnI,OACvBO,KAAKshD,aAAa,SAGlBthD,KAAKyB,UApXjB,mBA4XI,WACQ,WAAazB,KAAKksE,YAClBlsE,KAAK2nI,UAAUvlF,WACdpiD,KAAKooI,WACNpoI,KAAK8mI,YAAYrnI,SACjBO,KAAK2nI,UAAUx7D,KAAKnsE,KAAK8mI,aAGzB9mI,KAAK+mI,cAAgB/mI,KAAK8mI,YAAYrnI,OACtCO,KAAKshD,aAAa,YArY9B,mBAiZI,SAAM8gF,EAAKr4H,EAAShB,GAEhB,OADA/I,KAAK2oI,WAAW,UAAWvG,EAAKr4H,EAAShB,GAClC/I,OAnZf,kBAqZI,SAAKoiI,EAAKr4H,EAAShB,GAEf,OADA/I,KAAK2oI,WAAW,UAAWvG,EAAKr4H,EAAShB,GAClC/I,OAvZf,wBAkaI,SAAW8b,EAAMmE,EAAMlW,EAAShB,GAS5B,GARI,oBAAsBkX,IACtBlX,EAAKkX,EACLA,OAAO5c,GAEP,oBAAsB0G,IACtBhB,EAAKgB,EACLA,EAAU,MAEV,YAAc/J,KAAKksE,YAAc,WAAalsE,KAAKksE,WAAvD,EAGAniE,EAAUA,GAAW,IACb++H,UAAW,IAAU/+H,EAAQ++H,SACrC,IAAMtG,EAAS,CACX1mH,KAAMA,EACNmE,KAAMA,EACNlW,QAASA,GAEb/J,KAAKshD,aAAa,eAAgBkhF,GAClCxiI,KAAK8mI,YAAY5mH,KAAKsiH,GAClBz5H,GACA/I,KAAKyJ,KAAK,QAASV,GACvB/I,KAAKyB,WAzbb,mBAgcI,WAAQ,WACEgpD,EAAQ,WACV,EAAK16C,QAAQ,gBACb,EAAK43H,UAAUl9E,SAEbs+E,EAAkB,SAAlBA,IACF,EAAK7nF,IAAI,UAAW6nF,GACpB,EAAK7nF,IAAI,eAAgB6nF,GACzBt+E,KAEEu+E,EAAiB,WAEnB,EAAKv/H,KAAK,UAAWs/H,GACrB,EAAKt/H,KAAK,eAAgBs/H,IAqB9B,MAnBI,YAAc/oI,KAAKksE,YAAc,SAAWlsE,KAAKksE,aACjDlsE,KAAKksE,WAAa,UACdlsE,KAAK8mI,YAAYrnI,OACjBO,KAAKyJ,KAAK,SAAS,WACX,EAAK2+H,UACLY,IAGAv+E,OAIHzqD,KAAKooI,UACVY,IAGAv+E,KAGDzqD,OAlef,qBAyeI,SAAQ+6B,GACJ6rG,EAAOkB,uBAAwB,EAC/B9nI,KAAKshD,aAAa,QAASvmB,GAC3B/6B,KAAK+P,QAAQ,kBAAmBgrB,KA5exC,qBAmfI,SAAQkuG,EAAQzlF,GACR,YAAcxjD,KAAKksE,YACnB,SAAWlsE,KAAKksE,YAChB,YAAclsE,KAAKksE,aAEnBlsE,KAAKmgI,eAAengI,KAAK0nI,kBAEzB1nI,KAAK2nI,UAAUvmF,mBAAmB,SAElCphD,KAAK2nI,UAAUl9E,QAEfzqD,KAAK2nI,UAAUvmF,qBACoB,oBAAxBpwB,qBACPA,oBAAoB,UAAWhxB,KAAK4nI,sBAAsB,GAG9D5nI,KAAKksE,WAAa,SAElBlsE,KAAKmN,GAAK,KAEVnN,KAAKshD,aAAa,QAAS2nF,EAAQzlF,GAGnCxjD,KAAK8mI,YAAc,GACnB9mI,KAAK+mI,cAAgB,KA3gBjC,4BAqhBI,SAAeQ,GAIX,IAHA,IAAM2B,EAAmB,GACrB3pI,EAAI,EACFqqB,EAAI29G,EAAS9nI,OACZF,EAAIqqB,EAAGrqB,KACLS,KAAK0mI,WAAWrmI,QAAQknI,EAAShoI,KAClC2pI,EAAiBhpH,KAAKqnH,EAAShoI,IAEvC,OAAO2pI,MA7hBf,GAA4BroF,EAAAA,GAgiB5B+lF,GAAOvC,SPxgBiB,EQ5BAuC,GAAOvC,SAAxB,cCFP,IAAMzD,GAA+C,oBAAhBC,YAM/B7tG,GAAW5zB,OAAOQ,UAAUozB,SAC5B2tG,GAAiC,oBAATz4D,MACT,qBAATA,MACoB,6BAAxBl1C,GAASlzB,KAAKooE,MAChBihE,GAAiC,oBAATC,MACT,qBAATA,MACoB,6BAAxBp2G,GAASlzB,KAAKspI,MAMf,SAASC,GAASlgI,GACrB,OAASy3H,KAA0Bz3H,aAAe03H,aAlBvC,SAAC13H,GACZ,MAAqC,oBAAvB03H,YAAYM,OACpBN,YAAYM,OAAOh4H,GACnBA,EAAI0W,kBAAkBghH,YAeqCM,CAAOh4H,KACnEw3H,IAAkBx3H,aAAe++D,MACjCihE,IAAkBhgI,aAAeigI,KAEnC,SAASE,GAAUngI,EAAKogI,GAC3B,IAAKpgI,GAAsB,kBAARA,EACf,OAAO,EAEX,GAAIU,MAAMuf,QAAQjgB,GAAM,CACpB,IAAK,IAAI5J,EAAI,EAAGoqB,EAAIxgB,EAAI1J,OAAQF,EAAIoqB,EAAGpqB,IACnC,GAAI+pI,GAAUngI,EAAI5J,IACd,OAAO,EAGf,OAAO,EAEX,GAAI8pI,GAASlgI,GACT,OAAO,EAEX,GAAIA,EAAIogI,QACkB,oBAAfpgI,EAAIogI,QACU,IAArB/pI,UAAUC,OACV,OAAO6pI,GAAUngI,EAAIogI,UAAU,GAEnC,IAAK,IAAM5pI,KAAOwJ,EACd,GAAI/J,OAAOQ,UAAUC,eAAeC,KAAKqJ,EAAKxJ,IAAQ2pI,GAAUngI,EAAIxJ,IAChE,OAAO,EAGf,OAAO,ECxCJ,SAAS6pI,GAAkBhH,GAC9B,IAAMiH,EAAU,GACVC,EAAalH,EAAOviH,KACpB0pH,EAAOnH,EAGb,OAFAmH,EAAK1pH,KAAO2pH,GAAmBF,EAAYD,GAC3CE,EAAKE,YAAcJ,EAAQhqI,OACpB,CAAE+iI,OAAQmH,EAAMF,QAASA,GAEpC,SAASG,GAAmB3pH,EAAMwpH,GAC9B,IAAKxpH,EACD,OAAOA,EACX,GAAIopH,GAASppH,GAAO,CAChB,IAAM6pH,EAAc,CAAEziC,cAAc,EAAMhO,IAAKowC,EAAQhqI,QAEvD,OADAgqI,EAAQvpH,KAAKD,GACN6pH,EAEN,GAAIjgI,MAAMuf,QAAQnJ,GAAO,CAE1B,IADA,IAAMwxE,EAAU,IAAI5nF,MAAMoW,EAAKxgB,QACtBF,EAAI,EAAGA,EAAI0gB,EAAKxgB,OAAQF,IAC7BkyF,EAAQlyF,GAAKqqI,GAAmB3pH,EAAK1gB,GAAIkqI,GAE7C,OAAOh4C,EAEN,GAAoB,kBAATxxE,KAAuBA,aAAgB4+C,MAAO,CAC1D,IAAM4yB,EAAU,GAChB,IAAK,IAAM9xF,KAAOsgB,EACVA,EAAKpgB,eAAeF,KACpB8xF,EAAQ9xF,GAAOiqI,GAAmB3pH,EAAKtgB,GAAM8pI,IAGrD,OAAOh4C,EAEX,OAAOxxE,EAUJ,SAAS8pH,GAAkBvH,EAAQiH,GAGtC,OAFAjH,EAAOviH,KAAO+pH,GAAmBxH,EAAOviH,KAAMwpH,GAC9CjH,EAAOqH,iBAAcxmI,EACdm/H,EAEX,SAASwH,GAAmB/pH,EAAMwpH,GAC9B,IAAKxpH,EACD,OAAOA,EACX,GAAIA,GAAQA,EAAKonF,aACb,OAAOoiC,EAAQxpH,EAAKo5E,KAEnB,GAAIxvF,MAAMuf,QAAQnJ,GACnB,IAAK,IAAI1gB,EAAI,EAAGA,EAAI0gB,EAAKxgB,OAAQF,IAC7B0gB,EAAK1gB,GAAKyqI,GAAmB/pH,EAAK1gB,GAAIkqI,QAGzC,GAAoB,kBAATxpH,EACZ,IAAK,IAAMtgB,KAAOsgB,EACVA,EAAKpgB,eAAeF,KACpBsgB,EAAKtgB,GAAOqqI,GAAmB/pH,EAAKtgB,GAAM8pI,IAItD,OAAOxpH,ECjEJ,IACIgqH,GADE5F,GAAW,GAExB,SAAW4F,GACPA,EAAWA,EAAU,QAAc,GAAK,UACxCA,EAAWA,EAAU,WAAiB,GAAK,aAC3CA,EAAWA,EAAU,MAAY,GAAK,QACtCA,EAAWA,EAAU,IAAU,GAAK,MACpCA,EAAWA,EAAU,cAAoB,GAAK,gBAC9CA,EAAWA,EAAU,aAAmB,GAAK,eAC7CA,EAAWA,EAAU,WAAiB,GAAK,aAP/C,CAQGA,KAAeA,GAAa,KAIxB,IAAMC,GAAb,kEAOI,SAAO/gI,GACH,OAAIA,EAAI2S,OAASmuH,GAAWE,OAAShhI,EAAI2S,OAASmuH,GAAWG,MACrDd,GAAUngI,GAQX,CAACnJ,KAAKqqI,eAAelhI,KAPpBA,EAAI2S,KACA3S,EAAI2S,OAASmuH,GAAWE,MAClBF,GAAWK,aACXL,GAAWM,WACdvqI,KAAKwqI,eAAerhI,MAd3C,4BAsBI,SAAeA,GAEX,IAAIu2D,EAAM,GAAKv2D,EAAI2S,KAmBnB,OAjBI3S,EAAI2S,OAASmuH,GAAWK,cACxBnhI,EAAI2S,OAASmuH,GAAWM,aACxB7qE,GAAOv2D,EAAI0gI,YAAc,KAIzB1gI,EAAIshI,KAAO,MAAQthI,EAAIshI,MACvB/qE,GAAOv2D,EAAIshI,IAAM,KAGjB,MAAQthI,EAAIgE,KACZuyD,GAAOv2D,EAAIgE,IAGX,MAAQhE,EAAI8W,OACZy/C,GAAOtR,KAAKE,UAAUnlD,EAAI8W,OAEvBy/C,IA3Cf,4BAkDI,SAAev2D,GACX,IAAMuhI,EAAiBlB,GAAkBrgI,GACnCwgI,EAAO3pI,KAAKqqI,eAAeK,EAAelI,QAC1CiH,EAAUiB,EAAejB,QAE/B,OADAA,EAAQpnD,QAAQsnD,GACTF,MAvDf,KA+DakB,GAAb,8BACI,aAAc,8BADlB,6BASI,SAAIxhI,GACA,IAAIq5H,EACJ,GAAmB,kBAARr5H,GACPq5H,EAASxiI,KAAK4qI,aAAazhI,IAChB2S,OAASmuH,GAAWK,cAC3B9H,EAAO1mH,OAASmuH,GAAWM,YAE3BvqI,KAAK6qI,cAAgB,IAAIC,GAAoBtI,GAElB,IAAvBA,EAAOqH,aACP,gDAAmB,UAAWrH,IAKlC,gDAAmB,UAAWA,OAGjC,KAAI6G,GAASlgI,KAAQA,EAAIo4H,OAe1B,MAAM,IAAIjoH,MAAM,iBAAmBnQ,GAbnC,IAAKnJ,KAAK6qI,cACN,MAAM,IAAIvxH,MAAM,qDAGhBkpH,EAASxiI,KAAK6qI,cAAcE,eAAe5hI,MAGvCnJ,KAAK6qI,cAAgB,KACrB,gDAAmB,UAAWrI,OArClD,0BAmDI,SAAa9iE,GACT,IAAIngE,EAAI,EAEF4f,EAAI,CACNrD,KAAM5R,OAAOw1D,EAAIx6D,OAAO,KAE5B,QAA2B7B,IAAvB4mI,GAAW9qH,EAAErD,MACb,MAAM,IAAIxC,MAAM,uBAAyB6F,EAAErD,MAG/C,GAAIqD,EAAErD,OAASmuH,GAAWK,cACtBnrH,EAAErD,OAASmuH,GAAWM,WAAY,CAElC,IADA,IAAM3lG,EAAQrlC,EAAI,EACS,MAApBmgE,EAAIx6D,SAAS3F,IAAcA,GAAKmgE,EAAIjgE,SAC3C,IAAMurI,EAAMtrE,EAAI8oD,UAAU5jF,EAAOrlC,GACjC,GAAIyrI,GAAO9gI,OAAO8gI,IAA0B,MAAlBtrE,EAAIx6D,OAAO3F,GACjC,MAAM,IAAI+Z,MAAM,uBAEpB6F,EAAE0qH,YAAc3/H,OAAO8gI,GAG3B,GAAI,MAAQtrE,EAAIx6D,OAAO3F,EAAI,GAAI,CAE3B,IADA,IAAMqlC,EAAQrlC,EAAI,IACTA,GAAG,CAER,GAAI,MADMmgE,EAAIx6D,OAAO3F,GAEjB,MACJ,GAAIA,IAAMmgE,EAAIjgE,OACV,MAER0f,EAAEsrH,IAAM/qE,EAAI8oD,UAAU5jF,EAAOrlC,QAG7B4f,EAAEsrH,IAAM,IAGZ,IAAM7wH,EAAO8lD,EAAIx6D,OAAO3F,EAAI,GAC5B,GAAI,KAAOqa,GAAQ1P,OAAO0P,IAASA,EAAM,CAErC,IADA,IAAMgrB,EAAQrlC,EAAI,IACTA,GAAG,CACR,IAAM+kD,EAAIob,EAAIx6D,OAAO3F,GACrB,GAAI,MAAQ+kD,GAAKp6C,OAAOo6C,IAAMA,EAAG,GAC3B/kD,EACF,MAEJ,GAAIA,IAAMmgE,EAAIjgE,OACV,MAER0f,EAAEhS,GAAKjD,OAAOw1D,EAAI8oD,UAAU5jF,EAAOrlC,EAAI,IAG3C,GAAImgE,EAAIx6D,SAAS3F,GAAI,CACjB,IAAM8sE,EAmClB,SAAkB3M,GACd,IACI,OAAOtR,KAAKx1B,MAAM8mC,GAEtB,MAAOrgD,GACH,OAAO,GAxCa4rH,CAASvrE,EAAIwwB,OAAO3wF,IACpC,IAAIorI,EAAQO,eAAe/rH,EAAErD,KAAMuwD,GAI/B,MAAM,IAAI/yD,MAAM,mBAHhB6F,EAAEc,KAAOosD,EAMjB,OAAOltD,IA/Gf,qBAoII,WACQnf,KAAK6qI,eACL7qI,KAAK6qI,cAAcM,4BAtI/B,6BAiHI,SAAsBrvH,EAAMuwD,GACxB,OAAQvwD,GACJ,KAAKmuH,GAAWmB,QACZ,MAA0B,kBAAZ/+D,EAClB,KAAK49D,GAAWoB,WACZ,YAAmBhoI,IAAZgpE,EACX,KAAK49D,GAAWqB,cACZ,MAA0B,kBAAZj/D,GAA2C,kBAAZA,EACjD,KAAK49D,GAAWE,MAChB,KAAKF,GAAWK,aACZ,OAAOzgI,MAAMuf,QAAQijD,IAAYA,EAAQ5sE,OAAS,EACtD,KAAKwqI,GAAWG,IAChB,KAAKH,GAAWM,WACZ,OAAO1gI,MAAMuf,QAAQijD,QA9HrC,GAA6BxrB,EAAAA,OA0JvBiqF,GAAAA,WACF,WAAYtI,GAAQ,UAChBxiI,KAAKwiI,OAASA,EACdxiI,KAAKypI,QAAU,GACfzpI,KAAKurI,UAAY/I,0CAUrB,SAAegJ,GAEX,GADAxrI,KAAKypI,QAAQvpH,KAAKsrH,GACdxrI,KAAKypI,QAAQhqI,SAAWO,KAAKurI,UAAU1B,YAAa,CAEpD,IAAMrH,EAASuH,GAAkB/pI,KAAKurI,UAAWvrI,KAAKypI,SAEtD,OADAzpI,KAAKmrI,yBACE3I,EAEX,OAAO,2CAKX,WACIxiI,KAAKurI,UAAY,KACjBvrI,KAAKypI,QAAU,SA7BjBqB,GC/OC,SAAS9pF,GAAG73C,EAAKqyG,EAAIzyG,GAExB,OADAI,EAAI63C,GAAGw6D,EAAIzyG,GACJ,WACHI,EAAI+3C,IAAIs6D,EAAIzyG,ICIpB,IAAM0iI,GAAkBrsI,OAAOiL,OAAO,CAClCqhI,QAAS,EACTC,cAAe,EACfC,WAAY,EACZC,cAAe,EAEfC,YAAa,EACb3qF,eAAgB,IAEPylF,GAAb,8BAMI,WAAYmF,EAAItB,EAAK95E,GAAM,wBACvB,gBACKq7E,WAAY,EACjB,EAAKC,cAAe,EACpB,EAAKC,cAAgB,GACrB,EAAKC,WAAa,GAClB,EAAKC,IAAM,EACX,EAAKC,KAAO,GACZ,EAAKC,MAAQ,GACb,EAAKP,GAAKA,EACV,EAAKtB,IAAMA,EACP95E,GAAQA,EAAK47E,OACb,EAAKA,KAAO57E,EAAK47E,MAEjB,EAAKR,GAAGS,cACR,EAAKliF,OAfc,EAN/B,mCA4BI,WACI,IAAItqD,KAAKysI,KAAT,CAEA,IAAMV,EAAK/rI,KAAK+rI,GAChB/rI,KAAKysI,KAAO,CACRzrF,GAAG+qF,EAAI,OAAQ/rI,KAAKomI,OAAOl/G,KAAKlnB,OAChCghD,GAAG+qF,EAAI,SAAU/rI,KAAK0sI,SAASxlH,KAAKlnB,OACpCghD,GAAG+qF,EAAI,QAAS/rI,KAAK+B,QAAQmlB,KAAKlnB,OAClCghD,GAAG+qF,EAAI,QAAS/rI,KAAKwmI,QAAQt/G,KAAKlnB,WApC9C,kBA0CI,WACI,QAASA,KAAKysI,OA3CtB,qBAkDI,WACI,OAAIzsI,KAAKgsI,YAEThsI,KAAK2sI,YACA3sI,KAAK+rI,GAAL,eACD/rI,KAAK+rI,GAAGzhF,OACR,SAAWtqD,KAAK+rI,GAAGa,aACnB5sI,KAAKomI,UALEpmI,OApDnB,kBA+DI,WACI,OAAOA,KAAK0rI,YAhEpB,kBAwEI,WAAc,2BAAN9hI,EAAM,yBAANA,EAAM,gBAGV,OAFAA,EAAKy4E,QAAQ,WACbriF,KAAKqhD,KAAKthD,MAAMC,KAAM4J,GACf5J,OA3Ef,kBAoFI,SAAKw7G,GACD,GAAIiwB,GAAgB5rI,eAAe27G,GAC/B,MAAM,IAAIliG,MAAM,IAAMkiG,EAAK,8BAFjB,2BAAN5xG,EAAM,iCAANA,EAAM,kBAIdA,EAAKy4E,QAAQm5B,GACb,IAAMgnB,EAAS,CACX1mH,KAAMmuH,GAAWE,MACjBlqH,KAAMrW,EAEV44H,QAAiB,IAGjB,GAFAA,EAAOz4H,QAAQ++H,UAAmC,IAAxB9oI,KAAKssI,MAAMxD,SAEjC,oBAAsBl/H,EAAKA,EAAKnK,OAAS,GAAI,CAC7C,IAAM0N,EAAKnN,KAAKosI,MACVS,EAAMjjI,EAAKq2E,MACjBjgF,KAAK8sI,qBAAqB3/H,EAAI0/H,GAC9BrK,EAAOr1H,GAAKA,EAEhB,IAAM4/H,EAAsB/sI,KAAK+rI,GAAGiB,QAChChtI,KAAK+rI,GAAGiB,OAAOrF,WACf3nI,KAAK+rI,GAAGiB,OAAOrF,UAAUvlF,SACvB6qF,EAAgBjtI,KAAKssI,MAAMY,YAAcH,IAAwB/sI,KAAKgsI,WAU5E,OATIiB,IAEKjtI,KAAKgsI,UACVhsI,KAAKwiI,OAAOA,GAGZxiI,KAAKmsI,WAAWjsH,KAAKsiH,IAEzBxiI,KAAKssI,MAAQ,GACNtsI,OAnHf,kCAwHI,SAAqBmN,EAAI0/H,GAAK,WACpBn5G,EAAU1zB,KAAKssI,MAAM54G,QAC3B,QAAgBrwB,IAAZqwB,EAAJ,CAKA,IAAM8mG,EAAQx6H,KAAK+rI,GAAG7L,cAAa,kBACxB,EAAKmM,KAAKl/H,GACjB,IAAK,IAAI5N,EAAI,EAAGA,EAAI,EAAK4sI,WAAW1sI,OAAQF,IACpC,EAAK4sI,WAAW5sI,GAAG4N,KAAOA,GAC1B,EAAKg/H,WAAWhnH,OAAO5lB,EAAG,GAGlCstI,EAAI/sI,KAAK,EAAM,IAAIwZ,MAAM,8BAC1Boa,GACH1zB,KAAKqsI,KAAKl/H,GAAM,WAEZ,EAAK4+H,GAAG5L,eAAe3F,GAFE,2BAAT5wH,EAAS,yBAATA,EAAS,gBAGzBijI,EAAI9sI,MAAM,EAAV,CAAiB,MAAjB,OAA0B6J,UAhB1B5J,KAAKqsI,KAAKl/H,GAAM0/H,IA3H5B,oBAoJI,SAAOrK,GACHA,EAAOiI,IAAMzqI,KAAKyqI,IAClBzqI,KAAK+rI,GAAGoB,QAAQ3K,KAtJxB,oBA6JI,WAAS,WACmB,mBAAbxiI,KAAKusI,KACZvsI,KAAKusI,MAAK,SAACtsH,GACP,EAAKuiH,OAAO,CAAE1mH,KAAMmuH,GAAWmB,QAASnrH,KAAAA,OAI5CjgB,KAAKwiI,OAAO,CAAE1mH,KAAMmuH,GAAWmB,QAASnrH,KAAMjgB,KAAKusI,SApK/D,qBA6KI,SAAQxxG,GACC/6B,KAAKgsI,WACNhsI,KAAKshD,aAAa,gBAAiBvmB,KA/K/C,qBAwLI,SAAQkuG,GACJjpI,KAAKgsI,WAAY,EACjBhsI,KAAKisI,cAAe,SACbjsI,KAAKmN,GACZnN,KAAKshD,aAAa,aAAc2nF,KA5LxC,sBAoMI,SAASzG,GAEL,GADsBA,EAAOiI,MAAQzqI,KAAKyqI,IAG1C,OAAQjI,EAAO1mH,MACX,KAAKmuH,GAAWmB,QACZ,GAAI5I,EAAOviH,MAAQuiH,EAAOviH,KAAK2jH,IAAK,CAChC,IAAMz2H,EAAKq1H,EAAOviH,KAAK2jH,IACvB5jI,KAAKotI,UAAUjgI,QAGfnN,KAAKshD,aAAa,gBAAiB,IAAIhoC,MAAM,8LAEjD,MACJ,KAAK2wH,GAAWE,MAGhB,KAAKF,GAAWK,aACZtqI,KAAKqtI,QAAQ7K,GACb,MACJ,KAAKyH,GAAWG,IAGhB,KAAKH,GAAWM,WACZvqI,KAAKstI,MAAM9K,GACX,MACJ,KAAKyH,GAAWoB,WACZrrI,KAAKutI,eACL,MACJ,KAAKtD,GAAWqB,cACZtrI,KAAKgtC,UACL,IAAMjS,EAAM,IAAIzhB,MAAMkpH,EAAOviH,KAAKhW,SAElC8wB,EAAI9a,KAAOuiH,EAAOviH,KAAKA,KACvBjgB,KAAKshD,aAAa,gBAAiBvmB,MAtOnD,qBAgPI,SAAQynG,GACJ,IAAM54H,EAAO44H,EAAOviH,MAAQ,GACxB,MAAQuiH,EAAOr1H,IACfvD,EAAKsW,KAAKlgB,KAAK6sI,IAAIrK,EAAOr1H,KAE1BnN,KAAKgsI,UACLhsI,KAAKwtI,UAAU5jI,GAGf5J,KAAKksI,cAAchsH,KAAK9gB,OAAOiL,OAAOT,MAzPlD,uBA4PI,SAAUA,GACN,GAAI5J,KAAKytI,eAAiBztI,KAAKytI,cAAchuI,OAAQ,CACjD,IADiD,IC5Q9C,SAAoCi5D,EAAGg1E,GACpD,IAAInqF,EAAuB,qBAAXkG,QAA0BiP,EAAEjP,OAAO4F,WAAaqJ,EAAE,cAElE,IAAKnV,EAAI,CACP,GAAI15C,MAAMuf,QAAQsvC,KAAOnV,GAAK,EAAAoqF,GAAA,GAA2Bj1E,KAAOg1E,GAAkBh1E,GAAyB,kBAAbA,EAAEj5D,OAAqB,CAC/G8jD,IAAImV,EAAInV,GACZ,IAAIhkD,EAAI,EAEJ6lD,EAAI,aAER,MAAO,CACLnmC,EAAGmmC,EACHlmC,EAAG,WACD,OAAI3f,GAAKm5D,EAAEj5D,OAAe,CACxB8oD,MAAM,GAED,CACLA,MAAM,EACNnhD,MAAOsxD,EAAEn5D,OAGb8f,EAAG,SAAWuuH,GACZ,MAAMA,GAERhpF,EAAGQ,GAIP,MAAM,IAAIvD,UAAU,yIAGtB,IAEI9mB,EAFA8yG,GAAmB,EACnBC,GAAS,EAEb,MAAO,CACL7uH,EAAG,WACDskC,EAAKA,EAAGzjD,KAAK44D,IAEfx5C,EAAG,WACD,IAAI8P,EAAOu0B,EAAG3pC,OAEd,OADAi0H,EAAmB7+G,EAAKu5B,KACjBv5B,GAET3P,EAAG,SAAW0uH,GACZD,GAAS,EACT/yG,EAAMgzG,GAERnpF,EAAG,WACD,IACOipF,GAAoC,MAAhBtqF,EAAW,QAAWA,EAAW,SAC1D,QACA,GAAIuqF,EAAQ,MAAM/yG,KDyNmC,CAC/B/6B,KAAKytI,cAAc3lI,SADY,IAEjD,2BAAkC,SACrB/H,MAAMC,KAAM4J,IAHwB,+BAMrD,8BAAW7J,MAAMC,KAAM4J,KAnQ/B,iBA0QI,SAAIuD,GACA,IAAM41C,EAAO/iD,KACTguI,GAAO,EACX,OAAO,WAEH,IAAIA,EAAJ,CAEAA,GAAO,EAJe,2BAANpkI,EAAM,yBAANA,EAAM,gBAKtBm5C,EAAKy/E,OAAO,CACR1mH,KAAMmuH,GAAWG,IACjBj9H,GAAIA,EACJ8S,KAAMrW,QArRtB,mBA+RI,SAAM44H,GACF,IAAMqK,EAAM7sI,KAAKqsI,KAAK7J,EAAOr1H,IACzB,oBAAsB0/H,IACtBA,EAAI9sI,MAAMC,KAAMwiI,EAAOviH,aAChBjgB,KAAKqsI,KAAK7J,EAAOr1H,OAnSpC,uBA6SI,SAAUA,GACNnN,KAAKmN,GAAKA,EACVnN,KAAKgsI,WAAY,EACjBhsI,KAAKisI,cAAe,EACpBjsI,KAAKiuI,eACLjuI,KAAKshD,aAAa,aAlT1B,0BAyTI,WAAe,WACXthD,KAAKksI,cAAc92H,SAAQ,SAACxL,GAAD,OAAU,EAAK4jI,UAAU5jI,MACpD5J,KAAKksI,cAAgB,GACrBlsI,KAAKmsI,WAAW/2H,SAAQ,SAACotH,GAAD,OAAY,EAAKA,OAAOA,MAChDxiI,KAAKmsI,WAAa,KA7T1B,0BAoUI,WACInsI,KAAKgtC,UACLhtC,KAAKwmI,QAAQ,0BAtUrB,qBA+UI,WACQxmI,KAAKysI,OAELzsI,KAAKysI,KAAKr3H,SAAQ,SAAC84H,GAAD,OAAgBA,OAClCluI,KAAKysI,UAAOppI,GAEhBrD,KAAK+rI,GAAL,SAAoB/rI,QArV5B,wBA6VI,WAUI,OATIA,KAAKgsI,WACLhsI,KAAKwiI,OAAO,CAAE1mH,KAAMmuH,GAAWoB,aAGnCrrI,KAAKgtC,UACDhtC,KAAKgsI,WAELhsI,KAAKwmI,QAAQ,wBAEVxmI,OAvWf,mBA+WI,WACI,OAAOA,KAAK4rI,eAhXpB,sBAyXI,SAAS9C,GAEL,OADA9oI,KAAKssI,MAAMxD,SAAWA,EACf9oI,OA3Xf,oBAoYI,WAEI,OADAA,KAAKssI,MAAMY,UAAW,EACfltI,OAtYf,qBAuZI,SAAQ0zB,GAEJ,OADA1zB,KAAKssI,MAAM54G,QAAUA,EACd1zB,OAzZf,mBAkaI,SAAMmuI,GAGF,OAFAnuI,KAAKytI,cAAgBztI,KAAKytI,eAAiB,GAC3CztI,KAAKytI,cAAcvtH,KAAKiuH,GACjBnuI,OAraf,wBA8aI,SAAWmuI,GAGP,OAFAnuI,KAAKytI,cAAgBztI,KAAKytI,eAAiB,GAC3CztI,KAAKytI,cAAcprD,QAAQ8rD,GACpBnuI,OAjbf,oBAybI,SAAOmuI,GACH,IAAKnuI,KAAKytI,cACN,OAAOztI,KAEX,GAAImuI,GAEA,IADA,IAAM5sF,EAAYvhD,KAAKytI,cACdluI,EAAI,EAAGA,EAAIgiD,EAAU9hD,OAAQF,IAClC,GAAI4uI,IAAa5sF,EAAUhiD,GAEvB,OADAgiD,EAAUp8B,OAAO5lB,EAAG,GACbS,UAKfA,KAAKytI,cAAgB,GAEzB,OAAOztI,OAzcf,0BAidI,WACI,OAAOA,KAAKytI,eAAiB,OAldrC,GAA4B5sF,EAAAA,cEVfutF,GAAb,8BACI,WAAYzY,EAAKhlE,GAAM,MACf1jC,EADe,WAEnB,gBACKohH,KAAO,GACZ,EAAK5B,KAAO,GACR9W,GAAO,kBAAoBA,IAC3BhlE,EAAOglE,EACPA,OAAMtyH,IAEVstD,EAAOA,GAAQ,IACVvnD,KAAOunD,EAAKvnD,MAAQ,aACzB,EAAKunD,KAAOA,EACZqvE,EAAsB,KAAMrvE,GAC5B,EAAK29E,cAAmC,IAAtB39E,EAAK29E,cACvB,EAAKC,qBAAqB59E,EAAK49E,sBAAwBC,EAAAA,GACvD,EAAKC,kBAAkB99E,EAAK89E,mBAAqB,KACjD,EAAKC,qBAAqB/9E,EAAK+9E,sBAAwB,KACvD,EAAKC,oBAAwD,QAAnC1hH,EAAK0jC,EAAKg+E,2BAAwC,IAAP1hH,EAAgBA,EAAK,IAC1F,EAAK2hH,QAAU,IAAIl+E,GAAQ,CACvBxqB,IAAK,EAAKuoG,oBACVjnI,IAAK,EAAKknI,uBACV59E,OAAQ,EAAK69E,wBAEjB,EAAKj7G,QAAQ,MAAQi9B,EAAKj9B,QAAU,IAAQi9B,EAAKj9B,SACjD,EAAKk5G,YAAc,SACnB,EAAKjX,IAAMA,EACX,IAAMkZ,EAAUl+E,EAAKm+E,QAAUA,EA1BZ,OA2BnB,EAAKC,QAAU,IAAIF,EAAQ3E,QAC3B,EAAK8E,QAAU,IAAIH,EAAQlE,QAC3B,EAAK6B,cAAoC,IAArB77E,EAAKs+E,YACrB,EAAKzC,cACL,EAAKliF,OA/BU,EAD3B,sCAkCI,SAAa/U,GACT,OAAK/1C,UAAUC,QAEfO,KAAKkvI,gBAAkB35F,EAChBv1C,MAFIA,KAAKkvI,gBApCxB,kCAwCI,SAAqB35F,GACjB,YAAUlyC,IAANkyC,EACOv1C,KAAKmvI,uBAChBnvI,KAAKmvI,sBAAwB55F,EACtBv1C,QA5Cf,+BA8CI,SAAkBu1C,GACd,IAAItoB,EACJ,YAAU5pB,IAANkyC,EACOv1C,KAAKovI,oBAChBpvI,KAAKovI,mBAAqB75F,EACF,QAAvBtoB,EAAKjtB,KAAK4uI,eAA4B,IAAP3hH,GAAyBA,EAAGkkC,OAAO5b,GAC5Dv1C,QApDf,iCAsDI,SAAoBu1C,GAChB,IAAItoB,EACJ,YAAU5pB,IAANkyC,EACOv1C,KAAKqvI,sBAChBrvI,KAAKqvI,qBAAuB95F,EACJ,QAAvBtoB,EAAKjtB,KAAK4uI,eAA4B,IAAP3hH,GAAyBA,EAAGokC,UAAU9b,GAC/Dv1C,QA5Df,kCA8DI,SAAqBu1C,GACjB,IAAItoB,EACJ,YAAU5pB,IAANkyC,EACOv1C,KAAKsvI,uBAChBtvI,KAAKsvI,sBAAwB/5F,EACL,QAAvBtoB,EAAKjtB,KAAK4uI,eAA4B,IAAP3hH,GAAyBA,EAAGmkC,OAAO7b,GAC5Dv1C,QApEf,qBAsEI,SAAQu1C,GACJ,OAAK/1C,UAAUC,QAEfO,KAAKuvI,SAAWh6F,EACTv1C,MAFIA,KAAKuvI,WAxExB,kCAkFI,YAESvvI,KAAKwvI,eACNxvI,KAAKkvI,eACqB,IAA1BlvI,KAAK4uI,QAAQ79E,UAEb/wD,KAAKyvI,cAxFjB,kBAkGI,SAAK1mI,GAAI,WACL,IAAK/I,KAAK4sI,YAAYvsI,QAAQ,QAC1B,OAAOL,KACXA,KAAKgtI,OAAS,IAAI0C,GAAO1vI,KAAK21H,IAAK31H,KAAK2wD,MACxC,IAAMwxE,EAASniI,KAAKgtI,OACdjqF,EAAO/iD,KACbA,KAAK4sI,YAAc,UACnB5sI,KAAK2vI,eAAgB,EAErB,IAAMC,EAAiB5uF,GAAGmhF,EAAQ,QAAQ,WACtCp/E,EAAKqjF,SACLr9H,GAAMA,OAGJ8mI,EAAW7uF,GAAGmhF,EAAQ,SAAS,SAACpnG,GAClCgoB,EAAK1G,UACL0G,EAAK6pF,YAAc,SACnB,EAAKtrF,aAAa,QAASvmB,GACvBhyB,EACAA,EAAGgyB,GAIHgoB,EAAK+sF,0BAGb,IAAI,IAAU9vI,KAAKuvI,SAAU,CACzB,IAAM77G,EAAU1zB,KAAKuvI,SACL,IAAZ77G,GACAk8G,IAGJ,IAAMpV,EAAQx6H,KAAKkgI,cAAa,WAC5B0P,IACAzN,EAAO13E,QAEP03E,EAAO9gF,KAAK,QAAS,IAAI/nC,MAAM,cAChCoa,GACC1zB,KAAK2wD,KAAK01E,WACV7L,EAAM+L,QAEVvmI,KAAKysI,KAAKvsH,MAAK,WACX7K,aAAamlH,MAKrB,OAFAx6H,KAAKysI,KAAKvsH,KAAK0vH,GACf5vI,KAAKysI,KAAKvsH,KAAK2vH,GACR7vI,OAjJf,qBAyJI,SAAQ+I,GACJ,OAAO/I,KAAKsqD,KAAKvhD,KA1JzB,oBAiKI,WAEI/I,KAAKq8C,UAELr8C,KAAK4sI,YAAc,OACnB5sI,KAAKshD,aAAa,QAElB,IAAM6gF,EAASniI,KAAKgtI,OACpBhtI,KAAKysI,KAAKvsH,KAAK8gC,GAAGmhF,EAAQ,OAAQniI,KAAK+vI,OAAO7oH,KAAKlnB,OAAQghD,GAAGmhF,EAAQ,OAAQniI,KAAKgwI,OAAO9oH,KAAKlnB,OAAQghD,GAAGmhF,EAAQ,QAASniI,KAAK+B,QAAQmlB,KAAKlnB,OAAQghD,GAAGmhF,EAAQ,QAASniI,KAAKwmI,QAAQt/G,KAAKlnB,OAAQghD,GAAGhhD,KAAKgvI,QAAS,UAAWhvI,KAAKiwI,UAAU/oH,KAAKlnB,UAzK3P,oBAgLI,WACIA,KAAKshD,aAAa,UAjL1B,oBAwLI,SAAOrhC,GACHjgB,KAAKgvI,QAAQx7H,IAAIyM,KAzLzB,uBAgMI,SAAUuiH,GACNxiI,KAAKshD,aAAa,SAAUkhF,KAjMpC,qBAwMI,SAAQznG,GACJ/6B,KAAKshD,aAAa,QAASvmB,KAzMnC,oBAiNI,SAAO0vG,EAAK95E,GACR,IAAIwxE,EAASniI,KAAKquI,KAAK5D,GAKvB,OAJKtI,IACDA,EAAS,IAAIyE,GAAO5mI,KAAMyqI,EAAK95E,GAC/B3wD,KAAKquI,KAAK5D,GAAOtI,GAEdA,IAvNf,sBA+NI,SAASA,GAEL,IADA,IACA,MADa/iI,OAAOgB,KAAKJ,KAAKquI,MAC9B,eAAwB,CAAnB,IAAM5D,EAAG,KAEV,GADezqI,KAAKquI,KAAK5D,GACdlkB,OACP,OAGRvmH,KAAKkwI,WAvOb,qBA+OI,SAAQ1N,GAEJ,IADA,IAAMS,EAAiBjjI,KAAK+uI,QAAQ5Z,OAAOqN,GAClCjjI,EAAI,EAAGA,EAAI0jI,EAAexjI,OAAQF,IACvCS,KAAKgtI,OAAOziF,MAAM04E,EAAe1jI,GAAIijI,EAAOz4H,WAlPxD,qBA0PI,WACI/J,KAAKysI,KAAKr3H,SAAQ,SAAC84H,GAAD,OAAgBA,OAClCluI,KAAKysI,KAAKhtI,OAAS,EACnBO,KAAKgvI,QAAQhiG,YA7PrB,oBAoQI,WACIhtC,KAAK2vI,eAAgB,EACrB3vI,KAAKwvI,eAAgB,EACrBxvI,KAAKwmI,QAAQ,gBACTxmI,KAAKgtI,QACLhtI,KAAKgtI,OAAOviF,UAzQxB,wBAgRI,WACI,OAAOzqD,KAAKkwI,WAjRpB,qBAwRI,SAAQjH,GACJjpI,KAAKq8C,UACLr8C,KAAK4uI,QAAQhiG,QACb5sC,KAAK4sI,YAAc,SACnB5sI,KAAKshD,aAAa,QAAS2nF,GACvBjpI,KAAKkvI,gBAAkBlvI,KAAK2vI,eAC5B3vI,KAAKyvI,cA9RjB,uBAsSI,WAAY,WACR,GAAIzvI,KAAKwvI,eAAiBxvI,KAAK2vI,cAC3B,OAAO3vI,KACX,IAAM+iD,EAAO/iD,KACb,GAAIA,KAAK4uI,QAAQ79E,UAAY/wD,KAAKmvI,sBAC9BnvI,KAAK4uI,QAAQhiG,QACb5sC,KAAKshD,aAAa,oBAClBthD,KAAKwvI,eAAgB,MAEpB,CACD,IAAMj9G,EAAQvyB,KAAK4uI,QAAQp2H,WAC3BxY,KAAKwvI,eAAgB,EACrB,IAAMhV,EAAQx6H,KAAKkgI,cAAa,WACxBn9E,EAAK4sF,gBAET,EAAKruF,aAAa,oBAAqByB,EAAK6rF,QAAQ79E,UAEhDhO,EAAK4sF,eAET5sF,EAAKuH,MAAK,SAACvvB,GACHA,GACAgoB,EAAKysF,eAAgB,EACrBzsF,EAAK0sF,YACL,EAAKnuF,aAAa,kBAAmBvmB,IAGrCgoB,EAAKotF,oBAGd59G,GACCvyB,KAAK2wD,KAAK01E,WACV7L,EAAM+L,QAEVvmI,KAAKysI,KAAKvsH,MAAK,WACX7K,aAAamlH,SAxU7B,yBAiVI,WACI,IAAM4V,EAAUpwI,KAAK4uI,QAAQ79E,SAC7B/wD,KAAKwvI,eAAgB,EACrBxvI,KAAK4uI,QAAQhiG,QACb5sC,KAAKshD,aAAa,YAAa8uF,OArVvC,GAA6BvvF,EAAAA,GCAvB73C,GAAQ,GACd,SAASo4H,GAAOzL,EAAKhlE,GACE,kBAARglE,IACPhlE,EAAOglE,EACPA,OAAMtyH,GAGV,IASI0oI,EATEsE,ECHH,SAAa1a,GAAqB,IAAhBvsH,EAAgB,uDAAT,GAAIknI,EAAK,uCACjCnnI,EAAMwsH,EAEV2a,EAAMA,GAA4B,qBAAb7jE,UAA4BA,SAC7C,MAAQkpD,IACRA,EAAM2a,EAAIjM,SAAW,KAAOiM,EAAIzpH,MAEjB,kBAAR8uG,IACH,MAAQA,EAAIzwH,OAAO,KAEfywH,EADA,MAAQA,EAAIzwH,OAAO,GACborI,EAAIjM,SAAW1O,EAGf2a,EAAIzpH,KAAO8uG,GAGpB,sBAAsBruF,KAAKquF,KAExBA,EADA,qBAAuB2a,EACjBA,EAAIjM,SAAW,KAAO1O,EAGtB,WAAaA,GAI3BxsH,EAAM09H,EAASlR,IAGdxsH,EAAIs6H,OACD,cAAcn8F,KAAKn+B,EAAIk7H,UACvBl7H,EAAIs6H,KAAO,KAEN,eAAen8F,KAAKn+B,EAAIk7H,YAC7Bl7H,EAAIs6H,KAAO,QAGnBt6H,EAAIC,KAAOD,EAAIC,MAAQ,IACvB,IACMyd,GADkC,IAA3B1d,EAAI0d,KAAKxmB,QAAQ,KACV,IAAM8I,EAAI0d,KAAO,IAAM1d,EAAI0d,KAS/C,OAPA1d,EAAIgE,GAAKhE,EAAIk7H,SAAW,MAAQx9G,EAAO,IAAM1d,EAAIs6H,KAAOr6H,EAExDD,EAAIunE,KACAvnE,EAAIk7H,SACA,MACAx9G,GACCypH,GAAOA,EAAI7M,OAASt6H,EAAIs6H,KAAO,GAAK,IAAMt6H,EAAIs6H,MAChDt6H,ED5CQi/D,CAAIutD,GADnBhlE,EAAOA,GAAQ,IACcvnD,MAAQ,cAC/B1J,EAAS2wI,EAAO3wI,OAChByN,EAAKkjI,EAAOljI,GACZ/D,EAAOinI,EAAOjnI,KACdmnI,EAAgBvnI,GAAMmE,IAAO/D,KAAQJ,GAAMmE,GAAN,KAkB3C,OAjBsBwjD,EAAK6/E,UACvB7/E,EAAK,0BACL,IAAUA,EAAK8/E,WACfF,EAGAxE,EAAK,IAAIqC,GAAQ1uI,EAAQixD,IAGpB3nD,GAAMmE,KACPnE,GAAMmE,GAAM,IAAIihI,GAAQ1uI,EAAQixD,IAEpCo7E,EAAK/iI,GAAMmE,IAEXkjI,EAAOpa,QAAUtlE,EAAKslE,QACtBtlE,EAAKslE,MAAQoa,EAAOra,UAEjB+V,EAAG5J,OAAOkO,EAAOjnI,KAAMunD,GAIlCvxD,OAAOC,OAAO+hI,GAAQ,CAClBgN,QAAAA,GACAxH,OAAAA,GACAmF,GAAI3K,GACJsK,QAAStK","sources":["../node_modules/@chakra-ui/image/dist/chakra-ui-image.esm.js","../node_modules/@chakra-ui/avatar/dist/chakra-ui-avatar.esm.js","../node_modules/@chakra-ui/icons/node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js","../node_modules/@chakra-ui/icons/node_modules/@chakra-ui/icon/dist/chakra-ui-icon.esm.js","../node_modules/@chakra-ui/icons/dist/chakra-ui-icons.esm.js","../node_modules/@chakra-ui/menu/dist/chakra-ui-menu.esm.js","../node_modules/focus-lock/dist/es2015/constants.js","../node_modules/use-callback-ref/dist/es2015/useMergeRef.js","../node_modules/use-callback-ref/dist/es2015/useRef.js","../node_modules/use-callback-ref/dist/es2015/assignRef.js","../node_modules/react-focus-lock/dist/es2015/FocusGuard.js","../node_modules/tslib/tslib.es6.js","../node_modules/use-sidecar/dist/es2015/medium.js","../node_modules/react-focus-lock/dist/es2015/medium.js","../node_modules/react-focus-lock/dist/es2015/Lock.js","../node_modules/react-clientside-effect/lib/index.es.js","../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../node_modules/focus-lock/dist/es2015/utils/correctFocus.js","../node_modules/focus-lock/dist/es2015/utils/firstFocus.js","../node_modules/focus-lock/dist/es2015/utils/is.js","../node_modules/focus-lock/dist/es2015/solver.js","../node_modules/focus-lock/dist/es2015/utils/array.js","../node_modules/focus-lock/dist/es2015/utils/all-affected.js","../node_modules/focus-lock/dist/es2015/utils/tabOrder.js","../node_modules/focus-lock/dist/es2015/utils/tabUtils.js","../node_modules/focus-lock/dist/es2015/utils/tabbables.js","../node_modules/focus-lock/dist/es2015/utils/DOMutils.js","../node_modules/focus-lock/dist/es2015/utils/parenting.js","../node_modules/focus-lock/dist/es2015/focusMerge.js","../node_modules/focus-lock/dist/es2015/setFocus.js","../node_modules/focus-lock/dist/es2015/index.js","../node_modules/focus-lock/dist/es2015/focusInside.js","../node_modules/react-focus-lock/dist/es2015/util.js","../node_modules/react-focus-lock/dist/es2015/Trap.js","../node_modules/focus-lock/dist/es2015/focusIsHidden.js","../node_modules/focus-lock/dist/es2015/focusables.js","../node_modules/react-focus-lock/dist/es2015/Combination.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/react-focus-lock/dist/es2015/index.js","../node_modules/@chakra-ui/focus-lock/dist/chakra-ui-focus-lock.esm.js","../node_modules/@chakra-ui/transition/dist/chakra-ui-transition.esm.js","../node_modules/react-remove-scroll-bar/dist/es2015/constants.js","../node_modules/react-remove-scroll/dist/es2015/medium.js","../node_modules/react-remove-scroll/dist/es2015/UI.js","../node_modules/use-sidecar/dist/es2015/exports.js","../node_modules/get-nonce/dist/es2015/index.js","../node_modules/react-style-singleton/dist/es2015/singleton.js","../node_modules/react-style-singleton/dist/es2015/component.js","../node_modules/react-style-singleton/dist/es2015/hook.js","../node_modules/react-remove-scroll-bar/dist/es2015/utils.js","../node_modules/react-remove-scroll-bar/dist/es2015/component.js","../node_modules/react-remove-scroll/dist/es2015/handleScroll.js","../node_modules/react-remove-scroll/dist/es2015/aggresiveCapture.js","../node_modules/react-remove-scroll/dist/es2015/SideEffect.js","../node_modules/react-remove-scroll/dist/es2015/sidecar.js","../node_modules/react-remove-scroll/dist/es2015/Combination.js","../node_modules/aria-hidden/dist/es2015/index.js","../node_modules/@chakra-ui/modal/dist/chakra-ui-modal.esm.js","../node_modules/@popperjs/core/lib/dom-utils/getWindow.js","../node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","../node_modules/@popperjs/core/lib/utils/math.js","../node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","../node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","../node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","../node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","../node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","../node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","../node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","../node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","../node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","../node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","../node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","../node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","../node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","../node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","../node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","../node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","../node_modules/@popperjs/core/lib/enums.js","../node_modules/@popperjs/core/lib/utils/orderModifiers.js","../node_modules/@popperjs/core/lib/utils/debounce.js","../node_modules/@popperjs/core/lib/createPopper.js","../node_modules/@popperjs/core/lib/utils/mergeByName.js","../node_modules/@popperjs/core/lib/modifiers/eventListeners.js","../node_modules/@popperjs/core/lib/utils/getBasePlacement.js","../node_modules/@popperjs/core/lib/utils/getVariation.js","../node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","../node_modules/@popperjs/core/lib/utils/computeOffsets.js","../node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","../node_modules/@popperjs/core/lib/modifiers/computeStyles.js","../node_modules/@popperjs/core/lib/modifiers/offset.js","../node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","../node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","../node_modules/@popperjs/core/lib/dom-utils/contains.js","../node_modules/@popperjs/core/lib/utils/rectToClientRect.js","../node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","../node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","../node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","../node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","../node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","../node_modules/@popperjs/core/lib/utils/expandToHashMap.js","../node_modules/@popperjs/core/lib/utils/detectOverflow.js","../node_modules/@popperjs/core/lib/utils/within.js","../node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","../node_modules/@popperjs/core/lib/utils/getAltAxis.js","../node_modules/@popperjs/core/lib/modifiers/arrow.js","../node_modules/@popperjs/core/lib/modifiers/hide.js","../node_modules/@popperjs/core/lib/popper.js","../node_modules/@popperjs/core/lib/modifiers/applyStyles.js","../node_modules/@popperjs/core/lib/modifiers/flip.js","../node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","../node_modules/@chakra-ui/popper/dist/chakra-ui-popper.esm.js","../node_modules/@chakra-ui/media-query/dist/chakra-ui-media-query.esm.js","../node_modules/@chakra-ui/skeleton/dist/chakra-ui-skeleton.esm.js","../node_modules/@chakra-ui/tooltip/dist/chakra-ui-tooltip.esm.js","../node_modules/@socket.io/component-emitter/index.js","../node_modules/babel-runtime/core-js/object/assign.js","../node_modules/babel-runtime/core-js/object/create.js","../node_modules/babel-runtime/core-js/object/define-property.js","../node_modules/babel-runtime/core-js/object/get-prototype-of.js","../node_modules/babel-runtime/core-js/object/set-prototype-of.js","../node_modules/babel-runtime/core-js/symbol.js","../node_modules/babel-runtime/core-js/symbol/iterator.js","../node_modules/babel-runtime/helpers/classCallCheck.js","../node_modules/babel-runtime/helpers/createClass.js","../node_modules/babel-runtime/helpers/extends.js","../node_modules/babel-runtime/helpers/inherits.js","../node_modules/babel-runtime/helpers/possibleConstructorReturn.js","../node_modules/babel-runtime/helpers/typeof.js","../node_modules/babel-runtime/node_modules/core-js/library/fn/object/assign.js","../node_modules/babel-runtime/node_modules/core-js/library/fn/object/create.js","../node_modules/babel-runtime/node_modules/core-js/library/fn/object/define-property.js","../node_modules/babel-runtime/node_modules/core-js/library/fn/object/get-prototype-of.js","../node_modules/babel-runtime/node_modules/core-js/library/fn/object/set-prototype-of.js","../node_modules/babel-runtime/node_modules/core-js/library/fn/symbol/index.js","../node_modules/babel-runtime/node_modules/core-js/library/fn/symbol/iterator.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_a-function.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_add-to-unscopables.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_an-object.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_array-includes.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_cof.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_ctx.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_defined.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_descriptors.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_dom-create.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_enum-bug-keys.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_enum-keys.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_export.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_fails.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_global.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_has.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_hide.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_html.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_ie8-dom-define.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_iobject.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_is-array.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_is-object.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-create.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-define.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-step.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_iterators.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_library.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_meta.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-assign.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-create.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-dp.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-dps.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gopd.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gopn-ext.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gopn.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gops.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gpo.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys-internal.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-pie.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-sap.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_property-desc.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_redefine.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_set-proto.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_set-to-string-tag.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_shared-key.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_shared.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_string-at.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_to-absolute-index.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_to-integer.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_to-iobject.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_to-length.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_to-object.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_to-primitive.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_uid.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_wks-define.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_wks-ext.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_wks.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es6.array.iterator.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.assign.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.create.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.define-property.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.get-prototype-of.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.set-prototype-of.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es6.string.iterator.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es6.symbol.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es7.symbol.async-iterator.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es7.symbol.observable.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/web.dom.iterable.js","../node_modules/backo2/index.js","../node_modules/has-cors/index.js","../node_modules/lottie-web/build/player/lottie.js","../node_modules/parseqs/index.js","../node_modules/parseuri/index.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/react-lottie/dist/index.js","../node_modules/react-notification-badge/lib/components/AnimationCounter.js","../node_modules/react-notification-badge/lib/components/Effect.js","../node_modules/react-notification-badge/lib/components/NotificationBadge.js","../node_modules/react-notification-badge/lib/index.js","../node_modules/react-scrollable-feed/node_modules/tslib/tslib.es6.js","../node_modules/react-scrollable-feed/node_modules/style-inject/dist/style-inject.es.js","../node_modules/react-scrollable-feed/src/index.tsx","../node_modules/yeast/index.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/engine.io-client/build/esm/globalThis.browser.js","../node_modules/engine.io-client/build/esm/transports/xmlhttprequest.browser.js","../node_modules/engine.io-client/build/esm/util.js","../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/engine.io-parser/build/esm/commons.js","../node_modules/@socket.io/base64-arraybuffer/src/index.ts","../node_modules/engine.io-parser/build/esm/encodePacket.browser.js","../node_modules/engine.io-parser/build/esm/decodePacket.browser.js","../node_modules/engine.io-parser/build/esm/index.js","../node_modules/engine.io-client/build/esm/transport.js","../node_modules/engine.io-client/build/esm/transports/polling.js","../node_modules/engine.io-client/build/esm/transports/polling-xhr.js","../node_modules/engine.io-client/build/esm/transports/websocket-constructor.browser.js","../node_modules/engine.io-client/build/esm/transports/websocket.js","../node_modules/engine.io-client/build/esm/transports/index.js","../node_modules/engine.io-client/build/esm/socket.js","../node_modules/engine.io-client/build/esm/index.js","../node_modules/socket.io-parser/build/esm/is-binary.js","../node_modules/socket.io-parser/build/esm/binary.js","../node_modules/socket.io-parser/build/esm/index.js","../node_modules/socket.io-client/build/esm/on.js","../node_modules/socket.io-client/build/esm/socket.js","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/socket.io-client/build/esm/manager.js","../node_modules/socket.io-client/build/esm/index.js","../node_modules/socket.io-client/build/esm/url.js"],"sourcesContent":["import { forwardRef, chakra } from '@chakra-ui/system';\nimport { omit, __DEV__ } from '@chakra-ui/utils';\nimport * as React from 'react';\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport { useSafeLayoutEffect } from '@chakra-ui/hooks';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\n/**\n * React hook that loads an image in the browser,\n * and let's us know the `status` so we can show image\n * fallback if it is still `pending`\n *\n * @returns the status of the image loading progress\n *\n * @example\n *\n * ```jsx\n * function App(){\n *   const status = useImage({ src: \"image.png\" })\n *   return status === \"loaded\" ? <img src=\"image.png\" /> : <Placeholder />\n * }\n * ```\n */\nfunction useImage(props) {\n  var loading = props.loading,\n      src = props.src,\n      srcSet = props.srcSet,\n      onLoad = props.onLoad,\n      onError = props.onError,\n      crossOrigin = props.crossOrigin,\n      sizes = props.sizes,\n      ignoreFallback = props.ignoreFallback;\n\n  var _useState = useState(\"pending\"),\n      status = _useState[0],\n      setStatus = _useState[1];\n\n  useEffect(function () {\n    setStatus(src ? \"loading\" : \"pending\");\n  }, [src]);\n  var imageRef = useRef();\n  var load = useCallback(function () {\n    if (!src) return;\n    flush();\n    var img = new Image();\n    img.src = src;\n    if (crossOrigin) img.crossOrigin = crossOrigin;\n    if (srcSet) img.srcset = srcSet;\n    if (sizes) img.sizes = sizes;\n    if (loading) img.loading = loading;\n\n    img.onload = function (event) {\n      flush();\n      setStatus(\"loaded\");\n      onLoad == null ? void 0 : onLoad(event);\n    };\n\n    img.onerror = function (error) {\n      flush();\n      setStatus(\"failed\");\n      onError == null ? void 0 : onError(error);\n    };\n\n    imageRef.current = img;\n  }, [src, crossOrigin, srcSet, sizes, onLoad, onError, loading]);\n\n  var flush = function flush() {\n    if (imageRef.current) {\n      imageRef.current.onload = null;\n      imageRef.current.onerror = null;\n      imageRef.current = null;\n    }\n  };\n\n  useSafeLayoutEffect(function () {\n    /**\n     * If user opts out of the fallback/placeholder\n     * logic, let's bail out.\n     */\n    if (ignoreFallback) return undefined;\n\n    if (status === \"loading\") {\n      load();\n    }\n\n    return function () {\n      flush();\n    };\n  }, [status, load, ignoreFallback]);\n  /**\n   * If user opts out of the fallback/placeholder\n   * logic, let's just return 'loaded'\n   */\n\n  return ignoreFallback ? \"loaded\" : status;\n}\n\nvar _excluded = [\"htmlWidth\", \"htmlHeight\", \"alt\"],\n    _excluded2 = [\"fallbackSrc\", \"fallback\", \"src\", \"srcSet\", \"align\", \"fit\", \"loading\", \"ignoreFallback\", \"crossOrigin\"];\nvar NativeImage = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var htmlWidth = props.htmlWidth,\n      htmlHeight = props.htmlHeight,\n      alt = props.alt,\n      rest = _objectWithoutPropertiesLoose(props, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"img\", _extends({\n    width: htmlWidth,\n    height: htmlHeight,\n    ref: ref,\n    alt: alt\n  }, rest));\n});\n\n/**\n * React component that renders an image with support\n * for fallbacks\n *\n * @see Docs https://chakra-ui.com/image\n */\nvar Image$1 = /*#__PURE__*/forwardRef(function (props, ref) {\n  var fallbackSrc = props.fallbackSrc,\n      fallback = props.fallback,\n      src = props.src,\n      srcSet = props.srcSet,\n      align = props.align,\n      fit = props.fit,\n      loading = props.loading,\n      ignoreFallback = props.ignoreFallback,\n      crossOrigin = props.crossOrigin,\n      rest = _objectWithoutPropertiesLoose(props, _excluded2);\n  /**\n   * Defer to native `img` tag if `loading` prop is passed\n   * @see https://github.com/chakra-ui/chakra-ui/issues/1027\n   */\n\n\n  var shouldIgnore = loading != null || ignoreFallback || fallbackSrc === undefined && fallback === undefined; // if the user doesn't provide any kind of fallback we should ignore it\n\n  var status = useImage(_extends({}, props, {\n    ignoreFallback: shouldIgnore\n  }));\n\n  var shared = _extends({\n    ref: ref,\n    objectFit: fit,\n    objectPosition: align\n  }, shouldIgnore ? rest : omit(rest, [\"onError\", \"onLoad\"]));\n\n  if (status !== \"loaded\") {\n    /**\n     * If user passed a custom fallback component,\n     * let's render it here.\n     */\n    if (fallback) return fallback;\n    return /*#__PURE__*/React.createElement(chakra.img, _extends({\n      as: NativeImage,\n      className: \"chakra-image__placeholder\",\n      src: fallbackSrc\n    }, shared));\n  }\n\n  return /*#__PURE__*/React.createElement(chakra.img, _extends({\n    as: NativeImage,\n    src: src,\n    srcSet: srcSet,\n    crossOrigin: crossOrigin,\n    loading: loading,\n    className: \"chakra-image\"\n  }, shared));\n});\n\n/**\n * Fallback component for most SSR users who want to use the native `img` with\n * support for chakra props\n */\nvar Img = /*#__PURE__*/forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(chakra.img, _extends({\n    ref: ref,\n    as: NativeImage,\n    className: \"chakra-image\"\n  }, props));\n});\n\nif (__DEV__) {\n  Image$1.displayName = \"Image\";\n}\n\nexport { Image$1 as Image, Img, useImage };\n","import { useImage } from '@chakra-ui/image';\nimport { forwardRef, useStyles, chakra, useMultiStyleConfig, omitThemingProps, StylesProvider } from '@chakra-ui/system';\nimport { cx, __DEV__, filterUndefined } from '@chakra-ui/utils';\nimport * as React from 'react';\nimport { getValidChildren } from '@chakra-ui/react-utils';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar _excluded$1 = [\"name\", \"getInitials\"],\n    _excluded2 = [\"src\", \"srcSet\", \"name\", \"showBorder\", \"borderRadius\", \"onError\", \"getInitials\", \"icon\", \"iconLabel\", \"loading\", \"children\", \"borderColor\", \"ignoreFallback\"];\n\n/**\n * AvatarBadge used to show extra badge to the top-right\n * or bottom-right corner of an avatar.\n */\nvar AvatarBadge = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useStyles();\n\n  var badgeStyles = _extends({\n    position: \"absolute\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    insetEnd: \"0\",\n    bottom: \"0\"\n  }, styles.badge);\n\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    ref: ref\n  }, props, {\n    className: cx(\"chakra-avatar__badge\", props.className),\n    __css: badgeStyles\n  }));\n});\n\nif (__DEV__) {\n  AvatarBadge.displayName = \"AvatarBadge\";\n}\n\nfunction initials(name) {\n  var _name$split = name.split(\" \"),\n      firstName = _name$split[0],\n      lastName = _name$split[1];\n\n  return firstName && lastName ? \"\" + firstName.charAt(0) + lastName.charAt(0) : firstName.charAt(0);\n}\n\n/**\n * The avatar name container\n */\nvar AvatarName = function AvatarName(props) {\n  var name = props.name,\n      getInitials = props.getInitials,\n      rest = _objectWithoutPropertiesLoose(props, _excluded$1);\n\n  var styles = useStyles();\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    role: \"img\",\n    \"aria-label\": name\n  }, rest, {\n    __css: styles.label\n  }), name ? getInitials == null ? void 0 : getInitials(name) : null);\n};\n/**\n * Fallback avatar react component.\n * This should be a generic svg used to represent an avatar\n */\n\n\nvar DefaultIcon = function DefaultIcon(props) {\n  return /*#__PURE__*/React.createElement(chakra.svg, _extends({\n    viewBox: \"0 0 128 128\",\n    color: \"#fff\",\n    width: \"100%\",\n    height: \"100%\",\n    className: \"chakra-avatar__svg\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24\"\n  }));\n};\n\nvar baseStyle = {\n  display: \"inline-flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  textAlign: \"center\",\n  textTransform: \"uppercase\",\n  fontWeight: \"medium\",\n  position: \"relative\",\n  flexShrink: 0\n};\n\n/**\n * Avatar component that renders an user avatar with\n * support for fallback avatar and name-only avatars\n */\nvar Avatar = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useMultiStyleConfig(\"Avatar\", props);\n\n  var _omitThemingProps = omitThemingProps(props),\n      src = _omitThemingProps.src,\n      srcSet = _omitThemingProps.srcSet,\n      name = _omitThemingProps.name,\n      showBorder = _omitThemingProps.showBorder,\n      _omitThemingProps$bor = _omitThemingProps.borderRadius,\n      borderRadius = _omitThemingProps$bor === void 0 ? \"full\" : _omitThemingProps$bor,\n      onError = _omitThemingProps.onError,\n      _omitThemingProps$get = _omitThemingProps.getInitials,\n      getInitials = _omitThemingProps$get === void 0 ? initials : _omitThemingProps$get,\n      _omitThemingProps$ico = _omitThemingProps.icon,\n      icon = _omitThemingProps$ico === void 0 ? /*#__PURE__*/React.createElement(DefaultIcon, null) : _omitThemingProps$ico,\n      _omitThemingProps$ico2 = _omitThemingProps.iconLabel,\n      iconLabel = _omitThemingProps$ico2 === void 0 ? \" avatar\" : _omitThemingProps$ico2,\n      loading = _omitThemingProps.loading,\n      children = _omitThemingProps.children,\n      borderColor = _omitThemingProps.borderColor,\n      ignoreFallback = _omitThemingProps.ignoreFallback,\n      rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded2);\n\n  var avatarStyles = _extends({\n    borderRadius: borderRadius,\n    borderWidth: showBorder ? \"2px\" : undefined\n  }, baseStyle, styles.container);\n\n  if (borderColor) {\n    avatarStyles.borderColor = borderColor;\n  }\n\n  return /*#__PURE__*/React.createElement(chakra.span, _extends({\n    ref: ref\n  }, rest, {\n    className: cx(\"chakra-avatar\", props.className),\n    __css: avatarStyles\n  }), /*#__PURE__*/React.createElement(StylesProvider, {\n    value: styles\n  }, /*#__PURE__*/React.createElement(AvatarImage, {\n    src: src,\n    srcSet: srcSet,\n    loading: loading,\n    onError: onError,\n    getInitials: getInitials,\n    name: name,\n    borderRadius: borderRadius,\n    icon: icon,\n    iconLabel: iconLabel,\n    ignoreFallback: ignoreFallback\n  }), children));\n});\n\nif (__DEV__) {\n  Avatar.displayName = \"Avatar\";\n}\n\nvar AvatarImage = function AvatarImage(props) {\n  var src = props.src,\n      srcSet = props.srcSet,\n      onError = props.onError,\n      getInitials = props.getInitials,\n      name = props.name,\n      borderRadius = props.borderRadius,\n      loading = props.loading,\n      iconLabel = props.iconLabel,\n      _props$icon = props.icon,\n      icon = _props$icon === void 0 ? /*#__PURE__*/React.createElement(DefaultIcon, null) : _props$icon,\n      ignoreFallback = props.ignoreFallback;\n  /**\n   * use the image hook to only show the image when it has loaded\n   */\n\n  var status = useImage({\n    src: src,\n    onError: onError,\n    ignoreFallback: ignoreFallback\n  });\n  var hasLoaded = status === \"loaded\";\n  /**\n   * Fallback avatar applies under 2 conditions:\n   * - If `src` was passed and the image has not loaded or failed to load\n   * - If `src` wasn't passed\n   *\n   * In this case, we'll show either the name avatar or default avatar\n   */\n\n  var showFallback = !src || !hasLoaded;\n\n  if (showFallback) {\n    return name ? /*#__PURE__*/React.createElement(AvatarName, {\n      className: \"chakra-avatar__initials\",\n      getInitials: getInitials,\n      name: name\n    }) : /*#__PURE__*/React.cloneElement(icon, {\n      role: \"img\",\n      \"aria-label\": iconLabel\n    });\n  }\n  /**\n   * If `src` was passed and the image has loaded, we'll show it\n   */\n\n\n  return /*#__PURE__*/React.createElement(chakra.img, {\n    src: src,\n    srcSet: srcSet,\n    alt: name,\n    className: \"chakra-avatar__img\",\n    loading: loading,\n    __css: {\n      width: \"100%\",\n      height: \"100%\",\n      objectFit: \"cover\",\n      borderRadius: borderRadius\n    }\n  });\n};\n\nif (__DEV__) {\n  AvatarImage.displayName = \"AvatarImage\";\n}\n\nvar _excluded = [\"children\", \"borderColor\", \"max\", \"spacing\", \"borderRadius\"];\n\n/**\n * AvatarGroup displays a number of avatars grouped together in a stack.\n */\nvar AvatarGroup = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useMultiStyleConfig(\"Avatar\", props);\n\n  var _omitThemingProps = omitThemingProps(props),\n      children = _omitThemingProps.children,\n      borderColor = _omitThemingProps.borderColor,\n      max = _omitThemingProps.max,\n      _omitThemingProps$spa = _omitThemingProps.spacing,\n      spacing = _omitThemingProps$spa === void 0 ? \"-0.75rem\" : _omitThemingProps$spa,\n      _omitThemingProps$bor = _omitThemingProps.borderRadius,\n      borderRadius = _omitThemingProps$bor === void 0 ? \"full\" : _omitThemingProps$bor,\n      rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded);\n\n  var validChildren = getValidChildren(children);\n  /**\n   * get the avatars within the max\n   */\n\n  var childrenWithinMax = max ? validChildren.slice(0, max) : validChildren;\n  /**\n   * get the remaining avatar count\n   */\n\n  var excess = max != null && validChildren.length - max;\n  /**\n   * Reversing the children is a great way to avoid using zIndex\n   * to overlap the avatars\n   */\n\n  var reversedChildren = childrenWithinMax.reverse();\n  var clones = reversedChildren.map(function (child, index) {\n    var _child$props$borderCo;\n\n    var isFirstAvatar = index === 0;\n    var childProps = {\n      marginEnd: isFirstAvatar ? 0 : spacing,\n      size: props.size,\n      borderColor: (_child$props$borderCo = child.props.borderColor) != null ? _child$props$borderCo : borderColor,\n      showBorder: true\n    };\n    return /*#__PURE__*/React.cloneElement(child, filterUndefined(childProps));\n  });\n  var groupStyles = {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    flexDirection: \"row-reverse\"\n  };\n\n  var excessStyles = _extends({\n    borderRadius: borderRadius,\n    marginStart: spacing\n  }, baseStyle, styles.excessLabel);\n\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    ref: ref,\n    role: \"group\",\n    __css: groupStyles\n  }, rest, {\n    className: cx(\"chakra-avatar__group\", props.className)\n  }), excess > 0 && /*#__PURE__*/React.createElement(chakra.span, {\n    className: \"chakra-avatar__excess\",\n    __css: excessStyles\n  }, \"+\" + excess), clones);\n});\n\nif (__DEV__) {\n  AvatarGroup.displayName = \"AvatarGroup\";\n}\n\nexport { Avatar, AvatarBadge, AvatarGroup, baseStyle };\n","export * from 'css-box-model';\nexport { default as mergeWith } from 'lodash.mergewith';\nimport sync, { cancelSync, getFrameData } from 'framesync';\n\nfunction getFirstItem(array) {\n  return array != null && array.length ? array[0] : undefined;\n}\nfunction getLastItem(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\nfunction getPrevItem(index, array, loop) {\n  if (loop === void 0) {\n    loop = true;\n  }\n\n  var prevIndex = getPrevIndex(index, array.length, loop);\n  return array[prevIndex];\n}\nfunction getNextItem(index, array, loop) {\n  if (loop === void 0) {\n    loop = true;\n  }\n\n  var nextIndex = getNextIndex(index, array.length, 1, loop);\n  return array[nextIndex];\n}\nfunction removeIndex(array, index) {\n  return array.filter(function (_, idx) {\n    return idx !== index;\n  });\n}\nfunction addItem(array, item) {\n  return [].concat(array, [item]);\n}\nfunction removeItem(array, item) {\n  return array.filter(function (eachItem) {\n    return eachItem !== item;\n  });\n}\n/**\n * Get the next index based on the current index and step.\n *\n * @param currentIndex the current index\n * @param length the total length or count of items\n * @param step the number of steps\n * @param loop whether to circle back once `currentIndex` is at the start/end\n */\n\nfunction getNextIndex(currentIndex, length, step, loop) {\n  if (step === void 0) {\n    step = 1;\n  }\n\n  if (loop === void 0) {\n    loop = true;\n  }\n\n  var lastIndex = length - 1;\n\n  if (currentIndex === -1) {\n    return step > 0 ? 0 : lastIndex;\n  }\n\n  var nextIndex = currentIndex + step;\n\n  if (nextIndex < 0) {\n    return loop ? lastIndex : 0;\n  }\n\n  if (nextIndex >= length) {\n    if (loop) return 0;\n    return currentIndex > length ? length : currentIndex;\n  }\n\n  return nextIndex;\n}\n/**\n * Get's the previous index based on the current index.\n * Mostly used for keyboard navigation.\n *\n * @param index - the current index\n * @param count - the length or total count of items in the array\n * @param loop - whether we should circle back to the\n * first/last once `currentIndex` is at the start/end\n */\n\nfunction getPrevIndex(index, count, loop) {\n  if (loop === void 0) {\n    loop = true;\n  }\n\n  return getNextIndex(index, count, -1, loop);\n}\n/**\n * Converts an array into smaller chunks or groups.\n *\n * @param array the array to chunk into group\n * @param size the length of each chunk\n */\n\nfunction chunk(array, size) {\n  return array.reduce(function (rows, currentValue, index) {\n    if (index % size === 0) {\n      rows.push([currentValue]);\n    } else {\n      rows[rows.length - 1].push(currentValue);\n    }\n\n    return rows;\n  }, []);\n}\n/**\n * Gets the next item based on a search string\n *\n * @param items array of items\n * @param searchString the search string\n * @param itemToString resolves an item to string\n * @param currentItem the current selected item\n */\n\nfunction getNextItemFromSearch(items, searchString, itemToString, currentItem) {\n  if (searchString == null) {\n    return currentItem;\n  } // If current item doesn't exist, find the item that matches the search string\n\n\n  if (!currentItem) {\n    var foundItem = items.find(function (item) {\n      return itemToString(item).toLowerCase().startsWith(searchString.toLowerCase());\n    });\n    return foundItem;\n  } // Filter items for ones that match the search string (case insensitive)\n\n\n  var matchingItems = items.filter(function (item) {\n    return itemToString(item).toLowerCase().startsWith(searchString.toLowerCase());\n  }); // If there's a match, let's get the next item to select\n\n  if (matchingItems.length > 0) {\n    var nextIndex; // If the currentItem is in the available items, we move to the next available option\n\n    if (matchingItems.includes(currentItem)) {\n      var currentIndex = matchingItems.indexOf(currentItem);\n      nextIndex = currentIndex + 1;\n\n      if (nextIndex === matchingItems.length) {\n        nextIndex = 0;\n      }\n\n      return matchingItems[nextIndex];\n    } // Else, we pick the first item in the available items\n\n\n    nextIndex = items.indexOf(matchingItems[0]);\n    return items[nextIndex];\n  } // a decent fallback to the currentItem\n\n\n  return currentItem;\n}\n\n// Number assertions\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\nfunction isNotNumber(value) {\n  return typeof value !== \"number\" || Number.isNaN(value) || !Number.isFinite(value);\n}\nfunction isNumeric(value) {\n  return value != null && value - parseFloat(value) + 1 >= 0;\n} // Array assertions\n\nfunction isArray(value) {\n  return Array.isArray(value);\n}\nfunction isEmptyArray(value) {\n  return isArray(value) && value.length === 0;\n} // Function assertions\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n} // Generic assertions\n\nfunction isDefined(value) {\n  return typeof value !== \"undefined\" && value !== undefined;\n}\nfunction isUndefined(value) {\n  return typeof value === \"undefined\" || value === undefined;\n} // Object assertions\n\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type === \"object\" || type === \"function\") && !isArray(value);\n}\nfunction isEmptyObject(value) {\n  return isObject(value) && Object.keys(value).length === 0;\n}\nfunction isNotEmptyObject(value) {\n  return value && !isEmptyObject(value);\n}\nfunction isNull(value) {\n  return value == null;\n} // String assertions\n\nfunction isString(value) {\n  return Object.prototype.toString.call(value) === \"[object String]\";\n}\nfunction isCssVar(value) {\n  return /^var\\(--.+\\)$/.test(value);\n} // Empty assertions\n\nfunction isEmpty(value) {\n  if (isArray(value)) return isEmptyArray(value);\n  if (isObject(value)) return isEmptyObject(value);\n  if (value == null || value === \"\") return true;\n  return false;\n}\nvar __DEV__ = process.env.NODE_ENV !== \"production\";\nvar __TEST__ = process.env.NODE_ENV === \"test\";\nfunction isRefObject(val) {\n  return \"current\" in val;\n}\nfunction isInputEvent(value) {\n  return value && isObject(value) && isObject(value.target);\n}\n\nfunction omit(object, keys) {\n  var result = {};\n  Object.keys(object).forEach(function (key) {\n    if (keys.includes(key)) return;\n    result[key] = object[key];\n  });\n  return result;\n}\nfunction pick(object, keys) {\n  var result = {};\n  keys.forEach(function (key) {\n    if (key in object) {\n      result[key] = object[key];\n    }\n  });\n  return result;\n}\nfunction split(object, keys) {\n  var picked = {};\n  var omitted = {};\n  Object.keys(object).forEach(function (key) {\n    if (keys.includes(key)) {\n      picked[key] = object[key];\n    } else {\n      omitted[key] = object[key];\n    }\n  });\n  return [picked, omitted];\n}\n/**\n * Get value from a deeply nested object using a string path.\n * Memoizes the value.\n * @param obj - the object\n * @param path - the string path\n * @param def  - the fallback value\n */\n\nfunction get(obj, path, fallback, index) {\n  var key = typeof path === \"string\" ? path.split(\".\") : [path];\n\n  for (index = 0; index < key.length; index += 1) {\n    if (!obj) break;\n    obj = obj[key[index]];\n  }\n\n  return obj === undefined ? fallback : obj;\n}\nvar memoize = function memoize(fn) {\n  var cache = new WeakMap();\n\n  var memoizedFn = function memoizedFn(obj, path, fallback, index) {\n    if (typeof obj === \"undefined\") {\n      return fn(obj, path, fallback);\n    }\n\n    if (!cache.has(obj)) {\n      cache.set(obj, new Map());\n    }\n\n    var map = cache.get(obj);\n\n    if (map.has(path)) {\n      return map.get(path);\n    }\n\n    var value = fn(obj, path, fallback, index);\n    map.set(path, value);\n    return value;\n  };\n\n  return memoizedFn;\n};\nvar memoizedGet = memoize(get);\n/**\n * Get value from deeply nested object, based on path\n * It returns the path value if not found in object\n *\n * @param path - the string path or value\n * @param scale - the string path or value\n */\n\nfunction getWithDefault(path, scale) {\n  return memoizedGet(scale, path, path);\n}\n\n/**\n * Returns the items of an object that meet the condition specified in a callback function.\n *\n * @param object the object to loop through\n * @param fn The filter function\n */\nfunction objectFilter(object, fn) {\n  var result = {};\n  Object.keys(object).forEach(function (key) {\n    var value = object[key];\n    var shouldPass = fn(value, key, object);\n\n    if (shouldPass) {\n      result[key] = value;\n    }\n  });\n  return result;\n}\nvar filterUndefined = function filterUndefined(object) {\n  return objectFilter(object, function (val) {\n    return val !== null && val !== undefined;\n  });\n};\nvar objectKeys = function objectKeys(obj) {\n  return Object.keys(obj);\n};\n/**\n * Object.entries polyfill for Nodev10 compatibility\n */\n\nvar fromEntries = function fromEntries(entries) {\n  return entries.reduce(function (carry, _ref) {\n    var key = _ref[0],\n        value = _ref[1];\n    carry[key] = value;\n    return carry;\n  }, {});\n};\n/**\n * Get the CSS variable ref stored in the theme\n */\n\nvar getCSSVar = function getCSSVar(theme, scale, value) {\n  var _theme$__cssMap$$varR, _theme$__cssMap$;\n\n  return (_theme$__cssMap$$varR = (_theme$__cssMap$ = theme.__cssMap[scale + \".\" + value]) == null ? void 0 : _theme$__cssMap$.varRef) != null ? _theme$__cssMap$$varR : value;\n};\n\nfunction analyzeCSSValue(value) {\n  var num = parseFloat(value.toString());\n  var unit = value.toString().replace(String(num), \"\");\n  return {\n    unitless: !unit,\n    value: num,\n    unit: unit\n  };\n}\n\nfunction px(value) {\n  if (value == null) return value;\n\n  var _analyzeCSSValue = analyzeCSSValue(value),\n      unitless = _analyzeCSSValue.unitless;\n\n  return unitless || isNumber(value) ? value + \"px\" : value;\n}\n\nvar sortByBreakpointValue = function sortByBreakpointValue(a, b) {\n  return parseInt(a[1], 10) > parseInt(b[1], 10) ? 1 : -1;\n};\n\nvar sortBps = function sortBps(breakpoints) {\n  return fromEntries(Object.entries(breakpoints).sort(sortByBreakpointValue));\n};\n\nfunction normalize(breakpoints) {\n  var sorted = sortBps(breakpoints);\n  return Object.assign(Object.values(sorted), sorted);\n}\n\nfunction keys(breakpoints) {\n  var value = Object.keys(sortBps(breakpoints));\n  return new Set(value);\n}\n\nfunction subtract(value) {\n  var _px;\n\n  if (!value) return value;\n  value = (_px = px(value)) != null ? _px : value;\n  var factor = value.endsWith(\"px\") ? -1 : // the equivalent of 1px in em using a 16px base\n  -0.0635;\n  return isNumber(value) ? \"\" + (value + factor) : value.replace(/([0-9]+\\.?[0-9]*)/, function (m) {\n    return \"\" + (parseFloat(m) + factor);\n  });\n}\n\nfunction queryString(min, max) {\n  var query = [];\n  if (min) query.push(\"@media screen and (min-width: \" + px(min) + \")\");\n  if (query.length > 0 && max) query.push(\"and\");\n  if (max) query.push(\"@media screen and (max-width: \" + px(max) + \")\");\n  return query.join(\" \");\n}\n\nfunction analyzeBreakpoints(breakpoints) {\n  var _breakpoints$base;\n\n  if (!breakpoints) return null;\n  breakpoints.base = (_breakpoints$base = breakpoints.base) != null ? _breakpoints$base : \"0px\";\n  var normalized = normalize(breakpoints);\n  var queries = Object.entries(breakpoints).sort(sortByBreakpointValue).map(function (_ref, index, entry) {\n    var _entry;\n\n    var breakpoint = _ref[0],\n        minW = _ref[1];\n\n    var _ref2 = (_entry = entry[index + 1]) != null ? _entry : [],\n        maxW = _ref2[1];\n\n    maxW = parseFloat(maxW) > 0 ? subtract(maxW) : undefined;\n    return {\n      breakpoint: breakpoint,\n      minW: minW,\n      maxW: maxW,\n      maxWQuery: queryString(null, maxW),\n      minWQuery: queryString(minW),\n      minMaxQuery: queryString(minW, maxW)\n    };\n  });\n\n  var _keys = keys(breakpoints);\n\n  var _keysArr = Array.from(_keys.values());\n\n  return {\n    keys: _keys,\n    normalized: normalized,\n    isResponsive: function isResponsive(test) {\n      var keys = Object.keys(test);\n      return keys.length > 0 && keys.every(function (key) {\n        return _keys.has(key);\n      });\n    },\n    asObject: sortBps(breakpoints),\n    asArray: normalize(breakpoints),\n    details: queries,\n    media: [null].concat(normalized.map(function (minW) {\n      return queryString(minW);\n    }).slice(1)),\n    toArrayValue: function toArrayValue(test) {\n      if (!isObject(test)) {\n        throw new Error(\"toArrayValue: value must be an object\");\n      }\n\n      var result = _keysArr.map(function (bp) {\n        var _test$bp;\n\n        return (_test$bp = test[bp]) != null ? _test$bp : null;\n      });\n\n      while (getLastItem(result) === null) {\n        result.pop();\n      }\n\n      return result;\n    },\n    toObjectValue: function toObjectValue(test) {\n      if (!Array.isArray(test)) {\n        throw new Error(\"toObjectValue: value must be an array\");\n      }\n\n      return test.reduce(function (acc, value, index) {\n        var key = _keysArr[index];\n        if (key != null && value != null) acc[key] = value;\n        return acc;\n      }, {});\n    }\n  };\n}\n\nfunction isElement(el) {\n  return el != null && typeof el == \"object\" && \"nodeType\" in el && el.nodeType === Node.ELEMENT_NODE;\n}\nfunction isHTMLElement(el) {\n  var _el$ownerDocument$def;\n\n  if (!isElement(el)) {\n    return false;\n  }\n\n  var win = (_el$ownerDocument$def = el.ownerDocument.defaultView) != null ? _el$ownerDocument$def : window;\n  return el instanceof win.HTMLElement;\n}\nfunction getOwnerWindow(node) {\n  var _getOwnerDocument$def, _getOwnerDocument;\n\n  return isElement(node) ? (_getOwnerDocument$def = (_getOwnerDocument = getOwnerDocument(node)) == null ? void 0 : _getOwnerDocument.defaultView) != null ? _getOwnerDocument$def : window : window;\n}\nfunction getOwnerDocument(node) {\n  var _node$ownerDocument;\n\n  return isElement(node) ? (_node$ownerDocument = node.ownerDocument) != null ? _node$ownerDocument : document : document;\n}\nfunction getEventWindow(event) {\n  var _view;\n\n  return (_view = event.view) != null ? _view : window;\n}\nfunction canUseDOM() {\n  return !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n}\nvar isBrowser = canUseDOM();\nvar dataAttr = function dataAttr(condition) {\n  return condition ? \"\" : undefined;\n};\nvar ariaAttr = function ariaAttr(condition) {\n  return condition ? true : undefined;\n};\nvar cx = function cx() {\n  for (var _len = arguments.length, classNames = new Array(_len), _key = 0; _key < _len; _key++) {\n    classNames[_key] = arguments[_key];\n  }\n\n  return classNames.filter(Boolean).join(\" \");\n};\nfunction getActiveElement(node) {\n  var doc = getOwnerDocument(node);\n  return doc == null ? void 0 : doc.activeElement;\n}\nfunction contains(parent, child) {\n  if (!parent) return false;\n  return parent === child || parent.contains(child);\n}\nfunction addDomEvent(target, eventName, handler, options) {\n  target.addEventListener(eventName, handler, options);\n  return function () {\n    target.removeEventListener(eventName, handler, options);\n  };\n}\n/**\n * Get the normalized event key across all browsers\n * @param event keyboard event\n */\n\nfunction normalizeEventKey(event) {\n  var key = event.key,\n      keyCode = event.keyCode;\n  var isArrowKey = keyCode >= 37 && keyCode <= 40 && key.indexOf(\"Arrow\") !== 0;\n  var eventKey = isArrowKey ? \"Arrow\" + key : key;\n  return eventKey;\n}\nfunction getRelatedTarget(event) {\n  var _event$target, _event$relatedTarget;\n\n  var target = (_event$target = event.target) != null ? _event$target : event.currentTarget;\n  var activeElement = getActiveElement(target);\n  return (_event$relatedTarget = event.relatedTarget) != null ? _event$relatedTarget : activeElement;\n}\nfunction isRightClick(event) {\n  return event.button !== 0;\n}\n\n// Really great work done by Diego Haz on this one\nvar hasDisplayNone = function hasDisplayNone(element) {\n  return window.getComputedStyle(element).display === \"none\";\n};\nvar hasTabIndex = function hasTabIndex(element) {\n  return element.hasAttribute(\"tabindex\");\n};\nvar hasNegativeTabIndex = function hasNegativeTabIndex(element) {\n  return hasTabIndex(element) && element.tabIndex === -1;\n};\nfunction isDisabled(element) {\n  return Boolean(element.getAttribute(\"disabled\")) === true || Boolean(element.getAttribute(\"aria-disabled\")) === true;\n}\nfunction isInputElement(element) {\n  return isHTMLElement(element) && element.tagName.toLowerCase() === \"input\" && \"select\" in element;\n}\nfunction isActiveElement(element) {\n  var doc = isHTMLElement(element) ? getOwnerDocument(element) : document;\n  return doc.activeElement === element;\n}\nfunction hasFocusWithin(element) {\n  if (!document.activeElement) return false;\n  return element.contains(document.activeElement);\n}\nfunction isHidden(element) {\n  if (element.parentElement && isHidden(element.parentElement)) return true;\n  return element.hidden;\n}\nfunction isContentEditable(element) {\n  var value = element.getAttribute(\"contenteditable\");\n  return value !== \"false\" && value != null;\n}\nfunction isFocusable(element) {\n  if (!isHTMLElement(element) || isHidden(element) || isDisabled(element)) {\n    return false;\n  }\n\n  var localName = element.localName;\n  var focusableTags = [\"input\", \"select\", \"textarea\", \"button\"];\n  if (focusableTags.indexOf(localName) >= 0) return true;\n  var others = {\n    a: function a() {\n      return element.hasAttribute(\"href\");\n    },\n    audio: function audio() {\n      return element.hasAttribute(\"controls\");\n    },\n    video: function video() {\n      return element.hasAttribute(\"controls\");\n    }\n  };\n\n  if (localName in others) {\n    return others[localName]();\n  }\n\n  if (isContentEditable(element)) return true;\n  return hasTabIndex(element);\n}\nfunction isTabbable(element) {\n  if (!element) return false;\n  return isHTMLElement(element) && isFocusable(element) && !hasNegativeTabIndex(element);\n}\n\nvar focusableElList = [\"input:not([disabled])\", \"select:not([disabled])\", \"textarea:not([disabled])\", \"embed\", \"iframe\", \"object\", \"a[href]\", \"area[href]\", \"button:not([disabled])\", \"[tabindex]\", \"audio[controls]\", \"video[controls]\", \"*[tabindex]:not([aria-disabled])\", \"*[contenteditable]\"];\nvar focusableElSelector = focusableElList.join();\nfunction getAllFocusable(container) {\n  var focusableEls = Array.from(container.querySelectorAll(focusableElSelector));\n  focusableEls.unshift(container);\n  return focusableEls.filter(isFocusable).filter(function (el) {\n    return window.getComputedStyle(el).display !== \"none\";\n  });\n}\nfunction getFirstFocusable(container) {\n  var allFocusable = getAllFocusable(container);\n  return allFocusable.length ? allFocusable[0] : null;\n}\nfunction getAllTabbable(container, fallbackToFocusable) {\n  var allFocusable = Array.from(container.querySelectorAll(focusableElSelector));\n  var allTabbable = allFocusable.filter(isTabbable);\n\n  if (isTabbable(container)) {\n    allTabbable.unshift(container);\n  }\n\n  if (!allTabbable.length && fallbackToFocusable) {\n    return allFocusable;\n  }\n\n  return allTabbable;\n}\nfunction getFirstTabbableIn(container, fallbackToFocusable) {\n  var _getAllTabbable = getAllTabbable(container, fallbackToFocusable),\n      first = _getAllTabbable[0];\n\n  return first || null;\n}\nfunction getLastTabbableIn(container, fallbackToFocusable) {\n  var allTabbable = getAllTabbable(container, fallbackToFocusable);\n  return allTabbable[allTabbable.length - 1] || null;\n}\nfunction getNextTabbable(container, fallbackToFocusable) {\n  var allFocusable = getAllFocusable(container);\n  var index = allFocusable.indexOf(document.activeElement);\n  var slice = allFocusable.slice(index + 1);\n  return slice.find(isTabbable) || allFocusable.find(isTabbable) || (fallbackToFocusable ? slice[0] : null);\n}\nfunction getPreviousTabbable(container, fallbackToFocusable) {\n  var allFocusable = getAllFocusable(container).reverse();\n  var index = allFocusable.indexOf(document.activeElement);\n  var slice = allFocusable.slice(index + 1);\n  return slice.find(isTabbable) || allFocusable.find(isTabbable) || (fallbackToFocusable ? slice[0] : null);\n}\nfunction focusNextTabbable(container, fallbackToFocusable) {\n  var nextTabbable = getNextTabbable(container, fallbackToFocusable);\n\n  if (nextTabbable && isHTMLElement(nextTabbable)) {\n    nextTabbable.focus();\n  }\n}\nfunction focusPreviousTabbable(container, fallbackToFocusable) {\n  var previousTabbable = getPreviousTabbable(container, fallbackToFocusable);\n\n  if (previousTabbable && isHTMLElement(previousTabbable)) {\n    previousTabbable.focus();\n  }\n}\n\nfunction matches(element, selectors) {\n  if (\"matches\" in element) return element.matches(selectors);\n  if (\"msMatchesSelector\" in element) return element.msMatchesSelector(selectors);\n  return element.webkitMatchesSelector(selectors);\n}\n\nfunction closest(element, selectors) {\n  if (\"closest\" in element) return element.closest(selectors);\n\n  do {\n    if (matches(element, selectors)) return element;\n    element = element.parentElement || element.parentNode;\n  } while (element !== null && element.nodeType === 1);\n\n  return null;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n\n  if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n/* eslint-disable no-nested-ternary */\nfunction runIfFn(valueOrFn) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return isFunction(valueOrFn) ? valueOrFn.apply(void 0, args) : valueOrFn;\n}\nfunction callAllHandlers() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n\n  return function func(event) {\n    fns.some(function (fn) {\n      fn == null ? void 0 : fn(event);\n      return event == null ? void 0 : event.defaultPrevented;\n    });\n  };\n}\nfunction callAll() {\n  for (var _len3 = arguments.length, fns = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    fns[_key3] = arguments[_key3];\n  }\n\n  return function mergedFn(arg) {\n    fns.forEach(function (fn) {\n      fn == null ? void 0 : fn(arg);\n    });\n  };\n}\nvar compose = function compose(fn1) {\n  for (var _len4 = arguments.length, fns = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    fns[_key4 - 1] = arguments[_key4];\n  }\n\n  return fns.reduce(function (f1, f2) {\n    return function () {\n      return f1(f2.apply(void 0, arguments));\n    };\n  }, fn1);\n};\nfunction once(fn) {\n  var result;\n  return function func() {\n    if (fn) {\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      result = fn.apply(this, args);\n      fn = null;\n    }\n\n    return result;\n  };\n}\nvar noop = function noop() {};\nvar warn = once(function (options) {\n  return function () {\n    var condition = options.condition,\n        message = options.message;\n\n    if (condition && __DEV__) {\n      console.warn(message);\n    }\n  };\n});\nvar error = once(function (options) {\n  return function () {\n    var condition = options.condition,\n        message = options.message;\n\n    if (condition && __DEV__) {\n      console.error(message);\n    }\n  };\n});\nvar pipe = function pipe() {\n  for (var _len6 = arguments.length, fns = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    fns[_key6] = arguments[_key6];\n  }\n\n  return function (v) {\n    return fns.reduce(function (a, b) {\n      return b(a);\n    }, v);\n  };\n};\n\nvar distance1D = function distance1D(a, b) {\n  return Math.abs(a - b);\n};\n\nvar isPoint = function isPoint(point) {\n  return \"x\" in point && \"y\" in point;\n};\n\nfunction distance(a, b) {\n  if (isNumber(a) && isNumber(b)) {\n    return distance1D(a, b);\n  }\n\n  if (isPoint(a) && isPoint(b)) {\n    var xDelta = distance1D(a.x, b.x);\n    var yDelta = distance1D(a.y, b.y);\n    return Math.sqrt(Math.pow(xDelta, 2) + Math.pow(yDelta, 2));\n  }\n\n  return 0;\n}\n\nfunction focus(element, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$isActive = _options.isActive,\n      isActive = _options$isActive === void 0 ? isActiveElement : _options$isActive,\n      nextTick = _options.nextTick,\n      _options$preventScrol = _options.preventScroll,\n      preventScroll = _options$preventScrol === void 0 ? true : _options$preventScrol,\n      _options$selectTextIf = _options.selectTextIfInput,\n      selectTextIfInput = _options$selectTextIf === void 0 ? true : _options$selectTextIf;\n  if (!element || isActive(element)) return -1;\n\n  function triggerFocus() {\n    if (!element) {\n      warn({\n        condition: true,\n        message: \"[chakra-ui]: can't call focus() on `null` or `undefined` element\"\n      });\n      return;\n    }\n\n    if (supportsPreventScroll()) {\n      element.focus({\n        preventScroll: preventScroll\n      });\n    } else {\n      element.focus();\n\n      if (preventScroll) {\n        var scrollableElements = getScrollableElements(element);\n        restoreScrollPosition(scrollableElements);\n      }\n    }\n\n    if (isInputElement(element) && selectTextIfInput) {\n      element.select();\n    }\n  }\n\n  if (nextTick) {\n    return requestAnimationFrame(triggerFocus);\n  }\n\n  triggerFocus();\n  return -1;\n}\nvar supportsPreventScrollCached = null;\n\nfunction supportsPreventScroll() {\n  if (supportsPreventScrollCached == null) {\n    supportsPreventScrollCached = false;\n\n    try {\n      var div = document.createElement(\"div\");\n      div.focus({\n        get preventScroll() {\n          supportsPreventScrollCached = true;\n          return true;\n        }\n\n      });\n    } catch (e) {// Ignore\n    }\n  }\n\n  return supportsPreventScrollCached;\n}\n\nfunction getScrollableElements(element) {\n  var _doc$defaultView;\n\n  var doc = getOwnerDocument(element);\n  var win = (_doc$defaultView = doc.defaultView) != null ? _doc$defaultView : window;\n  var parent = element.parentNode;\n  var scrollableElements = [];\n  var rootScrollingElement = doc.scrollingElement || doc.documentElement;\n\n  while (parent instanceof win.HTMLElement && parent !== rootScrollingElement) {\n    if (parent.offsetHeight < parent.scrollHeight || parent.offsetWidth < parent.scrollWidth) {\n      scrollableElements.push({\n        element: parent,\n        scrollTop: parent.scrollTop,\n        scrollLeft: parent.scrollLeft\n      });\n    }\n\n    parent = parent.parentNode;\n  }\n\n  if (rootScrollingElement instanceof win.HTMLElement) {\n    scrollableElements.push({\n      element: rootScrollingElement,\n      scrollTop: rootScrollingElement.scrollTop,\n      scrollLeft: rootScrollingElement.scrollLeft\n    });\n  }\n\n  return scrollableElements;\n}\n\nfunction restoreScrollPosition(scrollableElements) {\n  for (var _iterator = _createForOfIteratorHelperLoose(scrollableElements), _step; !(_step = _iterator()).done;) {\n    var _step$value = _step.value,\n        element = _step$value.element,\n        scrollTop = _step$value.scrollTop,\n        scrollLeft = _step$value.scrollLeft;\n    element.scrollTop = scrollTop;\n    element.scrollLeft = scrollLeft;\n  }\n}\n\n/**\n * Determines whether the children of a disclosure widget\n * should be rendered or not, depending on the lazy behavior.\n *\n * Used in accordion, tabs, popover, menu and other disclosure\n * widgets.\n */\nfunction determineLazyBehavior(options) {\n  var hasBeenSelected = options.hasBeenSelected,\n      isLazy = options.isLazy,\n      isSelected = options.isSelected,\n      _options$lazyBehavior = options.lazyBehavior,\n      lazyBehavior = _options$lazyBehavior === void 0 ? \"unmount\" : _options$lazyBehavior; // if not lazy, always render the disclosure's content\n\n  if (!isLazy) return true; // if the diclosure is selected, render the disclosure's content\n\n  if (isSelected) return true; // if the disclosure was selected but not active, keep its content active\n\n  if (lazyBehavior === \"keepMounted\" && hasBeenSelected) return true;\n  return false;\n}\n\nvar minSafeInteger = Number.MIN_SAFE_INTEGER || -9007199254740991;\nvar maxSafeInteger = Number.MAX_SAFE_INTEGER || 9007199254740991;\n\nfunction toNumber(value) {\n  var num = parseFloat(value);\n  return isNotNumber(num) ? 0 : num;\n}\n/**\n * Converts a value to a specific precision (or decimal points).\n *\n * Returns a string representing a number in fixed-point notation.\n *\n * @param value the value to convert\n * @param precision the precision or decimal points\n */\n\n\nfunction toPrecision(value, precision) {\n  var nextValue = toNumber(value);\n  var scaleFactor = Math.pow(10, precision != null ? precision : 10);\n  nextValue = Math.round(nextValue * scaleFactor) / scaleFactor;\n  return precision ? nextValue.toFixed(precision) : nextValue.toString();\n}\n/**\n * Counts the number of decimal places a number has\n *\n * @param value the decimal value to count\n */\n\nfunction countDecimalPlaces(value) {\n  if (!Number.isFinite(value)) return 0;\n  var e = 1;\n  var p = 0;\n\n  while (Math.round(value * e) / e !== value) {\n    e *= 10;\n    p += 1;\n  }\n\n  return p;\n}\n/**\n * Convert a value to percentage based on lower and upper bound values\n *\n * @param value the value in number\n * @param min the minimum value\n * @param max the maximum value\n */\n\nfunction valueToPercent(value, min, max) {\n  return (value - min) * 100 / (max - min);\n}\n/**\n * Calculate the value based on percentage, lower and upper bound values\n *\n * @param percent the percent value in decimals (e.g 0.6, 0.3)\n * @param min the minimum value\n * @param max the maximum value\n */\n\nfunction percentToValue(percent, min, max) {\n  return (max - min) * percent + min;\n}\n/**\n * Rounds a specific value to the next or previous step\n *\n * @param value the value to round\n * @param from the number that stepping started from\n * @param step the specified step\n */\n\nfunction roundValueToStep(value, from, step) {\n  var nextValue = Math.round((value - from) / step) * step + from;\n  var precision = countDecimalPlaces(step);\n  return toPrecision(nextValue, precision);\n}\n/**\n * Clamps a value to ensure it stays within the min and max range.\n *\n * @param value the value to clamp\n * @param min the minimum value\n * @param max the maximum value\n */\n\nfunction clampValue(value, min, max) {\n  if (value == null) return value;\n  warn({\n    condition: max < min,\n    message: \"clamp: max cannot be less than min\"\n  });\n  return Math.min(Math.max(value, min), max);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n/**\n * Credit goes to `framer-motion` of this useful utilities.\n * License can be found here: https://github.com/framer/motion\n */\nfunction isMouseEvent(event) {\n  var win = getEventWindow(event); // PointerEvent inherits from MouseEvent so we can't use a straight instanceof check.\n\n  if (typeof win.PointerEvent !== \"undefined\" && event instanceof win.PointerEvent) {\n    return !!(event.pointerType === \"mouse\");\n  }\n\n  return event instanceof win.MouseEvent;\n}\nfunction isTouchEvent(event) {\n  var hasTouches = !!event.touches;\n  return hasTouches;\n}\n\n/**\n * Filters out events not attached to the primary pointer (currently left mouse button)\n * @param eventHandler\n */\nfunction filterPrimaryPointer(eventHandler) {\n  return function (event) {\n    var win = getEventWindow(event);\n    var isMouseEvent = event instanceof win.MouseEvent;\n    var isPrimaryPointer = !isMouseEvent || isMouseEvent && event.button === 0;\n\n    if (isPrimaryPointer) {\n      eventHandler(event);\n    }\n  };\n}\n\nvar defaultPagePoint = {\n  pageX: 0,\n  pageY: 0\n};\n\nfunction pointFromTouch(e, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n\n  var primaryTouch = e.touches[0] || e.changedTouches[0];\n  var point = primaryTouch || defaultPagePoint;\n  return {\n    x: point[pointType + \"X\"],\n    y: point[pointType + \"Y\"]\n  };\n}\n\nfunction pointFromMouse(point, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n\n  return {\n    x: point[pointType + \"X\"],\n    y: point[pointType + \"Y\"]\n  };\n}\n\nfunction extractEventInfo(event, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n\n  return {\n    point: isTouchEvent(event) ? pointFromTouch(event, pointType) : pointFromMouse(event, pointType)\n  };\n}\nfunction getViewportPointFromEvent(event) {\n  return extractEventInfo(event, \"client\");\n}\nvar wrapPointerEventHandler = function wrapPointerEventHandler(handler, shouldFilterPrimaryPointer) {\n  if (shouldFilterPrimaryPointer === void 0) {\n    shouldFilterPrimaryPointer = false;\n  }\n\n  var listener = function listener(event) {\n    return handler(event, extractEventInfo(event));\n  };\n\n  return shouldFilterPrimaryPointer ? filterPrimaryPointer(listener) : listener;\n}; // We check for event support via functions in case they've been mocked by a testing suite.\n\nvar supportsPointerEvents = function supportsPointerEvents() {\n  return isBrowser && window.onpointerdown === null;\n};\n\nvar supportsTouchEvents = function supportsTouchEvents() {\n  return isBrowser && window.ontouchstart === null;\n};\n\nvar supportsMouseEvents = function supportsMouseEvents() {\n  return isBrowser && window.onmousedown === null;\n};\n\nvar mouseEventNames = {\n  pointerdown: \"mousedown\",\n  pointermove: \"mousemove\",\n  pointerup: \"mouseup\",\n  pointercancel: \"mousecancel\",\n  pointerover: \"mouseover\",\n  pointerout: \"mouseout\",\n  pointerenter: \"mouseenter\",\n  pointerleave: \"mouseleave\"\n};\nvar touchEventNames = {\n  pointerdown: \"touchstart\",\n  pointermove: \"touchmove\",\n  pointerup: \"touchend\",\n  pointercancel: \"touchcancel\"\n};\nfunction getPointerEventName(name) {\n  if (supportsPointerEvents()) {\n    return name;\n  }\n\n  if (supportsTouchEvents()) {\n    return touchEventNames[name];\n  }\n\n  if (supportsMouseEvents()) {\n    return mouseEventNames[name];\n  }\n\n  return name;\n}\nfunction addPointerEvent(target, eventName, handler, options) {\n  return addDomEvent(target, getPointerEventName(eventName), wrapPointerEventHandler(handler, eventName === \"pointerdown\"), options);\n}\nfunction isMultiTouchEvent(event) {\n  return isTouchEvent(event) && event.touches.length > 1;\n}\n\n/**\n * The event information passed to pan event handlers like `onPan`, `onPanStart`.\n *\n * It contains information about the current state of the tap gesture such as its\n * `point`, `delta`, and `offset`\n */\n\n/**\n * @internal\n *\n * A Pan Session is recognized when the pointer is down\n * and moved in the allowed direction.\n */\nvar PanSession = /*#__PURE__*/function () {\n  /**\n   * We use this to keep track of the `x` and `y` pan session history\n   * as the pan event happens. It helps to calculate the `offset` and `delta`\n   */\n  // The pointer event that started the pan session\n  // The current pointer event for the pan session\n  // The current pointer event info for the pan session\n\n  /**\n   * Minimal pan distance required before recognizing the pan.\n   * @default \"3px\"\n   */\n  function PanSession(_event, handlers, threshold) {\n    var _this = this;\n\n    this.history = [];\n    this.startEvent = null;\n    this.lastEvent = null;\n    this.lastEventInfo = null;\n    this.handlers = {};\n    this.removeListeners = noop;\n    this.threshold = 3;\n    this.win = void 0;\n\n    this.updatePoint = function () {\n      if (!(_this.lastEvent && _this.lastEventInfo)) return;\n      var info = getPanInfo(_this.lastEventInfo, _this.history);\n      var isPanStarted = _this.startEvent !== null;\n\n      var isDistancePastThreshold = distance(info.offset, {\n        x: 0,\n        y: 0\n      }) >= _this.threshold;\n\n      if (!isPanStarted && !isDistancePastThreshold) return;\n\n      var _getFrameData = getFrameData(),\n          timestamp = _getFrameData.timestamp;\n\n      _this.history.push(_extends({}, info.point, {\n        timestamp: timestamp\n      }));\n\n      var _this$handlers = _this.handlers,\n          onStart = _this$handlers.onStart,\n          onMove = _this$handlers.onMove;\n\n      if (!isPanStarted) {\n        onStart == null ? void 0 : onStart(_this.lastEvent, info);\n        _this.startEvent = _this.lastEvent;\n      }\n\n      onMove == null ? void 0 : onMove(_this.lastEvent, info);\n    };\n\n    this.onPointerMove = function (event, info) {\n      _this.lastEvent = event;\n      _this.lastEventInfo = info; // Because Safari doesn't trigger mouseup events when it's above a `<select>`\n\n      if (isMouseEvent(event) && event.buttons === 0) {\n        _this.onPointerUp(event, info);\n\n        return;\n      } // Throttle mouse move event to once per frame\n\n\n      sync.update(_this.updatePoint, true);\n    };\n\n    this.onPointerUp = function (event, info) {\n      // notify pan session ended\n      var panInfo = getPanInfo(info, _this.history);\n      var _this$handlers2 = _this.handlers,\n          onEnd = _this$handlers2.onEnd,\n          onSessionEnd = _this$handlers2.onSessionEnd;\n      onSessionEnd == null ? void 0 : onSessionEnd(event, panInfo);\n\n      _this.end(); // if panning never started, no need to call `onEnd`\n      // panning requires a pointermove of at least 3px\n\n\n      if (!onEnd || !_this.startEvent) return;\n      onEnd == null ? void 0 : onEnd(event, panInfo);\n    };\n\n    this.win = getEventWindow(_event); // If we have more than one touch, don't start detecting this gesture\n\n    if (isMultiTouchEvent(_event)) return;\n    this.handlers = handlers;\n\n    if (threshold) {\n      this.threshold = threshold;\n    } // stop default browser behavior\n\n\n    _event.stopPropagation();\n\n    _event.preventDefault(); // get and save the `pointerdown` event info in history\n    // we'll use it to compute the `offset`\n\n\n    var _info = extractEventInfo(_event);\n\n    var _getFrameData2 = getFrameData(),\n        _timestamp = _getFrameData2.timestamp;\n\n    this.history = [_extends({}, _info.point, {\n      timestamp: _timestamp\n    })]; // notify pan session start\n\n    var onSessionStart = handlers.onSessionStart;\n    onSessionStart == null ? void 0 : onSessionStart(_event, getPanInfo(_info, this.history)); // attach event listeners and return a single function to remove them all\n\n    this.removeListeners = pipe(addPointerEvent(this.win, \"pointermove\", this.onPointerMove), addPointerEvent(this.win, \"pointerup\", this.onPointerUp), addPointerEvent(this.win, \"pointercancel\", this.onPointerUp));\n  }\n\n  var _proto = PanSession.prototype;\n\n  _proto.updateHandlers = function updateHandlers(handlers) {\n    this.handlers = handlers;\n  };\n\n  _proto.end = function end() {\n    var _this$removeListeners;\n\n    (_this$removeListeners = this.removeListeners) == null ? void 0 : _this$removeListeners.call(this);\n    cancelSync.update(this.updatePoint);\n  };\n\n  return PanSession;\n}();\n\nfunction subtractPoint(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n\nfunction startPanPoint(history) {\n  return history[0];\n}\n\nfunction lastPanPoint(history) {\n  return history[history.length - 1];\n}\n\nfunction getPanInfo(info, history) {\n  return {\n    point: info.point,\n    delta: subtractPoint(info.point, lastPanPoint(history)),\n    offset: subtractPoint(info.point, startPanPoint(history)),\n    velocity: getVelocity(history, 0.1)\n  };\n}\n\nfunction lastDevicePoint(history) {\n  return history[history.length - 1];\n}\n\nvar toMilliseconds = function toMilliseconds(seconds) {\n  return seconds * 1000;\n};\n\nfunction getVelocity(history, timeDelta) {\n  if (history.length < 2) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var i = history.length - 1;\n  var timestampedPoint = null;\n  var lastPoint = lastDevicePoint(history);\n\n  while (i >= 0) {\n    timestampedPoint = history[i];\n\n    if (lastPoint.timestamp - timestampedPoint.timestamp > toMilliseconds(timeDelta)) {\n      break;\n    }\n\n    i--;\n  }\n\n  if (!timestampedPoint) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var time = (lastPoint.timestamp - timestampedPoint.timestamp) / 1000;\n\n  if (time === 0) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var currentVelocity = {\n    x: (lastPoint.x - timestampedPoint.x) / time,\n    y: (lastPoint.y - timestampedPoint.y) / time\n  };\n\n  if (currentVelocity.x === Infinity) {\n    currentVelocity.x = 0;\n  }\n\n  if (currentVelocity.y === Infinity) {\n    currentVelocity.y = 0;\n  }\n\n  return currentVelocity;\n}\n\nvar breakpoints = Object.freeze([\"base\", \"sm\", \"md\", \"lg\", \"xl\", \"2xl\"]);\nfunction mapResponsive(prop, mapper) {\n  if (isArray(prop)) {\n    return prop.map(function (item) {\n      if (item === null) {\n        return null;\n      }\n\n      return mapper(item);\n    });\n  }\n\n  if (isObject(prop)) {\n    return objectKeys(prop).reduce(function (result, key) {\n      result[key] = mapper(prop[key]);\n      return result;\n    }, {});\n  }\n\n  if (prop != null) {\n    return mapper(prop);\n  }\n\n  return null;\n}\nfunction objectToArrayNotation(obj, bps) {\n  if (bps === void 0) {\n    bps = breakpoints;\n  }\n\n  var result = bps.map(function (br) {\n    var _obj$br;\n\n    return (_obj$br = obj[br]) != null ? _obj$br : null;\n  });\n\n  while (getLastItem(result) === null) {\n    result.pop();\n  }\n\n  return result;\n}\nfunction arrayToObjectNotation(values, bps) {\n  if (bps === void 0) {\n    bps = breakpoints;\n  }\n\n  var result = {};\n  values.forEach(function (value, index) {\n    var key = bps[index];\n    if (value == null) return;\n    result[key] = value;\n  });\n  return result;\n}\nfunction isResponsiveObjectLike(obj, bps) {\n  if (bps === void 0) {\n    bps = breakpoints;\n  }\n\n  var keys = Object.keys(obj);\n  return keys.length > 0 && keys.every(function (key) {\n    return bps.includes(key);\n  });\n}\n/**\n * since breakpoints are defined as custom properties on an array, you may\n * `Object.keys(theme.breakpoints)` to retrieve both regular numeric indices\n * and custom breakpoints as string.\n *\n * This function returns true given a custom array property.\n */\n\nvar isCustomBreakpoint = function isCustomBreakpoint(maybeBreakpoint) {\n  return Number.isNaN(Number(maybeBreakpoint));\n};\n\nfunction getUserAgentBrowser(navigator) {\n  var ua = navigator.userAgent,\n      vendor = navigator.vendor;\n  var android = /(android)/i.test(ua);\n\n  switch (true) {\n    case /CriOS/.test(ua):\n      return \"Chrome for iOS\";\n\n    case /Edg\\//.test(ua):\n      return \"Edge\";\n\n    case android && /Silk\\//.test(ua):\n      return \"Silk\";\n\n    case /Chrome/.test(ua) && /Google Inc/.test(vendor):\n      return \"Chrome\";\n\n    case /Firefox\\/\\d+\\.\\d+$/.test(ua):\n      return \"Firefox\";\n\n    case android:\n      return \"AOSP\";\n\n    case /MSIE|Trident/.test(ua):\n      return \"IE\";\n\n    case /Safari/.test(navigator.userAgent) && /Apple Computer/.test(ua):\n      return \"Safari\";\n\n    case /AppleWebKit/.test(ua):\n      return \"WebKit\";\n\n    default:\n      return null;\n  }\n}\n\nfunction getUserAgentOS(navigator) {\n  var ua = navigator.userAgent,\n      platform = navigator.platform;\n\n  switch (true) {\n    case /Android/.test(ua):\n      return \"Android\";\n\n    case /iPhone|iPad|iPod/.test(platform):\n      return \"iOS\";\n\n    case /Win/.test(platform):\n      return \"Windows\";\n\n    case /Mac/.test(platform):\n      return \"Mac\";\n\n    case /CrOS/.test(ua):\n      return \"Chrome OS\";\n\n    case /Firefox/.test(ua):\n      return \"Firefox OS\";\n\n    default:\n      return null;\n  }\n}\n\nfunction detectDeviceType(navigator) {\n  var ua = navigator.userAgent;\n  if (/(tablet)|(iPad)|(Nexus 9)/i.test(ua)) return \"tablet\";\n  if (/(mobi)/i.test(ua)) return \"phone\";\n  return \"desktop\";\n}\nfunction detectOS(os) {\n  if (!isBrowser) return false;\n  return getUserAgentOS(window.navigator) === os;\n}\nfunction detectBrowser(browser) {\n  if (!isBrowser) return false;\n  return getUserAgentBrowser(window.navigator) === browser;\n}\nfunction detectTouch() {\n  if (!isBrowser) return false;\n  return window.ontouchstart === null && window.ontouchmove === null && window.ontouchend === null;\n}\n\nfunction walkObject(target, predicate) {\n  function inner(value, path) {\n    if (path === void 0) {\n      path = [];\n    }\n\n    if (isArray(value)) {\n      return value.map(function (item, index) {\n        return inner(item, [].concat(path, [String(index)]));\n      });\n    }\n\n    if (isObject(value)) {\n      return fromEntries(Object.entries(value).map(function (_ref) {\n        var key = _ref[0],\n            child = _ref[1];\n        return [key, inner(child, [].concat(path, [key]))];\n      }));\n    }\n\n    return predicate(value, path);\n  }\n\n  return inner(target);\n}\n\nexport { PanSession, __DEV__, __TEST__, addDomEvent, addItem, addPointerEvent, analyzeBreakpoints, ariaAttr, arrayToObjectNotation, breakpoints, callAll, callAllHandlers, canUseDOM, chunk, clampValue, closest, compose, contains, countDecimalPlaces, cx, dataAttr, detectBrowser, detectDeviceType, detectOS, detectTouch, determineLazyBehavior, distance, error, extractEventInfo, filterUndefined, focus, focusNextTabbable, focusPreviousTabbable, fromEntries, get, getActiveElement, getAllFocusable, getAllTabbable, getCSSVar, getEventWindow, getFirstFocusable, getFirstItem, getFirstTabbableIn, getLastItem, getLastTabbableIn, getNextIndex, getNextItem, getNextItemFromSearch, getNextTabbable, getOwnerDocument, getOwnerWindow, getPointerEventName, getPrevIndex, getPrevItem, getPreviousTabbable, getRelatedTarget, getViewportPointFromEvent, getWithDefault, hasDisplayNone, hasFocusWithin, hasNegativeTabIndex, hasTabIndex, isActiveElement, isArray, isBrowser, isContentEditable, isCssVar, isCustomBreakpoint, isDefined, isDisabled, isElement, isEmpty, isEmptyArray, isEmptyObject, isFocusable, isFunction, isHTMLElement, isHidden, isInputElement, isInputEvent, isMouseEvent, isMultiTouchEvent, isNotEmptyObject, isNotNumber, isNull, isNumber, isNumeric, isObject, isRefObject, isResponsiveObjectLike, isRightClick, isString, isTabbable, isTouchEvent, isUndefined, mapResponsive, maxSafeInteger, memoize, memoizedGet, minSafeInteger, noop, normalizeEventKey, objectFilter, objectKeys, objectToArrayNotation, omit, once, percentToValue, pick, pipe, px, removeIndex, removeItem, roundValueToStep, runIfFn, split, toPrecision, valueToPercent, walkObject, warn, wrapPointerEventHandler };\n","import { forwardRef, chakra } from '@chakra-ui/system';\nimport { cx, __DEV__ } from '@chakra-ui/utils';\nimport * as React from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _excluded = [\"as\", \"viewBox\", \"color\", \"focusable\", \"children\", \"className\", \"__css\"];\nvar fallbackIcon = {\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    stroke: \"currentColor\",\n    strokeWidth: \"1.5\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    fill: \"none\",\n    d: \"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    strokeLinecap: \"round\",\n    d: \"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    fill: \"none\",\n    strokeMiterlimit: \"10\",\n    cx: \"12\",\n    cy: \"12\",\n    r: \"11.25\"\n  })),\n  viewBox: \"0 0 24 24\"\n};\nvar Icon = /*#__PURE__*/forwardRef(function (props, ref) {\n  var element = props.as,\n      viewBox = props.viewBox,\n      _props$color = props.color,\n      color = _props$color === void 0 ? \"currentColor\" : _props$color,\n      _props$focusable = props.focusable,\n      focusable = _props$focusable === void 0 ? false : _props$focusable,\n      children = props.children,\n      className = props.className,\n      __css = props.__css,\n      rest = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var _className = cx(\"chakra-icon\", className);\n\n  var styles = _extends({\n    w: \"1em\",\n    h: \"1em\",\n    display: \"inline-block\",\n    lineHeight: \"1em\",\n    flexShrink: 0,\n    color: color\n  }, __css);\n\n  var shared = {\n    ref: ref,\n    focusable: focusable,\n    className: _className,\n    __css: styles\n  };\n\n  var _viewBox = viewBox != null ? viewBox : fallbackIcon.viewBox;\n  /**\n   * If you're using an icon library like `react-icons`.\n   * Note: anyone passing the `as` prop, should manage the `viewBox` from the external component\n   */\n\n\n  if (element && typeof element !== \"string\") {\n    return /*#__PURE__*/React.createElement(chakra.svg, _extends({\n      as: element\n    }, shared, rest));\n  }\n\n  var _path = children != null ? children : fallbackIcon.path;\n\n  return /*#__PURE__*/React.createElement(chakra.svg, _extends({\n    verticalAlign: \"middle\",\n    viewBox: _viewBox\n  }, shared, rest), _path);\n});\n\nif (__DEV__) {\n  Icon.displayName = \"Icon\";\n}\n\nvar Icon$1 = Icon;\n\nfunction createIcon(options) {\n  var _options$viewBox = options.viewBox,\n      viewBox = _options$viewBox === void 0 ? \"0 0 24 24\" : _options$viewBox,\n      pathDefinition = options.d,\n      path = options.path,\n      displayName = options.displayName,\n      _options$defaultProps = options.defaultProps,\n      defaultProps = _options$defaultProps === void 0 ? {} : _options$defaultProps;\n  var Comp = /*#__PURE__*/forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(Icon, _extends({\n      ref: ref,\n      viewBox: viewBox\n    }, defaultProps, props), path != null ? path : /*#__PURE__*/React.createElement(\"path\", {\n      fill: \"currentColor\",\n      d: pathDefinition\n    }));\n  });\n\n  if (__DEV__) {\n    Comp.displayName = displayName;\n  }\n\n  return Comp;\n}\n\nexport { Icon, createIcon, Icon$1 as default };\n","import { createIcon } from '@chakra-ui/icon';\nexport * from '@chakra-ui/icon';\nimport * as React from 'react';\n\nvar CopyIcon = createIcon({\n  d: \"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\",\n  displayName: \"CopyIcon\"\n});\n\nvar SearchIcon = createIcon({\n  d: \"M23.384,21.619,16.855,15.09a9.284,9.284,0,1,0-1.768,1.768l6.529,6.529a1.266,1.266,0,0,0,1.768,0A1.251,1.251,0,0,0,23.384,21.619ZM2.75,9.5a6.75,6.75,0,1,1,6.75,6.75A6.758,6.758,0,0,1,2.75,9.5Z\",\n  displayName: \"SearchIcon\"\n});\n\nvar Search2Icon = createIcon({\n  d: \"M23.414,20.591l-4.645-4.645a10.256,10.256,0,1,0-2.828,2.829l4.645,4.644a2.025,2.025,0,0,0,2.828,0A2,2,0,0,0,23.414,20.591ZM10.25,3.005A7.25,7.25,0,1,1,3,10.255,7.258,7.258,0,0,1,10.25,3.005Z\",\n  displayName: \"Search2Icon\"\n});\n\nvar MoonIcon = createIcon({\n  d: \"M21.4,13.7C20.6,13.9,19.8,14,19,14c-5,0-9-4-9-9c0-0.8,0.1-1.6,0.3-2.4c0.1-0.3,0-0.7-0.3-1 c-0.3-0.3-0.6-0.4-1-0.3C4.3,2.7,1,7.1,1,12c0,6.1,4.9,11,11,11c4.9,0,9.3-3.3,10.6-8.1c0.1-0.3,0-0.7-0.3-1 C22.1,13.7,21.7,13.6,21.4,13.7z\",\n  displayName: \"MoonIcon\"\n});\n\nvar SunIcon = createIcon({\n  displayName: \"SunIcon\",\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    strokeLinejoin: \"round\",\n    strokeLinecap: \"round\",\n    strokeWidth: \"2\",\n    fill: \"none\",\n    stroke: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"5\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 1v2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 21v2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.22 4.22l1.42 1.42\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18.36 18.36l1.42 1.42\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1 12h2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21 12h2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.22 19.78l1.42-1.42\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18.36 5.64l1.42-1.42\"\n  }))\n});\n\nvar AddIcon = createIcon({\n  d: \"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z\",\n  displayName: \"AddIcon\"\n});\n\nvar SmallAddIcon = createIcon({\n  displayName: \"SmallAddIcon\",\n  viewBox: \"0 0 20 20\",\n  path: /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M14 9h-3V6c0-.55-.45-1-1-1s-1 .45-1 1v3H6c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1z\",\n    fillRule: \"evenodd\"\n  })\n});\n\nvar SettingsIcon = createIcon({\n  viewBox: \"0 0 14 14\",\n  d: \"M14,7.77 L14,6.17 L12.06,5.53 L11.61,4.44 L12.49,2.6 L11.36,1.47 L9.55,2.38 L8.46,1.93 L7.77,0.01 L6.17,0.01 L5.54,1.95 L4.43,2.4 L2.59,1.52 L1.46,2.65 L2.37,4.46 L1.92,5.55 L0,6.23 L0,7.82 L1.94,8.46 L2.39,9.55 L1.51,11.39 L2.64,12.52 L4.45,11.61 L5.54,12.06 L6.23,13.98 L7.82,13.98 L8.45,12.04 L9.56,11.59 L11.4,12.47 L12.53,11.34 L11.61,9.53 L12.08,8.44 L14,7.75 L14,7.77 Z M7,10 C5.34,10 4,8.66 4,7 C4,5.34 5.34,4 7,4 C8.66,4 10,5.34 10,7 C10,8.66 8.66,10 7,10 Z\",\n  displayName: \"SettingsIcon\"\n});\n\nvar CheckCircleIcon = createIcon({\n  displayName: \"CheckCircleIcon\",\n  d: \"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z\"\n});\n\nvar LockIcon = createIcon({\n  d: \"M19.5,9.5h-.75V6.75a6.75,6.75,0,0,0-13.5,0V9.5H4.5a2,2,0,0,0-2,2V22a2,2,0,0,0,2,2h15a2,2,0,0,0,2-2V11.5A2,2,0,0,0,19.5,9.5Zm-9.5,6a2,2,0,1,1,3,1.723V19.5a1,1,0,0,1-2,0V17.223A1.994,1.994,0,0,1,10,15.5ZM7.75,6.75a4.25,4.25,0,0,1,8.5,0V9a.5.5,0,0,1-.5.5H8.25a.5.5,0,0,1-.5-.5Z\",\n  displayName: \"LockIcon\"\n});\n\nvar UnlockIcon = createIcon({\n  d: \"M19.5,9.5h-.75V6.75A6.751,6.751,0,0,0,5.533,4.811a1.25,1.25,0,1,0,2.395.717A4.251,4.251,0,0,1,16.25,6.75V9a.5.5,0,0,1-.5.5H4.5a2,2,0,0,0-2,2V22a2,2,0,0,0,2,2h15a2,2,0,0,0,2-2V11.5A2,2,0,0,0,19.5,9.5Zm-9.5,6a2,2,0,1,1,3,1.723V19.5a1,1,0,0,1-2,0V17.223A1.994,1.994,0,0,1,10,15.5Z\",\n  displayName: \"UnlockIcon\"\n});\n\nvar ViewIcon = createIcon({\n  displayName: \"ViewIcon\",\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.432,10.524C20.787,7.614,16.4,4.538,12,4.6,7.6,4.537,3.213,7.615.568,10.524a2.211,2.211,0,0,0,0,2.948C3.182,16.351,7.507,19.4,11.839,19.4h.308c4.347,0,8.671-3.049,11.288-5.929A2.21,2.21,0,0,0,23.432,10.524ZM7.4,12A4.6,4.6,0,1,1,12,16.6,4.6,4.6,0,0,1,7.4,12Z\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"2\"\n  }))\n});\n\nvar ViewOffIcon = createIcon({\n  displayName: \"ViewOffIcon\",\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.2,10.549a20.954,20.954,0,0,0-4.3-3.6l4-3.995a1,1,0,1,0-1.414-1.414l-.018.018a.737.737,0,0,1-.173.291l-19.5,19.5c-.008.007-.018.009-.026.017a1,1,0,0,0,1.631,1.088l4.146-4.146a11.26,11.26,0,0,0,4.31.939h.3c4.256,0,8.489-2.984,11.051-5.8A2.171,2.171,0,0,0,23.2,10.549ZM16.313,13.27a4.581,4.581,0,0,1-3,3.028,4.3,4.3,0,0,1-3.1-.19.253.253,0,0,1-.068-.407l5.56-5.559a.252.252,0,0,1,.407.067A4.3,4.3,0,0,1,16.313,13.27Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.615,13.4a.244.244,0,0,0,.061-.24A4.315,4.315,0,0,1,7.5,12,4.5,4.5,0,0,1,12,7.5a4.276,4.276,0,0,1,1.16.173.244.244,0,0,0,.24-.062l1.941-1.942a.254.254,0,0,0-.1-.421A10.413,10.413,0,0,0,12,4.75C7.7,4.692,3.4,7.7.813,10.549a2.15,2.15,0,0,0-.007,2.9,21.209,21.209,0,0,0,3.438,3.03.256.256,0,0,0,.326-.029Z\"\n  }))\n});\n\nvar DownloadIcon = createIcon({\n  d: \"M11.2857,6.05714 L10.08571,4.85714 L7.85714,7.14786 L7.85714,1 L6.14286,1 L6.14286,7.14786 L3.91429,4.85714 L2.71429,6.05714 L7,10.42857 L11.2857,6.05714 Z M1,11.2857 L1,13 L13,13 L13,11.2857 L1,11.2857 Z\",\n  displayName: \"DownloadIcon\",\n  viewBox: \"0 0 14 14\"\n});\n\nvar DeleteIcon = createIcon({\n  displayName: \"DeleteIcon\",\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z\"\n  }))\n});\n\nvar RepeatIcon = createIcon({\n  displayName: \"RepeatIcon\",\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.319,4.936a7.239,7.239,0,0,1,7.1,2.252,1.25,1.25,0,1,0,1.872-1.657A9.737,9.737,0,0,0,9.743,2.5,10.269,10.269,0,0,0,2.378,9.61a.249.249,0,0,1-.271.178l-1.033-.13A.491.491,0,0,0,.6,9.877a.5.5,0,0,0-.019.526l2.476,4.342a.5.5,0,0,0,.373.248.43.43,0,0,0,.062,0,.5.5,0,0,0,.359-.152l3.477-3.593a.5.5,0,0,0-.3-.844L5.15,10.172a.25.25,0,0,1-.2-.333A7.7,7.7,0,0,1,10.319,4.936Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.406,14.1a.5.5,0,0,0,.015-.526l-2.5-4.329A.5.5,0,0,0,20.546,9a.489.489,0,0,0-.421.151l-3.456,3.614a.5.5,0,0,0,.3.842l1.848.221a.249.249,0,0,1,.183.117.253.253,0,0,1,.023.216,7.688,7.688,0,0,1-5.369,4.9,7.243,7.243,0,0,1-7.1-2.253,1.25,1.25,0,1,0-1.872,1.656,9.74,9.74,0,0,0,9.549,3.03,10.261,10.261,0,0,0,7.369-7.12.251.251,0,0,1,.27-.179l1.058.127a.422.422,0,0,0,.06,0A.5.5,0,0,0,23.406,14.1Z\"\n  }))\n});\n\nvar RepeatClockIcon = createIcon({\n  displayName: \"RepeatClockIcon\",\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.965,6a1,1,0,0,0-1,1v5.5a1,1,0,0,0,1,1h5a1,1,0,0,0,0-2h-3.75a.25.25,0,0,1-.25-.25V7A1,1,0,0,0,12.965,6Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.567,1.258A10.822,10.822,0,0,0,2.818,8.4a.25.25,0,0,1-.271.163L.858,8.309a.514.514,0,0,0-.485.213.5.5,0,0,0-.021.53l2.679,4.7a.5.5,0,0,0,.786.107l3.77-3.746a.5.5,0,0,0-.279-.85L5.593,9.007a.25.25,0,0,1-.192-.35,8.259,8.259,0,1,1,7.866,11.59,1.25,1.25,0,0,0,.045,2.5h.047a10.751,10.751,0,1,0-.792-21.487Z\"\n  }))\n});\n\nvar EditIcon = createIcon({\n  displayName: \"EditIcon\",\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeWidth: \"2\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"\n  }))\n});\n\nvar ChevronLeftIcon = createIcon({\n  d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\",\n  displayName: \"ChevronLeftIcon\"\n});\n\nvar ChevronRightIcon = createIcon({\n  d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\",\n  displayName: \"ChevronRightIcon\"\n});\n\nvar ChevronDownIcon = createIcon({\n  displayName: \"ChevronDownIcon\",\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n});\n\nvar ChevronUpIcon = createIcon({\n  d: \"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z\",\n  displayName: \"ChevronUpIcon\"\n});\n\nvar ArrowBackIcon = createIcon({\n  d: \"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\",\n  displayName: \"ArrowBackIcon\"\n});\n\nvar ArrowForwardIcon = createIcon({\n  d: \"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z\",\n  displayName: \"ArrowForwardIcon\"\n});\n\nvar ArrowUpIcon = createIcon({\n  d: \"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z\",\n  displayName: \"ArrowUpIcon\"\n});\n\nvar ArrowUpDownIcon = createIcon({\n  viewBox: \"0 0 16 16\",\n  d: \"M11.891 9.992a1 1 0 1 1 1.416 1.415l-4.3 4.3a1 1 0 0 1-1.414 0l-4.3-4.3A1 1 0 0 1 4.71 9.992l3.59 3.591 3.591-3.591zm0-3.984L8.3 2.417 4.709 6.008a1 1 0 0 1-1.416-1.415l4.3-4.3a1 1 0 0 1 1.414 0l4.3 4.3a1 1 0 1 1-1.416 1.415z\",\n  displayName: \"ArrowUpDownIcon\"\n});\n\nvar ArrowDownIcon = createIcon({\n  d: \"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z\",\n  displayName: \"ArrowDownIcon\"\n});\n\nvar ExternalLinkIcon = createIcon({\n  displayName: \"ExternalLinkIcon\",\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeWidth: \"2\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15 3h6v6\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10 14L21 3\"\n  }))\n});\n\nvar LinkIcon = createIcon({\n  displayName: \"LinkIcon\",\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.458,18.374,7.721,21.11a2.853,2.853,0,0,1-3.942,0l-.892-.891a2.787,2.787,0,0,1,0-3.941l5.8-5.8a2.789,2.789,0,0,1,3.942,0l.893.892A1,1,0,0,0,14.94,9.952l-.893-.892a4.791,4.791,0,0,0-6.771,0l-5.8,5.8a4.787,4.787,0,0,0,0,6.77l.892.891a4.785,4.785,0,0,0,6.771,0l2.736-2.735a1,1,0,1,0-1.414-1.415Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.526,2.363l-.892-.892a4.8,4.8,0,0,0-6.77,0l-2.905,2.9a1,1,0,0,0,1.414,1.414l2.9-2.9a2.79,2.79,0,0,1,3.941,0l.893.893a2.786,2.786,0,0,1,0,3.942l-5.8,5.8a2.769,2.769,0,0,1-1.971.817h0a2.766,2.766,0,0,1-1.969-.816,1,1,0,1,0-1.415,1.412,4.751,4.751,0,0,0,3.384,1.4h0a4.752,4.752,0,0,0,3.385-1.4l5.8-5.8a4.786,4.786,0,0,0,0-6.771Z\"\n  }))\n});\n\nvar PlusSquareIcon = createIcon({\n  displayName: \"PlusSquareIcon\",\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeWidth: \"2\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    height: \"18\",\n    width: \"18\",\n    rx: \"2\",\n    ry: \"2\",\n    x: \"3\",\n    y: \"3\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 8v8\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 12h8\"\n  }))\n});\n\nvar CalendarIcon = createIcon({\n  displayName: \"CalendarIcon\",\n  viewBox: \"0 0 14 14\",\n  d: \"M10.8889,5.5 L3.11111,5.5 L3.11111,7.05556 L10.8889,7.05556 L10.8889,5.5 Z M12.4444,1.05556 L11.6667,1.05556 L11.6667,0 L10.1111,0 L10.1111,1.05556 L3.88889,1.05556 L3.88889,0 L2.33333,0 L2.33333,1.05556 L1.55556,1.05556 C0.692222,1.05556 0.00777777,1.75556 0.00777777,2.61111 L0,12.5 C0,13.3556 0.692222,14 1.55556,14 L12.4444,14 C13.3,14 14,13.3556 14,12.5 L14,2.61111 C14,1.75556 13.3,1.05556 12.4444,1.05556 Z M12.4444,12.5 L1.55556,12.5 L1.55556,3.94444 L12.4444,3.94444 L12.4444,12.5 Z M8.55556,8.61111 L3.11111,8.61111 L3.11111,10.1667 L8.55556,10.1667 L8.55556,8.61111 Z\"\n});\n\nvar ChatIcon = createIcon({\n  d: \"M0.913134,0.920639 C1.49851,0.331726 2.29348,0 3.12342,0 L10.8766,0 C11.7065,0 12.5015,0.331725 13.0869,0.920639 C13.6721,1.50939 14,2.30689 14,3.13746 L14,8.12943 C13.9962,8.51443 13.9059,8.97125 13.7629,9.32852 C13.6128,9.683 13.3552,10.0709 13.0869,10.3462 C12.813,10.6163 12.4265,10.8761 12.0734,11.0274 C11.7172,11.1716 11.2607,11.263 10.8766,11.2669 L10.1234,11.2669 L10.1234,12.5676 L10.1209,12.5676 C10.1204,12.793 10.0633,13.0791 9.97807,13.262 C9.8627,13.466 9.61158,13.7198 9.40818,13.8382 L9.40824,13.8383 C9.4077,13.8386 9.40716,13.8388 9.40661,13.8391 C9.40621,13.8393 9.4058,13.8396 9.40539,13.8398 L9.40535,13.8397 C9.22958,13.9254 8.94505,13.9951 8.75059,14 L8.74789,14 C8.35724,13.9963 7.98473,13.8383 7.71035,13.5617 L5.39553,11.2669 L3.12342,11.2669 C2.29348,11.2669 1.49851,10.9352 0.913134,10.3462 C0.644826,10.0709 0.387187,9.683 0.23711,9.32852 C0.0941235,8.97125 0.00379528,8.51443 0,8.12943 L0,3.13746 C0,2.30689 0.327915,1.50939 0.913134,0.920639 Z M3.12342,1.59494 C2.71959,1.59494 2.33133,1.75628 2.04431,2.04503 C1.75713,2.33395 1.59494,2.72681 1.59494,3.13746 L1.59494,8.12943 C1.59114,8.35901 1.62114,8.51076 1.71193,8.72129 C1.79563,8.9346 1.88065,9.06264 2.04431,9.22185 C2.33133,9.5106 2.71959,9.67195 3.12342,9.67195 L5.72383,9.67195 C5.93413,9.67195 6.13592,9.75502 6.28527,9.90308 L8.52848,12.1269 L8.52848,10.4694 C8.52848,10.029 8.88552,9.67195 9.32595,9.67195 L10.8766,9.67195 C11.1034,9.67583 11.2517,9.64614 11.4599,9.55518 C11.6712,9.47132 11.7976,9.38635 11.9557,9.22185 C12.1193,9.06264 12.2044,8.9346 12.2881,8.72129 C12.3789,8.51076 12.4089,8.35901 12.4051,8.12943 L12.4051,3.13746 C12.4051,2.72681 12.2429,2.33394 11.9557,2.04503 C11.6687,1.75628 11.2804,1.59494 10.8766,1.59494 L3.12342,1.59494 Z\",\n  displayName: \"ChatIcon\",\n  viewBox: \"0 0 14 14\"\n});\n\nvar TimeIcon = createIcon({\n  displayName: \"TimeIcon\",\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm0,22A10,10,0,1,1,22,12,10.011,10.011,0,0,1,12,22Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.134,15.81,12.5,11.561V6.5a1,1,0,0,0-2,0V12a1,1,0,0,0,.324.738l4.959,4.545a1.01,1.01,0,0,0,1.413-.061A1,1,0,0,0,17.134,15.81Z\"\n  }))\n});\n\nvar ArrowRightIcon = createIcon({\n  displayName: \"ArrowRightIcon\",\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.584,12a2.643,2.643,0,0,1-.775,1.875L3.268,23.416a1.768,1.768,0,0,1-2.5-2.5l8.739-8.739a.25.25,0,0,0,0-.354L.768,3.084a1.768,1.768,0,0,1,2.5-2.5l9.541,9.541A2.643,2.643,0,0,1,13.584,12Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.75,12a2.643,2.643,0,0,1-.775,1.875l-9.541,9.541a1.768,1.768,0,0,1-2.5-2.5l8.739-8.739a.25.25,0,0,0,0-.354L10.934,3.084a1.768,1.768,0,0,1,2.5-2.5l9.541,9.541A2.643,2.643,0,0,1,23.75,12Z\"\n  }))\n});\n\nvar ArrowLeftIcon = createIcon({\n  displayName: \"ArrowLeftIcon\",\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.416,12a2.643,2.643,0,0,1,.775-1.875L20.732.584a1.768,1.768,0,0,1,2.5,2.5l-8.739,8.739a.25.25,0,0,0,0,.354l8.739,8.739a1.768,1.768,0,0,1-2.5,2.5l-9.541-9.541A2.643,2.643,0,0,1,10.416,12Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M.25,12a2.643,2.643,0,0,1,.775-1.875L10.566.584a1.768,1.768,0,0,1,2.5,2.5L4.327,11.823a.25.25,0,0,0,0,.354l8.739,8.739a1.768,1.768,0,0,1-2.5,2.5L1.025,13.875A2.643,2.643,0,0,1,.25,12Z\"\n  }))\n});\n\nvar AtSignIcon = createIcon({\n  displayName: \"AtSignIcon\",\n  d: \"M12,.5A11.634,11.634,0,0,0,.262,12,11.634,11.634,0,0,0,12,23.5a11.836,11.836,0,0,0,6.624-2,1.25,1.25,0,1,0-1.393-2.076A9.34,9.34,0,0,1,12,21a9.132,9.132,0,0,1-9.238-9A9.132,9.132,0,0,1,12,3a9.132,9.132,0,0,1,9.238,9v.891a1.943,1.943,0,0,1-3.884,0V12A5.355,5.355,0,1,0,12,17.261a5.376,5.376,0,0,0,3.861-1.634,4.438,4.438,0,0,0,7.877-2.736V12A11.634,11.634,0,0,0,12,.5Zm0,14.261A2.763,2.763,0,1,1,14.854,12,2.812,2.812,0,0,1,12,14.761Z\"\n});\n\nvar AttachmentIcon = createIcon({\n  displayName: \"AttachmentIcon\",\n  d: \"M21.843,3.455a6.961,6.961,0,0,0-9.846,0L1.619,13.832a5.128,5.128,0,0,0,7.252,7.252L17.3,12.653A3.293,3.293,0,1,0,12.646,8L7.457,13.184A1,1,0,1,0,8.871,14.6L14.06,9.409a1.294,1.294,0,0,1,1.829,1.83L7.457,19.67a3.128,3.128,0,0,1-4.424-4.424L13.411,4.869a4.962,4.962,0,1,1,7.018,7.018L12.646,19.67a1,1,0,1,0,1.414,1.414L21.843,13.3a6.96,6.96,0,0,0,0-9.846Z\"\n});\n\nvar UpDownIcon = createIcon({\n  displayName: \"UpDownIcon\",\n  viewBox: \"-1 -1 9 11\",\n  d: \"M 3.5 0L 3.98809 -0.569442L 3.5 -0.987808L 3.01191 -0.569442L 3.5 0ZM 3.5 9L 3.01191 9.56944L 3.5 9.98781L 3.98809 9.56944L 3.5 9ZM 0.488094 3.56944L 3.98809 0.569442L 3.01191 -0.569442L -0.488094 2.43056L 0.488094 3.56944ZM 3.01191 0.569442L 6.51191 3.56944L 7.48809 2.43056L 3.98809 -0.569442L 3.01191 0.569442ZM -0.488094 6.56944L 3.01191 9.56944L 3.98809 8.43056L 0.488094 5.43056L -0.488094 6.56944ZM 3.98809 9.56944L 7.48809 6.56944L 6.51191 5.43056L 3.01191 8.43056L 3.98809 9.56944Z\"\n});\n\nvar StarIcon = createIcon({\n  d: \"M23.555,8.729a1.505,1.505,0,0,0-1.406-.98H16.062a.5.5,0,0,1-.472-.334L13.405,1.222a1.5,1.5,0,0,0-2.81,0l-.005.016L8.41,7.415a.5.5,0,0,1-.471.334H1.85A1.5,1.5,0,0,0,.887,10.4l5.184,4.3a.5.5,0,0,1,.155.543L4.048,21.774a1.5,1.5,0,0,0,2.31,1.684l5.346-3.92a.5.5,0,0,1,.591,0l5.344,3.919a1.5,1.5,0,0,0,2.312-1.683l-2.178-6.535a.5.5,0,0,1,.155-.543l5.194-4.306A1.5,1.5,0,0,0,23.555,8.729Z\",\n  displayName: \"StarIcon\"\n});\n\nvar EmailIcon = createIcon({\n  displayName: \"EmailIcon\",\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.114,14.556a1.252,1.252,0,0,0,1.768,0L22.568,4.87a.5.5,0,0,0-.281-.849A1.966,1.966,0,0,0,22,4H2a1.966,1.966,0,0,0-.289.021.5.5,0,0,0-.281.849Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.888,5.832a.182.182,0,0,0-.2.039l-6.2,6.2a.251.251,0,0,0,0,.354l5.043,5.043a.75.75,0,1,1-1.06,1.061l-5.043-5.043a.25.25,0,0,0-.354,0l-2.129,2.129a2.75,2.75,0,0,1-3.888,0L7.926,13.488a.251.251,0,0,0-.354,0L2.529,18.531a.75.75,0,0,1-1.06-1.061l5.043-5.043a.251.251,0,0,0,0-.354l-6.2-6.2a.18.18,0,0,0-.2-.039A.182.182,0,0,0,0,6V18a2,2,0,0,0,2,2H22a2,2,0,0,0,2-2V6A.181.181,0,0,0,23.888,5.832Z\"\n  }))\n});\n\nvar PhoneIcon = createIcon({\n  d: \"M2.20731,0.0127209 C2.1105,-0.0066419 1.99432,-0.00664663 1.91687,0.032079 C0.871279,0.438698 0.212942,1.92964 0.0580392,2.95587 C-0.426031,6.28627 2.20731,9.17133 4.62766,11.0689 C6.77694,12.7534 10.9012,15.5223 13.3409,12.8503 C13.6507,12.5211 14.0186,12.037 13.9993,11.553 C13.9412,10.7397 13.186,10.1588 12.6051,9.71349 C12.1598,9.38432 11.2304,8.47427 10.6495,8.49363 C10.1267,8.51299 9.79754,9.05515 9.46837,9.38432 L8.88748,9.96521 C8.79067,10.062 7.55145,9.24878 7.41591,9.15197 C6.91248,8.8228 6.4284,8.45491 6.00242,8.04829 C5.57644,7.64167 5.18919,7.19632 4.86002,6.73161 C4.7632,6.59607 3.96933,5.41495 4.04678,5.31813 C4.04678,5.31813 4.72448,4.58234 4.91811,4.2919 C5.32473,3.67229 5.63453,3.18822 5.16982,2.45243 C4.99556,2.18135 4.78257,1.96836 4.55021,1.73601 C4.14359,1.34875 3.73698,0.942131 3.27227,0.612963 C3.02055,0.419335 2.59457,0.0708094 2.20731,0.0127209 Z\",\n  displayName: \"PhoneIcon\",\n  viewBox: \"0 0 14 14\"\n});\n\nvar DragHandleIcon = createIcon({\n  viewBox: \"0 0 10 10\",\n  d: \"M3,2 C2.44771525,2 2,1.55228475 2,1 C2,0.44771525 2.44771525,0 3,0 C3.55228475,0 4,0.44771525 4,1 C4,1.55228475 3.55228475,2 3,2 Z M3,6 C2.44771525,6 2,5.55228475 2,5 C2,4.44771525 2.44771525,4 3,4 C3.55228475,4 4,4.44771525 4,5 C4,5.55228475 3.55228475,6 3,6 Z M3,10 C2.44771525,10 2,9.55228475 2,9 C2,8.44771525 2.44771525,8 3,8 C3.55228475,8 4,8.44771525 4,9 C4,9.55228475 3.55228475,10 3,10 Z M7,2 C6.44771525,2 6,1.55228475 6,1 C6,0.44771525 6.44771525,0 7,0 C7.55228475,0 8,0.44771525 8,1 C8,1.55228475 7.55228475,2 7,2 Z M7,6 C6.44771525,6 6,5.55228475 6,5 C6,4.44771525 6.44771525,4 7,4 C7.55228475,4 8,4.44771525 8,5 C8,5.55228475 7.55228475,6 7,6 Z M7,10 C6.44771525,10 6,9.55228475 6,9 C6,8.44771525 6.44771525,8 7,8 C7.55228475,8 8,8.44771525 8,9 C8,9.55228475 7.55228475,10 7,10 Z\",\n  displayName: \"DragHandleIcon\"\n});\n\nvar SpinnerIcon = createIcon({\n  displayName: \"SpinnerIcon\",\n  path: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    x1: \"28.154%\",\n    y1: \"63.74%\",\n    x2: \"74.629%\",\n    y2: \"17.783%\",\n    id: \"a\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"currentColor\",\n    offset: \"0%\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#fff\",\n    stopOpacity: \"0\",\n    offset: \"100%\"\n  }))), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(2)\",\n    fill: \"none\"\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    stroke: \"url(#a)\",\n    strokeWidth: \"4\",\n    cx: \"10\",\n    cy: \"12\",\n    r: \"10\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10 2C4.477 2 0 6.477 0 12\",\n    stroke: \"currentColor\",\n    strokeWidth: \"4\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    fill: \"currentColor\",\n    x: \"8\",\n    width: \"4\",\n    height: \"4\",\n    rx: \"8\"\n  })))\n});\n\nvar CloseIcon = createIcon({\n  displayName: \"CloseIcon\",\n  d: \"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z\"\n});\n\nvar SmallCloseIcon = createIcon({\n  displayName: \"SmallCloseIcon\",\n  viewBox: \"0 0 16 16\",\n  path: /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.41 8l2.29-2.29c.19-.18.3-.43.3-.71a1.003 1.003 0 0 0-1.71-.71L8 6.59l-2.29-2.3a1.003 1.003 0 0 0-1.42 1.42L6.59 8 4.3 10.29c-.19.18-.3.43-.3.71a1.003 1.003 0 0 0 1.71.71L8 9.41l2.29 2.29c.18.19.43.3.71.3a1.003 1.003 0 0 0 .71-1.71L9.41 8z\",\n    fillRule: \"evenodd\",\n    fill: \"currentColor\"\n  })\n});\n\nvar NotAllowedIcon = createIcon({\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z\",\n  displayName: \"NotAllowedIcon\"\n});\n\nvar TriangleDownIcon = createIcon({\n  d: \"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z\",\n  displayName: \"TriangleDownIcon\"\n});\n\nvar TriangleUpIcon = createIcon({\n  d: \"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z\",\n  displayName: \"TriangleUpIcon\"\n});\n\nvar InfoOutlineIcon = createIcon({\n  displayName: \"InfoOutlineIcon\",\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"square\",\n    strokeWidth: \"2\"\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    fill: \"none\",\n    r: \"11\",\n    stroke: \"currentColor\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"none\",\n    x1: \"11.959\",\n    x2: \"11.959\",\n    y1: \"11\",\n    y2: \"17\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"11.959\",\n    cy: \"7\",\n    r: \"1\",\n    stroke: \"none\"\n  }))\n});\n\nvar BellIcon = createIcon({\n  displayName: \"BellIcon\",\n  d: \"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z\"\n});\n\nvar InfoIcon = createIcon({\n  d: \"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z\"\n});\n\nvar QuestionIcon = createIcon({\n  d: \"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm0,19a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,12,19Zm1.6-6.08a1,1,0,0,0-.6.917,1,1,0,1,1-2,0,3,3,0,0,1,1.8-2.75A2,2,0,1,0,10,9.255a1,1,0,1,1-2,0,4,4,0,1,1,5.6,3.666Z\",\n  displayName: \"QuestionIcon\"\n});\n\nvar QuestionOutlineIcon = createIcon({\n  displayName: \"QuestionOutlineIcon\",\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    stroke: \"currentColor\",\n    strokeWidth: \"1.5\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    fill: \"none\",\n    d: \"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"none\",\n    strokeLinecap: \"round\",\n    d: \"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    fill: \"none\",\n    strokeMiterlimit: \"10\",\n    cx: \"12\",\n    cy: \"12\",\n    r: \"11.25\"\n  }))\n});\n\nvar WarningIcon = createIcon({\n  d: \"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z\",\n  displayName: \"WarningIcon\"\n});\n\nvar WarningTwoIcon = createIcon({\n  displayName: \"WarningTwoIcon\",\n  d: \"M23.119,20,13.772,2.15h0a2,2,0,0,0-3.543,0L.881,20a2,2,0,0,0,1.772,2.928H21.347A2,2,0,0,0,23.119,20ZM11,8.423a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Zm1.05,11.51h-.028a1.528,1.528,0,0,1-1.522-1.47,1.476,1.476,0,0,1,1.448-1.53h.028A1.527,1.527,0,0,1,13.5,18.4,1.475,1.475,0,0,1,12.05,19.933Z\"\n});\n\nvar CheckIcon = createIcon({\n  viewBox: \"0 0 14 14\",\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039\"\n  }))\n});\n\nvar MinusIcon = createIcon({\n  displayName: \"MinusIcon\",\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    height: \"4\",\n    width: \"20\",\n    x: \"2\",\n    y: \"10\"\n  }))\n});\n\nvar HamburgerIcon = createIcon({\n  displayName: \"HamburgerIcon\",\n  viewBox: \"0 0 24 24\",\n  d: \"M 3 5 A 1.0001 1.0001 0 1 0 3 7 L 21 7 A 1.0001 1.0001 0 1 0 21 5 L 3 5 z M 3 11 A 1.0001 1.0001 0 1 0 3 13 L 21 13 A 1.0001 1.0001 0 1 0 21 11 L 3 11 z M 3 17 A 1.0001 1.0001 0 1 0 3 19 L 21 19 A 1.0001 1.0001 0 1 0 21 17 L 3 17 z\"\n});\n\nexport { AddIcon, ArrowBackIcon, ArrowDownIcon, ArrowForwardIcon, ArrowLeftIcon, ArrowRightIcon, ArrowUpDownIcon, ArrowUpIcon, AtSignIcon, AttachmentIcon, BellIcon, CalendarIcon, ChatIcon, CheckCircleIcon, CheckIcon, ChevronDownIcon, ChevronLeftIcon, ChevronRightIcon, ChevronUpIcon, CloseIcon, CopyIcon, DeleteIcon, DownloadIcon, DragHandleIcon, EditIcon, EmailIcon, ExternalLinkIcon, HamburgerIcon, InfoIcon, InfoOutlineIcon, LinkIcon, LockIcon, MinusIcon, MoonIcon, NotAllowedIcon, PhoneIcon, PlusSquareIcon, QuestionIcon, QuestionOutlineIcon, RepeatClockIcon, RepeatIcon, Search2Icon, SearchIcon, SettingsIcon, SmallAddIcon, SmallCloseIcon, SpinnerIcon, StarIcon, SunIcon, TimeIcon, TriangleDownIcon, TriangleUpIcon, UnlockIcon, UpDownIcon, ViewIcon, ViewOffIcon, WarningIcon, WarningTwoIcon };\n","import { useMultiStyleConfig, omitThemingProps, useTheme, StylesProvider, forwardRef, chakra, useStyles } from '@chakra-ui/system';\nimport { focus, getOwnerDocument, normalizeEventKey, dataAttr, callAllHandlers, isHTMLElement, getNextItemFromSearch, determineLazyBehavior, isActiveElement, isString, isArray, removeItem, addItem, runIfFn, __DEV__, cx, callAll } from '@chakra-ui/utils';\nimport { motion } from 'framer-motion';\nimport * as React from 'react';\nimport { useClickable } from '@chakra-ui/clickable';\nimport { createDescendantContext } from '@chakra-ui/descendant';\nimport { useDisclosure, useOutsideClick, useUpdateEffect, useFocusOnHide, useIds, useUnmountEffect, useShortcut, useId, useControllableState } from '@chakra-ui/hooks';\nimport { useAnimationState } from '@chakra-ui/hooks/use-animation-state';\nimport { usePopper } from '@chakra-ui/popper';\nimport { createContext, mergeRefs, getValidChildren } from '@chakra-ui/react-utils';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _excluded$1 = [\"id\", \"closeOnSelect\", \"closeOnBlur\", \"autoSelect\", \"isLazy\", \"isOpen\", \"defaultIsOpen\", \"onClose\", \"onOpen\", \"placement\", \"lazyBehavior\", \"direction\", \"computePositionOnMount\"],\n    _excluded2$1 = [\"onMouseEnter\", \"onMouseMove\", \"onMouseLeave\", \"onClick\", \"isDisabled\", \"isFocusable\", \"closeOnSelect\"],\n    _excluded3$1 = [\"type\", \"isChecked\"],\n    _excluded4$1 = [\"children\", \"type\", \"value\", \"defaultValue\", \"onChange\"];\n/* -------------------------------------------------------------------------------------------------\n * Create context to track descendants and their indices\n * -----------------------------------------------------------------------------------------------*/\n\nvar _createDescendantCont = createDescendantContext(),\n    MenuDescendantsProvider = _createDescendantCont[0],\n    useMenuDescendantsContext = _createDescendantCont[1],\n    useMenuDescendants = _createDescendantCont[2],\n    useMenuDescendant = _createDescendantCont[3];\n\nvar _createContext = createContext({\n  strict: false,\n  name: \"MenuContext\"\n}),\n    MenuProvider = _createContext[0],\n    useMenuContext = _createContext[1];\n\n/**\n * React Hook to manage a menu\n *\n * It provides the logic and will be used with react context\n * to propagate its return value to all children\n */\nfunction useMenu(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      id = _props.id,\n      _props$closeOnSelect = _props.closeOnSelect,\n      closeOnSelect = _props$closeOnSelect === void 0 ? true : _props$closeOnSelect,\n      _props$closeOnBlur = _props.closeOnBlur,\n      closeOnBlur = _props$closeOnBlur === void 0 ? true : _props$closeOnBlur,\n      _props$autoSelect = _props.autoSelect,\n      autoSelect = _props$autoSelect === void 0 ? true : _props$autoSelect,\n      isLazy = _props.isLazy,\n      isOpenProp = _props.isOpen,\n      defaultIsOpen = _props.defaultIsOpen,\n      onCloseProp = _props.onClose,\n      onOpenProp = _props.onOpen,\n      _props$placement = _props.placement,\n      placement = _props$placement === void 0 ? \"bottom-start\" : _props$placement,\n      _props$lazyBehavior = _props.lazyBehavior,\n      lazyBehavior = _props$lazyBehavior === void 0 ? \"unmount\" : _props$lazyBehavior,\n      direction = _props.direction,\n      _props$computePositio = _props.computePositionOnMount,\n      computePositionOnMount = _props$computePositio === void 0 ? false : _props$computePositio,\n      popperProps = _objectWithoutPropertiesLoose(_props, _excluded$1);\n  /**\n   * Prepare the reference to the menu and disclosure\n   */\n\n\n  var menuRef = React.useRef(null);\n  var buttonRef = React.useRef(null);\n  /**\n   * Context to register all menu item nodes\n   */\n\n  var descendants = useMenuDescendants();\n  var focusMenu = React.useCallback(function () {\n    focus(menuRef.current, {\n      nextTick: true,\n      selectTextIfInput: false\n    });\n  }, []);\n  var focusFirstItem = React.useCallback(function () {\n    var id = setTimeout(function () {\n      var first = descendants.firstEnabled();\n      if (first) setFocusedIndex(first.index);\n    });\n    timeoutIds.current.add(id);\n  }, [descendants]);\n  var focusLastItem = React.useCallback(function () {\n    var id = setTimeout(function () {\n      var last = descendants.lastEnabled();\n      if (last) setFocusedIndex(last.index);\n    });\n    timeoutIds.current.add(id);\n  }, [descendants]);\n  var onOpenInternal = React.useCallback(function () {\n    onOpenProp == null ? void 0 : onOpenProp();\n\n    if (autoSelect) {\n      focusFirstItem();\n    } else {\n      focusMenu();\n    }\n  }, [autoSelect, focusFirstItem, focusMenu, onOpenProp]);\n\n  var _useDisclosure = useDisclosure({\n    isOpen: isOpenProp,\n    defaultIsOpen: defaultIsOpen,\n    onClose: onCloseProp,\n    onOpen: onOpenInternal\n  }),\n      isOpen = _useDisclosure.isOpen,\n      onOpen = _useDisclosure.onOpen,\n      onClose = _useDisclosure.onClose,\n      onToggle = _useDisclosure.onToggle;\n\n  useOutsideClick({\n    enabled: isOpen && closeOnBlur,\n    ref: menuRef,\n    handler: function handler(event) {\n      var _buttonRef$current;\n\n      if (!((_buttonRef$current = buttonRef.current) != null && _buttonRef$current.contains(event.target))) {\n        onClose();\n      }\n    }\n  });\n  /**\n   * Add some popper.js for dynamic positioning\n   */\n\n  var popper = usePopper(_extends({}, popperProps, {\n    enabled: isOpen || computePositionOnMount,\n    placement: placement,\n    direction: direction\n  }));\n\n  var _React$useState = React.useState(-1),\n      focusedIndex = _React$useState[0],\n      setFocusedIndex = _React$useState[1];\n  /**\n   * Focus the button when we close the menu\n   */\n\n\n  useUpdateEffect(function () {\n    if (!isOpen) {\n      setFocusedIndex(-1);\n    }\n  }, [isOpen]);\n  useFocusOnHide(menuRef, {\n    focusRef: buttonRef,\n    visible: isOpen,\n    shouldFocus: true\n  });\n  var animationState = useAnimationState({\n    isOpen: isOpen,\n    ref: menuRef\n  });\n  /**\n   * Generate unique ids for menu's list and button\n   */\n\n  var _useIds = useIds(id, \"menu-button\", \"menu-list\"),\n      buttonId = _useIds[0],\n      menuId = _useIds[1];\n\n  var openAndFocusMenu = React.useCallback(function () {\n    onOpen();\n    focusMenu();\n  }, [onOpen, focusMenu]);\n  var timeoutIds = React.useRef(new Set([]));\n  useUnmountEffect(function () {\n    timeoutIds.current.forEach(function (id) {\n      return clearTimeout(id);\n    });\n    timeoutIds.current.clear();\n  });\n  var openAndFocusFirstItem = React.useCallback(function () {\n    onOpen();\n    focusFirstItem();\n  }, [focusFirstItem, onOpen]);\n  var openAndFocusLastItem = React.useCallback(function () {\n    onOpen();\n    focusLastItem();\n  }, [onOpen, focusLastItem]);\n  var refocus = React.useCallback(function () {\n    var _menuRef$current, _descendants$item;\n\n    var doc = getOwnerDocument(menuRef.current);\n    var hasFocusWithin = (_menuRef$current = menuRef.current) == null ? void 0 : _menuRef$current.contains(doc.activeElement);\n    var shouldRefocus = isOpen && !hasFocusWithin;\n    if (!shouldRefocus) return;\n    var node = (_descendants$item = descendants.item(focusedIndex)) == null ? void 0 : _descendants$item.node;\n\n    if (node) {\n      focus(node, {\n        selectTextIfInput: false,\n        preventScroll: false\n      });\n    }\n  }, [isOpen, focusedIndex, descendants]);\n  return {\n    openAndFocusMenu: openAndFocusMenu,\n    openAndFocusFirstItem: openAndFocusFirstItem,\n    openAndFocusLastItem: openAndFocusLastItem,\n    onTransitionEnd: refocus,\n    unstable__animationState: animationState,\n    descendants: descendants,\n    popper: popper,\n    buttonId: buttonId,\n    menuId: menuId,\n    forceUpdate: popper.forceUpdate,\n    orientation: \"vertical\",\n    isOpen: isOpen,\n    onToggle: onToggle,\n    onOpen: onOpen,\n    onClose: onClose,\n    menuRef: menuRef,\n    buttonRef: buttonRef,\n    focusedIndex: focusedIndex,\n    closeOnSelect: closeOnSelect,\n    closeOnBlur: closeOnBlur,\n    autoSelect: autoSelect,\n    setFocusedIndex: setFocusedIndex,\n    isLazy: isLazy,\n    lazyBehavior: lazyBehavior\n  };\n}\n\n/**\n * React Hook to manage a menu button.\n *\n * The assumption here is that the `useMenu` hook is used\n * in a component higher up the tree, and its return value\n * is passed as `context` to this hook.\n */\nfunction useMenuButton(props, externalRef) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  if (externalRef === void 0) {\n    externalRef = null;\n  }\n\n  var menu = useMenuContext();\n  var onToggle = menu.onToggle,\n      popper = menu.popper,\n      openAndFocusFirstItem = menu.openAndFocusFirstItem,\n      openAndFocusLastItem = menu.openAndFocusLastItem;\n  var onKeyDown = React.useCallback(function (event) {\n    var eventKey = normalizeEventKey(event);\n    var keyMap = {\n      Enter: openAndFocusFirstItem,\n      ArrowDown: openAndFocusFirstItem,\n      ArrowUp: openAndFocusLastItem\n    };\n    var action = keyMap[eventKey];\n\n    if (action) {\n      event.preventDefault();\n      event.stopPropagation();\n      action(event);\n    }\n  }, [openAndFocusFirstItem, openAndFocusLastItem]);\n  return _extends({}, props, {\n    ref: mergeRefs(menu.buttonRef, externalRef, popper.referenceRef),\n    id: menu.buttonId,\n    \"data-active\": dataAttr(menu.isOpen),\n    \"aria-expanded\": menu.isOpen,\n    \"aria-haspopup\": \"menu\",\n    \"aria-controls\": menu.menuId,\n    onClick: callAllHandlers(props.onClick, onToggle),\n    onKeyDown: callAllHandlers(props.onKeyDown, onKeyDown)\n  });\n}\n\nfunction isTargetMenuItem(target) {\n  var _target$getAttribute;\n\n  // this will catch `menuitem`, `menuitemradio`, `menuitemcheckbox`\n  return isHTMLElement(target) && !!((_target$getAttribute = target.getAttribute(\"role\")) != null && _target$getAttribute.startsWith(\"menuitem\"));\n}\n/* -------------------------------------------------------------------------------------------------\n * useMenuList\n * -----------------------------------------------------------------------------------------------*/\n\n\n/**\n * React Hook to manage a menu list.\n *\n * The assumption here is that the `useMenu` hook is used\n * in a component higher up the tree, and its return value\n * is passed as `context` to this hook.\n */\nfunction useMenuList(props, ref) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  if (ref === void 0) {\n    ref = null;\n  }\n\n  var menu = useMenuContext();\n\n  if (!menu) {\n    throw new Error(\"useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>\");\n  }\n\n  var focusedIndex = menu.focusedIndex,\n      setFocusedIndex = menu.setFocusedIndex,\n      menuRef = menu.menuRef,\n      isOpen = menu.isOpen,\n      onClose = menu.onClose,\n      menuId = menu.menuId,\n      isLazy = menu.isLazy,\n      lazyBehavior = menu.lazyBehavior,\n      animated = menu.unstable__animationState;\n  var descendants = useMenuDescendantsContext();\n  /**\n   * Hook that creates a keydown event handler that listens\n   * to printable keyboard character press\n   */\n\n  var createTypeaheadHandler = useShortcut({\n    preventDefault: function preventDefault(event) {\n      return event.key !== \" \" && isTargetMenuItem(event.target);\n    }\n  });\n  var onKeyDown = React.useCallback(function (event) {\n    var eventKey = normalizeEventKey(event);\n    var keyMap = {\n      Tab: function Tab(event) {\n        return event.preventDefault();\n      },\n      Escape: onClose,\n      ArrowDown: function ArrowDown() {\n        var next = descendants.nextEnabled(focusedIndex);\n        if (next) setFocusedIndex(next.index);\n      },\n      ArrowUp: function ArrowUp() {\n        var prev = descendants.prevEnabled(focusedIndex);\n        if (prev) setFocusedIndex(prev.index);\n      }\n    };\n    var fn = keyMap[eventKey];\n\n    if (fn) {\n      event.preventDefault();\n      fn(event);\n      return;\n    }\n    /**\n     * Typeahead: Based on current character pressed,\n     * find the next item to be selected\n     */\n\n\n    var onTypeahead = createTypeaheadHandler(function (character) {\n      var nextItem = getNextItemFromSearch(descendants.values(), character, function (item) {\n        var _item$node$textConten, _item$node;\n\n        return (_item$node$textConten = item == null ? void 0 : (_item$node = item.node) == null ? void 0 : _item$node.textContent) != null ? _item$node$textConten : \"\";\n      }, descendants.item(focusedIndex));\n\n      if (nextItem) {\n        var index = descendants.indexOf(nextItem.node);\n        setFocusedIndex(index);\n      }\n    });\n\n    if (isTargetMenuItem(event.target)) {\n      onTypeahead(event);\n    }\n  }, [descendants, focusedIndex, createTypeaheadHandler, onClose, setFocusedIndex]);\n  var hasBeenOpened = React.useRef(false);\n\n  if (isOpen) {\n    hasBeenOpened.current = true;\n  }\n\n  var shouldRenderChildren = determineLazyBehavior({\n    hasBeenSelected: hasBeenOpened.current,\n    isLazy: isLazy,\n    lazyBehavior: lazyBehavior,\n    isSelected: animated.present\n  });\n  return _extends({}, props, {\n    ref: mergeRefs(menuRef, ref),\n    children: shouldRenderChildren ? props.children : null,\n    tabIndex: -1,\n    role: \"menu\",\n    id: menuId,\n    style: _extends({}, props.style, {\n      transformOrigin: \"var(--popper-transform-origin)\"\n    }),\n    \"aria-orientation\": \"vertical\",\n    onKeyDown: callAllHandlers(props.onKeyDown, onKeyDown)\n  });\n}\n/* -------------------------------------------------------------------------------------------------\n * useMenuPosition: Composes usePopper to position the menu\n * -----------------------------------------------------------------------------------------------*/\n\nfunction useMenuPositioner(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _useMenuContext = useMenuContext(),\n      popper = _useMenuContext.popper,\n      isOpen = _useMenuContext.isOpen;\n\n  return popper.getPopperProps(_extends({}, props, {\n    style: _extends({\n      visibility: isOpen ? \"visible\" : \"hidden\"\n    }, props.style)\n  }));\n}\n/* -------------------------------------------------------------------------------------------------\n * useMenuItem: Hook for each menu item within the menu list.\n   We also use it in `useMenuItemOption`\n * -----------------------------------------------------------------------------------------------*/\n\nfunction useMenuItem(props, externalRef) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  if (externalRef === void 0) {\n    externalRef = null;\n  }\n\n  var _props2 = props,\n      onMouseEnterProp = _props2.onMouseEnter,\n      onMouseMoveProp = _props2.onMouseMove,\n      onMouseLeaveProp = _props2.onMouseLeave,\n      onClickProp = _props2.onClick,\n      isDisabled = _props2.isDisabled,\n      isFocusable = _props2.isFocusable,\n      closeOnSelect = _props2.closeOnSelect,\n      htmlProps = _objectWithoutPropertiesLoose(_props2, _excluded2$1);\n\n  var menu = useMenuContext();\n  var setFocusedIndex = menu.setFocusedIndex,\n      focusedIndex = menu.focusedIndex,\n      menuCloseOnSelect = menu.closeOnSelect,\n      onClose = menu.onClose,\n      menuRef = menu.menuRef,\n      isOpen = menu.isOpen,\n      menuId = menu.menuId;\n  var ref = React.useRef(null);\n  var id = menuId + \"-menuitem-\" + useId();\n  /**\n   * Register the menuitem's node into the domContext\n   */\n\n  var _useMenuDescendant = useMenuDescendant({\n    disabled: isDisabled && !isFocusable\n  }),\n      index = _useMenuDescendant.index,\n      register = _useMenuDescendant.register;\n\n  var onMouseEnter = React.useCallback(function (event) {\n    onMouseEnterProp == null ? void 0 : onMouseEnterProp(event);\n    if (isDisabled) return;\n    setFocusedIndex(index);\n  }, [setFocusedIndex, index, isDisabled, onMouseEnterProp]);\n  var onMouseMove = React.useCallback(function (event) {\n    onMouseMoveProp == null ? void 0 : onMouseMoveProp(event);\n\n    if (ref.current && !isActiveElement(ref.current)) {\n      onMouseEnter(event);\n    }\n  }, [onMouseEnter, onMouseMoveProp]);\n  var onMouseLeave = React.useCallback(function (event) {\n    onMouseLeaveProp == null ? void 0 : onMouseLeaveProp(event);\n    if (isDisabled) return;\n    setFocusedIndex(-1);\n  }, [setFocusedIndex, isDisabled, onMouseLeaveProp]);\n  var onClick = React.useCallback(function (event) {\n    onClickProp == null ? void 0 : onClickProp(event);\n    if (!isTargetMenuItem(event.currentTarget)) return;\n    /**\n     * Close menu and parent menus, allowing the MenuItem\n     * to override its parent menu's `closeOnSelect` prop.\n     */\n\n    if (closeOnSelect != null ? closeOnSelect : menuCloseOnSelect) {\n      onClose();\n    }\n  }, [onClose, onClickProp, menuCloseOnSelect, closeOnSelect]);\n  var isFocused = index === focusedIndex;\n  var trulyDisabled = isDisabled && !isFocusable;\n  useUpdateEffect(function () {\n    if (!isOpen) return;\n\n    if (isFocused && !trulyDisabled && ref.current) {\n      focus(ref.current, {\n        nextTick: true,\n        selectTextIfInput: false,\n        preventScroll: false\n      });\n    } else if (menuRef.current && !isActiveElement(menuRef.current)) {\n      focus(menuRef.current, {\n        preventScroll: false\n      });\n    }\n  }, [isFocused, trulyDisabled, menuRef, isOpen]);\n  var clickableProps = useClickable({\n    onClick: onClick,\n    onMouseEnter: onMouseEnter,\n    onMouseMove: onMouseMove,\n    onMouseLeave: onMouseLeave,\n    ref: mergeRefs(register, ref, externalRef),\n    isDisabled: isDisabled,\n    isFocusable: isFocusable\n  });\n  return _extends({}, htmlProps, clickableProps, {\n    id: id,\n    role: \"menuitem\",\n    tabIndex: isFocused ? 0 : -1\n  });\n}\n/* -------------------------------------------------------------------------------------------------\n * useMenuOption: Composes useMenuItem to provide a selectable/checkable menu item\n * -----------------------------------------------------------------------------------------------*/\n\nfunction useMenuOption(props, ref) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  if (ref === void 0) {\n    ref = null;\n  }\n\n  var _props3 = props,\n      _props3$type = _props3.type,\n      type = _props3$type === void 0 ? \"radio\" : _props3$type,\n      isChecked = _props3.isChecked,\n      rest = _objectWithoutPropertiesLoose(_props3, _excluded3$1);\n\n  var ownProps = useMenuItem(rest, ref);\n  return _extends({}, ownProps, {\n    role: \"menuitem\" + type,\n    \"aria-checked\": isChecked\n  });\n}\n/* -------------------------------------------------------------------------------------------------\n * useMenuOptionGroup: Manages the state of multiple selectable menuitem or menu option\n * -----------------------------------------------------------------------------------------------*/\n\nfunction useMenuOptionGroup(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props4 = props,\n      children = _props4.children,\n      _props4$type = _props4.type,\n      type = _props4$type === void 0 ? \"radio\" : _props4$type,\n      valueProp = _props4.value,\n      defaultValue = _props4.defaultValue,\n      onChangeProp = _props4.onChange,\n      htmlProps = _objectWithoutPropertiesLoose(_props4, _excluded4$1);\n\n  var isRadio = type === \"radio\";\n  var fallback = isRadio ? \"\" : [];\n\n  var _useControllableState = useControllableState({\n    defaultValue: defaultValue != null ? defaultValue : fallback,\n    value: valueProp,\n    onChange: onChangeProp\n  }),\n      value = _useControllableState[0],\n      setValue = _useControllableState[1];\n\n  var onChange = React.useCallback(function (selectedValue) {\n    if (type === \"radio\" && isString(value)) {\n      setValue(selectedValue);\n    }\n\n    if (type === \"checkbox\" && isArray(value)) {\n      var nextValue = value.includes(selectedValue) ? removeItem(value, selectedValue) : addItem(value, selectedValue);\n      setValue(nextValue);\n    }\n  }, [value, setValue, type]);\n  var validChildren = getValidChildren(children);\n  var clones = validChildren.map(function (child) {\n    /**\n     * We've added an internal `id` to each `MenuItemOption`,\n     * let's use that for type-checking.\n     *\n     * We can't rely on displayName or the element's type since\n     * they can be changed by the user.\n     */\n    if (child.type.id !== \"MenuItemOption\") return child;\n\n    var onClick = function onClick(event) {\n      onChange(child.props.value);\n      child.props.onClick == null ? void 0 : child.props.onClick(event);\n    };\n\n    var isChecked = type === \"radio\" ? child.props.value === value : value.includes(child.props.value);\n    return /*#__PURE__*/React.cloneElement(child, {\n      type: type,\n      onClick: onClick,\n      isChecked: isChecked\n    });\n  });\n  return _extends({}, htmlProps, {\n    children: clones\n  });\n}\nfunction useMenuState() {\n  var _useMenuContext2 = useMenuContext(),\n      isOpen = _useMenuContext2.isOpen,\n      onClose = _useMenuContext2.onClose;\n\n  return {\n    isOpen: isOpen,\n    onClose: onClose\n  };\n}\n\nvar _excluded = [\"descendants\"],\n    _excluded2 = [\"children\", \"as\"],\n    _excluded3 = [\"rootProps\"],\n    _excluded4 = [\"type\"],\n    _excluded5 = [\"icon\", \"iconSpacing\", \"command\", \"commandSpacing\", \"children\"],\n    _excluded6 = [\"icon\", \"iconSpacing\"],\n    _excluded7 = [\"className\", \"title\"],\n    _excluded8 = [\"title\", \"children\", \"className\"],\n    _excluded9 = [\"className\", \"children\"],\n    _excluded10 = [\"className\"];\n\n/**\n * Menu provides context, state, and focus management\n * to its sub-components. It doesn't render any DOM node.\n */\nvar Menu = function Menu(props) {\n  var children = props.children;\n  var styles = useMultiStyleConfig(\"Menu\", props);\n  var ownProps = omitThemingProps(props);\n\n  var _useTheme = useTheme(),\n      direction = _useTheme.direction;\n\n  var _useMenu = useMenu(_extends({}, ownProps, {\n    direction: direction\n  })),\n      descendants = _useMenu.descendants,\n      ctx = _objectWithoutPropertiesLoose(_useMenu, _excluded);\n\n  var context = React.useMemo(function () {\n    return ctx;\n  }, [ctx]);\n  var isOpen = context.isOpen,\n      onClose = context.onClose,\n      forceUpdate = context.forceUpdate;\n  return /*#__PURE__*/React.createElement(MenuDescendantsProvider, {\n    value: descendants\n  }, /*#__PURE__*/React.createElement(MenuProvider, {\n    value: context\n  }, /*#__PURE__*/React.createElement(StylesProvider, {\n    value: styles\n  }, runIfFn(children, {\n    isOpen: isOpen,\n    onClose: onClose,\n    forceUpdate: forceUpdate\n  }))));\n};\n\nif (__DEV__) {\n  Menu.displayName = \"Menu\";\n}\n\nvar StyledMenuButton = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useStyles();\n  return /*#__PURE__*/React.createElement(chakra.button, _extends({\n    ref: ref\n  }, props, {\n    __css: _extends({\n      display: \"inline-flex\",\n      appearance: \"none\",\n      alignItems: \"center\",\n      outline: 0\n    }, styles.button)\n  }));\n});\n/**\n * The trigger for the menu list. Must be a direct child of `Menu`.\n */\n\nvar MenuButton = /*#__PURE__*/forwardRef(function (props, ref) {\n  props.children;\n      var As = props.as,\n      rest = _objectWithoutPropertiesLoose(props, _excluded2);\n\n  var buttonProps = useMenuButton(rest, ref);\n  var Element = As || StyledMenuButton;\n  return /*#__PURE__*/React.createElement(Element, _extends({}, buttonProps, {\n    className: cx(\"chakra-menu__menu-button\", props.className)\n  }), /*#__PURE__*/React.createElement(chakra.span, {\n    __css: {\n      pointerEvents: \"none\",\n      flex: \"1 1 auto\",\n      minW: 0\n    }\n  }, props.children));\n});\n\nif (__DEV__) {\n  MenuButton.displayName = \"MenuButton\";\n}\n\nvar motionVariants = {\n  enter: {\n    visibility: \"visible\",\n    opacity: 1,\n    scale: 1,\n    transition: {\n      duration: 0.2,\n      ease: [0.4, 0, 0.2, 1]\n    }\n  },\n  exit: {\n    transitionEnd: {\n      visibility: \"hidden\"\n    },\n    opacity: 0,\n    scale: 0.8,\n    transition: {\n      duration: 0.1,\n      easings: \"easeOut\"\n    }\n  }\n}; // @future: only call `motion(chakra.div)` when we drop framer-motion v3 support\n\nvar MenuTransition = \"custom\" in motion ? motion.custom(chakra.div) : motion(chakra.div);\nvar MenuList = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _props$zIndex, _styles$list;\n\n  var rootProps = props.rootProps,\n      rest = _objectWithoutPropertiesLoose(props, _excluded3);\n\n  var _useMenuContext = useMenuContext(),\n      isOpen = _useMenuContext.isOpen,\n      onTransitionEnd = _useMenuContext.onTransitionEnd,\n      animated = _useMenuContext.unstable__animationState;\n\n  var ownProps = useMenuList(rest, ref);\n  var positionerProps = useMenuPositioner(rootProps);\n  var styles = useStyles();\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({}, positionerProps, {\n    __css: {\n      zIndex: (_props$zIndex = props.zIndex) != null ? _props$zIndex : (_styles$list = styles.list) == null ? void 0 : _styles$list.zIndex\n    }\n  }), /*#__PURE__*/React.createElement(MenuTransition, _extends({}, ownProps, {\n    /**\n     * We could call this on either `onAnimationComplete` or `onUpdate`.\n     * It seems the re-focusing works better with the `onUpdate`\n     */\n    onUpdate: onTransitionEnd,\n    onAnimationComplete: callAll(animated.onComplete, ownProps.onAnimationComplete),\n    className: cx(\"chakra-menu__menu-list\", ownProps.className),\n    variants: motionVariants,\n    initial: false,\n    animate: isOpen ? \"enter\" : \"exit\",\n    __css: _extends({\n      outline: 0\n    }, styles.list)\n  })));\n});\n\nif (__DEV__) {\n  MenuList.displayName = \"MenuList\";\n}\n\nvar StyledMenuItem = /*#__PURE__*/forwardRef(function (props, ref) {\n  var type = props.type,\n      rest = _objectWithoutPropertiesLoose(props, _excluded4);\n\n  var styles = useStyles();\n  /**\n   * Given another component, use its type if present\n   * Else, use no type to avoid invalid html, e.g. <a type=\"button\" />\n   * Else, fall back to \"button\"\n   */\n\n  var btnType = rest.as ? type != null ? type : undefined : \"button\";\n\n  var buttonStyles = _extends({\n    textDecoration: \"none\",\n    color: \"inherit\",\n    userSelect: \"none\",\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    textAlign: \"start\",\n    flex: \"0 0 auto\",\n    outline: 0\n  }, styles.item);\n\n  return /*#__PURE__*/React.createElement(chakra.button, _extends({\n    ref: ref,\n    type: btnType\n  }, rest, {\n    __css: buttonStyles\n  }));\n});\nvar MenuItem = /*#__PURE__*/forwardRef(function (props, ref) {\n  var icon = props.icon,\n      _props$iconSpacing = props.iconSpacing,\n      iconSpacing = _props$iconSpacing === void 0 ? \"0.75rem\" : _props$iconSpacing,\n      command = props.command,\n      _props$commandSpacing = props.commandSpacing,\n      commandSpacing = _props$commandSpacing === void 0 ? \"0.75rem\" : _props$commandSpacing,\n      children = props.children,\n      rest = _objectWithoutPropertiesLoose(props, _excluded5);\n\n  var menuitemProps = useMenuItem(rest, ref);\n  var shouldWrap = icon || command;\n\n  var _children = shouldWrap ? /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      pointerEvents: \"none\",\n      flex: 1\n    }\n  }, children) : children;\n\n  return /*#__PURE__*/React.createElement(StyledMenuItem, _extends({}, menuitemProps, {\n    className: cx(\"chakra-menu__menuitem\", menuitemProps.className)\n  }), icon && /*#__PURE__*/React.createElement(MenuIcon, {\n    fontSize: \"0.8em\",\n    marginEnd: iconSpacing\n  }, icon), _children, command && /*#__PURE__*/React.createElement(MenuCommand, {\n    marginStart: commandSpacing\n  }, command));\n});\n\nif (__DEV__) {\n  MenuItem.displayName = \"MenuItem\";\n}\n\nvar CheckIcon = function CheckIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 14 14\",\n    width: \"1em\",\n    height: \"1em\"\n  }, props), /*#__PURE__*/React.createElement(\"polygon\", {\n    fill: \"currentColor\",\n    points: \"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039\"\n  }));\n};\n\nvar MenuItemOption = /*#__PURE__*/forwardRef(function (props, ref) {\n  var icon = props.icon,\n      _props$iconSpacing2 = props.iconSpacing,\n      iconSpacing = _props$iconSpacing2 === void 0 ? \"0.75rem\" : _props$iconSpacing2,\n      rest = _objectWithoutPropertiesLoose(props, _excluded6);\n\n  var optionProps = useMenuOption(rest, ref);\n  return /*#__PURE__*/React.createElement(StyledMenuItem, _extends({}, optionProps, {\n    className: cx(\"chakra-menu__menuitem-option\", rest.className)\n  }), /*#__PURE__*/React.createElement(MenuIcon, {\n    fontSize: \"0.8em\",\n    marginEnd: iconSpacing,\n    opacity: props.isChecked ? 1 : 0\n  }, icon || /*#__PURE__*/React.createElement(CheckIcon, null)), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      flex: 1\n    }\n  }, optionProps.children));\n});\nMenuItemOption.id = \"MenuItemOption\";\n\nif (__DEV__) {\n  MenuItemOption.displayName = \"MenuItemOption\";\n}\n\nvar MenuOptionGroup = function MenuOptionGroup(props) {\n  var className = props.className,\n      title = props.title,\n      rest = _objectWithoutPropertiesLoose(props, _excluded7);\n\n  var ownProps = useMenuOptionGroup(rest);\n  return /*#__PURE__*/React.createElement(MenuGroup, _extends({\n    title: title,\n    className: cx(\"chakra-menu__option-group\", className)\n  }, ownProps));\n};\n\nif (__DEV__) {\n  MenuOptionGroup.displayName = \"MenuOptionGroup\";\n}\n\nvar MenuGroup = /*#__PURE__*/forwardRef(function (props, ref) {\n  var title = props.title,\n      children = props.children,\n      className = props.className,\n      rest = _objectWithoutPropertiesLoose(props, _excluded8);\n\n  var _className = cx(\"chakra-menu__group__title\", className);\n\n  var styles = useStyles();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref,\n    className: \"chakra-menu__group\",\n    role: \"group\"\n  }, title && /*#__PURE__*/React.createElement(chakra.p, _extends({\n    className: _className\n  }, rest, {\n    __css: styles.groupTitle\n  }), title), children);\n});\n\nif (__DEV__) {\n  MenuGroup.displayName = \"MenuGroup\";\n}\n\nvar MenuCommand = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useStyles();\n  return /*#__PURE__*/React.createElement(chakra.span, _extends({\n    ref: ref\n  }, props, {\n    __css: styles.command,\n    className: \"chakra-menu__command\"\n  }));\n});\n\nif (__DEV__) {\n  MenuCommand.displayName = \"MenuCommand\";\n}\n\nvar MenuIcon = function MenuIcon(props) {\n  var className = props.className,\n      children = props.children,\n      rest = _objectWithoutPropertiesLoose(props, _excluded9);\n\n  var child = React.Children.only(children);\n  var clone = /*#__PURE__*/React.isValidElement(child) ? /*#__PURE__*/React.cloneElement(child, {\n    focusable: \"false\",\n    \"aria-hidden\": true,\n    className: cx(\"chakra-menu__icon\", child.props.className)\n  }) : null;\n\n  var _className = cx(\"chakra-menu__icon-wrapper\", className);\n\n  return /*#__PURE__*/React.createElement(chakra.span, _extends({\n    className: _className\n  }, rest, {\n    __css: {\n      flexShrink: 0\n    }\n  }), clone);\n};\n\nif (__DEV__) {\n  MenuIcon.displayName = \"MenuIcon\";\n}\n\nvar MenuDivider = function MenuDivider(props) {\n  var className = props.className,\n      rest = _objectWithoutPropertiesLoose(props, _excluded10);\n\n  var styles = useStyles();\n  return /*#__PURE__*/React.createElement(chakra.hr, _extends({\n    role: \"separator\",\n    \"aria-orientation\": \"horizontal\",\n    className: cx(\"chakra-menu__divider\", className)\n  }, rest, {\n    __css: styles.divider\n  }));\n};\n\nif (__DEV__) {\n  MenuDivider.displayName = \"MenuDivider\";\n}\n\nexport { Menu, MenuButton, MenuCommand, MenuDescendantsProvider, MenuDivider, MenuGroup, MenuIcon, MenuItem, MenuItemOption, MenuList, MenuOptionGroup, MenuProvider, useMenu, useMenuButton, useMenuContext, useMenuDescendant, useMenuDescendants, useMenuDescendantsContext, useMenuItem, useMenuList, useMenuOption, useMenuOptionGroup, useMenuPositioner, useMenuState };\n","export var FOCUS_GROUP = 'data-focus-lock';\nexport var FOCUS_DISABLED = 'data-focus-lock-disabled';\nexport var FOCUS_ALLOW = 'data-no-focus-lock';\nexport var FOCUS_AUTO = 'data-autofocus-inside';\n","import { useCallbackRef } from './useRef';\nimport { assignRef } from './assignRef';\n/**\n * Merges two or more refs together providing a single interface to set their value\n * @param {RefObject|Ref} refs\n * @returns {MutableRefObject} - a new ref, which translates all changes to {refs}\n *\n * @see {@link mergeRefs} a version without buit-in memoization\n * @see https://github.com/theKashey/use-callback-ref#usemergerefs\n * @example\n * const Component = React.forwardRef((props, ref) => {\n *   const ownRef = useRef();\n *   const domRef = useMergeRefs([ref, ownRef]); // 👈 merge together\n *   return <div ref={domRef}>...</div>\n * }\n */\nexport function useMergeRefs(refs, defaultValue) {\n    return useCallbackRef(defaultValue, function (newValue) {\n        return refs.forEach(function (ref) { return assignRef(ref, newValue); });\n    });\n}\n","import { useState } from 'react';\n/**\n * creates a MutableRef with ref change callback\n * @param initialValue - initial ref value\n * @param {Function} callback - a callback to run when value changes\n *\n * @example\n * const ref = useCallbackRef(0, (newValue, oldValue) => console.log(oldValue, '->', newValue);\n * ref.current = 1;\n * // prints 0 -> 1\n *\n * @see https://reactjs.org/docs/hooks-reference.html#useref\n * @see https://github.com/theKashey/use-callback-ref#usecallbackref---to-replace-reactuseref\n * @returns {MutableRefObject}\n */\nexport function useCallbackRef(initialValue, callback) {\n    var ref = useState(function () { return ({\n        // value\n        value: initialValue,\n        // last callback\n        callback: callback,\n        // \"memoized\" public interface\n        facade: {\n            get current() {\n                return ref.value;\n            },\n            set current(value) {\n                var last = ref.value;\n                if (last !== value) {\n                    ref.value = value;\n                    ref.callback(value, last);\n                }\n            }\n        }\n    }); })[0];\n    // update callback\n    ref.callback = callback;\n    return ref.facade;\n}\n","/**\n * Assigns a value for a given ref, no matter of the ref format\n * @param {RefObject} ref - a callback function or ref object\n * @param value - a new value\n *\n * @see https://github.com/theKashey/use-callback-ref#assignref\n * @example\n * const refObject = useRef();\n * const refFn = (ref) => {....}\n *\n * assignRef(refObject, \"refValue\");\n * assignRef(refFn, \"refValue\");\n */\nexport function assignRef(ref, value) {\n    if (typeof ref === 'function') {\n        ref(value);\n    }\n    else if (ref) {\n        ref.current = value;\n    }\n    return ref;\n}\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nexport var hiddenGuard = {\n  width: '1px',\n  height: '0px',\n  padding: 0,\n  overflow: 'hidden',\n  position: 'fixed',\n  top: '1px',\n  left: '1px'\n};\n\nvar InFocusGuard = function InFocusGuard(_ref) {\n  var children = _ref.children;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    key: \"guard-first\",\n    \"data-focus-guard\": true,\n    \"data-focus-auto-guard\": true,\n    style: hiddenGuard\n  }), children, children && /*#__PURE__*/React.createElement(\"div\", {\n    key: \"guard-last\",\n    \"data-focus-guard\": true,\n    \"data-focus-auto-guard\": true,\n    style: hiddenGuard\n  }));\n};\n\nInFocusGuard.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.node\n} : {};\nInFocusGuard.defaultProps = {\n  children: null\n};\nexport default InFocusGuard;","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import * as tslib_1 from \"tslib\";\nfunction ItoI(a) {\n    return a;\n}\nfunction innerCreateMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    var buffer = [];\n    var assigned = false;\n    var medium = {\n        read: function () {\n            if (assigned) {\n                throw new Error('Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.');\n            }\n            if (buffer.length) {\n                return buffer[buffer.length - 1];\n            }\n            return defaults;\n        },\n        useMedium: function (data) {\n            var item = middleware(data, assigned);\n            buffer.push(item);\n            return function () {\n                buffer = buffer.filter(function (x) { return x !== item; });\n            };\n        },\n        assignSyncMedium: function (cb) {\n            assigned = true;\n            while (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n            }\n            buffer = {\n                push: function (x) { return cb(x); },\n                filter: function () { return buffer; },\n            };\n        },\n        assignMedium: function (cb) {\n            assigned = true;\n            var pendingQueue = [];\n            if (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n                pendingQueue = buffer;\n            }\n            var executeQueue = function () {\n                var cbs = pendingQueue;\n                pendingQueue = [];\n                cbs.forEach(cb);\n            };\n            var cycle = function () { return Promise.resolve().then(executeQueue); };\n            cycle();\n            buffer = {\n                push: function (x) {\n                    pendingQueue.push(x);\n                    cycle();\n                },\n                filter: function (filter) {\n                    pendingQueue = pendingQueue.filter(filter);\n                    return buffer;\n                },\n            };\n        },\n    };\n    return medium;\n}\nexport function createMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    return innerCreateMedium(defaults, middleware);\n}\nexport function createSidecarMedium(options) {\n    if (options === void 0) { options = {}; }\n    var medium = innerCreateMedium(null);\n    medium.options = tslib_1.__assign({ async: true, ssr: false }, options);\n    return medium;\n}\n","import { createMedium, createSidecarMedium } from 'use-sidecar';\nexport var mediumFocus = createMedium({}, function (_ref) {\n  var target = _ref.target,\n      currentTarget = _ref.currentTarget;\n  return {\n    target: target,\n    currentTarget: currentTarget\n  };\n});\nexport var mediumBlur = createMedium();\nexport var mediumEffect = createMedium();\nexport var mediumSidecar = createSidecarMedium({\n  async: true\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { node, bool, string, any, arrayOf, oneOfType, object, func } from 'prop-types';\nimport * as constants from 'focus-lock/constants';\nimport { useMergeRefs } from 'use-callback-ref';\nimport { hiddenGuard } from './FocusGuard';\nimport { mediumFocus, mediumBlur, mediumSidecar } from './medium';\nvar emptyArray = [];\nvar FocusLock = /*#__PURE__*/React.forwardRef(function FocusLockUI(props, parentRef) {\n  var _extends2;\n\n  var _React$useState = React.useState(),\n      realObserved = _React$useState[0],\n      setObserved = _React$useState[1];\n\n  var observed = React.useRef();\n  var isActive = React.useRef(false);\n  var originalFocusedElement = React.useRef(null);\n  var children = props.children,\n      disabled = props.disabled,\n      noFocusGuards = props.noFocusGuards,\n      persistentFocus = props.persistentFocus,\n      crossFrame = props.crossFrame,\n      autoFocus = props.autoFocus,\n      allowTextSelection = props.allowTextSelection,\n      group = props.group,\n      className = props.className,\n      whiteList = props.whiteList,\n      _props$shards = props.shards,\n      shards = _props$shards === void 0 ? emptyArray : _props$shards,\n      _props$as = props.as,\n      Container = _props$as === void 0 ? 'div' : _props$as,\n      _props$lockProps = props.lockProps,\n      containerProps = _props$lockProps === void 0 ? {} : _props$lockProps,\n      SideCar = props.sideCar,\n      shouldReturnFocus = props.returnFocus,\n      onActivationCallback = props.onActivation,\n      onDeactivationCallback = props.onDeactivation;\n\n  var _React$useState2 = React.useState({}),\n      id = _React$useState2[0]; // SIDE EFFECT CALLBACKS\n\n\n  var onActivation = React.useCallback(function () {\n    originalFocusedElement.current = originalFocusedElement.current || document && document.activeElement;\n\n    if (observed.current && onActivationCallback) {\n      onActivationCallback(observed.current);\n    }\n\n    isActive.current = true;\n  }, [onActivationCallback]);\n  var onDeactivation = React.useCallback(function () {\n    isActive.current = false;\n\n    if (onDeactivationCallback) {\n      onDeactivationCallback(observed.current);\n    }\n  }, [onDeactivationCallback]);\n  var returnFocus = React.useCallback(function (allowDefer) {\n    var current = originalFocusedElement.current;\n\n    if (Boolean(shouldReturnFocus) && current && current.focus) {\n      var focusOptions = typeof shouldReturnFocus === 'object' ? shouldReturnFocus : undefined;\n      originalFocusedElement.current = null;\n\n      if (allowDefer) {\n        // React might return focus after update\n        // it's safer to defer the action\n        Promise.resolve().then(function () {\n          return current.focus(focusOptions);\n        });\n      } else {\n        current.focus(focusOptions);\n      }\n    }\n  }, [shouldReturnFocus]); // MEDIUM CALLBACKS\n\n  var onFocus = React.useCallback(function (event) {\n    if (isActive.current) {\n      mediumFocus.useMedium(event);\n    }\n  }, []);\n  var onBlur = mediumBlur.useMedium; // REF PROPAGATION\n  // not using real refs due to race conditions\n\n  var setObserveNode = React.useCallback(function (newObserved) {\n    if (observed.current !== newObserved) {\n      observed.current = newObserved;\n      setObserved(newObserved);\n    }\n  }, []);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof allowTextSelection !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn('React-Focus-Lock: allowTextSelection is deprecated and enabled by default');\n    }\n\n    React.useEffect(function () {\n      if (!observed.current) {\n        // eslint-disable-next-line no-console\n        console.error('FocusLock: could not obtain ref to internal node');\n      }\n    }, []);\n  }\n\n  var lockProps = _extends((_extends2 = {}, _extends2[constants.FOCUS_DISABLED] = disabled && 'disabled', _extends2[constants.FOCUS_GROUP] = group, _extends2), containerProps);\n\n  var hasLeadingGuards = noFocusGuards !== true;\n  var hasTailingGuards = hasLeadingGuards && noFocusGuards !== 'tail';\n  var mergedRef = useMergeRefs([parentRef, setObserveNode]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, hasLeadingGuards && [/*#__PURE__*/React.createElement(\"div\", {\n    key: \"guard-first\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: hiddenGuard\n  }),\n  /*#__PURE__*/\n  // nearest focus guard\n  React.createElement(\"div\", {\n    key: \"guard-nearest\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 1,\n    style: hiddenGuard\n  }) // first tabbed element guard\n  ], !disabled && /*#__PURE__*/React.createElement(SideCar, {\n    id: id,\n    sideCar: mediumSidecar,\n    observed: realObserved,\n    disabled: disabled,\n    persistentFocus: persistentFocus,\n    crossFrame: crossFrame,\n    autoFocus: autoFocus,\n    whiteList: whiteList,\n    shards: shards,\n    onActivation: onActivation,\n    onDeactivation: onDeactivation,\n    returnFocus: returnFocus\n  }), /*#__PURE__*/React.createElement(Container, _extends({\n    ref: mergedRef\n  }, lockProps, {\n    className: className,\n    onBlur: onBlur,\n    onFocus: onFocus\n  }), children), hasTailingGuards && /*#__PURE__*/React.createElement(\"div\", {\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: hiddenGuard\n  }));\n});\nFocusLock.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: node,\n  disabled: bool,\n  returnFocus: oneOfType([bool, object]),\n  noFocusGuards: bool,\n  allowTextSelection: bool,\n  autoFocus: bool,\n  persistentFocus: bool,\n  crossFrame: bool,\n  group: string,\n  className: string,\n  whiteList: func,\n  shards: arrayOf(any),\n  as: oneOfType([string, func, object]),\n  lockProps: object,\n  onActivation: func,\n  onDeactivation: func,\n  sideCar: any.isRequired\n} : {};\nFocusLock.defaultProps = {\n  children: undefined,\n  disabled: false,\n  returnFocus: false,\n  noFocusGuards: false,\n  autoFocus: true,\n  persistentFocus: false,\n  crossFrame: true,\n  allowTextSelection: undefined,\n  group: undefined,\n  className: undefined,\n  whiteList: undefined,\n  shards: undefined,\n  as: 'div',\n  lockProps: {},\n  onActivation: undefined,\n  onDeactivation: undefined\n};\nexport default FocusLock;","import _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport React, { PureComponent } from 'react';\n\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (typeof reducePropsToState !== 'function') {\n      throw new Error('Expected reducePropsToState to be a function.');\n    }\n\n    if (typeof handleStateChangeOnClient !== 'function') {\n      throw new Error('Expected handleStateChangeOnClient to be a function.');\n    }\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (typeof WrappedComponent !== 'function') {\n        throw new Error('Expected WrappedComponent to be a React component.');\n      }\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n      handleStateChangeOnClient(state);\n    }\n\n    var SideEffect = /*#__PURE__*/function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      }\n\n      // Try to use displayName of wrapped component\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.componentDidMount = function componentDidMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return /*#__PURE__*/React.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    return SideEffect;\n  };\n}\n\nexport default withSideEffect;\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","var isRadio = function (node) { return node.tagName === 'INPUT' && node.type === 'radio'; };\nvar findSelectedRadio = function (node, nodes) {\n    return nodes\n        .filter(isRadio)\n        .filter(function (el) { return el.name === node.name; })\n        .filter(function (el) { return el.checked; })[0] || node;\n};\nexport var correctNode = function (node, nodes) {\n    if (isRadio(node) && node.name) {\n        return findSelectedRadio(node, nodes);\n    }\n    return node;\n};\nexport var correctNodes = function (nodes) {\n    var resultSet = new Set();\n    nodes.forEach(function (node) { return resultSet.add(correctNode(node, nodes)); });\n    return nodes.filter(function (node) { return resultSet.has(node); });\n};\n","import { correctNode } from './correctFocus';\nexport var pickFirstFocus = function (nodes) {\n    if (nodes[0] && nodes.length > 1) {\n        return correctNode(nodes[0], nodes);\n    }\n    return nodes[0];\n};\nexport var pickFocusable = function (nodes, index) {\n    if (nodes.length > 1) {\n        return nodes.indexOf(correctNode(nodes[index], nodes));\n    }\n    return index;\n};\n","var isElementHidden = function (node) {\n    if (node.nodeType !== Node.ELEMENT_NODE) {\n        return false;\n    }\n    var computedStyle = window.getComputedStyle(node, null);\n    if (!computedStyle || !computedStyle.getPropertyValue) {\n        return false;\n    }\n    return (computedStyle.getPropertyValue('display') === 'none' || computedStyle.getPropertyValue('visibility') === 'hidden');\n};\nvar isVisibleUncached = function (node, checkParent) {\n    return !node ||\n        node === document ||\n        (node && node.nodeType === Node.DOCUMENT_NODE) ||\n        (!isElementHidden(node) &&\n            checkParent(node.parentNode && node.parentNode.nodeType === Node.DOCUMENT_FRAGMENT_NODE\n                ? node.parentNode.host\n                : node.parentNode));\n};\nexport var isVisibleCached = function (visibilityCache, node) {\n    var cached = visibilityCache.get(node);\n    if (cached !== undefined) {\n        return cached;\n    }\n    var result = isVisibleUncached(node, isVisibleCached.bind(undefined, visibilityCache));\n    visibilityCache.set(node, result);\n    return result;\n};\nexport var notHiddenInput = function (node) {\n    return !((node.tagName === 'INPUT' || node.tagName === 'BUTTON') && (node.type === 'hidden' || node.disabled));\n};\nexport var isGuard = function (node) { return Boolean(node && node.dataset && node.dataset.focusGuard); };\nexport var isNotAGuard = function (node) { return !isGuard(node); };\nexport var isDefined = function (x) { return Boolean(x); };\n","import { correctNodes } from './utils/correctFocus';\nimport { pickFocusable } from './utils/firstFocus';\nimport { isGuard } from './utils/is';\nexport var NEW_FOCUS = 'NEW_FOCUS';\nexport var newFocus = function (innerNodes, outerNodes, activeElement, lastNode) {\n    var cnt = innerNodes.length;\n    var firstFocus = innerNodes[0];\n    var lastFocus = innerNodes[cnt - 1];\n    var isOnGuard = isGuard(activeElement);\n    if (innerNodes.indexOf(activeElement) >= 0) {\n        return undefined;\n    }\n    var activeIndex = outerNodes.indexOf(activeElement);\n    var lastIndex = lastNode ? outerNodes.indexOf(lastNode) : activeIndex;\n    var lastNodeInside = lastNode ? innerNodes.indexOf(lastNode) : -1;\n    var indexDiff = activeIndex - lastIndex;\n    var firstNodeIndex = outerNodes.indexOf(firstFocus);\n    var lastNodeIndex = outerNodes.indexOf(lastFocus);\n    var correctedNodes = correctNodes(outerNodes);\n    var correctedIndexDiff = correctedNodes.indexOf(activeElement) - (lastNode ? correctedNodes.indexOf(lastNode) : activeIndex);\n    var returnFirstNode = pickFocusable(innerNodes, 0);\n    var returnLastNode = pickFocusable(innerNodes, cnt - 1);\n    if (activeIndex === -1 || lastNodeInside === -1) {\n        return NEW_FOCUS;\n    }\n    if (!indexDiff && lastNodeInside >= 0) {\n        return lastNodeInside;\n    }\n    if (activeIndex <= firstNodeIndex && isOnGuard && Math.abs(indexDiff) > 1) {\n        return returnLastNode;\n    }\n    if (activeIndex >= lastNodeIndex && isOnGuard && Math.abs(indexDiff) > 1) {\n        return returnFirstNode;\n    }\n    if (indexDiff && Math.abs(correctedIndexDiff) > 1) {\n        return lastNodeInside;\n    }\n    if (activeIndex <= firstNodeIndex) {\n        return returnLastNode;\n    }\n    if (activeIndex > lastNodeIndex) {\n        return returnFirstNode;\n    }\n    if (indexDiff) {\n        if (Math.abs(indexDiff) > 1) {\n            return lastNodeInside;\n        }\n        return (cnt + lastNodeInside + indexDiff) % cnt;\n    }\n    return undefined;\n};\n","export var toArray = function (a) {\n    var ret = Array(a.length);\n    for (var i = 0; i < a.length; ++i) {\n        ret[i] = a[i];\n    }\n    return ret;\n};\nexport var asArray = function (a) { return (Array.isArray(a) ? a : [a]); };\n","import { FOCUS_DISABLED, FOCUS_GROUP } from '../constants';\nimport { asArray, toArray } from './array';\nvar filterNested = function (nodes) {\n    var contained = new Set();\n    var l = nodes.length;\n    for (var i = 0; i < l; i += 1) {\n        for (var j = i + 1; j < l; j += 1) {\n            var position = nodes[i].compareDocumentPosition(nodes[j]);\n            if ((position & Node.DOCUMENT_POSITION_CONTAINED_BY) > 0) {\n                contained.add(j);\n            }\n            if ((position & Node.DOCUMENT_POSITION_CONTAINS) > 0) {\n                contained.add(i);\n            }\n        }\n    }\n    return nodes.filter(function (_, index) { return !contained.has(index); });\n};\nvar getTopParent = function (node) {\n    return node.parentNode ? getTopParent(node.parentNode) : node;\n};\nexport var getAllAffectedNodes = function (node) {\n    var nodes = asArray(node);\n    return nodes.filter(Boolean).reduce(function (acc, currentNode) {\n        var group = currentNode.getAttribute(FOCUS_GROUP);\n        acc.push.apply(acc, (group\n            ? filterNested(toArray(getTopParent(currentNode).querySelectorAll(\"[\" + FOCUS_GROUP + \"=\\\"\" + group + \"\\\"]:not([\" + FOCUS_DISABLED + \"=\\\"disabled\\\"])\")))\n            : [currentNode]));\n        return acc;\n    }, []);\n};\n","import { toArray } from './array';\nexport var tabSort = function (a, b) {\n    var tabDiff = a.tabIndex - b.tabIndex;\n    var indexDiff = a.index - b.index;\n    if (tabDiff) {\n        if (!a.tabIndex) {\n            return 1;\n        }\n        if (!b.tabIndex) {\n            return -1;\n        }\n    }\n    return tabDiff || indexDiff;\n};\nexport var orderByTabIndex = function (nodes, filterNegative, keepGuards) {\n    return toArray(nodes)\n        .map(function (node, index) { return ({\n        node: node,\n        index: index,\n        tabIndex: keepGuards && node.tabIndex === -1 ? ((node.dataset || {}).focusGuard ? 0 : -1) : node.tabIndex,\n    }); })\n        .filter(function (data) { return !filterNegative || data.tabIndex >= 0; })\n        .sort(tabSort);\n};\n","import { FOCUS_AUTO } from '../constants';\nimport { toArray } from './array';\nimport { tabbables } from './tabbables';\nvar queryTabbables = tabbables.join(',');\nvar queryGuardTabbables = queryTabbables + \", [data-focus-guard]\";\nexport var getFocusables = function (parents, withGuards) {\n    return parents.reduce(function (acc, parent) {\n        return acc.concat(toArray(parent.querySelectorAll(withGuards ? queryGuardTabbables : queryTabbables)), parent.parentNode\n            ? toArray(parent.parentNode.querySelectorAll(queryTabbables)).filter(function (node) { return node === parent; })\n            : []);\n    }, []);\n};\nexport var getParentAutofocusables = function (parent) {\n    var parentFocus = parent.querySelectorAll(\"[\" + FOCUS_AUTO + \"]\");\n    return toArray(parentFocus)\n        .map(function (node) { return getFocusables([node]); })\n        .reduce(function (acc, nodes) { return acc.concat(nodes); }, []);\n};\n","export var tabbables = [\n    'button:enabled',\n    'select:enabled',\n    'textarea:enabled',\n    'input:enabled',\n    'a[href]',\n    'area[href]',\n    'summary',\n    'iframe',\n    'object',\n    'embed',\n    'audio[controls]',\n    'video[controls]',\n    '[tabindex]',\n    '[contenteditable]',\n    '[autofocus]',\n];\n","import { toArray } from './array';\nimport { isVisibleCached, notHiddenInput } from './is';\nimport { orderByTabIndex } from './tabOrder';\nimport { getFocusables, getParentAutofocusables } from './tabUtils';\nexport var filterFocusable = function (nodes, visibilityCache) {\n    return toArray(nodes)\n        .filter(function (node) { return isVisibleCached(visibilityCache, node); })\n        .filter(function (node) { return notHiddenInput(node); });\n};\nexport var getTabbableNodes = function (topNodes, visibilityCache, withGuards) {\n    return orderByTabIndex(filterFocusable(getFocusables(topNodes, withGuards), visibilityCache), true, withGuards);\n};\nexport var getAllTabbableNodes = function (topNodes, visibilityCache) {\n    return orderByTabIndex(filterFocusable(getFocusables(topNodes), visibilityCache), false);\n};\nexport var parentAutofocusables = function (topNode, visibilityCache) {\n    return filterFocusable(getParentAutofocusables(topNode), visibilityCache);\n};\n","import { asArray } from './array';\nimport { parentAutofocusables } from './DOMutils';\nvar getParents = function (node, parents) {\n    if (parents === void 0) { parents = []; }\n    parents.push(node);\n    if (node.parentNode) {\n        getParents(node.parentNode, parents);\n    }\n    return parents;\n};\nexport var getCommonParent = function (nodeA, nodeB) {\n    var parentsA = getParents(nodeA);\n    var parentsB = getParents(nodeB);\n    for (var i = 0; i < parentsA.length; i += 1) {\n        var currentParent = parentsA[i];\n        if (parentsB.indexOf(currentParent) >= 0) {\n            return currentParent;\n        }\n    }\n    return false;\n};\nexport var getTopCommonParent = function (baseActiveElement, leftEntry, rightEntries) {\n    var activeElements = asArray(baseActiveElement);\n    var leftEntries = asArray(leftEntry);\n    var activeElement = activeElements[0];\n    var topCommon = false;\n    leftEntries.filter(Boolean).forEach(function (entry) {\n        topCommon = getCommonParent(topCommon || entry, entry) || topCommon;\n        rightEntries.filter(Boolean).forEach(function (subEntry) {\n            var common = getCommonParent(activeElement, subEntry);\n            if (common) {\n                if (!topCommon || common.contains(topCommon)) {\n                    topCommon = common;\n                }\n                else {\n                    topCommon = getCommonParent(common, topCommon);\n                }\n            }\n        });\n    });\n    return topCommon;\n};\nexport var allParentAutofocusables = function (entries, visibilityCache) {\n    return entries.reduce(function (acc, node) { return acc.concat(parentAutofocusables(node, visibilityCache)); }, []);\n};\n","import { NEW_FOCUS, newFocus } from './solver';\nimport { getAllAffectedNodes } from './utils/all-affected';\nimport { getAllTabbableNodes, getTabbableNodes } from './utils/DOMutils';\nimport { pickFirstFocus } from './utils/firstFocus';\nimport { isDefined, isNotAGuard } from './utils/is';\nimport { allParentAutofocusables, getTopCommonParent } from './utils/parenting';\nvar findAutoFocused = function (autoFocusables) { return function (node) {\n    return node.autofocus || (node.dataset && !!node.dataset.autofocus) || autoFocusables.indexOf(node) >= 0;\n}; };\nvar reorderNodes = function (srcNodes, dstNodes) {\n    var remap = new Map();\n    dstNodes.forEach(function (entity) { return remap.set(entity.node, entity); });\n    return srcNodes.map(function (node) { return remap.get(node); }).filter(isDefined);\n};\nexport var getFocusMerge = function (topNode, lastNode) {\n    var activeElement = (document && document.activeElement);\n    var entries = getAllAffectedNodes(topNode).filter(isNotAGuard);\n    var commonParent = getTopCommonParent(activeElement || topNode, topNode, entries);\n    var visibilityCache = new Map();\n    var anyFocusable = getAllTabbableNodes(entries, visibilityCache);\n    var innerElements = getTabbableNodes(entries, visibilityCache).filter(function (_a) {\n        var node = _a.node;\n        return isNotAGuard(node);\n    });\n    if (!innerElements[0]) {\n        innerElements = anyFocusable;\n        if (!innerElements[0]) {\n            return undefined;\n        }\n    }\n    var outerNodes = getAllTabbableNodes([commonParent], visibilityCache).map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    var orderedInnerElements = reorderNodes(outerNodes, innerElements);\n    var innerNodes = orderedInnerElements.map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    var newId = newFocus(innerNodes, outerNodes, activeElement, lastNode);\n    if (newId === NEW_FOCUS) {\n        var autoFocusable = anyFocusable\n            .map(function (_a) {\n            var node = _a.node;\n            return node;\n        })\n            .filter(findAutoFocused(allParentAutofocusables(entries, visibilityCache)));\n        return {\n            node: autoFocusable && autoFocusable.length ? pickFirstFocus(autoFocusable) : pickFirstFocus(innerNodes),\n        };\n    }\n    if (newId === undefined) {\n        return newId;\n    }\n    return orderedInnerElements[newId];\n};\n","import { getFocusMerge } from './focusMerge';\nexport var focusOn = function (target) {\n    target.focus();\n    if ('contentWindow' in target && target.contentWindow) {\n        target.contentWindow.focus();\n    }\n};\nvar guardCount = 0;\nvar lockDisabled = false;\nexport var setFocus = function (topNode, lastNode) {\n    var focusable = getFocusMerge(topNode, lastNode);\n    if (lockDisabled) {\n        return;\n    }\n    if (focusable) {\n        if (guardCount > 2) {\n            console.error('FocusLock: focus-fighting detected. Only one focus management system could be active. ' +\n                'See https://github.com/theKashey/focus-lock/#focus-fighting');\n            lockDisabled = true;\n            setTimeout(function () {\n                lockDisabled = false;\n            }, 1);\n            return;\n        }\n        guardCount++;\n        focusOn(focusable.node);\n        guardCount--;\n    }\n};\n","import * as constants from './constants';\nimport { getFocusabledIn } from './focusables';\nimport { focusInside } from './focusInside';\nimport { focusIsHidden } from './focusIsHidden';\nimport { getFocusMerge as focusMerge } from './focusMerge';\nimport { setFocus } from './setFocus';\nimport { focusNextElement, focusPrevElement } from './sibling';\nimport tabHook from './tabHook';\nimport { getAllAffectedNodes } from './utils/all-affected';\nexport { tabHook, focusInside, focusIsHidden, focusMerge, getFocusabledIn, constants, getAllAffectedNodes, focusNextElement, focusPrevElement, };\nexport default setFocus;\n","import { getAllAffectedNodes } from './utils/all-affected';\nimport { toArray } from './utils/array';\nvar focusInFrame = function (frame) { return frame === document.activeElement; };\nvar focusInsideIframe = function (topNode) {\n    return Boolean(toArray(topNode.querySelectorAll('iframe')).some(function (node) { return focusInFrame(node); }));\n};\nexport var focusInside = function (topNode) {\n    var activeElement = document && document.activeElement;\n    if (!activeElement || (activeElement.dataset && activeElement.dataset.focusGuard)) {\n        return false;\n    }\n    return getAllAffectedNodes(topNode).reduce(function (result, node) { return result || node.contains(activeElement) || focusInsideIframe(node); }, false);\n};\n","export function deferAction(action) {\n  // Hidding setImmediate from Webpack to avoid inserting polyfill\n  var _window = window,\n      setImmediate = _window.setImmediate;\n\n  if (typeof setImmediate !== 'undefined') {\n    setImmediate(action);\n  } else {\n    setTimeout(action, 1);\n  }\n}\nexport var inlineProp = function inlineProp(name, value) {\n  var obj = {};\n  obj[name] = value;\n  return obj;\n};","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport withSideEffect from 'react-clientside-effect';\nimport moveFocusInside, { focusInside, focusIsHidden, getFocusabledIn } from 'focus-lock';\nimport { deferAction } from './util';\nimport { mediumFocus, mediumBlur, mediumEffect } from './medium';\n\nvar focusOnBody = function focusOnBody() {\n  return document && document.activeElement === document.body;\n};\n\nvar isFreeFocus = function isFreeFocus() {\n  return focusOnBody() || focusIsHidden();\n};\n\nvar lastActiveTrap = null;\nvar lastActiveFocus = null;\nvar lastPortaledElement = null;\nvar focusWasOutsideWindow = false;\n\nvar defaultWhitelist = function defaultWhitelist() {\n  return true;\n};\n\nvar focusWhitelisted = function focusWhitelisted(activeElement) {\n  return (lastActiveTrap.whiteList || defaultWhitelist)(activeElement);\n};\n\nvar recordPortal = function recordPortal(observerNode, portaledElement) {\n  lastPortaledElement = {\n    observerNode: observerNode,\n    portaledElement: portaledElement\n  };\n};\n\nvar focusIsPortaledPair = function focusIsPortaledPair(element) {\n  return lastPortaledElement && lastPortaledElement.portaledElement === element;\n};\n\nfunction autoGuard(startIndex, end, step, allNodes) {\n  var lastGuard = null;\n  var i = startIndex;\n\n  do {\n    var item = allNodes[i];\n\n    if (item.guard) {\n      if (item.node.dataset.focusAutoGuard) {\n        lastGuard = item;\n      }\n    } else if (item.lockItem) {\n      if (i !== startIndex) {\n        // we will tab to the next element\n        return;\n      }\n\n      lastGuard = null;\n    } else {\n      break;\n    }\n  } while ((i += step) !== end);\n\n  if (lastGuard) {\n    lastGuard.node.tabIndex = 0;\n  }\n}\n\nvar extractRef = function extractRef(ref) {\n  return ref && 'current' in ref ? ref.current : ref;\n};\n\nvar focusWasOutside = function focusWasOutside(crossFrameOption) {\n  if (crossFrameOption) {\n    // with cross frame return true for any value\n    return Boolean(focusWasOutsideWindow);\n  } // in other case return only of focus went a while aho\n\n\n  return focusWasOutsideWindow === 'meanwhile';\n};\n\nvar activateTrap = function activateTrap() {\n  var result = false;\n\n  if (lastActiveTrap) {\n    var _lastActiveTrap = lastActiveTrap,\n        observed = _lastActiveTrap.observed,\n        persistentFocus = _lastActiveTrap.persistentFocus,\n        autoFocus = _lastActiveTrap.autoFocus,\n        shards = _lastActiveTrap.shards,\n        crossFrame = _lastActiveTrap.crossFrame;\n    var workingNode = observed || lastPortaledElement && lastPortaledElement.portaledElement;\n    var activeElement = document && document.activeElement;\n\n    if (workingNode) {\n      var workingArea = [workingNode].concat(shards.map(extractRef).filter(Boolean));\n\n      if (!activeElement || focusWhitelisted(activeElement)) {\n        if (persistentFocus || focusWasOutside(crossFrame) || !isFreeFocus() || !lastActiveFocus && autoFocus) {\n          if (workingNode && !(focusInside(workingArea) || focusIsPortaledPair(activeElement, workingNode))) {\n            if (document && !lastActiveFocus && activeElement && !autoFocus) {\n              // Check if blur() exists, which is missing on certain elements on IE\n              if (activeElement.blur) {\n                activeElement.blur();\n              }\n\n              document.body.focus();\n            } else {\n              result = moveFocusInside(workingArea, lastActiveFocus);\n              lastPortaledElement = {};\n            }\n          }\n\n          focusWasOutsideWindow = false;\n          lastActiveFocus = document && document.activeElement;\n        }\n      }\n\n      if (document) {\n        var newActiveElement = document && document.activeElement;\n        var allNodes = getFocusabledIn(workingArea);\n        var focusedIndex = allNodes.map(function (_ref) {\n          var node = _ref.node;\n          return node;\n        }).indexOf(newActiveElement);\n\n        if (focusedIndex > -1) {\n          // remove old focus\n          allNodes.filter(function (_ref2) {\n            var guard = _ref2.guard,\n                node = _ref2.node;\n            return guard && node.dataset.focusAutoGuard;\n          }).forEach(function (_ref3) {\n            var node = _ref3.node;\n            return node.removeAttribute('tabIndex');\n          });\n          autoGuard(focusedIndex, allNodes.length, +1, allNodes);\n          autoGuard(focusedIndex, -1, -1, allNodes);\n        }\n      }\n    }\n  }\n\n  return result;\n};\n\nvar onTrap = function onTrap(event) {\n  if (activateTrap() && event) {\n    // prevent scroll jump\n    event.stopPropagation();\n    event.preventDefault();\n  }\n};\n\nvar onBlur = function onBlur() {\n  return deferAction(activateTrap);\n};\n\nvar onFocus = function onFocus(event) {\n  // detect portal\n  var source = event.target;\n  var currentNode = event.currentTarget;\n\n  if (!currentNode.contains(source)) {\n    recordPortal(currentNode, source);\n  }\n};\n\nvar FocusWatcher = function FocusWatcher() {\n  return null;\n};\n\nvar FocusTrap = function FocusTrap(_ref4) {\n  var children = _ref4.children;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onBlur: onBlur,\n    onFocus: onFocus\n  }, children);\n};\n\nFocusTrap.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.node.isRequired\n} : {};\n\nvar onWindowBlur = function onWindowBlur() {\n  focusWasOutsideWindow = 'just'; // using setTimeout to set  this variable after React/sidecar reaction\n\n  setTimeout(function () {\n    focusWasOutsideWindow = 'meanwhile';\n  }, 0);\n};\n\nvar attachHandler = function attachHandler() {\n  document.addEventListener('focusin', onTrap, true);\n  document.addEventListener('focusout', onBlur);\n  window.addEventListener('blur', onWindowBlur);\n};\n\nvar detachHandler = function detachHandler() {\n  document.removeEventListener('focusin', onTrap, true);\n  document.removeEventListener('focusout', onBlur);\n  window.removeEventListener('blur', onWindowBlur);\n};\n\nfunction reducePropsToState(propsList) {\n  return propsList.filter(function (_ref5) {\n    var disabled = _ref5.disabled;\n    return !disabled;\n  });\n}\n\nfunction handleStateChangeOnClient(traps) {\n  var trap = traps.slice(-1)[0];\n\n  if (trap && !lastActiveTrap) {\n    attachHandler();\n  }\n\n  var lastTrap = lastActiveTrap;\n  var sameTrap = lastTrap && trap && trap.id === lastTrap.id;\n  lastActiveTrap = trap;\n\n  if (lastTrap && !sameTrap) {\n    lastTrap.onDeactivation(); // return focus only of last trap was removed\n\n    if (!traps.filter(function (_ref6) {\n      var id = _ref6.id;\n      return id === lastTrap.id;\n    }).length) {\n      // allow defer is no other trap is awaiting restore\n      lastTrap.returnFocus(!trap);\n    }\n  }\n\n  if (trap) {\n    lastActiveFocus = null;\n\n    if (!sameTrap || lastTrap.observed !== trap.observed) {\n      trap.onActivation();\n    }\n\n    activateTrap(true);\n    deferAction(activateTrap);\n  } else {\n    detachHandler();\n    lastActiveFocus = null;\n  }\n} // bind medium\n\n\nmediumFocus.assignSyncMedium(onFocus);\nmediumBlur.assignMedium(onBlur);\nmediumEffect.assignMedium(function (cb) {\n  return cb({\n    moveFocusInside: moveFocusInside,\n    focusInside: focusInside\n  });\n});\nexport default withSideEffect(reducePropsToState, handleStateChangeOnClient)(FocusWatcher);","import { FOCUS_ALLOW } from './constants';\nimport { toArray } from './utils/array';\nexport var focusIsHidden = function () {\n    return document &&\n        toArray(document.querySelectorAll(\"[\" + FOCUS_ALLOW + \"]\")).some(function (node) { return node.contains(document.activeElement); });\n};\n","import { getAllAffectedNodes } from './utils/all-affected';\nimport { getTabbableNodes } from './utils/DOMutils';\nimport { isGuard, isNotAGuard } from './utils/is';\nimport { getTopCommonParent } from './utils/parenting';\nexport var getFocusabledIn = function (topNode) {\n    var entries = getAllAffectedNodes(topNode).filter(isNotAGuard);\n    var commonParent = getTopCommonParent(topNode, topNode, entries);\n    var visibilityCache = new Map();\n    var outerNodes = getTabbableNodes([commonParent], visibilityCache, true);\n    var innerElements = getTabbableNodes(entries, visibilityCache)\n        .filter(function (_a) {\n        var node = _a.node;\n        return isNotAGuard(node);\n    })\n        .map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    return outerNodes.map(function (_a) {\n        var node = _a.node, index = _a.index;\n        return ({\n            node: node,\n            index: index,\n            lockItem: innerElements.indexOf(node) >= 0,\n            guard: isGuard(node),\n        });\n    });\n};\n","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport FocusLockUI from './Lock';\nimport FocusTrap from './Trap';\n/* that would be a BREAKING CHANGE!\n// delaying sidecar execution till the first usage\nconst RequireSideCar = (props) => {\n  // eslint-disable-next-line global-require\n  const SideCar = require('./Trap').default;\n  return <SideCar {...props} />;\n};\n*/\n\nvar FocusLockCombination = /*#__PURE__*/React.forwardRef(function FocusLockUICombination(props, ref) {\n  return /*#__PURE__*/React.createElement(FocusLockUI, _extends({\n    sideCar: FocusTrap,\n    ref: ref\n  }, props));\n});\n\nvar _ref = FocusLockUI.propTypes || {},\n    sideCar = _ref.sideCar,\n    propTypes = _objectWithoutPropertiesLoose(_ref, [\"sideCar\"]);\n\nFocusLockCombination.propTypes = process.env.NODE_ENV !== \"production\" ? propTypes : {};\nexport default FocusLockCombination;","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import FocusLock from './Combination';\nexport * from './UI';\nexport default FocusLock;","import * as React from 'react';\nimport ReactFocusLock from 'react-focus-lock';\nimport { getAllFocusable, focus, __DEV__ } from '@chakra-ui/utils';\n\nvar FocusLock = function FocusLock(props) {\n  var initialFocusRef = props.initialFocusRef,\n      finalFocusRef = props.finalFocusRef,\n      contentRef = props.contentRef,\n      restoreFocus = props.restoreFocus,\n      children = props.children,\n      isDisabled = props.isDisabled,\n      autoFocus = props.autoFocus,\n      persistentFocus = props.persistentFocus,\n      lockFocusAcrossFrames = props.lockFocusAcrossFrames;\n  var onActivation = React.useCallback(function () {\n    if (initialFocusRef != null && initialFocusRef.current) {\n      initialFocusRef.current.focus();\n    } else if (contentRef != null && contentRef.current) {\n      var focusables = getAllFocusable(contentRef.current);\n\n      if (focusables.length === 0) {\n        focus(contentRef.current, {\n          nextTick: true\n        });\n      }\n    }\n  }, [initialFocusRef, contentRef]);\n  var onDeactivation = React.useCallback(function () {\n    var _finalFocusRef$curren;\n\n    finalFocusRef == null ? void 0 : (_finalFocusRef$curren = finalFocusRef.current) == null ? void 0 : _finalFocusRef$curren.focus();\n  }, [finalFocusRef]);\n  var returnFocus = restoreFocus && !finalFocusRef;\n  return /*#__PURE__*/React.createElement(ReactFocusLock, {\n    crossFrame: lockFocusAcrossFrames,\n    persistentFocus: persistentFocus,\n    autoFocus: autoFocus,\n    disabled: isDisabled,\n    onActivation: onActivation,\n    onDeactivation: onDeactivation,\n    returnFocus: returnFocus\n  }, children);\n};\n\nif (__DEV__) {\n  FocusLock.displayName = \"FocusLock\";\n}\n\nexport { FocusLock, FocusLock as default };\n","import { isNumber, warn, mergeWith, cx, __DEV__ } from '@chakra-ui/utils';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport * as React from 'react';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar TransitionEasings = {\n  ease: [0.25, 0.1, 0.25, 1],\n  easeIn: [0.4, 0, 1, 1],\n  easeOut: [0, 0, 0.2, 1],\n  easeInOut: [0.4, 0, 0.2, 1]\n};\nvar TransitionVariants = {\n  scale: {\n    enter: {\n      scale: 1\n    },\n    exit: {\n      scale: 0.95\n    }\n  },\n  fade: {\n    enter: {\n      opacity: 1\n    },\n    exit: {\n      opacity: 0\n    }\n  },\n  pushLeft: {\n    enter: {\n      x: \"100%\"\n    },\n    exit: {\n      x: \"-30%\"\n    }\n  },\n  pushRight: {\n    enter: {\n      x: \"-100%\"\n    },\n    exit: {\n      x: \"30%\"\n    }\n  },\n  pushUp: {\n    enter: {\n      y: \"100%\"\n    },\n    exit: {\n      y: \"-30%\"\n    }\n  },\n  pushDown: {\n    enter: {\n      y: \"-100%\"\n    },\n    exit: {\n      y: \"30%\"\n    }\n  },\n  slideLeft: {\n    position: {\n      left: 0,\n      top: 0,\n      bottom: 0,\n      width: \"100%\"\n    },\n    enter: {\n      x: 0,\n      y: 0\n    },\n    exit: {\n      x: \"-100%\",\n      y: 0\n    }\n  },\n  slideRight: {\n    position: {\n      right: 0,\n      top: 0,\n      bottom: 0,\n      width: \"100%\"\n    },\n    enter: {\n      x: 0,\n      y: 0\n    },\n    exit: {\n      x: \"100%\",\n      y: 0\n    }\n  },\n  slideUp: {\n    position: {\n      top: 0,\n      left: 0,\n      right: 0,\n      maxWidth: \"100vw\"\n    },\n    enter: {\n      x: 0,\n      y: 0\n    },\n    exit: {\n      x: 0,\n      y: \"-100%\"\n    }\n  },\n  slideDown: {\n    position: {\n      bottom: 0,\n      left: 0,\n      right: 0,\n      maxWidth: \"100vw\"\n    },\n    enter: {\n      x: 0,\n      y: 0\n    },\n    exit: {\n      x: 0,\n      y: \"100%\"\n    }\n  }\n};\nfunction slideTransition(options) {\n  var _options$direction;\n\n  var side = (_options$direction = options == null ? void 0 : options.direction) != null ? _options$direction : \"right\";\n\n  switch (side) {\n    case \"right\":\n      return TransitionVariants.slideRight;\n\n    case \"left\":\n      return TransitionVariants.slideLeft;\n\n    case \"bottom\":\n      return TransitionVariants.slideDown;\n\n    case \"top\":\n      return TransitionVariants.slideUp;\n\n    default:\n      return TransitionVariants.slideRight;\n  }\n}\nvar TransitionDefaults = {\n  enter: {\n    duration: 0.2,\n    ease: TransitionEasings.easeOut\n  },\n  exit: {\n    duration: 0.1,\n    ease: TransitionEasings.easeIn\n  }\n};\nvar withDelay = {\n  enter: function enter(transition, delay) {\n    return _extends({}, transition, {\n      delay: isNumber(delay) ? delay : delay == null ? void 0 : delay[\"enter\"]\n    });\n  },\n  exit: function exit(transition, delay) {\n    return _extends({}, transition, {\n      delay: isNumber(delay) ? delay : delay == null ? void 0 : delay[\"exit\"]\n    });\n  }\n};\n\nvar _excluded$4 = [\"in\", \"unmountOnExit\", \"animateOpacity\", \"startingHeight\", \"endingHeight\", \"style\", \"className\", \"transition\", \"transitionEnd\"];\n\nvar isNumeric = function isNumeric(value) {\n  return value != null && parseInt(value.toString(), 10) > 0;\n};\n\nvar defaultTransitions = {\n  exit: {\n    height: {\n      duration: 0.2,\n      ease: TransitionEasings.ease\n    },\n    opacity: {\n      duration: 0.3,\n      ease: TransitionEasings.ease\n    }\n  },\n  enter: {\n    height: {\n      duration: 0.3,\n      ease: TransitionEasings.ease\n    },\n    opacity: {\n      duration: 0.4,\n      ease: TransitionEasings.ease\n    }\n  }\n};\nvar variants$4 = {\n  exit: function exit(_ref) {\n    var _transition$exit;\n\n    var animateOpacity = _ref.animateOpacity,\n        startingHeight = _ref.startingHeight,\n        transition = _ref.transition,\n        transitionEnd = _ref.transitionEnd,\n        delay = _ref.delay;\n    return _extends({}, animateOpacity && {\n      opacity: isNumeric(startingHeight) ? 1 : 0\n    }, {\n      overflow: \"hidden\",\n      height: startingHeight,\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.exit,\n      transition: (_transition$exit = transition == null ? void 0 : transition.exit) != null ? _transition$exit : withDelay.exit(defaultTransitions.exit, delay)\n    });\n  },\n  enter: function enter(_ref2) {\n    var _transition$enter;\n\n    var animateOpacity = _ref2.animateOpacity,\n        endingHeight = _ref2.endingHeight,\n        transition = _ref2.transition,\n        transitionEnd = _ref2.transitionEnd,\n        delay = _ref2.delay;\n    return _extends({}, animateOpacity && {\n      opacity: 1\n    }, {\n      height: endingHeight,\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.enter,\n      transition: (_transition$enter = transition == null ? void 0 : transition.enter) != null ? _transition$enter : withDelay.enter(defaultTransitions.enter, delay)\n    });\n  }\n};\nvar Collapse = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var isOpen = props[\"in\"],\n      unmountOnExit = props.unmountOnExit,\n      _props$animateOpacity = props.animateOpacity,\n      animateOpacity = _props$animateOpacity === void 0 ? true : _props$animateOpacity,\n      _props$startingHeight = props.startingHeight,\n      startingHeight = _props$startingHeight === void 0 ? 0 : _props$startingHeight,\n      _props$endingHeight = props.endingHeight,\n      endingHeight = _props$endingHeight === void 0 ? \"auto\" : _props$endingHeight,\n      style = props.style,\n      className = props.className,\n      transition = props.transition,\n      transitionEnd = props.transitionEnd,\n      rest = _objectWithoutPropertiesLoose(props, _excluded$4);\n\n  var _React$useState = React.useState(false),\n      mounted = _React$useState[0],\n      setMounted = _React$useState[1];\n\n  React.useEffect(function () {\n    var timeout = setTimeout(function () {\n      setMounted(true);\n    });\n    return function () {\n      return clearTimeout(timeout);\n    };\n  }, []);\n  /**\n   * Warn 🚨: `startingHeight` and `unmountOnExit` are mutually exclusive\n   *\n   * If you specify a starting height, the collapsed needs to be mounted\n   * for the height to take effect.\n   */\n\n  warn({\n    condition: Boolean(startingHeight > 0 && unmountOnExit),\n    message: \"startingHeight and unmountOnExit are mutually exclusive. You can't use them together\"\n  });\n  var hasStartingHeight = parseFloat(startingHeight.toString()) > 0;\n  var custom = {\n    startingHeight: startingHeight,\n    endingHeight: endingHeight,\n    animateOpacity: animateOpacity,\n    transition: !mounted ? {\n      enter: {\n        duration: 0\n      }\n    } : transition,\n    transitionEnd: mergeWith(transitionEnd, {\n      enter: {\n        overflow: \"initial\"\n      },\n      exit: unmountOnExit ? undefined : {\n        display: hasStartingHeight ? \"block\" : \"none\"\n      }\n    })\n  };\n  var show = unmountOnExit ? isOpen : true;\n  var animate = isOpen || unmountOnExit ? \"enter\" : \"exit\";\n  return /*#__PURE__*/React.createElement(AnimatePresence, {\n    initial: false,\n    custom: custom\n  }, show && /*#__PURE__*/React.createElement(motion.div, _extends({\n    ref: ref\n  }, rest, {\n    className: cx(\"chakra-collapse\", className),\n    style: _extends({\n      overflow: \"hidden\",\n      display: \"block\"\n    }, style),\n    custom: custom,\n    variants: variants$4,\n    initial: unmountOnExit ? \"exit\" : false,\n    animate: animate,\n    exit: \"exit\"\n  })));\n});\n\nif (__DEV__) {\n  Collapse.displayName = \"Collapse\";\n}\n\nvar _excluded$3 = [\"unmountOnExit\", \"in\", \"className\", \"transition\", \"transitionEnd\", \"delay\"];\nvar variants$3 = {\n  enter: function enter(_temp) {\n    var _transition$enter;\n\n    var _ref = _temp === void 0 ? {} : _temp,\n        transition = _ref.transition,\n        transitionEnd = _ref.transitionEnd,\n        delay = _ref.delay;\n\n    return {\n      opacity: 1,\n      transition: (_transition$enter = transition == null ? void 0 : transition.enter) != null ? _transition$enter : withDelay.enter(TransitionDefaults.enter, delay),\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.enter\n    };\n  },\n  exit: function exit(_temp2) {\n    var _transition$exit;\n\n    var _ref2 = _temp2 === void 0 ? {} : _temp2,\n        transition = _ref2.transition,\n        transitionEnd = _ref2.transitionEnd,\n        delay = _ref2.delay;\n\n    return {\n      opacity: 0,\n      transition: (_transition$exit = transition == null ? void 0 : transition.exit) != null ? _transition$exit : withDelay.exit(TransitionDefaults.exit, delay),\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.exit\n    };\n  }\n};\nvar fadeConfig = {\n  initial: \"exit\",\n  animate: \"enter\",\n  exit: \"exit\",\n  variants: variants$3\n};\nvar Fade = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var unmountOnExit = props.unmountOnExit,\n      isOpen = props[\"in\"],\n      className = props.className,\n      transition = props.transition,\n      transitionEnd = props.transitionEnd,\n      delay = props.delay,\n      rest = _objectWithoutPropertiesLoose(props, _excluded$3);\n\n  var animate = isOpen || unmountOnExit ? \"enter\" : \"exit\";\n  var show = unmountOnExit ? isOpen && unmountOnExit : true;\n  var custom = {\n    transition: transition,\n    transitionEnd: transitionEnd,\n    delay: delay\n  };\n  return /*#__PURE__*/React.createElement(AnimatePresence, {\n    custom: custom\n  }, show && /*#__PURE__*/React.createElement(motion.div, _extends({\n    ref: ref,\n    className: cx(\"chakra-fade\", className),\n    custom: custom\n  }, fadeConfig, {\n    animate: animate\n  }, rest)));\n});\n\nif (__DEV__) {\n  Fade.displayName = \"Fade\";\n}\n\nvar _excluded$2 = [\"unmountOnExit\", \"in\", \"reverse\", \"initialScale\", \"className\", \"transition\", \"transitionEnd\", \"delay\"];\nvar variants$2 = {\n  exit: function exit(_ref) {\n    var _transition$exit;\n\n    var reverse = _ref.reverse,\n        initialScale = _ref.initialScale,\n        transition = _ref.transition,\n        transitionEnd = _ref.transitionEnd,\n        delay = _ref.delay;\n    return _extends({\n      opacity: 0\n    }, reverse ? {\n      scale: initialScale,\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.exit\n    } : {\n      transitionEnd: _extends({\n        scale: initialScale\n      }, transitionEnd == null ? void 0 : transitionEnd.exit)\n    }, {\n      transition: (_transition$exit = transition == null ? void 0 : transition.exit) != null ? _transition$exit : withDelay.exit(TransitionDefaults.exit, delay)\n    });\n  },\n  enter: function enter(_ref2) {\n    var _transition$enter;\n\n    var transitionEnd = _ref2.transitionEnd,\n        transition = _ref2.transition,\n        delay = _ref2.delay;\n    return {\n      opacity: 1,\n      scale: 1,\n      transition: (_transition$enter = transition == null ? void 0 : transition.enter) != null ? _transition$enter : withDelay.enter(TransitionDefaults.enter, delay),\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.enter\n    };\n  }\n};\nvar scaleFadeConfig = {\n  initial: \"exit\",\n  animate: \"enter\",\n  exit: \"exit\",\n  variants: variants$2\n};\nvar ScaleFade = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var unmountOnExit = props.unmountOnExit,\n      isOpen = props[\"in\"],\n      _props$reverse = props.reverse,\n      reverse = _props$reverse === void 0 ? true : _props$reverse,\n      _props$initialScale = props.initialScale,\n      initialScale = _props$initialScale === void 0 ? 0.95 : _props$initialScale,\n      className = props.className,\n      transition = props.transition,\n      transitionEnd = props.transitionEnd,\n      delay = props.delay,\n      rest = _objectWithoutPropertiesLoose(props, _excluded$2);\n\n  var show = unmountOnExit ? isOpen && unmountOnExit : true;\n  var animate = isOpen || unmountOnExit ? \"enter\" : \"exit\";\n  var custom = {\n    initialScale: initialScale,\n    reverse: reverse,\n    transition: transition,\n    transitionEnd: transitionEnd,\n    delay: delay\n  };\n  return /*#__PURE__*/React.createElement(AnimatePresence, {\n    custom: custom\n  }, show && /*#__PURE__*/React.createElement(motion.div, _extends({\n    ref: ref,\n    className: cx(\"chakra-offset-slide\", className)\n  }, scaleFadeConfig, {\n    animate: animate,\n    custom: custom\n  }, rest)));\n});\n\nif (__DEV__) {\n  ScaleFade.displayName = \"ScaleFade\";\n}\n\nvar _excluded$1 = [\"direction\", \"style\", \"unmountOnExit\", \"in\", \"className\", \"transition\", \"transitionEnd\", \"delay\"];\nvar defaultTransition = {\n  exit: {\n    duration: 0.15,\n    ease: TransitionEasings.easeInOut\n  },\n  enter: {\n    type: \"spring\",\n    damping: 25,\n    stiffness: 180\n  }\n};\nvar variants$1 = {\n  exit: function exit(_ref) {\n    var _transition$exit;\n\n    var direction = _ref.direction,\n        transition = _ref.transition,\n        transitionEnd = _ref.transitionEnd,\n        delay = _ref.delay;\n\n    var _slideTransition = slideTransition({\n      direction: direction\n    }),\n        exitStyles = _slideTransition.exit;\n\n    return _extends({}, exitStyles, {\n      transition: (_transition$exit = transition == null ? void 0 : transition.exit) != null ? _transition$exit : withDelay.exit(defaultTransition.exit, delay),\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.exit\n    });\n  },\n  enter: function enter(_ref2) {\n    var _transition$enter;\n\n    var direction = _ref2.direction,\n        transitionEnd = _ref2.transitionEnd,\n        transition = _ref2.transition,\n        delay = _ref2.delay;\n\n    var _slideTransition2 = slideTransition({\n      direction: direction\n    }),\n        enterStyles = _slideTransition2.enter;\n\n    return _extends({}, enterStyles, {\n      transition: (_transition$enter = transition == null ? void 0 : transition.enter) != null ? _transition$enter : withDelay.enter(defaultTransition.enter, delay),\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.enter\n    });\n  }\n};\nvar Slide = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _props$direction = props.direction,\n      direction = _props$direction === void 0 ? \"right\" : _props$direction,\n      style = props.style,\n      unmountOnExit = props.unmountOnExit,\n      isOpen = props[\"in\"],\n      className = props.className,\n      transition = props.transition,\n      transitionEnd = props.transitionEnd,\n      delay = props.delay,\n      rest = _objectWithoutPropertiesLoose(props, _excluded$1);\n\n  var transitionStyles = slideTransition({\n    direction: direction\n  });\n  var computedStyle = Object.assign({\n    position: \"fixed\"\n  }, transitionStyles.position, style);\n  var show = unmountOnExit ? isOpen && unmountOnExit : true;\n  var animate = isOpen || unmountOnExit ? \"enter\" : \"exit\";\n  var custom = {\n    transitionEnd: transitionEnd,\n    transition: transition,\n    direction: direction,\n    delay: delay\n  };\n  return /*#__PURE__*/React.createElement(AnimatePresence, {\n    custom: custom\n  }, show && /*#__PURE__*/React.createElement(motion.div, _extends({}, rest, {\n    ref: ref,\n    initial: \"exit\",\n    className: cx(\"chakra-slide\", className),\n    animate: animate,\n    exit: \"exit\",\n    custom: custom,\n    variants: variants$1,\n    style: computedStyle\n  })));\n});\n\nif (__DEV__) {\n  Slide.displayName = \"Slide\";\n}\n\nvar _excluded = [\"unmountOnExit\", \"in\", \"reverse\", \"className\", \"offsetX\", \"offsetY\", \"transition\", \"transitionEnd\", \"delay\"];\nvar variants = {\n  initial: function initial(_ref) {\n    var _transition$exit;\n\n    var offsetX = _ref.offsetX,\n        offsetY = _ref.offsetY,\n        transition = _ref.transition,\n        transitionEnd = _ref.transitionEnd,\n        delay = _ref.delay;\n    return {\n      opacity: 0,\n      x: offsetX,\n      y: offsetY,\n      transition: (_transition$exit = transition == null ? void 0 : transition.exit) != null ? _transition$exit : withDelay.exit(TransitionDefaults.exit, delay),\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.exit\n    };\n  },\n  enter: function enter(_ref2) {\n    var _transition$enter;\n\n    var transition = _ref2.transition,\n        transitionEnd = _ref2.transitionEnd,\n        delay = _ref2.delay;\n    return {\n      opacity: 1,\n      x: 0,\n      y: 0,\n      transition: (_transition$enter = transition == null ? void 0 : transition.enter) != null ? _transition$enter : withDelay.enter(TransitionDefaults.enter, delay),\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.enter\n    };\n  },\n  exit: function exit(_ref3) {\n    var _transition$exit2;\n\n    var offsetY = _ref3.offsetY,\n        offsetX = _ref3.offsetX,\n        transition = _ref3.transition,\n        transitionEnd = _ref3.transitionEnd,\n        reverse = _ref3.reverse,\n        delay = _ref3.delay;\n    var offset = {\n      x: offsetX,\n      y: offsetY\n    };\n    return _extends({\n      opacity: 0,\n      transition: (_transition$exit2 = transition == null ? void 0 : transition.exit) != null ? _transition$exit2 : withDelay.exit(TransitionDefaults.exit, delay)\n    }, reverse ? _extends({}, offset, {\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.exit\n    }) : {\n      transitionEnd: _extends({}, offset, transitionEnd == null ? void 0 : transitionEnd.exit)\n    });\n  }\n};\nvar slideFadeConfig = {\n  initial: \"initial\",\n  animate: \"enter\",\n  exit: \"exit\",\n  variants: variants\n};\nvar SlideFade = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var unmountOnExit = props.unmountOnExit,\n      isOpen = props[\"in\"],\n      _props$reverse = props.reverse,\n      reverse = _props$reverse === void 0 ? true : _props$reverse,\n      className = props.className,\n      _props$offsetX = props.offsetX,\n      offsetX = _props$offsetX === void 0 ? 0 : _props$offsetX,\n      _props$offsetY = props.offsetY,\n      offsetY = _props$offsetY === void 0 ? 8 : _props$offsetY,\n      transition = props.transition,\n      transitionEnd = props.transitionEnd,\n      delay = props.delay,\n      rest = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var show = unmountOnExit ? isOpen && unmountOnExit : true;\n  var animate = isOpen || unmountOnExit ? \"enter\" : \"exit\";\n  var custom = {\n    offsetX: offsetX,\n    offsetY: offsetY,\n    reverse: reverse,\n    transition: transition,\n    transitionEnd: transitionEnd,\n    delay: delay\n  };\n  return /*#__PURE__*/React.createElement(AnimatePresence, {\n    custom: custom\n  }, show && /*#__PURE__*/React.createElement(motion.div, _extends({\n    ref: ref,\n    className: cx(\"chakra-offset-slide\", className),\n    custom: custom\n  }, slideFadeConfig, {\n    animate: animate\n  }, rest)));\n});\n\nif (__DEV__) {\n  SlideFade.displayName = \"SlideFade\";\n}\n\nexport { Collapse, TransitionEasings as EASINGS, Fade, ScaleFade, Slide, SlideFade, fadeConfig, scaleFadeConfig, slideFadeConfig };\n","export var zeroRightClassName = 'right-scroll-bar-position';\nexport var fullWidthClassName = 'width-before-scroll-bar';\nexport var noScrollbarsClassName = 'with-scroll-bars-hidden';\nexport var removedBarSizeVariable = '--removed-body-scroll-bar-size';\n","import { createSidecarMedium } from 'use-sidecar';\nexport var effectCar = createSidecarMedium();\n","import * as tslib_1 from \"tslib\";\nimport * as React from 'react';\nimport { fullWidthClassName, zeroRightClassName } from 'react-remove-scroll-bar/constants';\nimport { effectCar } from './medium';\nimport { useMergeRefs } from 'use-callback-ref';\nvar nothing = function () {\n    return;\n};\n/**\n * Removes scrollbar from the page and contain the scroll within the Lock\n */\nvar RemoveScroll = React.forwardRef(function (props, parentRef) {\n    var ref = React.useRef(null);\n    var _a = React.useState({\n        onScrollCapture: nothing,\n        onWheelCapture: nothing,\n        onTouchMoveCapture: nothing\n    }), callbacks = _a[0], setCallbacks = _a[1];\n    var forwardProps = props.forwardProps, children = props.children, className = props.className, removeScrollBar = props.removeScrollBar, enabled = props.enabled, shards = props.shards, sideCar = props.sideCar, noIsolation = props.noIsolation, inert = props.inert, allowPinchZoom = props.allowPinchZoom, _b = props.as, Container = _b === void 0 ? 'div' : _b, rest = tslib_1.__rest(props, [\"forwardProps\", \"children\", \"className\", \"removeScrollBar\", \"enabled\", \"shards\", \"sideCar\", \"noIsolation\", \"inert\", \"allowPinchZoom\", \"as\"]);\n    var SideCar = sideCar;\n    var containerRef = useMergeRefs([\n        ref,\n        parentRef\n    ]);\n    var containerProps = tslib_1.__assign({}, rest, callbacks);\n    return (React.createElement(React.Fragment, null,\n        enabled && (React.createElement(SideCar, { sideCar: effectCar, removeScrollBar: removeScrollBar, shards: shards, noIsolation: noIsolation, inert: inert, setCallbacks: setCallbacks, allowPinchZoom: !!allowPinchZoom, lockRef: ref })),\n        forwardProps ? (React.cloneElement(React.Children.only(children), tslib_1.__assign({}, containerProps, { ref: containerRef }))) : (React.createElement(Container, tslib_1.__assign({}, containerProps, { className: className, ref: containerRef }), children))));\n});\nRemoveScroll.defaultProps = {\n    enabled: true,\n    removeScrollBar: true,\n    inert: false\n};\nRemoveScroll.classNames = {\n    fullWidth: fullWidthClassName,\n    zeroRight: zeroRightClassName\n};\nexport { RemoveScroll };\n","import * as tslib_1 from \"tslib\";\nimport * as React from 'react';\nvar SideCar = function (_a) {\n    var sideCar = _a.sideCar, rest = tslib_1.__rest(_a, [\"sideCar\"]);\n    if (!sideCar) {\n        throw new Error('Sidecar: please provide `sideCar` property to import the right car');\n    }\n    var Target = sideCar.read();\n    if (!Target) {\n        throw new Error('Sidecar medium not found');\n    }\n    return React.createElement(Target, tslib_1.__assign({}, rest));\n};\nSideCar.isSideCarExport = true;\nexport function exportSidecar(medium, exported) {\n    medium.useMedium(exported);\n    return SideCar;\n}\n","var currentNonce;\nexport var setNonce = function (nonce) {\n    currentNonce = nonce;\n};\nexport var getNonce = function () {\n    if (currentNonce) {\n        return currentNonce;\n    }\n    if (typeof __webpack_nonce__ !== 'undefined') {\n        return __webpack_nonce__;\n    }\n    return undefined;\n};\n","import { getNonce } from \"get-nonce\";\nfunction makeStyleTag() {\n    if (!document)\n        return null;\n    var tag = document.createElement('style');\n    tag.type = 'text/css';\n    var nonce = getNonce();\n    if (nonce) {\n        tag.setAttribute('nonce', nonce);\n    }\n    return tag;\n}\nfunction injectStyles(tag, css) {\n    if (tag.styleSheet) {\n        tag.styleSheet.cssText = css;\n    }\n    else {\n        tag.appendChild(document.createTextNode(css));\n    }\n}\nfunction insertStyleTag(tag) {\n    var head = document.head || document.getElementsByTagName('head')[0];\n    head.appendChild(tag);\n}\nexport var stylesheetSingleton = function () {\n    var counter = 0;\n    var stylesheet = null;\n    return {\n        add: function (style) {\n            if (counter == 0) {\n                if (stylesheet = makeStyleTag()) {\n                    injectStyles(stylesheet, style);\n                    insertStyleTag(stylesheet);\n                }\n            }\n            counter++;\n        },\n        remove: function () {\n            counter--;\n            if (!counter && stylesheet) {\n                stylesheet.parentNode && stylesheet.parentNode.removeChild(stylesheet);\n                stylesheet = null;\n            }\n        }\n    };\n};\n","import { styleHookSingleton } from \"./hook\";\nexport var styleSingleton = function () {\n    var useStyle = styleHookSingleton();\n    var Sheet = function (_a) {\n        var styles = _a.styles;\n        useStyle(styles);\n        return null;\n    };\n    return Sheet;\n};\n","import * as React from 'react';\nimport { stylesheetSingleton } from \"./singleton\";\nexport var styleHookSingleton = function () {\n    var sheet = stylesheetSingleton();\n    return function (styles) {\n        React.useEffect(function () {\n            sheet.add(styles);\n            return function () {\n                sheet.remove();\n            };\n        }, []);\n    };\n};\n","export var zeroGap = {\n    left: 0,\n    top: 0,\n    right: 0,\n    gap: 0,\n};\nvar parse = function (x) { return parseInt(x || '', 10) || 0; };\nvar getOffset = function (gapMode) {\n    var cs = window.getComputedStyle(document.body);\n    var left = cs[gapMode === 'padding' ? 'paddingLeft' : 'marginLeft'];\n    var top = cs[gapMode === 'padding' ? 'paddingTop' : 'marginTop'];\n    var right = cs[gapMode === 'padding' ? 'paddingRight' : 'marginRight'];\n    return [\n        parse(left),\n        parse(top),\n        parse(right),\n    ];\n};\nexport var getGapWidth = function (gapMode) {\n    if (gapMode === void 0) { gapMode = 'margin'; }\n    if (typeof window === 'undefined') {\n        return zeroGap;\n    }\n    var offsets = getOffset(gapMode);\n    var documentWidth = document.documentElement.clientWidth;\n    var windowWidth = window.innerWidth;\n    return {\n        left: offsets[0],\n        top: offsets[1],\n        right: offsets[2],\n        gap: Math.max(0, windowWidth - documentWidth + offsets[2] - offsets[0]),\n    };\n};\n","import * as React from 'react';\nimport { styleSingleton } from 'react-style-singleton';\nimport { getGapWidth } from './utils';\nimport { fullWidthClassName, zeroRightClassName, noScrollbarsClassName, removedBarSizeVariable } from \"./constants\";\nvar Style = styleSingleton();\nvar getStyles = function (_a, allowRelative, gapMode, important) {\n    var left = _a.left, top = _a.top, right = _a.right, gap = _a.gap;\n    if (gapMode === void 0) { gapMode = 'margin'; }\n    return \"\\n  .\" + noScrollbarsClassName + \" {\\n   overflow: hidden \" + important + \";\\n   padding-right: \" + gap + \"px \" + important + \";\\n  }\\n  body {\\n    overflow: hidden \" + important + \";\\n    \" + [\n        allowRelative && \"position: relative \" + important + \";\",\n        gapMode === 'margin' && \"\\n    padding-left: \" + left + \"px;\\n    padding-top: \" + top + \"px;\\n    padding-right: \" + right + \"px;\\n    margin-left:0;\\n    margin-top:0;\\n    margin-right: \" + gap + \"px \" + important + \";\\n    \",\n        gapMode === 'padding' && \"padding-right: \" + gap + \"px \" + important + \";\",\n    ].filter(Boolean).join('') + \"\\n  }\\n  \\n  .\" + zeroRightClassName + \" {\\n    right: \" + gap + \"px \" + important + \";\\n  }\\n  \\n  .\" + fullWidthClassName + \" {\\n    margin-right: \" + gap + \"px \" + important + \";\\n  }\\n  \\n  .\" + zeroRightClassName + \" .\" + zeroRightClassName + \" {\\n    right: 0 \" + important + \";\\n  }\\n  \\n  .\" + fullWidthClassName + \" .\" + fullWidthClassName + \" {\\n    margin-right: 0 \" + important + \";\\n  }\\n  \\n  body {\\n    \" + removedBarSizeVariable + \": \" + gap + \"px;\\n  }\\n\";\n};\nexport var RemoveScrollBar = function (props) {\n    var _a = React.useState(getGapWidth(props.gapMode)), gap = _a[0], setGap = _a[1];\n    React.useEffect(function () {\n        setGap(getGapWidth(props.gapMode));\n    }, [props.gapMode]);\n    var noRelative = props.noRelative, noImportant = props.noImportant, _b = props.gapMode, gapMode = _b === void 0 ? 'margin' : _b;\n    return React.createElement(Style, { styles: getStyles(gap, !noRelative, gapMode, !noImportant ? \"!important\" : '') });\n};\n","var elementCouldBeVScrolled = function (node) {\n    var styles = window.getComputedStyle(node);\n    return (styles.overflowY !== 'hidden' && // not-not-scrollable\n        !(styles.overflowY === styles.overflowX && styles.overflowY === 'visible') // scrollable\n    );\n};\nvar elementCouldBeHScrolled = function (node) {\n    var styles = window.getComputedStyle(node);\n    return (styles.overflowX !== 'hidden' && // not-not-scrollable\n        !(styles.overflowY === styles.overflowX && styles.overflowX === 'visible') // scrollable\n    );\n};\nexport var locationCouldBeScrolled = function (axis, node) {\n    var current = node;\n    do {\n        var isScrollable = elementCouldBeScrolled(axis, current);\n        if (isScrollable) {\n            var _a = getScrollVariables(axis, current), s = _a[1], d = _a[2];\n            if (s > d) {\n                return true;\n            }\n        }\n        current = current.parentNode;\n    } while (current && current !== document.body);\n    return false;\n};\nvar getVScrollVariables = function (_a) {\n    var scrollTop = _a.scrollTop, scrollHeight = _a.scrollHeight, clientHeight = _a.clientHeight;\n    return [scrollTop, scrollHeight, clientHeight];\n};\nvar getHScrollVariables = function (_a) {\n    var scrollLeft = _a.scrollLeft, scrollWidth = _a.scrollWidth, clientWidth = _a.clientWidth;\n    return [scrollLeft, scrollWidth, clientWidth];\n};\nvar elementCouldBeScrolled = function (axis, node) {\n    return axis === 'v' ? elementCouldBeVScrolled(node) : elementCouldBeHScrolled(node);\n};\nvar getScrollVariables = function (axis, node) {\n    return axis === 'v' ? getVScrollVariables(node) : getHScrollVariables(node);\n};\nexport var handleScroll = function (axis, endTarget, event, sourceDelta, noOverscroll) {\n    var delta = sourceDelta;\n    // find scrollable target\n    var target = event.target;\n    var targetInLock = endTarget.contains(target);\n    var shouldCancelScroll = false;\n    var isDeltaPositive = delta > 0;\n    var availableScroll = 0;\n    var availableScrollTop = 0;\n    do {\n        var _a = getScrollVariables(axis, target), position = _a[0], scroll_1 = _a[1], capacity = _a[2];\n        var elementScroll = scroll_1 - capacity - position;\n        if (position || elementScroll) {\n            if (elementCouldBeScrolled(axis, target)) {\n                availableScroll += elementScroll;\n                availableScrollTop += position;\n            }\n        }\n        target = target.parentNode;\n    } while (\n    // portaled content\n    (!targetInLock && target !== document.body) ||\n        // self content\n        (targetInLock && (endTarget.contains(target) || endTarget === target)));\n    if (isDeltaPositive &&\n        ((noOverscroll && availableScroll === 0) ||\n            (!noOverscroll && delta > availableScroll))) {\n        shouldCancelScroll = true;\n    }\n    else if (!isDeltaPositive &&\n        ((noOverscroll && availableScrollTop === 0) ||\n            (!noOverscroll && -delta > availableScrollTop))) {\n        shouldCancelScroll = true;\n    }\n    return shouldCancelScroll;\n};\n","var passiveSupported = false;\nif (typeof window !== 'undefined') {\n    try {\n        var options = Object.defineProperty({}, 'passive', {\n            get: function () {\n                passiveSupported = true;\n                return true;\n            }\n        });\n        window.addEventListener('test', options, options);\n        window.removeEventListener('test', options, options);\n    }\n    catch (err) {\n        passiveSupported = false;\n    }\n}\nexport var nonPassive = passiveSupported ? { passive: false } : false;\n","import * as React from 'react';\nimport { RemoveScrollBar } from 'react-remove-scroll-bar';\nimport { styleSingleton } from 'react-style-singleton';\nimport { handleScroll, locationCouldBeScrolled } from './handleScroll';\nimport { nonPassive } from './aggresiveCapture';\nexport var getTouchXY = function (event) {\n    return 'changedTouches' in event\n        ? [event.changedTouches[0].clientX, event.changedTouches[0].clientY]\n        : [0, 0];\n};\nexport var getDeltaXY = function (event) { return [event.deltaX, event.deltaY]; };\nvar extractRef = function (ref) {\n    return ref && 'current' in ref ? ref.current : ref;\n};\nvar deltaCompare = function (x, y) {\n    return x[0] === y[0] && x[1] === y[1];\n};\nvar generateStyle = function (id) { return \"\\n  .block-interactivity-\" + id + \" {pointer-events: none;}\\n  .allow-interactivity-\" + id + \" {pointer-events: all;}\\n\"; };\nvar idCounter = 0;\nvar lockStack = [];\nexport function RemoveScrollSideCar(props) {\n    var shouldPreventQueue = React.useRef([]);\n    var touchStartRef = React.useRef([0, 0]);\n    var activeAxis = React.useRef();\n    var id = React.useState(idCounter++)[0];\n    var Style = React.useState(function () { return styleSingleton(); })[0];\n    var lastProps = React.useRef(props);\n    React.useEffect(function () {\n        lastProps.current = props;\n    }, [props]);\n    React.useEffect(function () {\n        if (props.inert) {\n            document.body.classList.add(\"block-interactivity-\" + id);\n            var allow_1 = [\n                props.lockRef.current\n            ].concat((props.shards || []).map(extractRef)).filter(Boolean);\n            allow_1.forEach(function (el) { return el.classList.add(\"allow-interactivity-\" + id); });\n            return function () {\n                document.body.classList.remove(\"block-interactivity-\" + id);\n                allow_1.forEach(function (el) {\n                    return el.classList.remove(\"allow-interactivity-\" + id);\n                });\n            };\n        }\n        return;\n    }, [props.inert, props.lockRef.current, props.shards]);\n    var shouldCancelEvent = React.useCallback(function (event, parent) {\n        if ('touches' in event && event.touches.length === 2) {\n            return !lastProps.current.allowPinchZoom;\n        }\n        var touch = getTouchXY(event);\n        var touchStart = touchStartRef.current;\n        var deltaX = 'deltaX' in event ? event.deltaX : touchStart[0] - touch[0];\n        var deltaY = 'deltaY' in event ? event.deltaY : touchStart[1] - touch[1];\n        var currentAxis;\n        var target = event.target;\n        var moveDirection = Math.abs(deltaX) > Math.abs(deltaY) ? 'h' : 'v';\n        var canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n        if (!canBeScrolledInMainDirection) {\n            return true;\n        }\n        if (canBeScrolledInMainDirection) {\n            currentAxis = moveDirection;\n        }\n        else {\n            currentAxis = moveDirection === 'v' ? 'h' : 'v';\n            canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n            // other axis might be not scrollable\n        }\n        if (!canBeScrolledInMainDirection) {\n            return false;\n        }\n        if (!activeAxis.current &&\n            'changedTouches' in event &&\n            (deltaX || deltaY)) {\n            activeAxis.current = currentAxis;\n        }\n        if (!currentAxis) {\n            return true;\n        }\n        var cancelingAxis = activeAxis.current || currentAxis;\n        return handleScroll(cancelingAxis, parent, event, cancelingAxis === 'h' ? deltaX : deltaY, true);\n    }, []);\n    var shouldPrevent = React.useCallback(function (_event) {\n        var event = _event;\n        if (!lockStack.length || lockStack[lockStack.length - 1] !== Style) {\n            // not the last active\n            return;\n        }\n        var delta = 'deltaY' in event ? getDeltaXY(event) : getTouchXY(event);\n        var sourceEvent = shouldPreventQueue.current.filter(function (e) {\n            return e.name === event.type &&\n                e.target === event.target &&\n                deltaCompare(e.delta, delta);\n        })[0];\n        // self event, and should be canceled\n        if (sourceEvent && sourceEvent.should) {\n            event.preventDefault();\n            return;\n        }\n        // outside or shard event\n        if (!sourceEvent) {\n            var shardNodes = (lastProps.current.shards || [])\n                .map(extractRef)\n                .filter(Boolean)\n                .filter(function (node) { return node.contains(event.target); });\n            var shouldStop = shardNodes.length > 0\n                ? shouldCancelEvent(event, shardNodes[0])\n                : !lastProps.current.noIsolation;\n            if (shouldStop) {\n                event.preventDefault();\n            }\n        }\n    }, []);\n    var shouldCancel = React.useCallback(function (name, delta, target, should) {\n        var event = { name: name, delta: delta, target: target, should: should };\n        shouldPreventQueue.current.push(event);\n        setTimeout(function () {\n            shouldPreventQueue.current = shouldPreventQueue.current.filter(function (e) { return e !== event; });\n        }, 1);\n    }, []);\n    var scrollTouchStart = React.useCallback(function (event) {\n        touchStartRef.current = getTouchXY(event);\n        activeAxis.current = undefined;\n    }, []);\n    var scrollWheel = React.useCallback(function (event) {\n        shouldCancel(event.type, getDeltaXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n    }, []);\n    var scrollTouchMove = React.useCallback(function (event) {\n        shouldCancel(event.type, getTouchXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n    }, []);\n    React.useEffect(function () {\n        lockStack.push(Style);\n        props.setCallbacks({\n            onScrollCapture: scrollWheel,\n            onWheelCapture: scrollWheel,\n            onTouchMoveCapture: scrollTouchMove\n        });\n        document.addEventListener('wheel', shouldPrevent, nonPassive);\n        document.addEventListener('touchmove', shouldPrevent, nonPassive);\n        document.addEventListener('touchstart', scrollTouchStart, nonPassive);\n        return function () {\n            lockStack = lockStack.filter(function (inst) { return inst !== Style; });\n            document.removeEventListener('wheel', shouldPrevent, nonPassive);\n            document.removeEventListener('touchmove', shouldPrevent, nonPassive);\n            document.removeEventListener('touchstart', scrollTouchStart, nonPassive);\n        };\n    }, []);\n    var removeScrollBar = props.removeScrollBar, inert = props.inert;\n    return (React.createElement(React.Fragment, null,\n        inert ? React.createElement(Style, { styles: generateStyle(id) }) : null,\n        removeScrollBar ? React.createElement(RemoveScrollBar, { gapMode: \"margin\" }) : null));\n}\n","import { exportSidecar } from 'use-sidecar';\nimport { RemoveScrollSideCar } from './SideEffect';\nimport { effectCar } from './medium';\nexport default exportSidecar(effectCar, RemoveScrollSideCar);\n","import * as tslib_1 from \"tslib\";\nimport * as React from 'react';\nimport { RemoveScroll } from './UI';\nimport SideCar from './sidecar';\nvar ReactRemoveScroll = React.forwardRef(function (props, ref) { return (React.createElement(RemoveScroll, tslib_1.__assign({}, props, { ref: ref, sideCar: SideCar }))); });\nReactRemoveScroll.classNames = RemoveScroll.classNames;\nexport default ReactRemoveScroll;\n","var getDefaultParent = function (originalTarget) {\n    if (typeof document === 'undefined') {\n        return null;\n    }\n    var sampleTarget = Array.isArray(originalTarget) ? originalTarget[0] : originalTarget;\n    return sampleTarget.ownerDocument.body;\n};\nvar counterMap = new WeakMap();\nvar uncontrolledNodes = new WeakMap();\nvar markerMap = {};\nvar lockCount = 0;\nexport var hideOthers = function (originalTarget, parentNode, markerName) {\n    if (parentNode === void 0) { parentNode = getDefaultParent(originalTarget); }\n    if (markerName === void 0) { markerName = \"data-aria-hidden\"; }\n    var targets = Array.isArray(originalTarget) ? originalTarget : [originalTarget];\n    if (!markerMap[markerName]) {\n        markerMap[markerName] = new WeakMap();\n    }\n    var markerCounter = markerMap[markerName];\n    var hiddenNodes = [];\n    var elementsToKeep = new Set();\n    var keep = (function (el) {\n        if (!el || elementsToKeep.has(el)) {\n            return;\n        }\n        elementsToKeep.add(el);\n        keep(el.parentNode);\n    });\n    targets.forEach(keep);\n    var deep = function (parent) {\n        if (!parent || targets.indexOf(parent) >= 0) {\n            return;\n        }\n        Array.prototype.forEach.call(parent.children, function (node) {\n            if (elementsToKeep.has(node)) {\n                deep(node);\n            }\n            else {\n                var attr = node.getAttribute('aria-hidden');\n                var alreadyHidden = attr !== null && attr !== 'false';\n                var counterValue = (counterMap.get(node) || 0) + 1;\n                var markerValue = (markerCounter.get(node) || 0) + 1;\n                counterMap.set(node, counterValue);\n                markerCounter.set(node, markerValue);\n                hiddenNodes.push(node);\n                if (counterValue === 1 && alreadyHidden) {\n                    uncontrolledNodes.set(node, true);\n                }\n                if (markerValue === 1) {\n                    node.setAttribute(markerName, 'true');\n                }\n                if (!alreadyHidden) {\n                    node.setAttribute('aria-hidden', 'true');\n                }\n            }\n        });\n    };\n    deep(parentNode);\n    elementsToKeep.clear();\n    lockCount++;\n    return function () {\n        hiddenNodes.forEach(function (node) {\n            var counterValue = counterMap.get(node) - 1;\n            var markerValue = markerCounter.get(node) - 1;\n            counterMap.set(node, counterValue);\n            markerCounter.set(node, markerValue);\n            if (!counterValue) {\n                if (!uncontrolledNodes.has(node)) {\n                    node.removeAttribute('aria-hidden');\n                }\n                uncontrolledNodes.delete(node);\n            }\n            if (!markerValue) {\n                node.removeAttribute(markerName);\n            }\n        });\n        lockCount--;\n        if (!lockCount) {\n            counterMap = new WeakMap();\n            counterMap = new WeakMap();\n            uncontrolledNodes = new WeakMap();\n            markerMap = {};\n        }\n    };\n};\n","import { CloseButton } from '@chakra-ui/close-button';\nimport { FocusLock } from '@chakra-ui/focus-lock';\nimport { Portal } from '@chakra-ui/portal';\nimport { chakra, useMultiStyleConfig, StylesProvider, forwardRef, useStyles, useTheme } from '@chakra-ui/system';\nimport { slideFadeConfig, scaleFadeConfig, fadeConfig, Slide } from '@chakra-ui/transition';\nimport { callAllHandlers, __DEV__, cx } from '@chakra-ui/utils';\nimport { mergeRefs, createContext } from '@chakra-ui/react-utils';\nimport { motion, AnimatePresence, usePresence } from 'framer-motion';\nimport * as React from 'react';\nimport { useEffect, useRef, useCallback, useState } from 'react';\nimport { RemoveScroll } from 'react-remove-scroll';\nimport { useIds } from '@chakra-ui/hooks';\nimport { hideOthers } from 'aria-hidden';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar _excluded$3 = [\"preset\"];\nvar transitions = {\n  slideInBottom: _extends({}, slideFadeConfig, {\n    custom: {\n      offsetY: 16,\n      reverse: true\n    }\n  }),\n  slideInRight: _extends({}, slideFadeConfig, {\n    custom: {\n      offsetX: 16,\n      reverse: true\n    }\n  }),\n  scale: _extends({}, scaleFadeConfig, {\n    custom: {\n      initialScale: 0.95,\n      reverse: true\n    }\n  }),\n  none: {}\n};\nvar Motion = chakra(motion.section);\nvar ModalTransition = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var preset = props.preset,\n      rest = _objectWithoutPropertiesLoose(props, _excluded$3);\n\n  var motionProps = transitions[preset];\n  return /*#__PURE__*/React.createElement(Motion, _extends({\n    ref: ref\n  }, motionProps, rest));\n});\n\n/**\n * Proper state management for nested modals.\n * Simplified, but inspired by material-ui's ModalManager class.\n */\n\nvar ModalManager = /*#__PURE__*/function () {\n  function ModalManager() {\n    this.modals = void 0;\n    this.modals = [];\n  }\n\n  var _proto = ModalManager.prototype;\n\n  _proto.add = function add(modal) {\n    this.modals.push(modal);\n  };\n\n  _proto.remove = function remove(modal) {\n    this.modals = this.modals.filter(function (_modal) {\n      return _modal !== modal;\n    });\n  };\n\n  _proto.isTopModal = function isTopModal(modal) {\n    var topmostModal = this.modals[this.modals.length - 1];\n    return topmostModal === modal;\n  };\n\n  return ModalManager;\n}();\n\nvar manager = new ModalManager();\nfunction useModalManager(ref, isOpen) {\n  useEffect(function () {\n    if (isOpen) {\n      manager.add(ref);\n    }\n\n    return function () {\n      manager.remove(ref);\n    };\n  }, [isOpen, ref]);\n}\n\n/**\n * Modal hook that manages all the logic for the modal dialog widget\n * and returns prop getters, state and actions.\n *\n * @param props\n */\nfunction useModal(props) {\n  var isOpen = props.isOpen,\n      onClose = props.onClose,\n      id = props.id,\n      _props$closeOnOverlay = props.closeOnOverlayClick,\n      closeOnOverlayClick = _props$closeOnOverlay === void 0 ? true : _props$closeOnOverlay,\n      _props$closeOnEsc = props.closeOnEsc,\n      closeOnEsc = _props$closeOnEsc === void 0 ? true : _props$closeOnEsc,\n      _props$useInert = props.useInert,\n      useInert = _props$useInert === void 0 ? true : _props$useInert,\n      onOverlayClickProp = props.onOverlayClick,\n      onEsc = props.onEsc;\n  var dialogRef = useRef(null);\n  var overlayRef = useRef(null);\n\n  var _useIds = useIds(id, \"chakra-modal\", \"chakra-modal--header\", \"chakra-modal--body\"),\n      dialogId = _useIds[0],\n      headerId = _useIds[1],\n      bodyId = _useIds[2];\n  /**\n   * Hook used to polyfill `aria-modal` for older browsers.\n   * It uses `aria-hidden` to all other nodes.\n   *\n   * @see https://developer.paciellogroup.com/blog/2018/06/the-current-state-of-modal-dialog-accessibility/\n   */\n\n\n  useAriaHidden(dialogRef, isOpen && useInert);\n  /**\n   * Hook use to manage multiple or nested modals\n   */\n\n  useModalManager(dialogRef, isOpen);\n  var mouseDownTarget = useRef(null);\n  var onMouseDown = useCallback(function (event) {\n    mouseDownTarget.current = event.target;\n  }, []);\n  var onKeyDown = useCallback(function (event) {\n    if (event.key === \"Escape\") {\n      event.stopPropagation();\n\n      if (closeOnEsc) {\n        onClose == null ? void 0 : onClose();\n      }\n\n      onEsc == null ? void 0 : onEsc();\n    }\n  }, [closeOnEsc, onClose, onEsc]);\n\n  var _useState = useState(false),\n      headerMounted = _useState[0],\n      setHeaderMounted = _useState[1];\n\n  var _useState2 = useState(false),\n      bodyMounted = _useState2[0],\n      setBodyMounted = _useState2[1];\n\n  var getDialogProps = useCallback(function (props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({\n      role: \"dialog\"\n    }, props, {\n      ref: mergeRefs(ref, dialogRef),\n      id: dialogId,\n      tabIndex: -1,\n      \"aria-modal\": true,\n      \"aria-labelledby\": headerMounted ? headerId : undefined,\n      \"aria-describedby\": bodyMounted ? bodyId : undefined,\n      onClick: callAllHandlers(props.onClick, function (event) {\n        return event.stopPropagation();\n      })\n    });\n  }, [bodyId, bodyMounted, dialogId, headerId, headerMounted]);\n  var onOverlayClick = useCallback(function (event) {\n    event.stopPropagation();\n    /**\n     * Make sure the event starts and ends on the same DOM element.\n     *\n     * This is used to prevent the modal from closing when you\n     * start dragging from the content, and release drag outside the content.\n     *\n     * We prevent this because it is technically not a considered \"click outside\"\n     */\n\n    if (mouseDownTarget.current !== event.target) return;\n    /**\n     * When you click on the overlay, we want to remove only the topmost modal\n     */\n\n    if (!manager.isTopModal(dialogRef)) return;\n\n    if (closeOnOverlayClick) {\n      onClose == null ? void 0 : onClose();\n    }\n\n    onOverlayClickProp == null ? void 0 : onOverlayClickProp();\n  }, [onClose, closeOnOverlayClick, onOverlayClickProp]);\n  var getDialogContainerProps = useCallback(function (props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({}, props, {\n      ref: mergeRefs(ref, overlayRef),\n      onClick: callAllHandlers(props.onClick, onOverlayClick),\n      onKeyDown: callAllHandlers(props.onKeyDown, onKeyDown),\n      onMouseDown: callAllHandlers(props.onMouseDown, onMouseDown)\n    });\n  }, [onKeyDown, onMouseDown, onOverlayClick]);\n  return {\n    isOpen: isOpen,\n    onClose: onClose,\n    headerId: headerId,\n    bodyId: bodyId,\n    setBodyMounted: setBodyMounted,\n    setHeaderMounted: setHeaderMounted,\n    dialogRef: dialogRef,\n    overlayRef: overlayRef,\n    getDialogProps: getDialogProps,\n    getDialogContainerProps: getDialogContainerProps\n  };\n}\n\n/**\n * Modal hook to polyfill `aria-modal`.\n *\n * It applies `aria-hidden` to elements behind the modal\n * to indicate that they're `inert`.\n *\n * @param ref React ref of the node\n * @param shouldHide whether `aria-hidden` should be applied\n */\nfunction useAriaHidden(ref, shouldHide) {\n  useEffect(function () {\n    if (!ref.current) return undefined;\n    var undo = null;\n\n    if (shouldHide && ref.current) {\n      undo = hideOthers(ref.current);\n    }\n\n    return function () {\n      if (shouldHide) {\n        undo == null ? void 0 : undo();\n      }\n    };\n  }, [shouldHide, ref]);\n}\n\nvar _excluded$2 = [\"className\", \"children\", \"containerProps\"],\n    _excluded2$1 = [\"className\", \"transition\"],\n    _excluded3 = [\"className\"],\n    _excluded4 = [\"className\"],\n    _excluded5 = [\"className\"],\n    _excluded6 = [\"onClick\", \"className\"];\n\nvar _createContext$1 = createContext({\n  strict: true,\n  name: \"ModalContext\",\n  errorMessage: \"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`\"\n}),\n    ModalContextProvider = _createContext$1[0],\n    useModalContext = _createContext$1[1];\n/**\n * Modal provides context, theming, and accessibility properties\n * to all other modal components.\n *\n * It doesn't render any DOM node.\n */\n\nvar Modal = function Modal(props) {\n  var portalProps = props.portalProps,\n      children = props.children,\n      autoFocus = props.autoFocus,\n      trapFocus = props.trapFocus,\n      initialFocusRef = props.initialFocusRef,\n      finalFocusRef = props.finalFocusRef,\n      returnFocusOnClose = props.returnFocusOnClose,\n      blockScrollOnMount = props.blockScrollOnMount,\n      allowPinchZoom = props.allowPinchZoom,\n      preserveScrollBarGap = props.preserveScrollBarGap,\n      motionPreset = props.motionPreset,\n      lockFocusAcrossFrames = props.lockFocusAcrossFrames;\n  var styles = useMultiStyleConfig(\"Modal\", props);\n  var modal = useModal(props);\n\n  var context = _extends({}, modal, {\n    autoFocus: autoFocus,\n    trapFocus: trapFocus,\n    initialFocusRef: initialFocusRef,\n    finalFocusRef: finalFocusRef,\n    returnFocusOnClose: returnFocusOnClose,\n    blockScrollOnMount: blockScrollOnMount,\n    allowPinchZoom: allowPinchZoom,\n    preserveScrollBarGap: preserveScrollBarGap,\n    motionPreset: motionPreset,\n    lockFocusAcrossFrames: lockFocusAcrossFrames\n  });\n\n  return /*#__PURE__*/React.createElement(ModalContextProvider, {\n    value: context\n  }, /*#__PURE__*/React.createElement(StylesProvider, {\n    value: styles\n  }, /*#__PURE__*/React.createElement(AnimatePresence, null, context.isOpen && /*#__PURE__*/React.createElement(Portal, portalProps, children))));\n};\nModal.defaultProps = {\n  lockFocusAcrossFrames: true,\n  returnFocusOnClose: true,\n  scrollBehavior: \"outside\",\n  trapFocus: true,\n  autoFocus: true,\n  blockScrollOnMount: true,\n  allowPinchZoom: false,\n  motionPreset: \"scale\"\n};\n\nif (__DEV__) {\n  Modal.displayName = \"Modal\";\n}\n\nvar MotionDiv = chakra(motion.div);\n/**\n * ModalContent is used to group modal's content. It has all the\n * necessary `aria-*` properties to indicate that it is a modal\n */\n\nvar ModalContent = /*#__PURE__*/forwardRef(function (props, ref) {\n  var className = props.className,\n      children = props.children,\n      rootProps = props.containerProps,\n      rest = _objectWithoutPropertiesLoose(props, _excluded$2);\n\n  var _useModalContext = useModalContext(),\n      getDialogProps = _useModalContext.getDialogProps,\n      getDialogContainerProps = _useModalContext.getDialogContainerProps;\n\n  var dialogProps = getDialogProps(rest, ref);\n  var containerProps = getDialogContainerProps(rootProps);\n\n  var _className = cx(\"chakra-modal__content\", className);\n\n  var styles = useStyles();\n\n  var dialogStyles = _extends({\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    width: \"100%\",\n    outline: 0\n  }, styles.dialog);\n\n  var dialogContainerStyles = _extends({\n    display: \"flex\",\n    width: \"100vw\",\n    height: \"100vh\",\n    \"@supports(height: -webkit-fill-available)\": {\n      height: \"-webkit-fill-available\"\n    },\n    position: \"fixed\",\n    left: 0,\n    top: 0\n  }, styles.dialogContainer);\n\n  var _useModalContext2 = useModalContext(),\n      motionPreset = _useModalContext2.motionPreset;\n\n  return /*#__PURE__*/React.createElement(ModalFocusScope, null, /*#__PURE__*/React.createElement(chakra.div, _extends({}, containerProps, {\n    className: \"chakra-modal__content-container\" // tabindex=\"-1\" means that the element is not reachable via sequential keyboard navigation, @see #4686\n    ,\n    tabIndex: -1,\n    __css: dialogContainerStyles\n  }), /*#__PURE__*/React.createElement(ModalTransition, _extends({\n    preset: motionPreset,\n    className: _className\n  }, dialogProps, {\n    __css: dialogStyles\n  }), children)));\n});\n\nif (__DEV__) {\n  ModalContent.displayName = \"ModalContent\";\n}\n\nfunction ModalFocusScope(props) {\n  var _useModalContext3 = useModalContext(),\n      autoFocus = _useModalContext3.autoFocus,\n      trapFocus = _useModalContext3.trapFocus,\n      dialogRef = _useModalContext3.dialogRef,\n      initialFocusRef = _useModalContext3.initialFocusRef,\n      blockScrollOnMount = _useModalContext3.blockScrollOnMount,\n      allowPinchZoom = _useModalContext3.allowPinchZoom,\n      finalFocusRef = _useModalContext3.finalFocusRef,\n      returnFocusOnClose = _useModalContext3.returnFocusOnClose,\n      preserveScrollBarGap = _useModalContext3.preserveScrollBarGap,\n      lockFocusAcrossFrames = _useModalContext3.lockFocusAcrossFrames;\n\n  var _usePresence = usePresence(),\n      isPresent = _usePresence[0],\n      safeToRemove = _usePresence[1];\n\n  React.useEffect(function () {\n    if (!isPresent && safeToRemove) {\n      setTimeout(safeToRemove);\n    }\n  }, [isPresent, safeToRemove]);\n  return /*#__PURE__*/React.createElement(FocusLock, {\n    autoFocus: autoFocus,\n    isDisabled: !trapFocus,\n    initialFocusRef: initialFocusRef,\n    finalFocusRef: finalFocusRef,\n    restoreFocus: returnFocusOnClose,\n    contentRef: dialogRef,\n    lockFocusAcrossFrames: lockFocusAcrossFrames\n  }, /*#__PURE__*/React.createElement(RemoveScroll, {\n    removeScrollBar: !preserveScrollBarGap,\n    allowPinchZoom: allowPinchZoom,\n    enabled: blockScrollOnMount,\n    forwardProps: true\n  }, props.children));\n}\n\n/**\n * ModalOverlay renders a backdrop behind the modal. It is\n * also used as a wrapper for the modal content for better positioning.\n *\n * @see Docs https://chakra-ui.com/modal\n */\nvar ModalOverlay = /*#__PURE__*/forwardRef(function (props, ref) {\n  var className = props.className;\n      props.transition;\n      var rest = _objectWithoutPropertiesLoose(props, _excluded2$1);\n\n  var _className = cx(\"chakra-modal__overlay\", className);\n\n  var styles = useStyles();\n\n  var overlayStyle = _extends({\n    pos: \"fixed\",\n    left: \"0\",\n    top: \"0\",\n    w: \"100vw\",\n    h: \"100vh\"\n  }, styles.overlay);\n\n  var _useModalContext4 = useModalContext(),\n      motionPreset = _useModalContext4.motionPreset;\n\n  var motionProps = motionPreset === \"none\" ? {} : fadeConfig;\n  return /*#__PURE__*/React.createElement(MotionDiv, _extends({}, motionProps, {\n    __css: overlayStyle,\n    ref: ref,\n    className: _className\n  }, rest));\n});\n\nif (__DEV__) {\n  ModalOverlay.displayName = \"ModalOverlay\";\n}\n\n/**\n * ModalHeader\n *\n * React component that houses the title of the modal.\n *\n * @see Docs https://chakra-ui.com/modal\n */\nvar ModalHeader = /*#__PURE__*/forwardRef(function (props, ref) {\n  var className = props.className,\n      rest = _objectWithoutPropertiesLoose(props, _excluded3);\n\n  var _useModalContext5 = useModalContext(),\n      headerId = _useModalContext5.headerId,\n      setHeaderMounted = _useModalContext5.setHeaderMounted;\n  /**\n   * Notify us if this component was rendered or used\n   * so we can append `aria-labelledby` automatically\n   */\n\n\n  React.useEffect(function () {\n    setHeaderMounted(true);\n    return function () {\n      return setHeaderMounted(false);\n    };\n  }, [setHeaderMounted]);\n\n  var _className = cx(\"chakra-modal__header\", className);\n\n  var styles = useStyles();\n\n  var headerStyles = _extends({\n    flex: 0\n  }, styles.header);\n\n  return /*#__PURE__*/React.createElement(chakra.header, _extends({\n    ref: ref,\n    className: _className,\n    id: headerId\n  }, rest, {\n    __css: headerStyles\n  }));\n});\n\nif (__DEV__) {\n  ModalHeader.displayName = \"ModalHeader\";\n}\n\n/**\n * ModalBody\n *\n * React component that houses the main content of the modal.\n *\n * @see Docs https://chakra-ui.com/modal\n */\nvar ModalBody = /*#__PURE__*/forwardRef(function (props, ref) {\n  var className = props.className,\n      rest = _objectWithoutPropertiesLoose(props, _excluded4);\n\n  var _useModalContext6 = useModalContext(),\n      bodyId = _useModalContext6.bodyId,\n      setBodyMounted = _useModalContext6.setBodyMounted;\n  /**\n   * Notify us if this component was rendered or used\n   * so we can append `aria-describedby` automatically\n   */\n\n\n  React.useEffect(function () {\n    setBodyMounted(true);\n    return function () {\n      return setBodyMounted(false);\n    };\n  }, [setBodyMounted]);\n\n  var _className = cx(\"chakra-modal__body\", className);\n\n  var styles = useStyles();\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    ref: ref,\n    className: _className,\n    id: bodyId\n  }, rest, {\n    __css: styles.body\n  }));\n});\n\nif (__DEV__) {\n  ModalBody.displayName = \"ModalBody\";\n}\n\n/**\n * ModalFooter houses the action buttons of the modal.\n * @see Docs https://chakra-ui.com/modal\n */\nvar ModalFooter = /*#__PURE__*/forwardRef(function (props, ref) {\n  var className = props.className,\n      rest = _objectWithoutPropertiesLoose(props, _excluded5);\n\n  var _className = cx(\"chakra-modal__footer\", className);\n\n  var styles = useStyles();\n\n  var footerStyles = _extends({\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\"\n  }, styles.footer);\n\n  return /*#__PURE__*/React.createElement(chakra.footer, _extends({\n    ref: ref\n  }, rest, {\n    __css: footerStyles,\n    className: _className\n  }));\n});\n\nif (__DEV__) {\n  ModalFooter.displayName = \"ModalFooter\";\n}\n/**\n * ModalCloseButton is used closes the modal.\n *\n * You don't need to pass the `onClick` to it, it reads the\n * `onClose` action from the modal context.\n */\n\n\nvar ModalCloseButton = /*#__PURE__*/forwardRef(function (props, ref) {\n  var onClick = props.onClick,\n      className = props.className,\n      rest = _objectWithoutPropertiesLoose(props, _excluded6);\n\n  var _useModalContext7 = useModalContext(),\n      onClose = _useModalContext7.onClose;\n\n  var _className = cx(\"chakra-modal__close-btn\", className);\n\n  var styles = useStyles();\n  return /*#__PURE__*/React.createElement(CloseButton, _extends({\n    ref: ref,\n    __css: styles.closeButton,\n    className: _className,\n    onClick: callAllHandlers(onClick, function (event) {\n      event.stopPropagation();\n      onClose();\n    })\n  }, rest));\n});\n\nif (__DEV__) {\n  ModalCloseButton.displayName = \"ModalCloseButton\";\n}\n\nvar _excluded$1 = [\"leastDestructiveRef\"];\nfunction AlertDialog(props) {\n  var leastDestructiveRef = props.leastDestructiveRef,\n      rest = _objectWithoutPropertiesLoose(props, _excluded$1);\n\n  return /*#__PURE__*/React.createElement(Modal, _extends({}, rest, {\n    initialFocusRef: leastDestructiveRef\n  }));\n}\nvar AlertDialogContent = /*#__PURE__*/forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(ModalContent, _extends({\n    ref: ref,\n    role: \"alertdialog\"\n  }, props));\n});\n\nvar _excluded = [\"isOpen\", \"onClose\", \"placement\", \"children\"],\n    _excluded2 = [\"className\", \"children\"];\n\nvar _createContext = createContext(),\n    DrawerContextProvider = _createContext[0],\n    useDrawerContext = _createContext[1];\n\nvar placementMap = {\n  start: {\n    ltr: \"left\",\n    rtl: \"right\"\n  },\n  end: {\n    ltr: \"right\",\n    rtl: \"left\"\n  }\n};\n\nfunction getDrawerPlacement(placement, dir) {\n  var _placementMap$placeme, _placementMap$placeme2;\n\n  if (!placement) return;\n  return (_placementMap$placeme = (_placementMap$placeme2 = placementMap[placement]) == null ? void 0 : _placementMap$placeme2[dir]) != null ? _placementMap$placeme : placement;\n}\n\nfunction Drawer(props) {\n  var _theme$components;\n\n  var isOpen = props.isOpen,\n      onClose = props.onClose,\n      _props$placement = props.placement,\n      placementProp = _props$placement === void 0 ? \"right\" : _props$placement,\n      children = props.children,\n      rest = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var theme = useTheme();\n  var drawerStyleConfig = (_theme$components = theme.components) == null ? void 0 : _theme$components.Drawer;\n  var placement = getDrawerPlacement(placementProp, theme.direction);\n  return /*#__PURE__*/React.createElement(DrawerContextProvider, {\n    value: {\n      placement: placement\n    }\n  }, /*#__PURE__*/React.createElement(Modal, _extends({\n    isOpen: isOpen,\n    onClose: onClose,\n    styleConfig: drawerStyleConfig\n  }, rest), children));\n}\nvar StyledSlide = chakra(Slide);\n\n/**\n * ModalContent is used to group modal's content. It has all the\n * necessary `aria-*` properties to indicate that it is a modal\n */\nvar DrawerContent = /*#__PURE__*/forwardRef(function (props, ref) {\n  var className = props.className,\n      children = props.children,\n      rest = _objectWithoutPropertiesLoose(props, _excluded2);\n\n  var _useModalContext = useModalContext(),\n      getDialogProps = _useModalContext.getDialogProps,\n      getDialogContainerProps = _useModalContext.getDialogContainerProps,\n      isOpen = _useModalContext.isOpen;\n\n  var dialogProps = getDialogProps(rest, ref);\n  var containerProps = getDialogContainerProps();\n\n  var _className = cx(\"chakra-modal__content\", className);\n\n  var styles = useStyles();\n\n  var dialogStyles = _extends({\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    width: \"100%\",\n    outline: 0\n  }, styles.dialog);\n\n  var dialogContainerStyles = _extends({\n    display: \"flex\",\n    width: \"100vw\",\n    height: \"100vh\",\n    position: \"fixed\",\n    left: 0,\n    top: 0\n  }, styles.dialogContainer);\n\n  var _useDrawerContext = useDrawerContext(),\n      placement = _useDrawerContext.placement;\n\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({}, containerProps, {\n    className: \"chakra-modal__content-container\",\n    __css: dialogContainerStyles\n  }), /*#__PURE__*/React.createElement(ModalFocusScope, null, /*#__PURE__*/React.createElement(StyledSlide, _extends({\n    direction: placement,\n    \"in\": isOpen,\n    className: _className\n  }, dialogProps, {\n    __css: dialogStyles\n  }), children)));\n});\n\nif (__DEV__) {\n  DrawerContent.displayName = \"DrawerContent\";\n}\n\nexport { AlertDialog, ModalBody as AlertDialogBody, ModalCloseButton as AlertDialogCloseButton, AlertDialogContent, ModalFooter as AlertDialogFooter, ModalHeader as AlertDialogHeader, ModalOverlay as AlertDialogOverlay, Drawer, ModalBody as DrawerBody, ModalCloseButton as DrawerCloseButton, DrawerContent, ModalFooter as DrawerFooter, ModalHeader as DrawerHeader, ModalOverlay as DrawerOverlay, Modal, ModalBody, ModalCloseButton, ModalContent, ModalContextProvider, ModalFocusScope, ModalFooter, ModalHeader, ModalOverlay, useAriaHidden, useModal, useModalContext };\n","export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}","import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };","export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;","import { isHTMLElement } from \"./instanceOf.js\";\nimport { round } from \"../utils/math.js\";\nexport default function getBoundingClientRect(element, includeScale) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  var rect = element.getBoundingClientRect();\n  var scaleX = 1;\n  var scaleY = 1;\n\n  if (isHTMLElement(element) && includeScale) {\n    var offsetHeight = element.offsetHeight;\n    var offsetWidth = element.offsetWidth; // Do not attempt to divide by 0, otherwise we get `Infinity` as scale\n    // Fallback to 1 in case both values are `0`\n\n    if (offsetWidth > 0) {\n      scaleX = round(rect.width) / offsetWidth || 1;\n    }\n\n    if (offsetHeight > 0) {\n      scaleY = round(rect.height) / offsetHeight || 1;\n    }\n  }\n\n  return {\n    width: rect.width / scaleX,\n    height: rect.height / scaleY,\n    top: rect.top / scaleY,\n    right: rect.right / scaleX,\n    bottom: rect.bottom / scaleY,\n    left: rect.left / scaleX,\n    x: rect.left / scaleX,\n    y: rect.top / scaleY\n  };\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport { round } from \"../utils/math.js\";\n\nfunction isElementScaled(element) {\n  var rect = element.getBoundingClientRect();\n  var scaleX = round(rect.width) / element.offsetWidth || 1;\n  var scaleY = round(rect.height) / element.offsetHeight || 1;\n  return scaleX !== 1 || scaleY !== 1;\n} // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') !== -1;\n  var isIE = navigator.userAgent.indexOf('Trident') !== -1;\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport getComputedStyle from \"./dom-utils/getComputedStyle.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport validateModifiers from \"./utils/validateModifiers.js\";\nimport uniqueBy from \"./utils/uniqueBy.js\";\nimport getBasePlacement from \"./utils/getBasePlacement.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nimport { auto } from \"./enums.js\";\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(setOptionsAction) {\n        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (process.env.NODE_ENV !== \"production\") {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update – it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (process.env.NODE_ENV !== \"production\") {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update – it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","import { top, left, right, bottom, end } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      variation = _ref2.variation,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets,\n      isFixed = _ref2.isFixed;\n  var _offsets$x = offsets.x,\n      x = _offsets$x === void 0 ? 0 : _offsets$x,\n      _offsets$y = offsets.y,\n      y = _offsets$y === void 0 ? 0 : _offsets$y;\n\n  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref3.x;\n  y = _ref3.y;\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top || (placement === left || placement === right) && variation === end) {\n      sideY = bottom;\n      var offsetY = isFixed && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\n      offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left || (placement === top || placement === bottom) && variation === end) {\n      sideX = right;\n      var offsetX = isFixed && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\n      offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref4.x;\n  y = _ref4.y;\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref5) {\n  var state = _ref5.state,\n      options = _ref5.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed'\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element) {\n  var rect = getBoundingClientRect(element);\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nexport default function getViewportRect(element) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0; // NB: This isn't supported on iOS <= 12. If the keyboard is open, the popper\n  // can be obscured underneath it.\n  // Also, `html.clientHeight` adds the bottom bar height in Safari iOS, even\n  // if it isn't open, so if this isn't available, the popper will be detected\n  // to overflow the bottom of the screen too early.\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height; // Uses Layout Viewport (like Chrome; Safari does not currently)\n    // In Chrome, it returns a value very close to 0 (+/-) but contains rounding\n    // errors due to floating point numbers, so we need to check precision.\n    // Safari returns a number <= 0, usually < -1 when pinch-zoomed\n    // Feature detection fails in mobile emulation mode in Chrome.\n    // Math.abs(win.innerWidth / visualViewport.scale - visualViewport.width) <\n    // 0.001\n    // Fallback here: \"Not Safari\" userAgent\n\n    if (!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}","import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","import getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary);\n  var referenceClientRect = getBoundingClientRect(state.elements.reference);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","import { max as mathMax, min as mathMin } from \"./math.js\";\nexport function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}\nexport function withinMaxClamp(min, value, max) {\n  var v = within(min, value, max);\n  return v > max ? max : v;\n}","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport { within, withinMaxClamp } from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { min as mathMin, max as mathMax } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\n    mainAxis: tetherOffsetValue,\n    altAxis: tetherOffsetValue\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, tetherOffsetValue);\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var _offsetModifierState$;\n\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = offset + overflow[mainSide];\n    var max = offset - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = offset + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _offsetModifierState$2;\n\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _len = altAxis === 'y' ? 'height' : 'width';\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n\n    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport { within } from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases – research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: The `allowedAutoPlacements` option did not allow any', 'placements. Ensure the `placement` option matches the variation', 'of the allowed placements.', 'For example, \"auto\" cannot be used to allow \"bottom-start\".', 'Use \"auto-start\" instead.'].join(' '));\n    }\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import { mergeRefs } from '@chakra-ui/react-utils';\nimport { createPopper } from '@popperjs/core';\nimport { useRef, useCallback, useEffect } from 'react';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar toVar = function toVar(value, fallback) {\n  return {\n    \"var\": value,\n    varRef: fallback ? \"var(\" + value + \", \" + fallback + \")\" : \"var(\" + value + \")\"\n  };\n};\n\nvar cssVars = {\n  arrowShadowColor: toVar(\"--popper-arrow-shadow-color\"),\n  arrowSize: toVar(\"--popper-arrow-size\", \"8px\"),\n  arrowSizeHalf: toVar(\"--popper-arrow-size-half\"),\n  arrowBg: toVar(\"--popper-arrow-bg\"),\n  transformOrigin: toVar(\"--popper-transform-origin\"),\n  arrowOffset: toVar(\"--popper-arrow-offset\")\n};\nfunction getBoxShadow(placement) {\n  if (placement.includes(\"top\")) return \"1px 1px 1px 0 var(--popper-arrow-shadow-color)\";\n  if (placement.includes(\"bottom\")) return \"-1px -1px 1px 0 var(--popper-arrow-shadow-color)\";\n  if (placement.includes(\"right\")) return \"-1px 1px 1px 0 var(--popper-arrow-shadow-color)\";\n  if (placement.includes(\"left\")) return \"1px -1px 1px 0 var(--popper-arrow-shadow-color)\";\n}\nvar transforms = {\n  top: \"bottom center\",\n  \"top-start\": \"bottom left\",\n  \"top-end\": \"bottom right\",\n  bottom: \"top center\",\n  \"bottom-start\": \"top left\",\n  \"bottom-end\": \"top right\",\n  left: \"right center\",\n  \"left-start\": \"right top\",\n  \"left-end\": \"right bottom\",\n  right: \"left center\",\n  \"right-start\": \"left top\",\n  \"right-end\": \"left bottom\"\n};\nvar toTransformOrigin = function toTransformOrigin(placement) {\n  return transforms[placement];\n};\nvar defaultEventListeners = {\n  scroll: true,\n  resize: true\n};\nfunction getEventListenerOptions(value) {\n  var eventListeners;\n\n  if (typeof value === \"object\") {\n    eventListeners = {\n      enabled: true,\n      options: _extends({}, defaultEventListeners, value)\n    };\n  } else {\n    eventListeners = {\n      enabled: value,\n      options: defaultEventListeners\n    };\n  }\n\n  return eventListeners;\n}\n\n/* -------------------------------------------------------------------------------------------------\n The match width modifier sets the popper width to match the reference.\n It us useful for custom selects, autocomplete, etc.\n* -----------------------------------------------------------------------------------------------*/\n\nvar matchWidth = {\n  name: \"matchWidth\",\n  enabled: true,\n  phase: \"beforeWrite\",\n  requires: [\"computeStyles\"],\n  fn: function fn(_ref) {\n    var state = _ref.state;\n    state.styles.popper.width = state.rects.reference.width + \"px\";\n  },\n  effect: function effect(_ref2) {\n    var state = _ref2.state;\n    return function () {\n      var reference = state.elements.reference;\n      state.elements.popper.style.width = reference.offsetWidth + \"px\";\n    };\n  }\n};\n/* -------------------------------------------------------------------------------------------------\n  The transform origin modifier sets the css `transformOrigin` value of the popper\n  based on the dynamic placement state of the popper.\n  \n  Useful when we need to animate/transition the popper.\n* -----------------------------------------------------------------------------------------------*/\n\nvar transformOrigin = {\n  name: \"transformOrigin\",\n  enabled: true,\n  phase: \"write\",\n  fn: function fn(_ref3) {\n    var state = _ref3.state;\n    setTransformOrigin(state);\n  },\n  effect: function effect(_ref4) {\n    var state = _ref4.state;\n    return function () {\n      setTransformOrigin(state);\n    };\n  }\n};\n\nvar setTransformOrigin = function setTransformOrigin(state) {\n  state.elements.popper.style.setProperty(cssVars.transformOrigin[\"var\"], toTransformOrigin(state.placement));\n};\n/* -------------------------------------------------------------------------------------------------\n  The position arrow modifier adds width, height and overrides the `top/left/right/bottom`\n  styles generated by popper.js to properly position the arrow\n* -----------------------------------------------------------------------------------------------*/\n\n\nvar positionArrow = {\n  name: \"positionArrow\",\n  enabled: true,\n  phase: \"afterWrite\",\n  fn: function fn(_ref5) {\n    var state = _ref5.state;\n    setArrowStyles(state);\n  }\n};\n\nvar setArrowStyles = function setArrowStyles(state) {\n  var _state$elements;\n\n  if (!state.placement) return;\n  var overrides = getArrowStyle$1(state.placement);\n\n  if ((_state$elements = state.elements) != null && _state$elements.arrow && overrides) {\n    var _Object$assign, _vars;\n\n    Object.assign(state.elements.arrow.style, (_Object$assign = {}, _Object$assign[overrides.property] = overrides.value, _Object$assign.width = cssVars.arrowSize.varRef, _Object$assign.height = cssVars.arrowSize.varRef, _Object$assign.zIndex = -1, _Object$assign));\n    var vars = (_vars = {}, _vars[cssVars.arrowSizeHalf[\"var\"]] = \"calc(\" + cssVars.arrowSize.varRef + \" / 2)\", _vars[cssVars.arrowOffset[\"var\"]] = \"calc(\" + cssVars.arrowSizeHalf.varRef + \" * -1)\", _vars);\n\n    for (var property in vars) {\n      state.elements.arrow.style.setProperty(property, vars[property]);\n    }\n  }\n};\n\nvar getArrowStyle$1 = function getArrowStyle(placement) {\n  if (placement.startsWith(\"top\")) {\n    return {\n      property: \"bottom\",\n      value: cssVars.arrowOffset.varRef\n    };\n  }\n\n  if (placement.startsWith(\"bottom\")) {\n    return {\n      property: \"top\",\n      value: cssVars.arrowOffset.varRef\n    };\n  }\n\n  if (placement.startsWith(\"left\")) {\n    return {\n      property: \"right\",\n      value: cssVars.arrowOffset.varRef\n    };\n  }\n\n  if (placement.startsWith(\"right\")) {\n    return {\n      property: \"left\",\n      value: cssVars.arrowOffset.varRef\n    };\n  }\n};\n/* -------------------------------------------------------------------------------------------------\n  The inner arrow modifier, sets the placement styles for the inner arrow that forms\n  the popper arrow tip.\n* -----------------------------------------------------------------------------------------------*/\n\n\nvar innerArrow = {\n  name: \"innerArrow\",\n  enabled: true,\n  phase: \"main\",\n  requires: [\"arrow\"],\n  fn: function fn(_ref6) {\n    var state = _ref6.state;\n    setInnerArrowStyles(state);\n  },\n  effect: function effect(_ref7) {\n    var state = _ref7.state;\n    return function () {\n      setInnerArrowStyles(state);\n    };\n  }\n};\n\nvar setInnerArrowStyles = function setInnerArrowStyles(state) {\n  if (!state.elements.arrow) return;\n  var inner = state.elements.arrow.querySelector(\"[data-popper-arrow-inner]\");\n  if (!inner) return;\n  Object.assign(inner.style, {\n    transform: \"rotate(45deg)\",\n    background: cssVars.arrowBg.varRef,\n    top: 0,\n    left: 0,\n    width: \"100%\",\n    height: \"100%\",\n    position: \"absolute\",\n    zIndex: \"inherit\",\n    boxShadow: getBoxShadow(state.placement)\n  });\n};\n\nvar logicals = {\n  \"start-start\": {\n    ltr: \"left-start\",\n    rtl: \"right-start\"\n  },\n  \"start-end\": {\n    ltr: \"left-end\",\n    rtl: \"right-end\"\n  },\n  \"end-start\": {\n    ltr: \"right-start\",\n    rtl: \"left-start\"\n  },\n  \"end-end\": {\n    ltr: \"right-end\",\n    rtl: \"left-end\"\n  },\n  start: {\n    ltr: \"left\",\n    rtl: \"right\"\n  },\n  end: {\n    ltr: \"right\",\n    rtl: \"left\"\n  }\n};\nvar opposites = {\n  \"auto-start\": \"auto-end\",\n  \"auto-end\": \"auto-start\",\n  \"top-start\": \"top-end\",\n  \"top-end\": \"top-start\",\n  \"bottom-start\": \"bottom-end\",\n  \"bottom-end\": \"bottom-start\"\n};\nfunction getPopperPlacement(placement, dir) {\n  var _logicals$placement, _opposites$placement;\n\n  if (dir === void 0) {\n    dir = \"ltr\";\n  }\n\n  var value = ((_logicals$placement = logicals[placement]) == null ? void 0 : _logicals$placement[dir]) || placement;\n  if (dir === \"ltr\") return value;\n  return (_opposites$placement = opposites[placement]) != null ? _opposites$placement : value;\n}\n\nvar _excluded = [\"size\", \"shadowColor\", \"bg\", \"style\"];\nfunction usePopper(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      _props$enabled = _props.enabled,\n      enabled = _props$enabled === void 0 ? true : _props$enabled,\n      modifiers = _props.modifiers,\n      _props$placement = _props.placement,\n      placementProp = _props$placement === void 0 ? \"bottom\" : _props$placement,\n      _props$strategy = _props.strategy,\n      strategy = _props$strategy === void 0 ? \"absolute\" : _props$strategy,\n      _props$arrowPadding = _props.arrowPadding,\n      arrowPadding = _props$arrowPadding === void 0 ? 8 : _props$arrowPadding,\n      _props$eventListeners = _props.eventListeners,\n      eventListeners = _props$eventListeners === void 0 ? true : _props$eventListeners,\n      offset = _props.offset,\n      _props$gutter = _props.gutter,\n      gutter = _props$gutter === void 0 ? 8 : _props$gutter,\n      _props$flip = _props.flip,\n      flip = _props$flip === void 0 ? true : _props$flip,\n      _props$boundary = _props.boundary,\n      boundary = _props$boundary === void 0 ? \"clippingParents\" : _props$boundary,\n      _props$preventOverflo = _props.preventOverflow,\n      preventOverflow = _props$preventOverflo === void 0 ? true : _props$preventOverflo,\n      matchWidth$1 = _props.matchWidth,\n      _props$direction = _props.direction,\n      direction = _props$direction === void 0 ? \"ltr\" : _props$direction;\n  var reference = useRef(null);\n  var popper = useRef(null);\n  var instance = useRef(null);\n  var placement = getPopperPlacement(placementProp, direction);\n  var cleanup = useRef(function () {});\n  var setupPopper = useCallback(function () {\n    if (!enabled || !reference.current || !popper.current) return; // If popper instance exists, destroy it so we can create a new one\n\n    cleanup.current == null ? void 0 : cleanup.current();\n    instance.current = createPopper(reference.current, popper.current, {\n      placement: placement,\n      modifiers: [innerArrow, positionArrow, transformOrigin, _extends({}, matchWidth, {\n        enabled: !!matchWidth$1\n      }), _extends({\n        name: \"eventListeners\"\n      }, getEventListenerOptions(eventListeners)), {\n        name: \"arrow\",\n        options: {\n          padding: arrowPadding\n        }\n      }, {\n        name: \"offset\",\n        options: {\n          offset: offset != null ? offset : [0, gutter]\n        }\n      }, {\n        name: \"flip\",\n        enabled: !!flip,\n        options: {\n          padding: 8\n        }\n      }, {\n        name: \"preventOverflow\",\n        enabled: !!preventOverflow,\n        options: {\n          boundary: boundary\n        }\n      }].concat(modifiers != null ? modifiers : []),\n      strategy: strategy\n    }); // force update one-time to fix any positioning issues\n\n    instance.current.forceUpdate();\n    cleanup.current = instance.current.destroy;\n  }, [placement, enabled, modifiers, matchWidth$1, eventListeners, arrowPadding, offset, gutter, flip, preventOverflow, boundary, strategy]);\n  useEffect(function () {\n    return function () {\n      /**\n       * Fast refresh might call this function and tear down the popper\n       * even if the reference still exists. This checks against that\n       */\n      if (!reference.current && !popper.current) {\n        var _instance$current;\n\n        (_instance$current = instance.current) == null ? void 0 : _instance$current.destroy();\n        instance.current = null;\n      }\n    };\n  }, []);\n  var referenceRef = useCallback(function (node) {\n    reference.current = node;\n    setupPopper();\n  }, [setupPopper]);\n  var getReferenceProps = useCallback(function (props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({}, props, {\n      ref: mergeRefs(referenceRef, ref)\n    });\n  }, [referenceRef]);\n  var popperRef = useCallback(function (node) {\n    popper.current = node;\n    setupPopper();\n  }, [setupPopper]);\n  var getPopperProps = useCallback(function (props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({}, props, {\n      ref: mergeRefs(popperRef, ref),\n      style: _extends({}, props.style, {\n        position: strategy,\n        minWidth: \"max-content\",\n        inset: \"0 auto auto 0\"\n      })\n    });\n  }, [strategy, popperRef]);\n  var getArrowProps = useCallback(function (props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    var _props2 = props;\n        _props2.size;\n        _props2.shadowColor;\n        _props2.bg;\n        _props2.style;\n        var rest = _objectWithoutPropertiesLoose(_props2, _excluded);\n\n    return _extends({}, rest, {\n      ref: ref,\n      \"data-popper-arrow\": \"\",\n      style: getArrowStyle(props)\n    });\n  }, []);\n  var getArrowInnerProps = useCallback(function (props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({}, props, {\n      ref: ref,\n      \"data-popper-arrow-inner\": \"\"\n    });\n  }, []);\n  return {\n    update: function update() {\n      var _instance$current2;\n\n      (_instance$current2 = instance.current) == null ? void 0 : _instance$current2.update();\n    },\n    forceUpdate: function forceUpdate() {\n      var _instance$current3;\n\n      (_instance$current3 = instance.current) == null ? void 0 : _instance$current3.forceUpdate();\n    },\n    transformOrigin: cssVars.transformOrigin.varRef,\n    referenceRef: referenceRef,\n    popperRef: popperRef,\n    getPopperProps: getPopperProps,\n    getArrowProps: getArrowProps,\n    getArrowInnerProps: getArrowInnerProps,\n    getReferenceProps: getReferenceProps\n  };\n}\n\nfunction getArrowStyle(props) {\n  var size = props.size,\n      shadowColor = props.shadowColor,\n      bg = props.bg,\n      style = props.style;\n\n  var computedStyle = _extends({}, style, {\n    position: \"absolute\"\n  });\n\n  if (size) {\n    computedStyle[\"--popper-arrow-size\"] = size;\n  }\n\n  if (shadowColor) {\n    computedStyle[\"--popper-arrow-shadow-color\"] = shadowColor;\n  }\n\n  if (bg) {\n    computedStyle[\"--popper-arrow-bg\"] = bg;\n  }\n\n  return computedStyle;\n}\n\nexport { cssVars as popperCSSVars, usePopper };\n","import { useTheme } from '@chakra-ui/system';\nimport { isBrowser, __DEV__, memoizedGet, isNumber, breakpoints, isArray, fromEntries, arrayToObjectNotation } from '@chakra-ui/utils';\nimport * as React from 'react';\nimport React__default from 'react';\nimport { useEnvironment } from '@chakra-ui/react-env';\n\nvar useSafeLayoutEffect = isBrowser ? React.useLayoutEffect : React.useEffect;\n/**\n * React hook that tracks state of a CSS media query\n *\n * @param query the media query to match\n */\n\nfunction useMediaQuery(query) {\n  var env = useEnvironment();\n  var queries = Array.isArray(query) ? query : [query];\n  var isSupported = isBrowser && \"matchMedia\" in env.window;\n\n  var _React$useState = React.useState(queries.map(function (query) {\n    return isSupported ? !!env.window.matchMedia(query).matches : false;\n  })),\n      matches = _React$useState[0],\n      setMatches = _React$useState[1]; // Specifying matches in the dependency list will cause the event listeners\n  // to unload and then load each time the dependency changes. This causes\n  // Media Query Events to be missed. The event listeners should only be unloaded\n  // when the component unloads.\n\n\n  useSafeLayoutEffect(function () {\n    if (!isSupported) return undefined;\n    var mediaQueryList = queries.map(function (query) {\n      return env.window.matchMedia(query);\n    });\n    var listenerList = mediaQueryList.map(function (_, index) {\n      var listener = function listener(mqlEvent) {\n        var queryIndex = mediaQueryList.findIndex(function (mediaQuery) {\n          return mediaQuery.media === mqlEvent.media;\n        }); // As the event listener is on the media query list, any time the\n        // listener is called, we know there is a change. There's no need\n        // to compare the previous matches with current. Using\n        // setMatches(matches => {...}) provides access to the current matches\n        // state.  Trying to access matches outside the setMatches function\n        // would provide data from the the time of instantiation (stale).\n\n        setMatches(function (matches) {\n          var currentMatches = matches.map(function (x) {\n            return x;\n          });\n          currentMatches[queryIndex] = mqlEvent.matches;\n          return currentMatches;\n        });\n      }; // Listening to the 'change' event on the Media Query List Object\n      // is more performant as the callback is only invoked when a specified\n      // media query is matched. Using addEventListener on the window object\n      // to listen for the resize event will call the callback on every\n      // viewport resize.\n\n\n      mediaQueryList[index].addEventListener(\"change\", listener);\n      return listener;\n    });\n    return function () {\n      mediaQueryList.forEach(function (_, index) {\n        mediaQueryList[index].removeEventListener(\"change\", listenerList[index]);\n      });\n    };\n  }, []);\n  return matches;\n}\n\n/**\n * Visibility\n *\n * React component to control the visibility of its\n * children based on the current breakpoint\n */\nvar Visibility = function Visibility(props) {\n  var breakpoint = props.breakpoint,\n      hide = props.hide,\n      children = props.children;\n\n  var _useMediaQuery = useMediaQuery(breakpoint),\n      show = _useMediaQuery[0];\n\n  var isVisible = hide ? !show : show;\n  var rendered = isVisible ? children : null;\n  return rendered;\n};\n\nvar Hide = function Hide(props) {\n  var children = props.children;\n  var query = useQuery(props);\n  return /*#__PURE__*/React.createElement(Visibility, {\n    breakpoint: query,\n    hide: true\n  }, children);\n};\n\nif (__DEV__) {\n  Hide.displayName = \"Hide\";\n}\n\nvar Show = function Show(props) {\n  var children = props.children;\n  var query = useQuery(props);\n  return /*#__PURE__*/React.createElement(Visibility, {\n    breakpoint: query\n  }, children);\n};\n\nif (__DEV__) {\n  Show.displayName = \"Show\";\n}\n\nvar getBreakpoint = function getBreakpoint(theme, value) {\n  return memoizedGet(theme, \"breakpoints.\" + value, value);\n};\n\nfunction useQuery(props) {\n  var _props$breakpoint = props.breakpoint,\n      breakpoint = _props$breakpoint === void 0 ? \"\" : _props$breakpoint,\n      below = props.below,\n      above = props.above;\n  var theme = useTheme();\n  var bpBelow = getBreakpoint(theme, below);\n  var bpAbove = getBreakpoint(theme, above);\n  var query = breakpoint;\n\n  if (bpBelow) {\n    query = \"(max-width: \" + bpBelow + \")\";\n  } else if (bpAbove) {\n    query = \"(min-width: \" + bpAbove + \")\";\n  }\n\n  return query;\n}\n\n/**\n * React hook used to get the user's animation preference.\n */\n\nfunction usePrefersReducedMotion() {\n  var _useMediaQuery = useMediaQuery(\"(prefers-reduced-motion: reduce)\"),\n      prefersReducedMotion = _useMediaQuery[0];\n\n  return prefersReducedMotion;\n}\n/**\n * React hook for getting the user's color mode preference.\n */\n\nfunction useColorModePreference() {\n  var _useMediaQuery2 = useMediaQuery([\"(prefers-color-scheme: light)\", \"(prefers-color-scheme: dark)\"]),\n      isLight = _useMediaQuery2[0],\n      isDark = _useMediaQuery2[1];\n\n  if (isLight) return \"light\";\n  if (isDark) return \"dark\";\n  return undefined;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction createMediaQueries(breakpoints) {\n  return Object.entries(breakpoints) // sort css units in ascending order to ensure media queries are generated\n  // in the correct order and reference to each other correctly aswell\n  .sort(function (a, b) {\n    return Number.parseInt(a[1], 10) > Number.parseInt(b[1], 10) ? 1 : -1;\n  }).map(function (_ref, index, arr) {\n    var breakpoint = _ref[0],\n        minWidth = _ref[1];\n    // given a following breakpoint\n    var next = arr[index + 1]; // this breakpoint must end prior the threshold of the next\n\n    var maxWidth = next ? next[1] : undefined;\n    var query = createMediaQueryString(minWidth, maxWidth);\n    return {\n      minWidth: minWidth,\n      maxWidth: maxWidth,\n      breakpoint: breakpoint,\n      query: query\n    };\n  });\n}\n/**\n * Create a media query string from the breakpoints,\n * using a combination of `min-width` and `max-width`.\n */\n\nfunction createMediaQueryString(minWidth, maxWidth) {\n  var hasMinWidth = parseInt(minWidth, 10) >= 0;\n\n  if (!hasMinWidth && !maxWidth) {\n    return \"\";\n  }\n\n  var query = \"(min-width: \" + toMediaString(minWidth) + \")\";\n\n  if (!maxWidth) {\n    return query;\n  }\n\n  if (query) {\n    query += \" and \";\n  }\n\n  query += \"(max-width: \" + toMediaString(subtract(maxWidth)) + \")\";\n  return query;\n}\n\nvar measurementRegex = /([0-9]+\\.?[0-9]*)/;\n\nvar calculateMeasurement = function calculateMeasurement(value, modifier) {\n  if (typeof value === \"number\") {\n    return \"\" + (value + modifier);\n  }\n\n  return value.replace(measurementRegex, function (match) {\n    return \"\" + (parseFloat(match) + modifier);\n  });\n};\n/**\n * 0.01 and 0.1 are too small of a difference for `px` breakpoint values\n *\n * @see https://github.com/chakra-ui/chakra-ui/issues/2188#issuecomment-712774785\n */\n\n\nfunction subtract(value) {\n  return calculateMeasurement(value, value.endsWith(\"px\") ? -1 : -0.01);\n}\n/**\n * Convert media query value to string\n */\n\n\nfunction toMediaString(value) {\n  return isNumber(value) ? value + \"px\" : value;\n}\n\nvar _excluded = [\"query\"],\n    _excluded2 = [\"query\"],\n    _excluded3 = [\"query\"];\n\n/**\n * React hook used to get the current responsive media breakpoint.\n *\n * @param defaultBreakpoint default breakpoint name\n * (in non-window environments like SSR)\n *\n * For SSR, you can use a package like [is-mobile](https://github.com/kaimallea/isMobile)\n * to get the default breakpoint value from the user-agent\n */\nfunction useBreakpoint(defaultBreakpoint) {\n  var _useTheme = useTheme(),\n      breakpoints = _useTheme.breakpoints;\n\n  var env = useEnvironment();\n  var mediaQueries = React__default.useMemo(function () {\n    return createMediaQueries(_extends({\n      base: \"0px\"\n    }, breakpoints));\n  }, [breakpoints]);\n\n  var _React$useState = React__default.useState(function () {\n    if (env.window.matchMedia) {\n      var maxBreakpoint;\n      mediaQueries.forEach(function (_ref) {\n        var query = _ref.query,\n            breakpoint = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n        var mediaQuery = env.window.matchMedia(query);\n\n        if (mediaQuery.matches) {\n          maxBreakpoint = breakpoint;\n        }\n      });\n\n      if (maxBreakpoint) {\n        return maxBreakpoint;\n      }\n    }\n\n    if (!defaultBreakpoint) {\n      return undefined;\n    }\n\n    var mediaQuery = mediaQueries.find(function (_ref2) {\n      var breakpoint = _ref2.breakpoint;\n      return breakpoint === defaultBreakpoint;\n    });\n\n    if (mediaQuery) {\n      mediaQuery.query;\n          var breakpoint = _objectWithoutPropertiesLoose(mediaQuery, _excluded2);\n\n      return breakpoint;\n    }\n\n    return undefined;\n  }),\n      currentBreakpoint = _React$useState[0],\n      setCurrentBreakpoint = _React$useState[1];\n\n  var current = currentBreakpoint == null ? void 0 : currentBreakpoint.breakpoint;\n  var update = React__default.useCallback(function (query, breakpoint) {\n    if (query.matches && current !== breakpoint.breakpoint) {\n      setCurrentBreakpoint(breakpoint);\n    }\n  }, [current]);\n  React__default.useEffect(function () {\n    var listeners = new Set();\n    mediaQueries.forEach(function (_ref3) {\n      var query = _ref3.query,\n          breakpoint = _objectWithoutPropertiesLoose(_ref3, _excluded3);\n\n      var mediaQuery = env.window.matchMedia(query); // trigger an initial update to determine media query\n\n      update(mediaQuery, breakpoint);\n\n      var handleChange = function handleChange() {\n        update(mediaQuery, breakpoint);\n      }; // add media query-listener\n\n\n      mediaQuery.addListener(handleChange); // push the media query list handleChange\n      // so we can use it to remove Listener\n\n      listeners.add({\n        mediaQuery: mediaQuery,\n        handleChange: handleChange\n      });\n      return function () {\n        // clean up 1\n        mediaQuery.removeListener(handleChange);\n      };\n    });\n    return function () {\n      // clean up 2: for safety\n      listeners.forEach(function (_ref4) {\n        var mediaQuery = _ref4.mediaQuery,\n            handleChange = _ref4.handleChange;\n        mediaQuery.removeListener(handleChange);\n      });\n      listeners.clear();\n    };\n  }, [mediaQueries, breakpoints, update, env.window]);\n  return current;\n}\n\nfunction getClosestValue(values, breakpoint, breakpoints$1) {\n  if (breakpoints$1 === void 0) {\n    breakpoints$1 = breakpoints;\n  }\n\n  var index = Object.keys(values).indexOf(breakpoint);\n\n  if (index !== -1) {\n    return values[breakpoint];\n  }\n\n  var stopIndex = breakpoints$1.indexOf(breakpoint);\n\n  while (stopIndex >= 0) {\n    var key = breakpoints$1[stopIndex];\n\n    if (values[key] != null) {\n      index = stopIndex;\n      break;\n    }\n\n    stopIndex -= 1;\n  }\n\n  if (index !== -1) {\n    var _key = breakpoints$1[index];\n    return values[_key];\n  }\n\n  return undefined;\n}\n\n/**\n * React hook for getting the value for the current breakpoint from the\n * provided responsive values object.\n *\n * @param values\n * @param defaultBreakpoint default breakpoint name\n * (in non-window environments like SSR)\n *\n * For SSR, you can use a package like [is-mobile](https://github.com/kaimallea/isMobile)\n * to get the default breakpoint value from the user-agent\n *\n * @example\n * const width = useBreakpointValue({ base: '150px', md: '250px' })\n */\n\nfunction useBreakpointValue(values, defaultBreakpoint) {\n  var breakpoint = useBreakpoint(defaultBreakpoint);\n  var theme = useTheme();\n  if (!breakpoint) return undefined;\n  /**\n   * Get the non-number breakpoint keys from the provided breakpoints\n   */\n\n  var breakpoints = Object.keys(theme.breakpoints);\n  var obj = isArray(values) ? fromEntries(Object.entries(arrayToObjectNotation(values, breakpoints)).map(function (_ref) {\n    var key = _ref[0],\n        value = _ref[1];\n    return [key, value];\n  })) : values;\n  return getClosestValue(obj, breakpoint, breakpoints);\n}\n\nexport { Hide, Show, useBreakpoint, useBreakpointValue, useColorModePreference, useMediaQuery, usePrefersReducedMotion, useQuery };\n","import { useBreakpointValue } from '@chakra-ui/media-query';\nimport { chakra, keyframes, forwardRef, useStyleConfig, omitThemingProps } from '@chakra-ui/system';\nimport { usePrevious } from '@chakra-ui/hooks';\nimport { cx, __DEV__ } from '@chakra-ui/utils';\nimport * as React from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _excluded = [\"startColor\", \"endColor\", \"isLoaded\", \"fadeDuration\", \"speed\", \"className\"],\n    _excluded2 = [\"noOfLines\", \"spacing\", \"skeletonHeight\", \"className\", \"startColor\", \"endColor\", \"isLoaded\", \"fadeDuration\", \"speed\", \"children\"],\n    _excluded3 = [\"size\"];\nvar StyledSkeleton = chakra(\"div\", {\n  baseStyle: {\n    boxShadow: \"none\",\n    backgroundClip: \"padding-box\",\n    cursor: \"default\",\n    color: \"transparent\",\n    pointerEvents: \"none\",\n    userSelect: \"none\",\n    \"&::before, &::after, *\": {\n      visibility: \"hidden\"\n    }\n  }\n});\nvar fade = keyframes({\n  from: {\n    opacity: 0\n  },\n  to: {\n    opacity: 1\n  }\n});\n\nvar useIsFirstRender = function useIsFirstRender() {\n  var isFirstRender = React.useRef(true);\n  React.useEffect(function () {\n    isFirstRender.current = false;\n  }, []);\n  return isFirstRender.current;\n};\n\nvar Skeleton = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useStyleConfig(\"Skeleton\", props);\n  var isFirstRender = useIsFirstRender();\n\n  var _omitThemingProps = omitThemingProps(props);\n      _omitThemingProps.startColor;\n      _omitThemingProps.endColor;\n      var isLoaded = _omitThemingProps.isLoaded,\n      fadeDuration = _omitThemingProps.fadeDuration;\n      _omitThemingProps.speed;\n      var className = _omitThemingProps.className,\n      rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded);\n\n  var wasPreviouslyLoaded = usePrevious(isLoaded);\n\n  var _className = cx(\"chakra-skeleton\", className);\n\n  if (isLoaded) {\n    var animation = isFirstRender || wasPreviouslyLoaded ? \"none\" : fade + \" \" + fadeDuration + \"s\";\n    return /*#__PURE__*/React.createElement(chakra.div, _extends({\n      ref: ref,\n      className: _className,\n      __css: {\n        animation: animation\n      }\n    }, rest));\n  }\n\n  return /*#__PURE__*/React.createElement(StyledSkeleton, _extends({\n    ref: ref,\n    className: _className\n  }, rest, {\n    __css: styles\n  }));\n});\nSkeleton.defaultProps = {\n  fadeDuration: 0.4,\n  speed: 0.8\n};\n\nif (__DEV__) {\n  Skeleton.displayName = \"Skeleton\";\n}\n\nfunction range(count) {\n  return Array(count).fill(1).map(function (_, index) {\n    return index + 1;\n  });\n}\n\nvar defaultNoOfLines = 3;\nvar SkeletonText = function SkeletonText(props) {\n  var _props$noOfLines = props.noOfLines,\n      noOfLines = _props$noOfLines === void 0 ? defaultNoOfLines : _props$noOfLines,\n      _props$spacing = props.spacing,\n      spacing = _props$spacing === void 0 ? \"0.5rem\" : _props$spacing,\n      _props$skeletonHeight = props.skeletonHeight,\n      skeletonHeight = _props$skeletonHeight === void 0 ? \"0.5rem\" : _props$skeletonHeight,\n      className = props.className,\n      startColor = props.startColor,\n      endColor = props.endColor,\n      isLoaded = props.isLoaded,\n      fadeDuration = props.fadeDuration,\n      speed = props.speed,\n      children = props.children,\n      rest = _objectWithoutPropertiesLoose(props, _excluded2);\n\n  var noOfLinesValue = useBreakpointValue(typeof noOfLines === \"number\" ? [noOfLines] : noOfLines) || defaultNoOfLines;\n  var numbers = range(noOfLinesValue);\n\n  var getWidth = function getWidth(index) {\n    if (noOfLinesValue > 1) {\n      return index === numbers.length ? \"80%\" : \"100%\";\n    }\n\n    return \"100%\";\n  };\n\n  var _className = cx(\"chakra-skeleton__group\", className);\n\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    className: _className\n  }, rest), numbers.map(function (number, index) {\n    if (isLoaded && index > 0) {\n      // skip other lines\n      return null;\n    }\n\n    var sizeProps = isLoaded ? null : {\n      mb: number === numbers.length ? \"0\" : spacing,\n      width: getWidth(number),\n      height: skeletonHeight\n    };\n    return /*#__PURE__*/React.createElement(Skeleton, _extends({\n      key: numbers.length.toString() + number,\n      startColor: startColor,\n      endColor: endColor,\n      isLoaded: isLoaded,\n      fadeDuration: fadeDuration,\n      speed: speed\n    }, sizeProps), // allows animating the children\n    index === 0 ? children : undefined);\n  }));\n};\n\nif (__DEV__) {\n  SkeletonText.displayName = \"SkeletonText\";\n}\n\nvar SkeletonCircle = function SkeletonCircle(_ref) {\n  var _ref$size = _ref.size,\n      size = _ref$size === void 0 ? \"2rem\" : _ref$size,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded3);\n\n  return /*#__PURE__*/React.createElement(Skeleton, _extends({\n    borderRadius: \"full\",\n    boxSize: size\n  }, rest));\n};\n\nif (__DEV__) {\n  SkeletonCircle.displayName = \"SkeletonCircle\";\n}\n\nexport { Skeleton, SkeletonCircle, SkeletonText };\n","import { usePopper, popperCSSVars } from '@chakra-ui/popper';\nimport { Portal } from '@chakra-ui/portal';\nimport { chakra, forwardRef, useStyleConfig, omitThemingProps, useTheme } from '@chakra-ui/system';\nimport { callAllHandlers, px, getCSSVar, isString, omit, pick, __DEV__ } from '@chakra-ui/utils';\nimport { VisuallyHidden } from '@chakra-ui/visually-hidden';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport * as React from 'react';\nimport { useDisclosure, useId, useEventListener } from '@chakra-ui/hooks';\nimport { mergeRefs } from '@chakra-ui/react-utils';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar scale = {\n  exit: {\n    scale: 0.85,\n    opacity: 0,\n    transition: {\n      opacity: {\n        duration: 0.15,\n        easings: \"easeInOut\"\n      },\n      scale: {\n        duration: 0.2,\n        easings: \"easeInOut\"\n      }\n    }\n  },\n  enter: {\n    scale: 1,\n    opacity: 1,\n    transition: {\n      opacity: {\n        easings: \"easeOut\",\n        duration: 0.2\n      },\n      scale: {\n        duration: 0.2,\n        ease: [0.175, 0.885, 0.4, 1.1]\n      }\n    }\n  }\n};\n\nvar _excluded$1 = [\"openDelay\", \"closeDelay\", \"closeOnClick\", \"closeOnMouseDown\", \"onOpen\", \"onClose\", \"placement\", \"id\", \"isOpen\", \"defaultIsOpen\", \"arrowSize\", \"arrowShadowColor\", \"arrowPadding\", \"modifiers\", \"isDisabled\", \"gutter\", \"offset\", \"direction\"];\nfunction useTooltip(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      _props$openDelay = _props.openDelay,\n      openDelay = _props$openDelay === void 0 ? 0 : _props$openDelay,\n      _props$closeDelay = _props.closeDelay,\n      closeDelay = _props$closeDelay === void 0 ? 0 : _props$closeDelay,\n      _props$closeOnClick = _props.closeOnClick,\n      closeOnClick = _props$closeOnClick === void 0 ? true : _props$closeOnClick,\n      closeOnMouseDown = _props.closeOnMouseDown,\n      onOpenProp = _props.onOpen,\n      onCloseProp = _props.onClose,\n      placement = _props.placement,\n      id = _props.id,\n      isOpenProp = _props.isOpen,\n      defaultIsOpen = _props.defaultIsOpen,\n      _props$arrowSize = _props.arrowSize,\n      arrowSize = _props$arrowSize === void 0 ? 10 : _props$arrowSize,\n      arrowShadowColor = _props.arrowShadowColor,\n      arrowPadding = _props.arrowPadding,\n      modifiers = _props.modifiers,\n      isDisabled = _props.isDisabled,\n      gutter = _props.gutter,\n      offset = _props.offset,\n      direction = _props.direction,\n      htmlProps = _objectWithoutPropertiesLoose(_props, _excluded$1);\n\n  var _useDisclosure = useDisclosure({\n    isOpen: isOpenProp,\n    defaultIsOpen: defaultIsOpen,\n    onOpen: onOpenProp,\n    onClose: onCloseProp\n  }),\n      isOpen = _useDisclosure.isOpen,\n      onOpen = _useDisclosure.onOpen,\n      onClose = _useDisclosure.onClose;\n\n  var _usePopper = usePopper({\n    enabled: isOpen,\n    placement: placement,\n    arrowPadding: arrowPadding,\n    modifiers: modifiers,\n    gutter: gutter,\n    offset: offset,\n    direction: direction\n  }),\n      referenceRef = _usePopper.referenceRef,\n      getPopperProps = _usePopper.getPopperProps,\n      getArrowInnerProps = _usePopper.getArrowInnerProps,\n      getArrowProps = _usePopper.getArrowProps;\n\n  var tooltipId = useId(id, \"tooltip\");\n  var ref = React.useRef(null);\n  var enterTimeout = React.useRef();\n  var exitTimeout = React.useRef();\n  var openWithDelay = React.useCallback(function () {\n    if (!isDisabled) {\n      enterTimeout.current = window.setTimeout(onOpen, openDelay);\n    }\n  }, [isDisabled, onOpen, openDelay]);\n  var closeWithDelay = React.useCallback(function () {\n    if (enterTimeout.current) {\n      clearTimeout(enterTimeout.current);\n    }\n\n    exitTimeout.current = window.setTimeout(onClose, closeDelay);\n  }, [closeDelay, onClose]);\n  var onClick = React.useCallback(function () {\n    if (closeOnClick) {\n      closeWithDelay();\n    }\n  }, [closeOnClick, closeWithDelay]);\n  var onMouseDown = React.useCallback(function () {\n    if (closeOnMouseDown) {\n      closeWithDelay();\n    }\n  }, [closeOnMouseDown, closeWithDelay]);\n  var onKeyDown = React.useCallback(function (event) {\n    if (isOpen && event.key === \"Escape\") {\n      closeWithDelay();\n    }\n  }, [isOpen, closeWithDelay]);\n  useEventListener(\"keydown\", onKeyDown);\n  React.useEffect(function () {\n    return function () {\n      clearTimeout(enterTimeout.current);\n      clearTimeout(exitTimeout.current);\n    };\n  }, []);\n  /**\n   * This allows for catching mouseleave events when the tooltip\n   * trigger is disabled. There's currently a known issue in\n   * React regarding the onMouseLeave polyfill.\n   * @see https://github.com/facebook/react/issues/11972\n   */\n\n  useEventListener(\"mouseleave\", closeWithDelay, function () {\n    return ref.current;\n  });\n  var getTriggerProps = React.useCallback(function (props, _ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (_ref === void 0) {\n      _ref = null;\n    }\n\n    var triggerProps = _extends({}, props, {\n      ref: mergeRefs(ref, _ref, referenceRef),\n      onMouseEnter: callAllHandlers(props.onMouseEnter, openWithDelay),\n      onClick: callAllHandlers(props.onClick, onClick),\n      onMouseDown: callAllHandlers(props.onMouseDown, onMouseDown),\n      onFocus: callAllHandlers(props.onFocus, openWithDelay),\n      onBlur: callAllHandlers(props.onBlur, closeWithDelay),\n      \"aria-describedby\": isOpen ? tooltipId : undefined\n    });\n\n    return triggerProps;\n  }, [openWithDelay, closeWithDelay, onMouseDown, isOpen, tooltipId, onClick, referenceRef]);\n  var getTooltipPositionerProps = React.useCallback(function (props, forwardedRef) {\n    var _extends2;\n\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (forwardedRef === void 0) {\n      forwardedRef = null;\n    }\n\n    return getPopperProps(_extends({}, props, {\n      style: _extends({}, props.style, (_extends2 = {}, _extends2[popperCSSVars.arrowSize[\"var\"]] = arrowSize ? px(arrowSize) : undefined, _extends2[popperCSSVars.arrowShadowColor[\"var\"]] = arrowShadowColor, _extends2))\n    }), forwardedRef);\n  }, [getPopperProps, arrowSize, arrowShadowColor]);\n  var getTooltipProps = React.useCallback(function (props, _ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (_ref === void 0) {\n      _ref = null;\n    }\n\n    var tooltipProps = _extends({\n      ref: _ref\n    }, htmlProps, props, {\n      id: tooltipId,\n      role: \"tooltip\",\n      style: _extends({}, props.style, {\n        position: \"relative\",\n        transformOrigin: popperCSSVars.transformOrigin.varRef\n      })\n    });\n\n    return tooltipProps;\n  }, [htmlProps, tooltipId]);\n  return {\n    isOpen: isOpen,\n    show: openWithDelay,\n    hide: closeWithDelay,\n    getTriggerProps: getTriggerProps,\n    getTooltipProps: getTooltipProps,\n    getTooltipPositionerProps: getTooltipPositionerProps,\n    getArrowProps: getArrowProps,\n    getArrowInnerProps: getArrowInnerProps\n  };\n}\n\nvar _excluded = [\"children\", \"label\", \"shouldWrapChildren\", \"aria-label\", \"hasArrow\", \"bg\", \"portalProps\"];\nvar StyledTooltip = chakra(motion.div);\n/**\n * Tooltips display informative text when users hover, focus on, or tap an element.\n *\n * @see Docs     https://chakra-ui.com/docs/overlay/tooltip\n * @see WAI-ARIA https://www.w3.org/TR/wai-aria-practices/#tooltip\n */\n\nvar Tooltip = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useStyleConfig(\"Tooltip\", props);\n  var ownProps = omitThemingProps(props);\n  var theme = useTheme();\n\n  var children = ownProps.children,\n      label = ownProps.label,\n      shouldWrapChildren = ownProps.shouldWrapChildren,\n      ariaLabel = ownProps[\"aria-label\"],\n      hasArrow = ownProps.hasArrow,\n      bg = ownProps.bg,\n      portalProps = ownProps.portalProps,\n      rest = _objectWithoutPropertiesLoose(ownProps, _excluded);\n\n  if (bg) {\n    styles.bg = bg;\n    styles[popperCSSVars.arrowBg[\"var\"]] = getCSSVar(theme, \"colors\", bg);\n  }\n\n  var tooltip = useTooltip(_extends({}, rest, {\n    direction: theme.direction\n  }));\n  var shouldWrap = isString(children) || shouldWrapChildren;\n  var trigger;\n\n  if (shouldWrap) {\n    trigger = /*#__PURE__*/React.createElement(chakra.span, _extends({\n      tabIndex: 0\n    }, tooltip.getTriggerProps()), children);\n  } else {\n    /**\n     * Ensure tooltip has only one child node\n     */\n    var child = React.Children.only(children);\n    trigger = /*#__PURE__*/React.cloneElement(child, tooltip.getTriggerProps(child.props, child.ref));\n  }\n\n  var hasAriaLabel = !!ariaLabel;\n\n  var _tooltipProps = tooltip.getTooltipProps({}, ref);\n\n  var tooltipProps = hasAriaLabel ? omit(_tooltipProps, [\"role\", \"id\"]) : _tooltipProps;\n  var hiddenProps = pick(_tooltipProps, [\"role\", \"id\"]);\n  /**\n   * If the `label` is empty, there's no\n   * point showing the tooltip. Let's simply return back the children\n   */\n\n  if (!label) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, trigger, /*#__PURE__*/React.createElement(AnimatePresence, null, tooltip.isOpen && /*#__PURE__*/React.createElement(Portal, portalProps, /*#__PURE__*/React.createElement(chakra.div, _extends({}, tooltip.getTooltipPositionerProps(), {\n    __css: {\n      zIndex: styles.zIndex,\n      pointerEvents: \"none\"\n    }\n  }), /*#__PURE__*/React.createElement(StyledTooltip, _extends({\n    variants: scale\n  }, tooltipProps, {\n    initial: \"exit\",\n    animate: \"enter\",\n    exit: \"exit\",\n    __css: styles\n  }), label, hasAriaLabel && /*#__PURE__*/React.createElement(VisuallyHidden, hiddenProps, ariaLabel), hasArrow && /*#__PURE__*/React.createElement(chakra.div, {\n    \"data-popper-arrow\": true,\n    className: \"chakra-tooltip__arrow-wrapper\"\n  }, /*#__PURE__*/React.createElement(chakra.div, {\n    \"data-popper-arrow-inner\": true,\n    className: \"chakra-tooltip__arrow\",\n    __css: {\n      bg: styles.bg\n    }\n  })))))));\n});\n\nif (__DEV__) {\n  Tooltip.displayName = \"Tooltip\";\n}\n\nexport { Tooltip, useTooltip };\n","\n/**\n * Expose `Emitter`.\n */\n\nexports.Emitter = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","module.exports = function () { /* empty */ };\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var core = module.exports = { version: '2.6.12' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = {};\n","module.exports = true;\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","exports.f = {}.propertyIsEnumerable;\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","module.exports = require('./_hide');\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = require('./_wks');\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n","\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n","(typeof navigator !== \"undefined\") && (function(root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(function() {\n            return factory(root);\n        });\n    } else if (typeof module === \"object\" && module.exports) {\n        module.exports = factory(root);\n    } else {\n        root.lottie = factory(root);\n        root.bodymovin = root.lottie;\n    }\n}((window || {}), function(window) {\n\t/* global locationHref:writable, animationManager, subframeEnabled:writable, defaultCurveSegments:writable, roundValues,\r\nexpressionsPlugin:writable, PropertyFactory, ShapePropertyFactory, Matrix, idPrefix:writable, _useWebWorker:writable */\r\n/* exported locationHref, subframeEnabled, expressionsPlugin, idPrefix, _useWebWorker */\r\n\r\n'use strict';\r\n\r\n/* exported svgNS, locationHref, initialDefaultFrame, _useWebWorker */\r\n\r\nvar svgNS = 'http://www.w3.org/2000/svg';\r\n\r\nvar locationHref = '';\r\n\r\nvar initialDefaultFrame = -999999;\r\n\r\nvar _useWebWorker = false;\r\n\r\n/* global createSizedArray */\r\n/* exported subframeEnabled, expressionsPlugin, isSafari, cachedColors, bmPow, bmSqrt, bmFloor, bmMax, bmMin, ProjectInterface,\r\ndefaultCurveSegments, degToRads, roundCorner, bmRnd, styleDiv, BMEnterFrameEvent, BMCompleteEvent, BMCompleteLoopEvent,\r\nBMSegmentStartEvent, BMDestroyEvent, BMRenderFrameErrorEvent, BMConfigErrorEvent, BMAnimationConfigErrorEvent, createElementID,\r\naddSaturationToRGB, addBrightnessToRGB, addHueToRGB, rgbToHex */\r\n\r\nvar subframeEnabled = true;\r\nvar idPrefix = '';\r\nvar expressionsPlugin;\r\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\nvar cachedColors = {};\r\nvar bmRnd;\r\nvar bmPow = Math.pow;\r\nvar bmSqrt = Math.sqrt;\r\nvar bmFloor = Math.floor;\r\nvar bmMax = Math.max;\r\nvar bmMin = Math.min;\r\n\r\nvar BMMath = {};\r\n(function () {\r\n  var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\r\n  var i;\r\n  var len = propertyNames.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    BMMath[propertyNames[i]] = Math[propertyNames[i]];\r\n  }\r\n}());\r\n\r\nfunction ProjectInterface() { return {}; }\r\n\r\nBMMath.random = Math.random;\r\nBMMath.abs = function (val) {\r\n  var tOfVal = typeof val;\r\n  if (tOfVal === 'object' && val.length) {\r\n    var absArr = createSizedArray(val.length);\r\n    var i;\r\n    var len = val.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      absArr[i] = Math.abs(val[i]);\r\n    }\r\n    return absArr;\r\n  }\r\n  return Math.abs(val);\r\n};\r\nvar defaultCurveSegments = 150;\r\nvar degToRads = Math.PI / 180;\r\nvar roundCorner = 0.5519;\r\n\r\nfunction roundValues(flag) {\r\n  if (flag) {\r\n    bmRnd = Math.round;\r\n  } else {\r\n    bmRnd = function (val) {\r\n      return val;\r\n    };\r\n  }\r\n}\r\nroundValues(false);\r\n\r\nfunction styleDiv(element) {\r\n  element.style.position = 'absolute';\r\n  element.style.top = 0;\r\n  element.style.left = 0;\r\n  element.style.display = 'block';\r\n  element.style.transformOrigin = '0 0';\r\n  element.style.webkitTransformOrigin = '0 0';\r\n  element.style.backfaceVisibility = 'visible';\r\n  element.style.webkitBackfaceVisibility = 'visible';\r\n  element.style.transformStyle = 'preserve-3d';\r\n  element.style.webkitTransformStyle = 'preserve-3d';\r\n  element.style.mozTransformStyle = 'preserve-3d';\r\n}\r\n\r\nfunction BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\r\n  this.type = type;\r\n  this.currentTime = currentTime;\r\n  this.totalTime = totalTime;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteEvent(type, frameMultiplier) {\r\n  this.type = type;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\r\n  this.type = type;\r\n  this.currentLoop = currentLoop;\r\n  this.totalLoops = totalLoops;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMSegmentStartEvent(type, firstFrame, totalFrames) {\r\n  this.type = type;\r\n  this.firstFrame = firstFrame;\r\n  this.totalFrames = totalFrames;\r\n}\r\n\r\nfunction BMDestroyEvent(type, target) {\r\n  this.type = type;\r\n  this.target = target;\r\n}\r\n\r\nfunction BMRenderFrameErrorEvent(nativeError, currentTime) {\r\n  this.type = 'renderFrameError';\r\n  this.nativeError = nativeError;\r\n  this.currentTime = currentTime;\r\n}\r\n\r\nfunction BMConfigErrorEvent(nativeError) {\r\n  this.type = 'configError';\r\n  this.nativeError = nativeError;\r\n}\r\n\r\nfunction BMAnimationConfigErrorEvent(type, nativeError) {\r\n  this.type = type;\r\n  this.nativeError = nativeError;\r\n}\r\n\r\nvar createElementID = (function () {\r\n  var _count = 0;\r\n  return function createID() {\r\n    _count += 1;\r\n    return idPrefix + '__lottie_element_' + _count;\r\n  };\r\n}());\r\n\r\nfunction HSVtoRGB(h, s, v) {\r\n  var r;\r\n  var g;\r\n  var b;\r\n  var i;\r\n  var f;\r\n  var p;\r\n  var q;\r\n  var t;\r\n  i = Math.floor(h * 6);\r\n  f = h * 6 - i;\r\n  p = v * (1 - s);\r\n  q = v * (1 - f * s);\r\n  t = v * (1 - (1 - f) * s);\r\n  switch (i % 6) {\r\n    case 0: r = v; g = t; b = p; break;\r\n    case 1: r = q; g = v; b = p; break;\r\n    case 2: r = p; g = v; b = t; break;\r\n    case 3: r = p; g = q; b = v; break;\r\n    case 4: r = t; g = p; b = v; break;\r\n    case 5: r = v; g = p; b = q; break;\r\n    default: break;\r\n  }\r\n  return [r,\r\n    g,\r\n    b];\r\n}\r\n\r\nfunction RGBtoHSV(r, g, b) {\r\n  var max = Math.max(r, g, b);\r\n  var min = Math.min(r, g, b);\r\n  var d = max - min;\r\n  var h;\r\n  var s = (max === 0 ? 0 : d / max);\r\n  var v = max / 255;\r\n\r\n  switch (max) {\r\n    case min: h = 0; break;\r\n    case r: h = (g - b) + d * (g < b ? 6 : 0); h /= 6 * d; break;\r\n    case g: h = (b - r) + d * 2; h /= 6 * d; break;\r\n    case b: h = (r - g) + d * 4; h /= 6 * d; break;\r\n    default: break;\r\n  }\r\n\r\n  return [\r\n    h,\r\n    s,\r\n    v,\r\n  ];\r\n}\r\n\r\nfunction addSaturationToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[1] += offset;\r\n  if (hsv[1] > 1) {\r\n    hsv[1] = 1;\r\n  } else if (hsv[1] <= 0) {\r\n    hsv[1] = 0;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nfunction addBrightnessToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[2] += offset;\r\n  if (hsv[2] > 1) {\r\n    hsv[2] = 1;\r\n  } else if (hsv[2] < 0) {\r\n    hsv[2] = 0;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nfunction addHueToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[0] += offset / 360;\r\n  if (hsv[0] > 1) {\r\n    hsv[0] -= 1;\r\n  } else if (hsv[0] < 0) {\r\n    hsv[0] += 1;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nvar rgbToHex = (function () {\r\n  var colorMap = [];\r\n  var i;\r\n  var hex;\r\n  for (i = 0; i < 256; i += 1) {\r\n    hex = i.toString(16);\r\n    colorMap[i] = hex.length === 1 ? '0' + hex : hex;\r\n  }\r\n\r\n  return function (r, g, b) {\r\n    if (r < 0) {\r\n      r = 0;\r\n    }\r\n    if (g < 0) {\r\n      g = 0;\r\n    }\r\n    if (b < 0) {\r\n      b = 0;\r\n    }\r\n    return '#' + colorMap[r] + colorMap[g] + colorMap[b];\r\n  };\r\n}());\r\n\r\nfunction BaseEvent() {}\r\nBaseEvent.prototype = {\r\n  triggerEvent: function (eventName, args) {\r\n    if (this._cbs[eventName]) {\r\n      var callbacks = this._cbs[eventName];\r\n      for (var i = 0; i < callbacks.length; i += 1) {\r\n        callbacks[i](args);\r\n      }\r\n    }\r\n  },\r\n  addEventListener: function (eventName, callback) {\r\n    if (!this._cbs[eventName]) {\r\n      this._cbs[eventName] = [];\r\n    }\r\n    this._cbs[eventName].push(callback);\r\n\r\n    return function () {\r\n      this.removeEventListener(eventName, callback);\r\n    }.bind(this);\r\n  },\r\n  removeEventListener: function (eventName, callback) {\r\n    if (!callback) {\r\n      this._cbs[eventName] = null;\r\n    } else if (this._cbs[eventName]) {\r\n      var i = 0;\r\n      var len = this._cbs[eventName].length;\r\n      while (i < len) {\r\n        if (this._cbs[eventName][i] === callback) {\r\n          this._cbs[eventName].splice(i, 1);\r\n          i -= 1;\r\n          len -= 1;\r\n        }\r\n        i += 1;\r\n      }\r\n      if (!this._cbs[eventName].length) {\r\n        this._cbs[eventName] = null;\r\n      }\r\n    }\r\n  },\r\n};\r\n\r\n/* exported createTypedArray, createSizedArray */\r\n\r\nvar createTypedArray = (function () {\r\n  function createRegularArray(type, len) {\r\n    var i = 0;\r\n    var arr = [];\r\n    var value;\r\n    switch (type) {\r\n      case 'int16':\r\n      case 'uint8c':\r\n        value = 1;\r\n        break;\r\n      default:\r\n        value = 1.1;\r\n        break;\r\n    }\r\n    for (i = 0; i < len; i += 1) {\r\n      arr.push(value);\r\n    }\r\n    return arr;\r\n  }\r\n  function createTypedArrayFactory(type, len) {\r\n    if (type === 'float32') {\r\n      return new Float32Array(len);\r\n    } if (type === 'int16') {\r\n      return new Int16Array(len);\r\n    } if (type === 'uint8c') {\r\n      return new Uint8ClampedArray(len);\r\n    }\r\n    return createRegularArray(type, len);\r\n  }\r\n  if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\r\n    return createTypedArrayFactory;\r\n  }\r\n  return createRegularArray;\r\n}());\r\n\r\nfunction createSizedArray(len) {\r\n  return Array.apply(null, { length: len });\r\n}\r\n\r\n/* global svgNS */\r\n/* exported createNS */\r\n\r\nfunction createNS(type) {\r\n  // return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n  return document.createElementNS(svgNS, type);\r\n}\r\n\r\n/* exported createTag */\r\n\r\nfunction createTag(type) {\r\n  // return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n  return document.createElement(type);\r\n}\r\n\r\nfunction DynamicPropertyContainer() {}\r\nDynamicPropertyContainer.prototype = {\r\n  addDynamicProperty: function (prop) {\r\n    if (this.dynamicProperties.indexOf(prop) === -1) {\r\n      this.dynamicProperties.push(prop);\r\n      this.container.addDynamicProperty(this);\r\n      this._isAnimated = true;\r\n    }\r\n  },\r\n  iterateDynamicProperties: function () {\r\n    this._mdf = false;\r\n    var i;\r\n    var len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.dynamicProperties[i].getValue();\r\n      if (this.dynamicProperties[i]._mdf) {\r\n        this._mdf = true;\r\n      }\r\n    }\r\n  },\r\n  initDynamicPropertyContainer: function (container) {\r\n    this.container = container;\r\n    this.dynamicProperties = [];\r\n    this._mdf = false;\r\n    this._isAnimated = false;\r\n  },\r\n};\r\n\r\n/* exported getBlendMode */\r\n\r\nvar getBlendMode = (function () {\r\n  var blendModeEnums = {\r\n    0: 'source-over',\r\n    1: 'multiply',\r\n    2: 'screen',\r\n    3: 'overlay',\r\n    4: 'darken',\r\n    5: 'lighten',\r\n    6: 'color-dodge',\r\n    7: 'color-burn',\r\n    8: 'hard-light',\r\n    9: 'soft-light',\r\n    10: 'difference',\r\n    11: 'exclusion',\r\n    12: 'hue',\r\n    13: 'saturation',\r\n    14: 'color',\r\n    15: 'luminosity',\r\n  };\r\n\r\n  return function (mode) {\r\n    return blendModeEnums[mode] || '';\r\n  };\r\n}());\r\n\r\n/* exported lineCapEnum, lineJoinEnum */\r\n\r\nvar lineCapEnum = {\r\n  1: 'butt',\r\n  2: 'round',\r\n  3: 'square',\r\n};\r\n\r\nvar lineJoinEnum = {\r\n  1: 'miter',\r\n  2: 'round',\r\n  3: 'bevel',\r\n};\r\n\r\n/* global createTypedArray */\r\n\r\n/*!\r\n Transformation Matrix v2.0\r\n (c) Epistemex 2014-2015\r\n www.epistemex.com\r\n By Ken Fyrstenberg\r\n Contributions by leeoniya.\r\n License: MIT, header required.\r\n */\r\n\r\n/**\r\n * 2D transformation matrix object initialized with identity matrix.\r\n *\r\n * The matrix can synchronize a canvas context by supplying the context\r\n * as an argument, or later apply current absolute transform to an\r\n * existing context.\r\n *\r\n * All values are handled as floating point values.\r\n *\r\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n * @prop {number} a - scale x\r\n * @prop {number} b - shear y\r\n * @prop {number} c - shear x\r\n * @prop {number} d - scale y\r\n * @prop {number} e - translate x\r\n * @prop {number} f - translate y\r\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n * @constructor\r\n */\r\n\r\nvar Matrix = (function () {\r\n  var _cos = Math.cos;\r\n  var _sin = Math.sin;\r\n  var _tan = Math.tan;\r\n  var _rnd = Math.round;\r\n\r\n  function reset() {\r\n    this.props[0] = 1;\r\n    this.props[1] = 0;\r\n    this.props[2] = 0;\r\n    this.props[3] = 0;\r\n    this.props[4] = 0;\r\n    this.props[5] = 1;\r\n    this.props[6] = 0;\r\n    this.props[7] = 0;\r\n    this.props[8] = 0;\r\n    this.props[9] = 0;\r\n    this.props[10] = 1;\r\n    this.props[11] = 0;\r\n    this.props[12] = 0;\r\n    this.props[13] = 0;\r\n    this.props[14] = 0;\r\n    this.props[15] = 1;\r\n    return this;\r\n  }\r\n\r\n  function rotate(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateX(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateY(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateZ(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function shear(sx, sy) {\r\n    return this._t(1, sy, sx, 1, 0, 0);\r\n  }\r\n\r\n  function skew(ax, ay) {\r\n    return this.shear(_tan(ax), _tan(ay));\r\n  }\r\n\r\n  function skewFromAxis(ax, angle) {\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\r\n      ._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\r\n      ._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n    // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\r\n  }\r\n\r\n  function scale(sx, sy, sz) {\r\n    if (!sz && sz !== 0) {\r\n      sz = 1;\r\n    }\r\n    if (sx === 1 && sy === 1 && sz === 1) {\r\n      return this;\r\n    }\r\n    return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\r\n    this.props[0] = a;\r\n    this.props[1] = b;\r\n    this.props[2] = c;\r\n    this.props[3] = d;\r\n    this.props[4] = e;\r\n    this.props[5] = f;\r\n    this.props[6] = g;\r\n    this.props[7] = h;\r\n    this.props[8] = i;\r\n    this.props[9] = j;\r\n    this.props[10] = k;\r\n    this.props[11] = l;\r\n    this.props[12] = m;\r\n    this.props[13] = n;\r\n    this.props[14] = o;\r\n    this.props[15] = p;\r\n    return this;\r\n  }\r\n\r\n  function translate(tx, ty, tz) {\r\n    tz = tz || 0;\r\n    if (tx !== 0 || ty !== 0 || tz !== 0) {\r\n      return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\r\n    var _p = this.props;\r\n\r\n    if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\r\n      // NOTE: commenting this condition because TurboFan deoptimizes code when present\r\n      // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\r\n      _p[12] = _p[12] * a2 + _p[15] * m2;\r\n      _p[13] = _p[13] * f2 + _p[15] * n2;\r\n      _p[14] = _p[14] * k2 + _p[15] * o2;\r\n      _p[15] *= p2;\r\n      // }\r\n      this._identityCalculated = false;\r\n      return this;\r\n    }\r\n\r\n    var a1 = _p[0];\r\n    var b1 = _p[1];\r\n    var c1 = _p[2];\r\n    var d1 = _p[3];\r\n    var e1 = _p[4];\r\n    var f1 = _p[5];\r\n    var g1 = _p[6];\r\n    var h1 = _p[7];\r\n    var i1 = _p[8];\r\n    var j1 = _p[9];\r\n    var k1 = _p[10];\r\n    var l1 = _p[11];\r\n    var m1 = _p[12];\r\n    var n1 = _p[13];\r\n    var o1 = _p[14];\r\n    var p1 = _p[15];\r\n\r\n    /* matrix order (canvas compatible):\r\n         * ace\r\n         * bdf\r\n         * 001\r\n         */\r\n    _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\r\n    _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\r\n    _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\r\n    _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\r\n\r\n    _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\r\n    _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\r\n    _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\r\n    _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\r\n\r\n    _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\r\n    _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\r\n    _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\r\n    _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\r\n\r\n    _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\r\n    _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\r\n    _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\r\n    _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\r\n\r\n    this._identityCalculated = false;\r\n    return this;\r\n  }\r\n\r\n  function isIdentity() {\r\n    if (!this._identityCalculated) {\r\n      this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\r\n      this._identityCalculated = true;\r\n    }\r\n    return this._identity;\r\n  }\r\n\r\n  function equals(matr) {\r\n    var i = 0;\r\n    while (i < 16) {\r\n      if (matr.props[i] !== this.props[i]) {\r\n        return false;\r\n      }\r\n      i += 1;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function clone(matr) {\r\n    var i;\r\n    for (i = 0; i < 16; i += 1) {\r\n      matr.props[i] = this.props[i];\r\n    }\r\n    return matr;\r\n  }\r\n\r\n  function cloneFromProps(props) {\r\n    var i;\r\n    for (i = 0; i < 16; i += 1) {\r\n      this.props[i] = props[i];\r\n    }\r\n  }\r\n\r\n  function applyToPoint(x, y, z) {\r\n    return {\r\n      x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n      y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n      z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14],\r\n    };\r\n    /* return {\r\n         x: x * me.a + y * me.c + me.e,\r\n         y: x * me.b + y * me.d + me.f\r\n         }; */\r\n  }\r\n  function applyToX(x, y, z) {\r\n    return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\r\n  }\r\n  function applyToY(x, y, z) {\r\n    return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\r\n  }\r\n  function applyToZ(x, y, z) {\r\n    return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\r\n  }\r\n\r\n  function getInverseMatrix() {\r\n    var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\r\n    var a = this.props[5] / determinant;\r\n    var b = -this.props[1] / determinant;\r\n    var c = -this.props[4] / determinant;\r\n    var d = this.props[0] / determinant;\r\n    var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\r\n    var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\r\n    var inverseMatrix = new Matrix();\r\n    inverseMatrix.props[0] = a;\r\n    inverseMatrix.props[1] = b;\r\n    inverseMatrix.props[4] = c;\r\n    inverseMatrix.props[5] = d;\r\n    inverseMatrix.props[12] = e;\r\n    inverseMatrix.props[13] = f;\r\n    return inverseMatrix;\r\n  }\r\n\r\n  function inversePoint(pt) {\r\n    var inverseMatrix = this.getInverseMatrix();\r\n    return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\r\n  }\r\n\r\n  function inversePoints(pts) {\r\n    var i;\r\n    var len = pts.length;\r\n    var retPts = [];\r\n    for (i = 0; i < len; i += 1) {\r\n      retPts[i] = inversePoint(pts[i]);\r\n    }\r\n    return retPts;\r\n  }\r\n\r\n  function applyToTriplePoints(pt1, pt2, pt3) {\r\n    var arr = createTypedArray('float32', 6);\r\n    if (this.isIdentity()) {\r\n      arr[0] = pt1[0];\r\n      arr[1] = pt1[1];\r\n      arr[2] = pt2[0];\r\n      arr[3] = pt2[1];\r\n      arr[4] = pt3[0];\r\n      arr[5] = pt3[1];\r\n    } else {\r\n      var p0 = this.props[0];\r\n      var p1 = this.props[1];\r\n      var p4 = this.props[4];\r\n      var p5 = this.props[5];\r\n      var p12 = this.props[12];\r\n      var p13 = this.props[13];\r\n      arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\r\n      arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\r\n      arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\r\n      arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\r\n      arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\r\n      arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function applyToPointArray(x, y, z) {\r\n    var arr;\r\n    if (this.isIdentity()) {\r\n      arr = [x, y, z];\r\n    } else {\r\n      arr = [\r\n        x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n        x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n        x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14],\r\n      ];\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function applyToPointStringified(x, y) {\r\n    if (this.isIdentity()) {\r\n      return x + ',' + y;\r\n    }\r\n    var _p = this.props;\r\n    return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\r\n  }\r\n\r\n  function toCSS() {\r\n    // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n    /* if(this.isIdentity()) {\r\n            return '';\r\n        } */\r\n    var i = 0;\r\n    var props = this.props;\r\n    var cssValue = 'matrix3d(';\r\n    var v = 10000;\r\n    while (i < 16) {\r\n      cssValue += _rnd(props[i] * v) / v;\r\n      cssValue += i === 15 ? ')' : ',';\r\n      i += 1;\r\n    }\r\n    return cssValue;\r\n  }\r\n\r\n  function roundMatrixProperty(val) {\r\n    var v = 10000;\r\n    if ((val < 0.000001 && val > 0) || (val > -0.000001 && val < 0)) {\r\n      return _rnd(val * v) / v;\r\n    }\r\n    return val;\r\n  }\r\n\r\n  function to2dCSS() {\r\n    // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n    /* if(this.isIdentity()) {\r\n            return '';\r\n        } */\r\n    var props = this.props;\r\n    var _a = roundMatrixProperty(props[0]);\r\n    var _b = roundMatrixProperty(props[1]);\r\n    var _c = roundMatrixProperty(props[4]);\r\n    var _d = roundMatrixProperty(props[5]);\r\n    var _e = roundMatrixProperty(props[12]);\r\n    var _f = roundMatrixProperty(props[13]);\r\n    return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\r\n  }\r\n\r\n  return function () {\r\n    this.reset = reset;\r\n    this.rotate = rotate;\r\n    this.rotateX = rotateX;\r\n    this.rotateY = rotateY;\r\n    this.rotateZ = rotateZ;\r\n    this.skew = skew;\r\n    this.skewFromAxis = skewFromAxis;\r\n    this.shear = shear;\r\n    this.scale = scale;\r\n    this.setTransform = setTransform;\r\n    this.translate = translate;\r\n    this.transform = transform;\r\n    this.applyToPoint = applyToPoint;\r\n    this.applyToX = applyToX;\r\n    this.applyToY = applyToY;\r\n    this.applyToZ = applyToZ;\r\n    this.applyToPointArray = applyToPointArray;\r\n    this.applyToTriplePoints = applyToTriplePoints;\r\n    this.applyToPointStringified = applyToPointStringified;\r\n    this.toCSS = toCSS;\r\n    this.to2dCSS = to2dCSS;\r\n    this.clone = clone;\r\n    this.cloneFromProps = cloneFromProps;\r\n    this.equals = equals;\r\n    this.inversePoints = inversePoints;\r\n    this.inversePoint = inversePoint;\r\n    this.getInverseMatrix = getInverseMatrix;\r\n    this._t = this.transform;\r\n    this.isIdentity = isIdentity;\r\n    this._identity = true;\r\n    this._identityCalculated = false;\r\n\r\n    this.props = createTypedArray('float32', 16);\r\n    this.reset();\r\n  };\r\n}());\r\n\r\n/* eslint-disable */\r\n/*\r\n Copyright 2014 David Bau.\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining\r\n a copy of this software and associated documentation files (the\r\n \"Software\"), to deal in the Software without restriction, including\r\n without limitation the rights to use, copy, modify, merge, publish,\r\n distribute, sublicense, and/or sell copies of the Software, and to\r\n permit persons to whom the Software is furnished to do so, subject to\r\n the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be\r\n included in all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n */\r\n\r\n(function (pool, math) {\r\n//\r\n// The following constants are related to IEEE 754 limits.\r\n//\r\n    var global = this,\r\n        width = 256,        // each RC4 output is 0 <= x < 256\r\n        chunks = 6,         // at least six RC4 outputs for each double\r\n        digits = 52,        // there are 52 significant digits in a double\r\n        rngname = 'random', // rngname: name for Math.random and Math.seedrandom\r\n        startdenom = math.pow(width, chunks),\r\n        significance = math.pow(2, digits),\r\n        overflow = significance * 2,\r\n        mask = width - 1,\r\n        nodecrypto;         // node.js crypto module, initialized at the bottom.\r\n\r\n//\r\n// seedrandom()\r\n// This is the seedrandom function described above.\r\n//\r\n    function seedrandom(seed, options, callback) {\r\n        var key = [];\r\n        options = (options === true) ? { entropy: true } : (options || {});\r\n\r\n        // Flatten the seed string or build one from local entropy if needed.\r\n        var shortseed = mixkey(flatten(\r\n            options.entropy ? [seed, tostring(pool)] :\r\n                (seed === null) ? autoseed() : seed, 3), key);\r\n\r\n        // Use the seed to initialize an ARC4 generator.\r\n        var arc4 = new ARC4(key);\r\n\r\n        // This function returns a random double in [0, 1) that contains\r\n        // randomness in every bit of the mantissa of the IEEE 754 value.\r\n        var prng = function() {\r\n            var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\r\n                d = startdenom,                 //   and denominator d = 2 ^ 48.\r\n                x = 0;                          //   and no 'extra last byte'.\r\n            while (n < significance) {          // Fill up all significant digits by\r\n                n = (n + x) * width;              //   shifting numerator and\r\n                d *= width;                       //   denominator and generating a\r\n                x = arc4.g(1);                    //   new least-significant-byte.\r\n            }\r\n            while (n >= overflow) {             // To avoid rounding up, before adding\r\n                n /= 2;                           //   last byte, shift everything\r\n                d /= 2;                           //   right using integer math until\r\n                x >>>= 1;                         //   we have exactly the desired bits.\r\n            }\r\n            return (n + x) / d;                 // Form the number within [0, 1).\r\n        };\r\n\r\n        prng.int32 = function() { return arc4.g(4) | 0; };\r\n        prng.quick = function() { return arc4.g(4) / 0x100000000; };\r\n        prng.double = prng;\r\n\r\n        // Mix the randomness into accumulated entropy.\r\n        mixkey(tostring(arc4.S), pool);\r\n\r\n        // Calling convention: what to return as a function of prng, seed, is_math.\r\n        return (options.pass || callback ||\r\n        function(prng, seed, is_math_call, state) {\r\n            if (state) {\r\n                // Load the arc4 state from the given state if it has an S array.\r\n                if (state.S) { copy(state, arc4); }\r\n                // Only provide the .state method if requested via options.state.\r\n                prng.state = function() { return copy(arc4, {}); };\r\n            }\r\n\r\n            // If called as a method of Math (Math.seedrandom()), mutate\r\n            // Math.random because that is how seedrandom.js has worked since v1.0.\r\n            if (is_math_call) { math[rngname] = prng; return seed; }\r\n\r\n            // Otherwise, it is a newer calling convention, so return the\r\n            // prng directly.\r\n            else return prng;\r\n        })(\r\n            prng,\r\n            shortseed,\r\n            'global' in options ? options.global : (this == math),\r\n            options.state);\r\n    }\r\n    math['seed' + rngname] = seedrandom;\r\n\r\n//\r\n// ARC4\r\n//\r\n// An ARC4 implementation.  The constructor takes a key in the form of\r\n// an array of at most (width) integers that should be 0 <= x < (width).\r\n//\r\n// The g(count) method returns a pseudorandom integer that concatenates\r\n// the next (count) outputs from ARC4.  Its return value is a number x\r\n// that is in the range 0 <= x < (width ^ count).\r\n//\r\n    function ARC4(key) {\r\n        var t, keylen = key.length,\r\n            me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\r\n\r\n        // The empty key [] is treated as [0].\r\n        if (!keylen) { key = [keylen++]; }\r\n\r\n        // Set up S using the standard key scheduling algorithm.\r\n        while (i < width) {\r\n            s[i] = i++;\r\n        }\r\n        for (i = 0; i < width; i++) {\r\n            s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\r\n            s[j] = t;\r\n        }\r\n\r\n        // The \"g\" method returns the next (count) outputs as one number.\r\n        me.g = function(count) {\r\n            // Using instance members instead of closure state nearly doubles speed.\r\n            var t, r = 0,\r\n                i = me.i, j = me.j, s = me.S;\r\n            while (count--) {\r\n                t = s[i = mask & (i + 1)];\r\n                r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\r\n            }\r\n            me.i = i; me.j = j;\r\n            return r;\r\n            // For robust unpredictability, the function call below automatically\r\n            // discards an initial batch of values.  This is called RC4-drop[256].\r\n            // See http://google.com/search?q=rsa+fluhrer+response&btnI\r\n        };\r\n    }\r\n\r\n//\r\n// copy()\r\n// Copies internal state of ARC4 to or from a plain object.\r\n//\r\n    function copy(f, t) {\r\n        t.i = f.i;\r\n        t.j = f.j;\r\n        t.S = f.S.slice();\r\n        return t;\r\n    }\r\n\r\n//\r\n// flatten()\r\n// Converts an object tree to nested arrays of strings.\r\n//\r\n    function flatten(obj, depth) {\r\n        var result = [], typ = (typeof obj), prop;\r\n        if (depth && typ == 'object') {\r\n            for (prop in obj) {\r\n                try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\r\n            }\r\n        }\r\n        return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\r\n    }\r\n\r\n//\r\n// mixkey()\r\n// Mixes a string seed into a key that is an array of integers, and\r\n// returns a shortened string seed that is equivalent to the result key.\r\n//\r\n    function mixkey(seed, key) {\r\n        var stringseed = seed + '', smear, j = 0;\r\n        while (j < stringseed.length) {\r\n            key[mask & j] =\r\n                mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\r\n        }\r\n        return tostring(key);\r\n    }\r\n\r\n//\r\n// autoseed()\r\n// Returns an object for autoseeding, using window.crypto and Node crypto\r\n// module if available.\r\n//\r\n    function autoseed() {\r\n        try {\r\n            if (nodecrypto) { return tostring(nodecrypto.randomBytes(width)); }\r\n            var out = new Uint8Array(width);\r\n            (global.crypto || global.msCrypto).getRandomValues(out);\r\n            return tostring(out);\r\n        } catch (e) {\r\n            var browser = global.navigator,\r\n                plugins = browser && browser.plugins;\r\n            return [+new Date(), global, plugins, global.screen, tostring(pool)];\r\n        }\r\n    }\r\n\r\n//\r\n// tostring()\r\n// Converts an array of charcodes to a string\r\n//\r\n    function tostring(a) {\r\n        return String.fromCharCode.apply(0, a);\r\n    }\r\n\r\n//\r\n// When seedrandom.js is loaded, we immediately mix a few bits\r\n// from the built-in RNG into the entropy pool.  Because we do\r\n// not want to interfere with deterministic PRNG state later,\r\n// seedrandom will not call math.random on its own again after\r\n// initialization.\r\n//\r\n    mixkey(math.random(), pool);\r\n\r\n//\r\n// Nodejs and AMD support: export the implementation as a module using\r\n// either convention.\r\n//\r\n\r\n// End anonymous scope, and pass initial values.\r\n})(\r\n    [],     // pool: entropy pool starts empty\r\n    BMMath    // math: package containing random, pow, and seedrandom\r\n);\r\n/* eslint-disable */\r\nvar BezierFactory = (function () {\r\n  /**\r\n     * BezierEasing - use bezier curve for transition easing function\r\n     * by Gaëtan Renaudeau 2014 - 2015 – MIT License\r\n     *\r\n     * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n     * Usage:\r\n     * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n     * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n     *\r\n     */\r\n\r\n  var ob = {};\r\n  ob.getBezierEasing = getBezierEasing;\r\n  var beziers = {};\r\n\r\n  function getBezierEasing(a, b, c, d, nm) {\r\n    var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\r\n    if (beziers[str]) {\r\n      return beziers[str];\r\n    }\r\n    var bezEasing = new BezierEasing([a, b, c, d]);\r\n    beziers[str] = bezEasing;\r\n    return bezEasing;\r\n  }\r\n\r\n  // These values are established by empiricism with tests (tradeoff: performance VS precision)\r\n  var NEWTON_ITERATIONS = 4;\r\n  var NEWTON_MIN_SLOPE = 0.001;\r\n  var SUBDIVISION_PRECISION = 0.0000001;\r\n  var SUBDIVISION_MAX_ITERATIONS = 10;\r\n\r\n  var kSplineTableSize = 11;\r\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\r\n\r\n  var float32ArraySupported = typeof Float32Array === 'function';\r\n\r\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\r\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\r\n  function C(aA1) { return 3.0 * aA1; }\r\n\r\n  // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\r\n  function calcBezier(aT, aA1, aA2) {\r\n    return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\r\n  }\r\n\r\n  // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\r\n  function getSlope(aT, aA1, aA2) {\r\n    return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\r\n  }\r\n\r\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\r\n    var currentX,\r\n      currentT,\r\n      i = 0;\r\n    do {\r\n      currentT = aA + (aB - aA) / 2.0;\r\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\r\n      if (currentX > 0.0) {\r\n        aB = currentT;\r\n      } else {\r\n        aA = currentT;\r\n      }\r\n    } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\r\n    return currentT;\r\n  }\r\n\r\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\r\n    for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\r\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\r\n      if (currentSlope === 0.0) return aGuessT;\r\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\r\n      aGuessT -= currentX / currentSlope;\r\n    }\r\n    return aGuessT;\r\n  }\r\n\r\n  /**\r\n     * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n     */\r\n  function BezierEasing(points) {\r\n    this._p = points;\r\n    this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\r\n    this._precomputed = false;\r\n\r\n    this.get = this.get.bind(this);\r\n  }\r\n\r\n  BezierEasing.prototype = {\r\n\r\n    get: function (x) {\r\n      var mX1 = this._p[0],\r\n        mY1 = this._p[1],\r\n        mX2 = this._p[2],\r\n        mY2 = this._p[3];\r\n      if (!this._precomputed) this._precompute();\r\n      if (mX1 === mY1 && mX2 === mY2) return x; // linear\r\n      // Because JavaScript number are imprecise, we should guarantee the extremes are right.\r\n      if (x === 0) return 0;\r\n      if (x === 1) return 1;\r\n      return calcBezier(this._getTForX(x), mY1, mY2);\r\n    },\r\n\r\n    // Private part\r\n\r\n    _precompute: function () {\r\n      var mX1 = this._p[0],\r\n        mY1 = this._p[1],\r\n        mX2 = this._p[2],\r\n        mY2 = this._p[3];\r\n      this._precomputed = true;\r\n      if (mX1 !== mY1 || mX2 !== mY2) { this._calcSampleValues(); }\r\n    },\r\n\r\n    _calcSampleValues: function () {\r\n      var mX1 = this._p[0],\r\n        mX2 = this._p[2];\r\n      for (var i = 0; i < kSplineTableSize; ++i) {\r\n        this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\r\n      }\r\n    },\r\n\r\n    /**\r\n         * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n         */\r\n    _getTForX: function (aX) {\r\n      var mX1 = this._p[0],\r\n        mX2 = this._p[2],\r\n        mSampleValues = this._mSampleValues;\r\n\r\n      var intervalStart = 0.0;\r\n      var currentSample = 1;\r\n      var lastSample = kSplineTableSize - 1;\r\n\r\n      for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\r\n        intervalStart += kSampleStepSize;\r\n      }\r\n      --currentSample;\r\n\r\n      // Interpolate to provide an initial guess for t\r\n      var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\r\n      var guessForT = intervalStart + dist * kSampleStepSize;\r\n\r\n      var initialSlope = getSlope(guessForT, mX1, mX2);\r\n      if (initialSlope >= NEWTON_MIN_SLOPE) {\r\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n      } if (initialSlope === 0.0) {\r\n        return guessForT;\r\n      }\r\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\r\n    },\r\n  };\r\n\r\n  return ob;\r\n}());\r\n\r\n(function () {\r\n  var lastTime = 0;\r\n  var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) { // eslint-disable-line no-plusplus\r\n    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n    window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n  }\r\n  if (!window.requestAnimationFrame) {\r\n    window.requestAnimationFrame = function (callback) {\r\n      var currTime = new Date().getTime();\r\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n      var id = setTimeout(function () {\r\n        callback(currTime + timeToCall);\r\n      },\r\n      timeToCall);\r\n      lastTime = currTime + timeToCall;\r\n      return id;\r\n    };\r\n  }\r\n  if (!window.cancelAnimationFrame) {\r\n    window.cancelAnimationFrame = function (id) {\r\n      clearTimeout(id);\r\n    };\r\n  }\r\n}());\r\n\r\n/* exported extendPrototype, getDescriptor, createProxyFunction */\r\n\r\nfunction extendPrototype(sources, destination) {\r\n  var i;\r\n  var len = sources.length;\r\n  var sourcePrototype;\r\n  for (i = 0; i < len; i += 1) {\r\n    sourcePrototype = sources[i].prototype;\r\n    for (var attr in sourcePrototype) {\r\n      if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\r\n    }\r\n  }\r\n}\r\n\r\nfunction getDescriptor(object, prop) {\r\n  return Object.getOwnPropertyDescriptor(object, prop);\r\n}\r\n\r\nfunction createProxyFunction(prototype) {\r\n  function ProxyFunction() {}\r\n  ProxyFunction.prototype = prototype;\r\n  return ProxyFunction;\r\n}\r\n\r\n/* global segmentsLengthPool, defaultCurveSegments, createSizedArray, bmPow, bmSqrt, bmFloor, createTypedArray, bezierLengthPool */\r\n/* exported bez */\r\n\r\nfunction bezFunction() {\r\n  var math = Math;\r\n\r\n  function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\r\n    var det1 = (x1 * y2) + (y1 * x3) + (x2 * y3) - (x3 * y2) - (y3 * x1) - (x2 * y1);\r\n    return det1 > -0.001 && det1 < 0.001;\r\n  }\r\n\r\n  function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\r\n    if (z1 === 0 && z2 === 0 && z3 === 0) {\r\n      return pointOnLine2D(x1, y1, x2, y2, x3, y3);\r\n    }\r\n    var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\r\n    var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\r\n    var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\r\n    var diffDist;\r\n    if (dist1 > dist2) {\r\n      if (dist1 > dist3) {\r\n        diffDist = dist1 - dist2 - dist3;\r\n      } else {\r\n        diffDist = dist3 - dist2 - dist1;\r\n      }\r\n    } else if (dist3 > dist2) {\r\n      diffDist = dist3 - dist2 - dist1;\r\n    } else {\r\n      diffDist = dist2 - dist1 - dist3;\r\n    }\r\n    return diffDist > -0.0001 && diffDist < 0.0001;\r\n  }\r\n\r\n  var getBezierLength = (function () {\r\n    return function (pt1, pt2, pt3, pt4) {\r\n      var curveSegments = defaultCurveSegments;\r\n      var k;\r\n      var i;\r\n      var len;\r\n      var ptCoord;\r\n      var perc;\r\n      var addedLength = 0;\r\n      var ptDistance;\r\n      var point = [];\r\n      var lastPoint = [];\r\n      var lengthData = bezierLengthPool.newElement();\r\n      len = pt3.length;\r\n      for (k = 0; k < curveSegments; k += 1) {\r\n        perc = k / (curveSegments - 1);\r\n        ptDistance = 0;\r\n        for (i = 0; i < len; i += 1) {\r\n          ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\r\n          point[i] = ptCoord;\r\n          if (lastPoint[i] !== null) {\r\n            ptDistance += bmPow(point[i] - lastPoint[i], 2);\r\n          }\r\n          lastPoint[i] = point[i];\r\n        }\r\n        if (ptDistance) {\r\n          ptDistance = bmSqrt(ptDistance);\r\n          addedLength += ptDistance;\r\n        }\r\n        lengthData.percents[k] = perc;\r\n        lengthData.lengths[k] = addedLength;\r\n      }\r\n      lengthData.addedLength = addedLength;\r\n      return lengthData;\r\n    };\r\n  }());\r\n\r\n  function getSegmentsLength(shapeData) {\r\n    var segmentsLength = segmentsLengthPool.newElement();\r\n    var closed = shapeData.c;\r\n    var pathV = shapeData.v;\r\n    var pathO = shapeData.o;\r\n    var pathI = shapeData.i;\r\n    var i;\r\n    var len = shapeData._length;\r\n    var lengths = segmentsLength.lengths;\r\n    var totalLength = 0;\r\n    for (i = 0; i < len - 1; i += 1) {\r\n      lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\r\n      totalLength += lengths[i].addedLength;\r\n    }\r\n    if (closed && len) {\r\n      lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\r\n      totalLength += lengths[i].addedLength;\r\n    }\r\n    segmentsLength.totalLength = totalLength;\r\n    return segmentsLength;\r\n  }\r\n\r\n  function BezierData(length) {\r\n    this.segmentLength = 0;\r\n    this.points = new Array(length);\r\n  }\r\n\r\n  function PointData(partial, point) {\r\n    this.partialLength = partial;\r\n    this.point = point;\r\n  }\r\n\r\n  var buildBezierData = (function () {\r\n    var storedData = {};\r\n\r\n    return function (pt1, pt2, pt3, pt4) {\r\n      var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\r\n      if (!storedData[bezierName]) {\r\n        var curveSegments = defaultCurveSegments;\r\n        var k;\r\n        var i;\r\n        var len;\r\n        var ptCoord;\r\n        var perc;\r\n        var addedLength = 0;\r\n        var ptDistance;\r\n        var point;\r\n        var lastPoint = null;\r\n        if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\r\n          curveSegments = 2;\r\n        }\r\n        var bezierData = new BezierData(curveSegments);\r\n        len = pt3.length;\r\n        for (k = 0; k < curveSegments; k += 1) {\r\n          point = createSizedArray(len);\r\n          perc = k / (curveSegments - 1);\r\n          ptDistance = 0;\r\n          for (i = 0; i < len; i += 1) {\r\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\r\n            point[i] = ptCoord;\r\n            if (lastPoint !== null) {\r\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\r\n            }\r\n          }\r\n          ptDistance = bmSqrt(ptDistance);\r\n          addedLength += ptDistance;\r\n          bezierData.points[k] = new PointData(ptDistance, point);\r\n          lastPoint = point;\r\n        }\r\n        bezierData.segmentLength = addedLength;\r\n        storedData[bezierName] = bezierData;\r\n      }\r\n      return storedData[bezierName];\r\n    };\r\n  }());\r\n\r\n  function getDistancePerc(perc, bezierData) {\r\n    var percents = bezierData.percents;\r\n    var lengths = bezierData.lengths;\r\n    var len = percents.length;\r\n    var initPos = bmFloor((len - 1) * perc);\r\n    var lengthPos = perc * bezierData.addedLength;\r\n    var lPerc = 0;\r\n    if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\r\n      return percents[initPos];\r\n    }\r\n    var dir = lengths[initPos] > lengthPos ? -1 : 1;\r\n    var flag = true;\r\n    while (flag) {\r\n      if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\r\n        lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\r\n        flag = false;\r\n      } else {\r\n        initPos += dir;\r\n      }\r\n      if (initPos < 0 || initPos >= len - 1) {\r\n        // FIX for TypedArrays that don't store floating point values with enough accuracy\r\n        if (initPos === len - 1) {\r\n          return percents[initPos];\r\n        }\r\n        flag = false;\r\n      }\r\n    }\r\n    return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\r\n  }\r\n\r\n  function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\r\n    var t1 = getDistancePerc(percent, bezierData);\r\n    var u1 = 1 - t1;\r\n    var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\r\n    var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\r\n    return [ptX, ptY];\r\n  }\r\n\r\n  var bezierSegmentPoints = createTypedArray('float32', 8);\r\n\r\n  function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\r\n    if (startPerc < 0) {\r\n      startPerc = 0;\r\n    } else if (startPerc > 1) {\r\n      startPerc = 1;\r\n    }\r\n    var t0 = getDistancePerc(startPerc, bezierData);\r\n    endPerc = endPerc > 1 ? 1 : endPerc;\r\n    var t1 = getDistancePerc(endPerc, bezierData);\r\n    var i;\r\n    var len = pt1.length;\r\n    var u0 = 1 - t0;\r\n    var u1 = 1 - t1;\r\n    var u0u0u0 = u0 * u0 * u0;\r\n    var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\r\n    var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\r\n    var t0t0t0 = t0 * t0 * t0;\r\n    //\r\n    var u0u0u1 = u0 * u0 * u1;\r\n    var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\r\n    var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\r\n    var t0t0t1 = t0 * t0 * t1;\r\n    //\r\n    var u0u1u1 = u0 * u1 * u1;\r\n    var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\r\n    var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\r\n    var t0t1t1 = t0 * t1 * t1;\r\n    //\r\n    var u1u1u1 = u1 * u1 * u1;\r\n    var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\r\n    var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\r\n    var t1t1t1 = t1 * t1 * t1;\r\n    for (i = 0; i < len; i += 1) {\r\n      bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n    }\r\n\r\n    return bezierSegmentPoints;\r\n  }\r\n\r\n  return {\r\n    getSegmentsLength: getSegmentsLength,\r\n    getNewSegment: getNewSegment,\r\n    getPointInSegment: getPointInSegment,\r\n    buildBezierData: buildBezierData,\r\n    pointOnLine2D: pointOnLine2D,\r\n    pointOnLine3D: pointOnLine3D,\r\n  };\r\n}\r\n\r\nvar bez = bezFunction();\r\n\r\n/* global _useWebWorker */\r\n\r\nvar dataManager = (function () {\r\n  var _counterId = 1;\r\n  var processes = [];\r\n  var workerFn;\r\n  var workerInstance;\r\n  var workerProxy = {\r\n    onmessage: function () {\r\n\r\n    },\r\n    postMessage: function (path) {\r\n      workerFn({\r\n        data: path,\r\n      });\r\n    },\r\n  };\r\n  var _workerSelf = {\r\n    postMessage: function (data) {\r\n      workerProxy.onmessage({\r\n        data: data,\r\n      });\r\n    },\r\n  };\r\n  function createWorker(fn) {\r\n    if (window.Worker && window.Blob && _useWebWorker) {\r\n      var blob = new Blob(['var _workerSelf = self; self.onmessage = ', fn.toString()], { type: 'text/javascript' });\r\n      // var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\r\n      var url = URL.createObjectURL(blob);\r\n      return new Worker(url);\r\n    }\r\n    workerFn = fn;\r\n    return workerProxy;\r\n  }\r\n\r\n  function setupWorker() {\r\n    if (!workerInstance) {\r\n      workerInstance = createWorker(function workerStart(e) {\r\n        /* exported dataManager */\r\n\r\n        function dataFunctionManager() {\r\n          // var tCanvasHelper = createTag('canvas').getContext('2d');\r\n\r\n          function completeLayers(layers, comps) {\r\n            var layerData;\r\n            var i;\r\n            var len = layers.length;\r\n            var j;\r\n            var jLen;\r\n            var k;\r\n            var kLen;\r\n            for (i = 0; i < len; i += 1) {\r\n              layerData = layers[i];\r\n              if (('ks' in layerData) && !layerData.completed) {\r\n                layerData.completed = true;\r\n                if (layerData.tt) {\r\n                  layers[i - 1].td = layerData.tt;\r\n                }\r\n                if (layerData.hasMask) {\r\n                  var maskProps = layerData.masksProperties;\r\n                  jLen = maskProps.length;\r\n                  for (j = 0; j < jLen; j += 1) {\r\n                    if (maskProps[j].pt.k.i) {\r\n                      convertPathsToAbsoluteValues(maskProps[j].pt.k);\r\n                    } else {\r\n                      kLen = maskProps[j].pt.k.length;\r\n                      for (k = 0; k < kLen; k += 1) {\r\n                        if (maskProps[j].pt.k[k].s) {\r\n                          convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\r\n                        }\r\n                        if (maskProps[j].pt.k[k].e) {\r\n                          convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n                if (layerData.ty === 0) {\r\n                  layerData.layers = findCompLayers(layerData.refId, comps);\r\n                  completeLayers(layerData.layers, comps);\r\n                } else if (layerData.ty === 4) {\r\n                  completeShapes(layerData.shapes);\r\n                } else if (layerData.ty === 5) {\r\n                  completeText(layerData);\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          function findCompLayers(id, comps) {\r\n            var i = 0;\r\n            var len = comps.length;\r\n            while (i < len) {\r\n              if (comps[i].id === id) {\r\n                if (!comps[i].layers.__used) {\r\n                  comps[i].layers.__used = true;\r\n                  return comps[i].layers;\r\n                }\r\n                return JSON.parse(JSON.stringify(comps[i].layers));\r\n              }\r\n              i += 1;\r\n            }\r\n            return null;\r\n          }\r\n\r\n          function completeShapes(arr) {\r\n            var i;\r\n            var len = arr.length;\r\n            var j;\r\n            var jLen;\r\n            for (i = len - 1; i >= 0; i -= 1) {\r\n              if (arr[i].ty === 'sh') {\r\n                if (arr[i].ks.k.i) {\r\n                  convertPathsToAbsoluteValues(arr[i].ks.k);\r\n                } else {\r\n                  jLen = arr[i].ks.k.length;\r\n                  for (j = 0; j < jLen; j += 1) {\r\n                    if (arr[i].ks.k[j].s) {\r\n                      convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\r\n                    }\r\n                    if (arr[i].ks.k[j].e) {\r\n                      convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\r\n                    }\r\n                  }\r\n                }\r\n              } else if (arr[i].ty === 'gr') {\r\n                completeShapes(arr[i].it);\r\n              }\r\n            }\r\n          }\r\n\r\n          function convertPathsToAbsoluteValues(path) {\r\n            var i;\r\n            var len = path.i.length;\r\n            for (i = 0; i < len; i += 1) {\r\n              path.i[i][0] += path.v[i][0];\r\n              path.i[i][1] += path.v[i][1];\r\n              path.o[i][0] += path.v[i][0];\r\n              path.o[i][1] += path.v[i][1];\r\n            }\r\n          }\r\n\r\n          function checkVersion(minimum, animVersionString) {\r\n            var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\r\n            if (minimum[0] > animVersion[0]) {\r\n              return true;\r\n            } if (animVersion[0] > minimum[0]) {\r\n              return false;\r\n            }\r\n            if (minimum[1] > animVersion[1]) {\r\n              return true;\r\n            } if (animVersion[1] > minimum[1]) {\r\n              return false;\r\n            }\r\n            if (minimum[2] > animVersion[2]) {\r\n              return true;\r\n            } if (animVersion[2] > minimum[2]) {\r\n              return false;\r\n            }\r\n            return null;\r\n          }\r\n\r\n          var checkText = (function () {\r\n            var minimumVersion = [4, 4, 14];\r\n\r\n            function updateTextLayer(textLayer) {\r\n              var documentData = textLayer.t.d;\r\n              textLayer.t.d = {\r\n                k: [\r\n                  {\r\n                    s: documentData,\r\n                    t: 0,\r\n                  },\r\n                ],\r\n              };\r\n            }\r\n\r\n            function iterateLayers(layers) {\r\n              var i;\r\n              var len = layers.length;\r\n              for (i = 0; i < len; i += 1) {\r\n                if (layers[i].ty === 5) {\r\n                  updateTextLayer(layers[i]);\r\n                }\r\n              }\r\n            }\r\n\r\n            return function (animationData) {\r\n              if (checkVersion(minimumVersion, animationData.v)) {\r\n                iterateLayers(animationData.layers);\r\n                if (animationData.assets) {\r\n                  var i;\r\n                  var len = animationData.assets.length;\r\n                  for (i = 0; i < len; i += 1) {\r\n                    if (animationData.assets[i].layers) {\r\n                      iterateLayers(animationData.assets[i].layers);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          var checkChars = (function () {\r\n            var minimumVersion = [4, 7, 99];\r\n            return function (animationData) {\r\n              if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\r\n                var i;\r\n                var len = animationData.chars.length;\r\n                var j;\r\n                var jLen;\r\n                var pathData;\r\n                var paths;\r\n                for (i = 0; i < len; i += 1) {\r\n                  if (animationData.chars[i].data && animationData.chars[i].data.shapes) {\r\n                    paths = animationData.chars[i].data.shapes[0].it;\r\n                    jLen = paths.length;\r\n\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      pathData = paths[j].ks.k;\r\n                      if (!pathData.__converted) {\r\n                        convertPathsToAbsoluteValues(paths[j].ks.k);\r\n                        pathData.__converted = true;\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          var checkPathProperties = (function () {\r\n            var minimumVersion = [5, 7, 15];\r\n\r\n            function updateTextLayer(textLayer) {\r\n              var pathData = textLayer.t.p;\r\n              if (typeof pathData.a === 'number') {\r\n                pathData.a = {\r\n                  a: 0,\r\n                  k: pathData.a,\r\n                };\r\n              }\r\n              if (typeof pathData.p === 'number') {\r\n                pathData.p = {\r\n                  a: 0,\r\n                  k: pathData.p,\r\n                };\r\n              }\r\n              if (typeof pathData.r === 'number') {\r\n                pathData.r = {\r\n                  a: 0,\r\n                  k: pathData.r,\r\n                };\r\n              }\r\n            }\r\n\r\n            function iterateLayers(layers) {\r\n              var i;\r\n              var len = layers.length;\r\n              for (i = 0; i < len; i += 1) {\r\n                if (layers[i].ty === 5) {\r\n                  updateTextLayer(layers[i]);\r\n                }\r\n              }\r\n            }\r\n\r\n            return function (animationData) {\r\n              if (checkVersion(minimumVersion, animationData.v)) {\r\n                iterateLayers(animationData.layers);\r\n                if (animationData.assets) {\r\n                  var i;\r\n                  var len = animationData.assets.length;\r\n                  for (i = 0; i < len; i += 1) {\r\n                    if (animationData.assets[i].layers) {\r\n                      iterateLayers(animationData.assets[i].layers);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          var checkColors = (function () {\r\n            var minimumVersion = [4, 1, 9];\r\n\r\n            function iterateShapes(shapes) {\r\n              var i;\r\n              var len = shapes.length;\r\n              var j;\r\n              var jLen;\r\n              for (i = 0; i < len; i += 1) {\r\n                if (shapes[i].ty === 'gr') {\r\n                  iterateShapes(shapes[i].it);\r\n                } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\r\n                  if (shapes[i].c.k && shapes[i].c.k[0].i) {\r\n                    jLen = shapes[i].c.k.length;\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      if (shapes[i].c.k[j].s) {\r\n                        shapes[i].c.k[j].s[0] /= 255;\r\n                        shapes[i].c.k[j].s[1] /= 255;\r\n                        shapes[i].c.k[j].s[2] /= 255;\r\n                        shapes[i].c.k[j].s[3] /= 255;\r\n                      }\r\n                      if (shapes[i].c.k[j].e) {\r\n                        shapes[i].c.k[j].e[0] /= 255;\r\n                        shapes[i].c.k[j].e[1] /= 255;\r\n                        shapes[i].c.k[j].e[2] /= 255;\r\n                        shapes[i].c.k[j].e[3] /= 255;\r\n                      }\r\n                    }\r\n                  } else {\r\n                    shapes[i].c.k[0] /= 255;\r\n                    shapes[i].c.k[1] /= 255;\r\n                    shapes[i].c.k[2] /= 255;\r\n                    shapes[i].c.k[3] /= 255;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n\r\n            function iterateLayers(layers) {\r\n              var i;\r\n              var len = layers.length;\r\n              for (i = 0; i < len; i += 1) {\r\n                if (layers[i].ty === 4) {\r\n                  iterateShapes(layers[i].shapes);\r\n                }\r\n              }\r\n            }\r\n\r\n            return function (animationData) {\r\n              if (checkVersion(minimumVersion, animationData.v)) {\r\n                iterateLayers(animationData.layers);\r\n                if (animationData.assets) {\r\n                  var i;\r\n                  var len = animationData.assets.length;\r\n                  for (i = 0; i < len; i += 1) {\r\n                    if (animationData.assets[i].layers) {\r\n                      iterateLayers(animationData.assets[i].layers);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          var checkShapes = (function () {\r\n            var minimumVersion = [4, 4, 18];\r\n\r\n            function completeClosingShapes(arr) {\r\n              var i;\r\n              var len = arr.length;\r\n              var j;\r\n              var jLen;\r\n              for (i = len - 1; i >= 0; i -= 1) {\r\n                if (arr[i].ty === 'sh') {\r\n                  if (arr[i].ks.k.i) {\r\n                    arr[i].ks.k.c = arr[i].closed;\r\n                  } else {\r\n                    jLen = arr[i].ks.k.length;\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      if (arr[i].ks.k[j].s) {\r\n                        arr[i].ks.k[j].s[0].c = arr[i].closed;\r\n                      }\r\n                      if (arr[i].ks.k[j].e) {\r\n                        arr[i].ks.k[j].e[0].c = arr[i].closed;\r\n                      }\r\n                    }\r\n                  }\r\n                } else if (arr[i].ty === 'gr') {\r\n                  completeClosingShapes(arr[i].it);\r\n                }\r\n              }\r\n            }\r\n\r\n            function iterateLayers(layers) {\r\n              var layerData;\r\n              var i;\r\n              var len = layers.length;\r\n              var j;\r\n              var jLen;\r\n              var k;\r\n              var kLen;\r\n              for (i = 0; i < len; i += 1) {\r\n                layerData = layers[i];\r\n                if (layerData.hasMask) {\r\n                  var maskProps = layerData.masksProperties;\r\n                  jLen = maskProps.length;\r\n                  for (j = 0; j < jLen; j += 1) {\r\n                    if (maskProps[j].pt.k.i) {\r\n                      maskProps[j].pt.k.c = maskProps[j].cl;\r\n                    } else {\r\n                      kLen = maskProps[j].pt.k.length;\r\n                      for (k = 0; k < kLen; k += 1) {\r\n                        if (maskProps[j].pt.k[k].s) {\r\n                          maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\r\n                        }\r\n                        if (maskProps[j].pt.k[k].e) {\r\n                          maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n                if (layerData.ty === 4) {\r\n                  completeClosingShapes(layerData.shapes);\r\n                }\r\n              }\r\n            }\r\n\r\n            return function (animationData) {\r\n              if (checkVersion(minimumVersion, animationData.v)) {\r\n                iterateLayers(animationData.layers);\r\n                if (animationData.assets) {\r\n                  var i;\r\n                  var len = animationData.assets.length;\r\n                  for (i = 0; i < len; i += 1) {\r\n                    if (animationData.assets[i].layers) {\r\n                      iterateLayers(animationData.assets[i].layers);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          function completeData(animationData) {\r\n            if (animationData.__complete) {\r\n              return;\r\n            }\r\n            checkColors(animationData);\r\n            checkText(animationData);\r\n            checkChars(animationData);\r\n            checkPathProperties(animationData);\r\n            checkShapes(animationData);\r\n            completeLayers(animationData.layers, animationData.assets);\r\n            animationData.__complete = true;\r\n          }\r\n\r\n          function completeText(data) {\r\n            if (data.t.a.length === 0 && !('m' in data.t.p)) {\r\n              data.singleShape = true;\r\n            }\r\n          }\r\n\r\n          var moduleOb = {};\r\n          moduleOb.completeData = completeData;\r\n          moduleOb.checkColors = checkColors;\r\n          moduleOb.checkChars = checkChars;\r\n          moduleOb.checkPathProperties = checkPathProperties;\r\n          moduleOb.checkShapes = checkShapes;\r\n          moduleOb.completeLayers = completeLayers;\r\n\r\n          return moduleOb;\r\n        }\r\n        if (!_workerSelf.dataManager) {\r\n          _workerSelf.dataManager = dataFunctionManager();\r\n        }\r\n\r\n        /* exported assetLoader */\r\n        if (!_workerSelf.assetLoader) {\r\n          _workerSelf.assetLoader = (function () {\r\n            function formatResponse(xhr) {\r\n              // using typeof doubles the time of execution of this method,\r\n              // so if available, it's better to use the header to validate the type\r\n              var contentTypeHeader = xhr.getResponseHeader('content-type');\r\n              if (contentTypeHeader && xhr.responseType === 'json' && contentTypeHeader.indexOf('json') !== -1) {\r\n                return xhr.response;\r\n              }\r\n              if (xhr.response && typeof xhr.response === 'object') {\r\n                return xhr.response;\r\n              } if (xhr.response && typeof xhr.response === 'string') {\r\n                return JSON.parse(xhr.response);\r\n              } if (xhr.responseText) {\r\n                return JSON.parse(xhr.responseText);\r\n              }\r\n              return null;\r\n            }\r\n\r\n            function loadAsset(path, fullPath, callback, errorCallback) {\r\n              var response;\r\n              var xhr = new XMLHttpRequest();\r\n              // set responseType after calling open or IE will break.\r\n              try {\r\n                // This crashes on Android WebView prior to KitKat\r\n                xhr.responseType = 'json';\r\n              } catch (err) {} // eslint-disable-line no-empty\r\n              xhr.onreadystatechange = function () {\r\n                if (xhr.readyState === 4) {\r\n                  if (xhr.status === 200) {\r\n                    response = formatResponse(xhr);\r\n                    callback(response);\r\n                  } else {\r\n                    try {\r\n                      response = formatResponse(xhr);\r\n                      callback(response);\r\n                    } catch (err) {\r\n                      if (errorCallback) {\r\n                        errorCallback(err);\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              };\r\n              try {\r\n                xhr.open('GET', path, true);\r\n              } catch (error) {\r\n                xhr.open('GET', fullPath + '/' + path, true);\r\n              }\r\n              xhr.send();\r\n            }\r\n            return {\r\n              load: loadAsset,\r\n            };\r\n          }());\r\n        }\r\n\r\n        if (e.data.type === 'loadAnimation') {\r\n          _workerSelf.assetLoader.load(\r\n            e.data.path,\r\n            e.data.fullPath,\r\n            function (data) {\r\n              _workerSelf.dataManager.completeData(data);\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                payload: data,\r\n                status: 'success',\r\n              });\r\n            },\r\n            function () {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                status: 'error',\r\n              });\r\n            }\r\n          );\r\n        } else if (e.data.type === 'complete') {\r\n          var animation = e.data.animation;\r\n          _workerSelf.dataManager.completeData(animation);\r\n          _workerSelf.postMessage({\r\n            id: e.data.id,\r\n            payload: animation,\r\n            status: 'success',\r\n          });\r\n        } else if (e.data.type === 'loadData') {\r\n          _workerSelf.assetLoader.load(\r\n            e.data.path,\r\n            e.data.fullPath,\r\n            function (data) {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                payload: data,\r\n                status: 'success',\r\n              });\r\n            },\r\n            function () {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                status: 'error',\r\n              });\r\n            }\r\n          );\r\n        }\r\n      });\r\n\r\n      workerInstance.onmessage = function (event) {\r\n        var data = event.data;\r\n        var id = data.id;\r\n        var process = processes[id];\r\n        processes[id] = null;\r\n        if (data.status === 'success') {\r\n          process.onComplete(data.payload);\r\n        } else if (process.onError) {\r\n          process.onError();\r\n        }\r\n      };\r\n    }\r\n  }\r\n\r\n  function createProcess(onComplete, onError) {\r\n    _counterId += 1;\r\n    var id = 'processId_' + _counterId;\r\n    processes[id] = {\r\n      onComplete: onComplete,\r\n      onError: onError,\r\n    };\r\n    return id;\r\n  }\r\n\r\n  function loadAnimation(path, onComplete, onError) {\r\n    setupWorker();\r\n    var processId = createProcess(onComplete, onError);\r\n    workerInstance.postMessage({\r\n      type: 'loadAnimation',\r\n      path: path,\r\n      fullPath: window.location.origin + window.location.pathname,\r\n      id: processId,\r\n    });\r\n  }\r\n\r\n  function loadData(path, onComplete, onError) {\r\n    setupWorker();\r\n    var processId = createProcess(onComplete, onError);\r\n    workerInstance.postMessage({\r\n      type: 'loadData',\r\n      path: path,\r\n      fullPath: window.location.origin + window.location.pathname,\r\n      id: processId,\r\n    });\r\n  }\r\n\r\n  function completeAnimation(anim, onComplete, onError) {\r\n    setupWorker();\r\n    var processId = createProcess(onComplete, onError);\r\n    workerInstance.postMessage({\r\n      type: 'complete',\r\n      animation: anim,\r\n      id: processId,\r\n    });\r\n  }\r\n\r\n  return {\r\n    loadAnimation: loadAnimation,\r\n    loadData: loadData,\r\n    completeAnimation: completeAnimation,\r\n  };\r\n}());\r\n\r\n/* exported getFontProperties */\r\n\r\nfunction getFontProperties(fontData) {\r\n  var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\r\n\r\n  var fWeight = 'normal'; var\r\n    fStyle = 'normal';\r\n  var len = styles.length;\r\n  var styleName;\r\n  for (var i = 0; i < len; i += 1) {\r\n    styleName = styles[i].toLowerCase();\r\n    switch (styleName) {\r\n      case 'italic':\r\n        fStyle = 'italic';\r\n        break;\r\n      case 'bold':\r\n        fWeight = '700';\r\n        break;\r\n      case 'black':\r\n        fWeight = '900';\r\n        break;\r\n      case 'medium':\r\n        fWeight = '500';\r\n        break;\r\n      case 'regular':\r\n      case 'normal':\r\n        fWeight = '400';\r\n        break;\r\n      case 'light':\r\n      case 'thin':\r\n        fWeight = '200';\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  return {\r\n    style: fStyle,\r\n    weight: fontData.fWeight || fWeight,\r\n  };\r\n}\r\n\r\n/* global createNS, createTag, getFontProperties */\r\n/* exported FontManager */\r\n\r\nvar FontManager = (function () {\r\n  var maxWaitingTime = 5000;\r\n  var emptyChar = {\r\n    w: 0,\r\n    size: 0,\r\n    shapes: [],\r\n  };\r\n  var combinedCharacters = [];\r\n  // Hindi characters\r\n  combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366,\r\n    2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379,\r\n    2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\r\n\r\n  var surrogateModifiers = [\r\n    'd83cdffb',\r\n    'd83cdffc',\r\n    'd83cdffd',\r\n    'd83cdffe',\r\n    'd83cdfff',\r\n  ];\r\n\r\n  var zeroWidthJoiner = [65039, 8205];\r\n\r\n  function trimFontOptions(font) {\r\n    var familyArray = font.split(',');\r\n    var i;\r\n    var len = familyArray.length;\r\n    var enabledFamilies = [];\r\n    for (i = 0; i < len; i += 1) {\r\n      if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\r\n        enabledFamilies.push(familyArray[i]);\r\n      }\r\n    }\r\n    return enabledFamilies.join(',');\r\n  }\r\n\r\n  function setUpNode(font, family) {\r\n    var parentNode = createTag('span');\r\n    // Node is invisible to screen readers.\r\n    parentNode.setAttribute('aria-hidden', true);\r\n    parentNode.style.fontFamily = family;\r\n    var node = createTag('span');\r\n    // Characters that vary significantly among different fonts\r\n    node.innerText = 'giItT1WQy@!-/#';\r\n    // Visible - so we can measure it - but not on the screen\r\n    parentNode.style.position = 'absolute';\r\n    parentNode.style.left = '-10000px';\r\n    parentNode.style.top = '-10000px';\r\n    // Large font size makes even subtle changes obvious\r\n    parentNode.style.fontSize = '300px';\r\n    // Reset any font properties\r\n    parentNode.style.fontVariant = 'normal';\r\n    parentNode.style.fontStyle = 'normal';\r\n    parentNode.style.fontWeight = 'normal';\r\n    parentNode.style.letterSpacing = '0';\r\n    parentNode.appendChild(node);\r\n    document.body.appendChild(parentNode);\r\n\r\n    // Remember width with no applied web font\r\n    var width = node.offsetWidth;\r\n    node.style.fontFamily = trimFontOptions(font) + ', ' + family;\r\n    return { node: node, w: width, parent: parentNode };\r\n  }\r\n\r\n  function checkLoadedFonts() {\r\n    var i;\r\n    var len = this.fonts.length;\r\n    var node;\r\n    var w;\r\n    var loadedCount = len;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.fonts[i].loaded) {\r\n        loadedCount -= 1;\r\n      } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\r\n        this.fonts[i].loaded = true;\r\n      } else {\r\n        node = this.fonts[i].monoCase.node;\r\n        w = this.fonts[i].monoCase.w;\r\n        if (node.offsetWidth !== w) {\r\n          loadedCount -= 1;\r\n          this.fonts[i].loaded = true;\r\n        } else {\r\n          node = this.fonts[i].sansCase.node;\r\n          w = this.fonts[i].sansCase.w;\r\n          if (node.offsetWidth !== w) {\r\n            loadedCount -= 1;\r\n            this.fonts[i].loaded = true;\r\n          }\r\n        }\r\n        if (this.fonts[i].loaded) {\r\n          this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\r\n          this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\r\n      setTimeout(this.checkLoadedFontsBinded, 20);\r\n    } else {\r\n      setTimeout(this.setIsLoadedBinded, 10);\r\n    }\r\n  }\r\n\r\n  function createHelper(def, fontData) {\r\n    var tHelper = createNS('text');\r\n    tHelper.style.fontSize = '100px';\r\n    // tHelper.style.fontFamily = fontData.fFamily;\r\n\r\n    var fontProps = getFontProperties(fontData);\r\n    tHelper.setAttribute('font-family', fontData.fFamily);\r\n    tHelper.setAttribute('font-style', fontProps.style);\r\n    tHelper.setAttribute('font-weight', fontProps.weight);\r\n    tHelper.textContent = '1';\r\n    if (fontData.fClass) {\r\n      tHelper.style.fontFamily = 'inherit';\r\n      tHelper.setAttribute('class', fontData.fClass);\r\n    } else {\r\n      tHelper.style.fontFamily = fontData.fFamily;\r\n    }\r\n    def.appendChild(tHelper);\r\n    var tCanvasHelper = createTag('canvas').getContext('2d');\r\n    tCanvasHelper.font = fontData.fWeight + ' ' + fontData.fStyle + ' 100px ' + fontData.fFamily;\r\n    // tCanvasHelper.font = ' 100px '+ fontData.fFamily;\r\n    return tHelper;\r\n  }\r\n\r\n  function addFonts(fontData, defs) {\r\n    if (!fontData) {\r\n      this.isLoaded = true;\r\n      return;\r\n    }\r\n    if (this.chars) {\r\n      this.isLoaded = true;\r\n      this.fonts = fontData.list;\r\n      return;\r\n    }\r\n\r\n    var fontArr = fontData.list;\r\n    var i;\r\n    var len = fontArr.length;\r\n    var _pendingFonts = len;\r\n    for (i = 0; i < len; i += 1) {\r\n      var shouldLoadFont = true;\r\n      var loadedSelector;\r\n      var j;\r\n      fontArr[i].loaded = false;\r\n      fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\r\n      fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\r\n      if (!fontArr[i].fPath) {\r\n        fontArr[i].loaded = true;\r\n        _pendingFonts -= 1;\r\n      } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\r\n        loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\r\n\r\n        if (loadedSelector.length > 0) {\r\n          shouldLoadFont = false;\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var s = createTag('style');\r\n          s.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          s.setAttribute('f-origin', fontArr[i].origin);\r\n          s.setAttribute('f-family', fontArr[i].fFamily);\r\n          s.type = 'text/css';\r\n          s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\r\n          defs.appendChild(s);\r\n        }\r\n      } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\r\n        loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\r\n\r\n        for (j = 0; j < loadedSelector.length; j += 1) {\r\n          if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\r\n            // Font is already loaded\r\n            shouldLoadFont = false;\r\n          }\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var l = createTag('link');\r\n          l.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          l.setAttribute('f-origin', fontArr[i].origin);\r\n          l.type = 'text/css';\r\n          l.rel = 'stylesheet';\r\n          l.href = fontArr[i].fPath;\r\n          document.body.appendChild(l);\r\n        }\r\n      } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\r\n        loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\r\n\r\n        for (j = 0; j < loadedSelector.length; j += 1) {\r\n          if (fontArr[i].fPath === loadedSelector[j].src) {\r\n            // Font is already loaded\r\n            shouldLoadFont = false;\r\n          }\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var sc = createTag('link');\r\n          sc.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          sc.setAttribute('f-origin', fontArr[i].origin);\r\n          sc.setAttribute('rel', 'stylesheet');\r\n          sc.setAttribute('href', fontArr[i].fPath);\r\n          defs.appendChild(sc);\r\n        }\r\n      }\r\n      fontArr[i].helper = createHelper(defs, fontArr[i]);\r\n      fontArr[i].cache = {};\r\n      this.fonts.push(fontArr[i]);\r\n    }\r\n    if (_pendingFonts === 0) {\r\n      this.isLoaded = true;\r\n    } else {\r\n      // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\r\n      // Adding this timeout seems to fix it\r\n      setTimeout(this.checkLoadedFonts.bind(this), 100);\r\n    }\r\n  }\r\n\r\n  function addChars(chars) {\r\n    if (!chars) {\r\n      return;\r\n    }\r\n    if (!this.chars) {\r\n      this.chars = [];\r\n    }\r\n    var i;\r\n    var len = chars.length;\r\n    var j;\r\n    var jLen = this.chars.length;\r\n    var found;\r\n    for (i = 0; i < len; i += 1) {\r\n      j = 0;\r\n      found = false;\r\n      while (j < jLen) {\r\n        if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\r\n          found = true;\r\n        }\r\n        j += 1;\r\n      }\r\n      if (!found) {\r\n        this.chars.push(chars[i]);\r\n        jLen += 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  function getCharData(char, style, font) {\r\n    var i = 0;\r\n    var len = this.chars.length;\r\n    while (i < len) {\r\n      if (this.chars[i].ch === char && this.chars[i].style === style && this.chars[i].fFamily === font) {\r\n        return this.chars[i];\r\n      }\r\n      i += 1;\r\n    }\r\n    if (((typeof char === 'string' && char.charCodeAt(0) !== 13) || !char)\r\n            && console\r\n            && console.warn // eslint-disable-line no-console\r\n            && !this._warned\r\n    ) {\r\n      this._warned = true;\r\n      console.warn('Missing character from exported characters list: ', char, style, font); // eslint-disable-line no-console\r\n    }\r\n    return emptyChar;\r\n  }\r\n\r\n  function measureText(char, fontName, size) {\r\n    var fontData = this.getFontByName(fontName);\r\n    var index = char.charCodeAt(0);\r\n    if (!fontData.cache[index + 1]) {\r\n      var tHelper = fontData.helper;\r\n      // Canvas version\r\n      // fontData.cache[index] = tHelper.measureText(char).width / 100;\r\n      // SVG version\r\n      // console.log(tHelper.getBBox().width)\r\n      if (char === ' ') {\r\n        tHelper.textContent = '|' + char + '|';\r\n        var doubleSize = tHelper.getComputedTextLength();\r\n        tHelper.textContent = '||';\r\n        var singleSize = tHelper.getComputedTextLength();\r\n        fontData.cache[index + 1] = (doubleSize - singleSize) / 100;\r\n      } else {\r\n        tHelper.textContent = char;\r\n        fontData.cache[index + 1] = (tHelper.getComputedTextLength()) / 100;\r\n      }\r\n    }\r\n    return fontData.cache[index + 1] * size;\r\n  }\r\n\r\n  function getFontByName(name) {\r\n    var i = 0;\r\n    var len = this.fonts.length;\r\n    while (i < len) {\r\n      if (this.fonts[i].fName === name) {\r\n        return this.fonts[i];\r\n      }\r\n      i += 1;\r\n    }\r\n    return this.fonts[0];\r\n  }\r\n\r\n  function isModifier(firstCharCode, secondCharCode) {\r\n    var sum = firstCharCode.toString(16) + secondCharCode.toString(16);\r\n    return surrogateModifiers.indexOf(sum) !== -1;\r\n  }\r\n\r\n  function isZeroWidthJoiner(firstCharCode, secondCharCode) {\r\n    if (!secondCharCode) {\r\n      return firstCharCode === zeroWidthJoiner[1];\r\n    }\r\n    return firstCharCode === zeroWidthJoiner[0] && secondCharCode === zeroWidthJoiner[1];\r\n  }\r\n\r\n  function isCombinedCharacter(char) {\r\n    return combinedCharacters.indexOf(char) !== -1;\r\n  }\r\n\r\n  function setIsLoaded() {\r\n    this.isLoaded = true;\r\n  }\r\n\r\n  var Font = function () {\r\n    this.fonts = [];\r\n    this.chars = null;\r\n    this.typekitLoaded = 0;\r\n    this.isLoaded = false;\r\n    this._warned = false;\r\n    this.initTime = Date.now();\r\n    this.setIsLoadedBinded = this.setIsLoaded.bind(this);\r\n    this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\r\n  };\r\n  Font.isModifier = isModifier;\r\n  Font.isZeroWidthJoiner = isZeroWidthJoiner;\r\n  Font.isCombinedCharacter = isCombinedCharacter;\r\n\r\n  var fontPrototype = {\r\n    addChars: addChars,\r\n    addFonts: addFonts,\r\n    getCharData: getCharData,\r\n    getFontByName: getFontByName,\r\n    measureText: measureText,\r\n    checkLoadedFonts: checkLoadedFonts,\r\n    setIsLoaded: setIsLoaded,\r\n  };\r\n\r\n  Font.prototype = fontPrototype;\r\n\r\n  return Font;\r\n}());\r\n\r\n/* global initialDefaultFrame, BezierFactory, degToRads, bez, createTypedArray */\r\n/* exported PropertyFactory */\r\n\r\nvar PropertyFactory = (function () {\r\n  var initFrame = initialDefaultFrame;\r\n  var mathAbs = Math.abs;\r\n\r\n  function interpolateValue(frameNum, caching) {\r\n    var offsetTime = this.offsetTime;\r\n    var newValue;\r\n    if (this.propType === 'multidimensional') {\r\n      newValue = createTypedArray('float32', this.pv.length);\r\n    }\r\n    var iterationIndex = caching.lastIndex;\r\n    var i = iterationIndex;\r\n    var len = this.keyframes.length - 1;\r\n    var flag = true;\r\n    var keyData;\r\n    var nextKeyData;\r\n    var keyframeMetadata;\r\n\r\n    while (flag) {\r\n      keyData = this.keyframes[i];\r\n      nextKeyData = this.keyframes[i + 1];\r\n      if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\r\n        if (keyData.h) {\r\n          keyData = nextKeyData;\r\n        }\r\n        iterationIndex = 0;\r\n        break;\r\n      }\r\n      if ((nextKeyData.t - offsetTime) > frameNum) {\r\n        iterationIndex = i;\r\n        break;\r\n      }\r\n      if (i < len - 1) {\r\n        i += 1;\r\n      } else {\r\n        iterationIndex = 0;\r\n        flag = false;\r\n      }\r\n    }\r\n    keyframeMetadata = this.keyframesMetadata[i] || {};\r\n\r\n    var k;\r\n    var kLen;\r\n    var perc;\r\n    var jLen;\r\n    var j;\r\n    var fnc;\r\n    var nextKeyTime = nextKeyData.t - offsetTime;\r\n    var keyTime = keyData.t - offsetTime;\r\n    var endValue;\r\n    if (keyData.to) {\r\n      if (!keyframeMetadata.bezierData) {\r\n        keyframeMetadata.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\r\n      }\r\n      var bezierData = keyframeMetadata.bezierData;\r\n      if (frameNum >= nextKeyTime || frameNum < keyTime) {\r\n        var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\r\n        kLen = bezierData.points[ind].point.length;\r\n        for (k = 0; k < kLen; k += 1) {\r\n          newValue[k] = bezierData.points[ind].point[k];\r\n        }\r\n        // caching._lastKeyframeIndex = -1;\r\n      } else {\r\n        if (keyframeMetadata.__fnct) {\r\n          fnc = keyframeMetadata.__fnct;\r\n        } else {\r\n          fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\r\n          keyframeMetadata.__fnct = fnc;\r\n        }\r\n        perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n        var distanceInLine = bezierData.segmentLength * perc;\r\n\r\n        var segmentPerc;\r\n        var addedLength = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastAddedLength : 0;\r\n        j = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastPoint : 0;\r\n        flag = true;\r\n        jLen = bezierData.points.length;\r\n        while (flag) {\r\n          addedLength += bezierData.points[j].partialLength;\r\n          if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\r\n            kLen = bezierData.points[j].point.length;\r\n            for (k = 0; k < kLen; k += 1) {\r\n              newValue[k] = bezierData.points[j].point[k];\r\n            }\r\n            break;\r\n          } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\r\n            segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\r\n            kLen = bezierData.points[j].point.length;\r\n            for (k = 0; k < kLen; k += 1) {\r\n              newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\r\n            }\r\n            break;\r\n          }\r\n          if (j < jLen - 1) {\r\n            j += 1;\r\n          } else {\r\n            flag = false;\r\n          }\r\n        }\r\n        caching._lastPoint = j;\r\n        caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\r\n        caching._lastKeyframeIndex = i;\r\n      }\r\n    } else {\r\n      var outX;\r\n      var outY;\r\n      var inX;\r\n      var inY;\r\n      var keyValue;\r\n      len = keyData.s.length;\r\n      endValue = nextKeyData.s || keyData.e;\r\n      if (this.sh && keyData.h !== 1) {\r\n        if (frameNum >= nextKeyTime) {\r\n          newValue[0] = endValue[0];\r\n          newValue[1] = endValue[1];\r\n          newValue[2] = endValue[2];\r\n        } else if (frameNum <= keyTime) {\r\n          newValue[0] = keyData.s[0];\r\n          newValue[1] = keyData.s[1];\r\n          newValue[2] = keyData.s[2];\r\n        } else {\r\n          var quatStart = createQuaternion(keyData.s);\r\n          var quatEnd = createQuaternion(endValue);\r\n          var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\r\n          quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\r\n        }\r\n      } else {\r\n        for (i = 0; i < len; i += 1) {\r\n          if (keyData.h !== 1) {\r\n            if (frameNum >= nextKeyTime) {\r\n              perc = 1;\r\n            } else if (frameNum < keyTime) {\r\n              perc = 0;\r\n            } else {\r\n              if (keyData.o.x.constructor === Array) {\r\n                if (!keyframeMetadata.__fnct) {\r\n                  keyframeMetadata.__fnct = [];\r\n                }\r\n                if (!keyframeMetadata.__fnct[i]) {\r\n                  outX = keyData.o.x[i] === undefined ? keyData.o.x[0] : keyData.o.x[i];\r\n                  outY = keyData.o.y[i] === undefined ? keyData.o.y[0] : keyData.o.y[i];\r\n                  inX = keyData.i.x[i] === undefined ? keyData.i.x[0] : keyData.i.x[i];\r\n                  inY = keyData.i.y[i] === undefined ? keyData.i.y[0] : keyData.i.y[i];\r\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                  keyframeMetadata.__fnct[i] = fnc;\r\n                } else {\r\n                  fnc = keyframeMetadata.__fnct[i];\r\n                }\r\n              } else if (!keyframeMetadata.__fnct) {\r\n                outX = keyData.o.x;\r\n                outY = keyData.o.y;\r\n                inX = keyData.i.x;\r\n                inY = keyData.i.y;\r\n                fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                keyData.keyframeMetadata = fnc;\r\n              } else {\r\n                fnc = keyframeMetadata.__fnct;\r\n              }\r\n              perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n            }\r\n          }\r\n\r\n          endValue = nextKeyData.s || keyData.e;\r\n          keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\r\n\r\n          if (this.propType === 'multidimensional') {\r\n            newValue[i] = keyValue;\r\n          } else {\r\n            newValue = keyValue;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    caching.lastIndex = iterationIndex;\r\n    return newValue;\r\n  }\r\n\r\n  // based on @Toji's https://github.com/toji/gl-matrix/\r\n  function slerp(a, b, t) {\r\n    var out = [];\r\n    var ax = a[0];\r\n    var ay = a[1];\r\n    var az = a[2];\r\n    var aw = a[3];\r\n    var bx = b[0];\r\n    var by = b[1];\r\n    var bz = b[2];\r\n    var bw = b[3];\r\n\r\n    var omega;\r\n    var cosom;\r\n    var sinom;\r\n    var scale0;\r\n    var scale1;\r\n\r\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\r\n    if (cosom < 0.0) {\r\n      cosom = -cosom;\r\n      bx = -bx;\r\n      by = -by;\r\n      bz = -bz;\r\n      bw = -bw;\r\n    }\r\n    if ((1.0 - cosom) > 0.000001) {\r\n      omega = Math.acos(cosom);\r\n      sinom = Math.sin(omega);\r\n      scale0 = Math.sin((1.0 - t) * omega) / sinom;\r\n      scale1 = Math.sin(t * omega) / sinom;\r\n    } else {\r\n      scale0 = 1.0 - t;\r\n      scale1 = t;\r\n    }\r\n    out[0] = scale0 * ax + scale1 * bx;\r\n    out[1] = scale0 * ay + scale1 * by;\r\n    out[2] = scale0 * az + scale1 * bz;\r\n    out[3] = scale0 * aw + scale1 * bw;\r\n\r\n    return out;\r\n  }\r\n\r\n  function quaternionToEuler(out, quat) {\r\n    var qx = quat[0];\r\n    var qy = quat[1];\r\n    var qz = quat[2];\r\n    var qw = quat[3];\r\n    var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\r\n    var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\r\n    var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\r\n    out[0] = heading / degToRads;\r\n    out[1] = attitude / degToRads;\r\n    out[2] = bank / degToRads;\r\n  }\r\n\r\n  function createQuaternion(values) {\r\n    var heading = values[0] * degToRads;\r\n    var attitude = values[1] * degToRads;\r\n    var bank = values[2] * degToRads;\r\n    var c1 = Math.cos(heading / 2);\r\n    var c2 = Math.cos(attitude / 2);\r\n    var c3 = Math.cos(bank / 2);\r\n    var s1 = Math.sin(heading / 2);\r\n    var s2 = Math.sin(attitude / 2);\r\n    var s3 = Math.sin(bank / 2);\r\n    var w = c1 * c2 * c3 - s1 * s2 * s3;\r\n    var x = s1 * s2 * c3 + c1 * c2 * s3;\r\n    var y = s1 * c2 * c3 + c1 * s2 * s3;\r\n    var z = c1 * s2 * c3 - s1 * c2 * s3;\r\n\r\n    return [x, y, z, w];\r\n  }\r\n\r\n  function getValueAtCurrentTime() {\r\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n    var initTime = this.keyframes[0].t - this.offsetTime;\r\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n    if (!(frameNum === this._caching.lastFrame || (this._caching.lastFrame !== initFrame && ((this._caching.lastFrame >= endTime && frameNum >= endTime) || (this._caching.lastFrame < initTime && frameNum < initTime))))) {\r\n      if (this._caching.lastFrame >= frameNum) {\r\n        this._caching._lastKeyframeIndex = -1;\r\n        this._caching.lastIndex = 0;\r\n      }\r\n\r\n      var renderResult = this.interpolateValue(frameNum, this._caching);\r\n      this.pv = renderResult;\r\n    }\r\n    this._caching.lastFrame = frameNum;\r\n    return this.pv;\r\n  }\r\n\r\n  function setVValue(val) {\r\n    var multipliedValue;\r\n    if (this.propType === 'unidimensional') {\r\n      multipliedValue = val * this.mult;\r\n      if (mathAbs(this.v - multipliedValue) > 0.00001) {\r\n        this.v = multipliedValue;\r\n        this._mdf = true;\r\n      }\r\n    } else {\r\n      var i = 0;\r\n      var len = this.v.length;\r\n      while (i < len) {\r\n        multipliedValue = val[i] * this.mult;\r\n        if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\r\n          this.v[i] = multipliedValue;\r\n          this._mdf = true;\r\n        }\r\n        i += 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  function processEffectsSequence() {\r\n    if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\r\n      return;\r\n    }\r\n    if (this.lock) {\r\n      this.setVValue(this.pv);\r\n      return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = this._isFirstFrame;\r\n    var i;\r\n    var len = this.effectsSequence.length;\r\n    var finalValue = this.kf ? this.pv : this.data.k;\r\n    for (i = 0; i < len; i += 1) {\r\n      finalValue = this.effectsSequence[i](finalValue);\r\n    }\r\n    this.setVValue(finalValue);\r\n    this._isFirstFrame = false;\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function addEffect(effectFunction) {\r\n    this.effectsSequence.push(effectFunction);\r\n    this.container.addDynamicProperty(this);\r\n  }\r\n\r\n  function ValueProperty(elem, data, mult, container) {\r\n    this.propType = 'unidimensional';\r\n    this.mult = mult || 1;\r\n    this.data = data;\r\n    this.v = mult ? data.k * mult : data.k;\r\n    this.pv = data.k;\r\n    this._mdf = false;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this.vel = 0;\r\n    this.effectsSequence = [];\r\n    this._isFirstFrame = true;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function MultiDimensionalProperty(elem, data, mult, container) {\r\n    this.propType = 'multidimensional';\r\n    this.mult = mult || 1;\r\n    this.data = data;\r\n    this._mdf = false;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this.frameId = -1;\r\n    var i;\r\n    var len = data.k.length;\r\n    this.v = createTypedArray('float32', len);\r\n    this.pv = createTypedArray('float32', len);\r\n    this.vel = createTypedArray('float32', len);\r\n    for (i = 0; i < len; i += 1) {\r\n      this.v[i] = data.k[i] * this.mult;\r\n      this.pv[i] = data.k[i];\r\n    }\r\n    this._isFirstFrame = true;\r\n    this.effectsSequence = [];\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function KeyframedValueProperty(elem, data, mult, container) {\r\n    this.propType = 'unidimensional';\r\n    this.keyframes = data.k;\r\n    this.keyframesMetadata = [];\r\n    this.offsetTime = elem.data.st;\r\n    this.frameId = -1;\r\n    this._caching = {\r\n      lastFrame: initFrame, lastIndex: 0, value: 0, _lastKeyframeIndex: -1,\r\n    };\r\n    this.k = true;\r\n    this.kf = true;\r\n    this.data = data;\r\n    this.mult = mult || 1;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.v = initFrame;\r\n    this.pv = initFrame;\r\n    this._isFirstFrame = true;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.interpolateValue = interpolateValue;\r\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function KeyframedMultidimensionalProperty(elem, data, mult, container) {\r\n    this.propType = 'multidimensional';\r\n    var i;\r\n    var len = data.k.length;\r\n    var s;\r\n    var e;\r\n    var to;\r\n    var ti;\r\n    for (i = 0; i < len - 1; i += 1) {\r\n      if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\r\n        s = data.k[i].s;\r\n        e = data.k[i + 1].s;\r\n        to = data.k[i].to;\r\n        ti = data.k[i].ti;\r\n        if ((s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1])) || (s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2]))) {\r\n          data.k[i].to = null;\r\n          data.k[i].ti = null;\r\n        }\r\n        if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\r\n          if (s.length === 2 || (s[2] === e[2] && to[2] === 0 && ti[2] === 0)) {\r\n            data.k[i].to = null;\r\n            data.k[i].ti = null;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n    this.data = data;\r\n    this.keyframes = data.k;\r\n    this.keyframesMetadata = [];\r\n    this.offsetTime = elem.data.st;\r\n    this.k = true;\r\n    this.kf = true;\r\n    this._isFirstFrame = true;\r\n    this.mult = mult || 1;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.interpolateValue = interpolateValue;\r\n    this.frameId = -1;\r\n    var arrLen = data.k[0].s.length;\r\n    this.v = createTypedArray('float32', arrLen);\r\n    this.pv = createTypedArray('float32', arrLen);\r\n    for (i = 0; i < arrLen; i += 1) {\r\n      this.v[i] = initFrame;\r\n      this.pv[i] = initFrame;\r\n    }\r\n    this._caching = { lastFrame: initFrame, lastIndex: 0, value: createTypedArray('float32', arrLen) };\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function getProp(elem, data, type, mult, container) {\r\n    var p;\r\n    if (!data.k.length) {\r\n      p = new ValueProperty(elem, data, mult, container);\r\n    } else if (typeof (data.k[0]) === 'number') {\r\n      p = new MultiDimensionalProperty(elem, data, mult, container);\r\n    } else {\r\n      switch (type) {\r\n        case 0:\r\n          p = new KeyframedValueProperty(elem, data, mult, container);\r\n          break;\r\n        case 1:\r\n          p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    if (p.effectsSequence.length) {\r\n      container.addDynamicProperty(p);\r\n    }\r\n    return p;\r\n  }\r\n\r\n  var ob = {\r\n    getProp: getProp,\r\n  };\r\n  return ob;\r\n}());\r\n\r\n/* global Matrix, degToRads, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n/* exported TransformPropertyFactory */\r\n\r\nvar TransformPropertyFactory = (function () {\r\n  var defaultVector = [0, 0];\r\n\r\n  function applyToMatrix(mat) {\r\n    var _mdf = this._mdf;\r\n    this.iterateDynamicProperties();\r\n    this._mdf = this._mdf || _mdf;\r\n    if (this.a) {\r\n      mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n    }\r\n    if (this.s) {\r\n      mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n    }\r\n    if (this.sk) {\r\n      mat.skewFromAxis(-this.sk.v, this.sa.v);\r\n    }\r\n    if (this.r) {\r\n      mat.rotate(-this.r.v);\r\n    } else {\r\n      mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n        .rotateY(this.or.v[1])\r\n        .rotateX(this.or.v[0]);\r\n    }\r\n    if (this.data.p.s) {\r\n      if (this.data.p.z) {\r\n        mat.translate(this.px.v, this.py.v, -this.pz.v);\r\n      } else {\r\n        mat.translate(this.px.v, this.py.v, 0);\r\n      }\r\n    } else {\r\n      mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n    }\r\n  }\r\n  function processKeys(forceRender) {\r\n    if (this.elem.globalData.frameId === this.frameId) {\r\n      return;\r\n    }\r\n    if (this._isDirty) {\r\n      this.precalculateMatrix();\r\n      this._isDirty = false;\r\n    }\r\n\r\n    this.iterateDynamicProperties();\r\n\r\n    if (this._mdf || forceRender) {\r\n      var frameRate;\r\n      this.v.cloneFromProps(this.pre.props);\r\n      if (this.appliedTransformations < 1) {\r\n        this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n      }\r\n      if (this.appliedTransformations < 2) {\r\n        this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n      }\r\n      if (this.sk && this.appliedTransformations < 3) {\r\n        this.v.skewFromAxis(-this.sk.v, this.sa.v);\r\n      }\r\n      if (this.r && this.appliedTransformations < 4) {\r\n        this.v.rotate(-this.r.v);\r\n      } else if (!this.r && this.appliedTransformations < 4) {\r\n        this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n          .rotateY(this.or.v[1])\r\n          .rotateX(this.or.v[0]);\r\n      }\r\n      if (this.autoOriented) {\r\n        var v1;\r\n        var v2;\r\n        frameRate = this.elem.globalData.frameRate;\r\n        if (this.p && this.p.keyframes && this.p.getValueAtTime) {\r\n          if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\r\n            v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\r\n          } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\r\n            v1 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t / frameRate), 0);\r\n            v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\r\n          } else {\r\n            v1 = this.p.pv;\r\n            v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\r\n          }\r\n        } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\r\n          v1 = [];\r\n          v2 = [];\r\n          var px = this.px;\r\n          var py = this.py;\r\n          if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\r\n            v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v2[0] = px.getValueAtTime((px.keyframes[0].t) / frameRate, 0);\r\n            v2[1] = py.getValueAtTime((py.keyframes[0].t) / frameRate, 0);\r\n          } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\r\n            v1[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t / frameRate), 0);\r\n            v1[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t / frameRate), 0);\r\n            v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\r\n            v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\r\n          } else {\r\n            v1 = [px.pv, py.pv];\r\n            v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\r\n            v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\r\n          }\r\n        } else {\r\n          v2 = defaultVector;\r\n          v1 = v2;\r\n        }\r\n        this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\r\n      }\r\n      if (this.data.p && this.data.p.s) {\r\n        if (this.data.p.z) {\r\n          this.v.translate(this.px.v, this.py.v, -this.pz.v);\r\n        } else {\r\n          this.v.translate(this.px.v, this.py.v, 0);\r\n        }\r\n      } else {\r\n        this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n      }\r\n    }\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function precalculateMatrix() {\r\n    if (!this.a.k) {\r\n      this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n      this.appliedTransformations = 1;\r\n    } else {\r\n      return;\r\n    }\r\n    if (!this.s.effectsSequence.length) {\r\n      this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n      this.appliedTransformations = 2;\r\n    } else {\r\n      return;\r\n    }\r\n    if (this.sk) {\r\n      if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\r\n        this.pre.skewFromAxis(-this.sk.v, this.sa.v);\r\n        this.appliedTransformations = 3;\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n    if (this.r) {\r\n      if (!this.r.effectsSequence.length) {\r\n        this.pre.rotate(-this.r.v);\r\n        this.appliedTransformations = 4;\r\n      }\r\n    } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\r\n      this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n        .rotateY(this.or.v[1])\r\n        .rotateX(this.or.v[0]);\r\n      this.appliedTransformations = 4;\r\n    }\r\n  }\r\n\r\n  function autoOrient() {\r\n    //\r\n    // var prevP = this.getValueAtTime();\r\n  }\r\n\r\n  function addDynamicProperty(prop) {\r\n    this._addDynamicProperty(prop);\r\n    this.elem.addDynamicProperty(prop);\r\n    this._isDirty = true;\r\n  }\r\n\r\n  function TransformProperty(elem, data, container) {\r\n    this.elem = elem;\r\n    this.frameId = -1;\r\n    this.propType = 'transform';\r\n    this.data = data;\r\n    this.v = new Matrix();\r\n    // Precalculated matrix with non animated properties\r\n    this.pre = new Matrix();\r\n    this.appliedTransformations = 0;\r\n    this.initDynamicPropertyContainer(container || elem);\r\n    if (data.p && data.p.s) {\r\n      this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\r\n      this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\r\n      if (data.p.z) {\r\n        this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\r\n      }\r\n    } else {\r\n      this.p = PropertyFactory.getProp(elem, data.p || { k: [0, 0, 0] }, 1, 0, this);\r\n    }\r\n    if (data.rx) {\r\n      this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\r\n      this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\r\n      this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\r\n      if (data.or.k[0].ti) {\r\n        var i;\r\n        var len = data.or.k.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          data.or.k[i].to = null;\r\n          data.or.k[i].ti = null;\r\n        }\r\n      }\r\n      this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this);\r\n      // sh Indicates it needs to be capped between -180 and 180\r\n      this.or.sh = true;\r\n    } else {\r\n      this.r = PropertyFactory.getProp(elem, data.r || { k: 0 }, 0, degToRads, this);\r\n    }\r\n    if (data.sk) {\r\n      this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\r\n      this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\r\n    }\r\n    this.a = PropertyFactory.getProp(elem, data.a || { k: [0, 0, 0] }, 1, 0, this);\r\n    this.s = PropertyFactory.getProp(elem, data.s || { k: [100, 100, 100] }, 1, 0.01, this);\r\n    // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\r\n    if (data.o) {\r\n      this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\r\n    } else {\r\n      this.o = { _mdf: false, v: 1 };\r\n    }\r\n    this._isDirty = true;\r\n    if (!this.dynamicProperties.length) {\r\n      this.getValue(true);\r\n    }\r\n  }\r\n\r\n  TransformProperty.prototype = {\r\n    applyToMatrix: applyToMatrix,\r\n    getValue: processKeys,\r\n    precalculateMatrix: precalculateMatrix,\r\n    autoOrient: autoOrient,\r\n  };\r\n\r\n  extendPrototype([DynamicPropertyContainer], TransformProperty);\r\n  TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\r\n  TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\r\n\r\n  function getTransformProperty(elem, data, container) {\r\n    return new TransformProperty(elem, data, container);\r\n  }\r\n\r\n  return {\r\n    getTransformProperty: getTransformProperty,\r\n  };\r\n}());\r\n\r\n/* global createSizedArray, createSizedArray, pointPool */\r\n\r\nfunction ShapePath() {\r\n  this.c = false;\r\n  this._length = 0;\r\n  this._maxLength = 8;\r\n  this.v = createSizedArray(this._maxLength);\r\n  this.o = createSizedArray(this._maxLength);\r\n  this.i = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapePath.prototype.setPathData = function (closed, len) {\r\n  this.c = closed;\r\n  this.setLength(len);\r\n  var i = 0;\r\n  while (i < len) {\r\n    this.v[i] = pointPool.newElement();\r\n    this.o[i] = pointPool.newElement();\r\n    this.i[i] = pointPool.newElement();\r\n    i += 1;\r\n  }\r\n};\r\n\r\nShapePath.prototype.setLength = function (len) {\r\n  while (this._maxLength < len) {\r\n    this.doubleArrayLength();\r\n  }\r\n  this._length = len;\r\n};\r\n\r\nShapePath.prototype.doubleArrayLength = function () {\r\n  this.v = this.v.concat(createSizedArray(this._maxLength));\r\n  this.i = this.i.concat(createSizedArray(this._maxLength));\r\n  this.o = this.o.concat(createSizedArray(this._maxLength));\r\n  this._maxLength *= 2;\r\n};\r\n\r\nShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\r\n  var arr;\r\n  this._length = Math.max(this._length, pos + 1);\r\n  if (this._length >= this._maxLength) {\r\n    this.doubleArrayLength();\r\n  }\r\n  switch (type) {\r\n    case 'v':\r\n      arr = this.v;\r\n      break;\r\n    case 'i':\r\n      arr = this.i;\r\n      break;\r\n    case 'o':\r\n      arr = this.o;\r\n      break;\r\n    default:\r\n      arr = [];\r\n      break;\r\n  }\r\n  if (!arr[pos] || (arr[pos] && !replace)) {\r\n    arr[pos] = pointPool.newElement();\r\n  }\r\n  arr[pos][0] = x;\r\n  arr[pos][1] = y;\r\n};\r\n\r\nShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\r\n  this.setXYAt(vX, vY, 'v', pos, replace);\r\n  this.setXYAt(oX, oY, 'o', pos, replace);\r\n  this.setXYAt(iX, iY, 'i', pos, replace);\r\n};\r\n\r\nShapePath.prototype.reverse = function () {\r\n  var newPath = new ShapePath();\r\n  newPath.setPathData(this.c, this._length);\r\n  var vertices = this.v;\r\n  var outPoints = this.o;\r\n  var inPoints = this.i;\r\n  var init = 0;\r\n  if (this.c) {\r\n    newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\r\n    init = 1;\r\n  }\r\n  var cnt = this._length - 1;\r\n  var len = this._length;\r\n\r\n  var i;\r\n  for (i = init; i < len; i += 1) {\r\n    newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\r\n    cnt -= 1;\r\n  }\r\n  return newPath;\r\n};\r\n\r\n/* global extendPrototype, roundCorner, BezierFactory, shapePool, degToRads,\r\n  shapeCollectionPool, PropertyFactory, bmMin, DynamicPropertyContainer */\r\n/* exported ShapePropertyFactory */\r\n\r\nvar ShapePropertyFactory = (function () {\r\n  var initFrame = -999999;\r\n\r\n  function interpolateShape(frameNum, previousValue, caching) {\r\n    var iterationIndex = caching.lastIndex;\r\n    var keyPropS;\r\n    var keyPropE;\r\n    var isHold;\r\n    var j;\r\n    var k;\r\n    var jLen;\r\n    var kLen;\r\n    var perc;\r\n    var vertexValue;\r\n    var kf = this.keyframes;\r\n    if (frameNum < kf[0].t - this.offsetTime) {\r\n      keyPropS = kf[0].s[0];\r\n      isHold = true;\r\n      iterationIndex = 0;\r\n    } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\r\n      keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\r\n      /* if(kf[kf.length - 1].s){\r\n                keyPropS = kf[kf.length - 1].s[0];\r\n            }else{\r\n                keyPropS = kf[kf.length - 2].e[0];\r\n            } */\r\n      isHold = true;\r\n    } else {\r\n      var i = iterationIndex;\r\n      var len = kf.length - 1;\r\n      var flag = true;\r\n      var keyData;\r\n      var nextKeyData;\r\n      var keyframeMetadata;\r\n      while (flag) {\r\n        keyData = kf[i];\r\n        nextKeyData = kf[i + 1];\r\n        if ((nextKeyData.t - this.offsetTime) > frameNum) {\r\n          break;\r\n        }\r\n        if (i < len - 1) {\r\n          i += 1;\r\n        } else {\r\n          flag = false;\r\n        }\r\n      }\r\n      keyframeMetadata = this.keyframesMetadata[i] || {};\r\n      isHold = keyData.h === 1;\r\n      iterationIndex = i;\r\n      if (!isHold) {\r\n        if (frameNum >= nextKeyData.t - this.offsetTime) {\r\n          perc = 1;\r\n        } else if (frameNum < keyData.t - this.offsetTime) {\r\n          perc = 0;\r\n        } else {\r\n          var fnc;\r\n          if (keyframeMetadata.__fnct) {\r\n            fnc = keyframeMetadata.__fnct;\r\n          } else {\r\n            fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\r\n            keyframeMetadata.__fnct = fnc;\r\n          }\r\n          perc = fnc((frameNum - (keyData.t - this.offsetTime)) / ((nextKeyData.t - this.offsetTime) - (keyData.t - this.offsetTime)));\r\n        }\r\n        keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\r\n      }\r\n      keyPropS = keyData.s[0];\r\n    }\r\n    jLen = previousValue._length;\r\n    kLen = keyPropS.i[0].length;\r\n    caching.lastIndex = iterationIndex;\r\n\r\n    for (j = 0; j < jLen; j += 1) {\r\n      for (k = 0; k < kLen; k += 1) {\r\n        vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\r\n        previousValue.i[j][k] = vertexValue;\r\n        vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\r\n        previousValue.o[j][k] = vertexValue;\r\n        vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\r\n        previousValue.v[j][k] = vertexValue;\r\n      }\r\n    }\r\n  }\r\n\r\n  function interpolateShapeCurrentTime() {\r\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n    var initTime = this.keyframes[0].t - this.offsetTime;\r\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n    var lastFrame = this._caching.lastFrame;\r\n    if (!(lastFrame !== initFrame && ((lastFrame < initTime && frameNum < initTime) || (lastFrame > endTime && frameNum > endTime)))) {\r\n      /// /\r\n      this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\r\n      this.interpolateShape(frameNum, this.pv, this._caching);\r\n      /// /\r\n    }\r\n    this._caching.lastFrame = frameNum;\r\n    return this.pv;\r\n  }\r\n\r\n  function resetShape() {\r\n    this.paths = this.localShapeCollection;\r\n  }\r\n\r\n  function shapesEqual(shape1, shape2) {\r\n    if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\r\n      return false;\r\n    }\r\n    var i;\r\n    var len = shape1._length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (shape1.v[i][0] !== shape2.v[i][0]\r\n            || shape1.v[i][1] !== shape2.v[i][1]\r\n            || shape1.o[i][0] !== shape2.o[i][0]\r\n            || shape1.o[i][1] !== shape2.o[i][1]\r\n            || shape1.i[i][0] !== shape2.i[i][0]\r\n            || shape1.i[i][1] !== shape2.i[i][1]) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function setVValue(newPath) {\r\n    if (!shapesEqual(this.v, newPath)) {\r\n      this.v = shapePool.clone(newPath);\r\n      this.localShapeCollection.releaseShapes();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this._mdf = true;\r\n      this.paths = this.localShapeCollection;\r\n    }\r\n  }\r\n\r\n  function processEffectsSequence() {\r\n    if (this.elem.globalData.frameId === this.frameId) {\r\n      return;\r\n    } if (!this.effectsSequence.length) {\r\n      this._mdf = false;\r\n      return;\r\n    }\r\n    if (this.lock) {\r\n      this.setVValue(this.pv);\r\n      return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = false;\r\n    var finalValue;\r\n    if (this.kf) {\r\n      finalValue = this.pv;\r\n    } else if (this.data.ks) {\r\n      finalValue = this.data.ks.k;\r\n    } else {\r\n      finalValue = this.data.pt.k;\r\n    }\r\n    var i;\r\n    var len = this.effectsSequence.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      finalValue = this.effectsSequence[i](finalValue);\r\n    }\r\n    this.setVValue(finalValue);\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function ShapeProperty(elem, data, type) {\r\n    this.propType = 'shape';\r\n    this.comp = elem.comp;\r\n    this.container = elem;\r\n    this.elem = elem;\r\n    this.data = data;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this._mdf = false;\r\n    var pathData = type === 3 ? data.pt.k : data.ks.k;\r\n    this.v = shapePool.clone(pathData);\r\n    this.pv = shapePool.clone(this.v);\r\n    this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n    this.paths = this.localShapeCollection;\r\n    this.paths.addShape(this.v);\r\n    this.reset = resetShape;\r\n    this.effectsSequence = [];\r\n  }\r\n\r\n  function addEffect(effectFunction) {\r\n    this.effectsSequence.push(effectFunction);\r\n    this.container.addDynamicProperty(this);\r\n  }\r\n\r\n  ShapeProperty.prototype.interpolateShape = interpolateShape;\r\n  ShapeProperty.prototype.getValue = processEffectsSequence;\r\n  ShapeProperty.prototype.setVValue = setVValue;\r\n  ShapeProperty.prototype.addEffect = addEffect;\r\n\r\n  function KeyframedShapeProperty(elem, data, type) {\r\n    this.propType = 'shape';\r\n    this.comp = elem.comp;\r\n    this.elem = elem;\r\n    this.container = elem;\r\n    this.offsetTime = elem.data.st;\r\n    this.keyframes = type === 3 ? data.pt.k : data.ks.k;\r\n    this.keyframesMetadata = [];\r\n    this.k = true;\r\n    this.kf = true;\r\n    var len = this.keyframes[0].s[0].i.length;\r\n    this.v = shapePool.newElement();\r\n    this.v.setPathData(this.keyframes[0].s[0].c, len);\r\n    this.pv = shapePool.clone(this.v);\r\n    this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n    this.paths = this.localShapeCollection;\r\n    this.paths.addShape(this.v);\r\n    this.lastFrame = initFrame;\r\n    this.reset = resetShape;\r\n    this._caching = { lastFrame: initFrame, lastIndex: 0 };\r\n    this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\r\n  }\r\n  KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\r\n  KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\r\n  KeyframedShapeProperty.prototype.setVValue = setVValue;\r\n  KeyframedShapeProperty.prototype.addEffect = addEffect;\r\n\r\n  var EllShapeProperty = (function () {\r\n    var cPoint = roundCorner;\r\n\r\n    function EllShapePropertyFactory(elem, data) {\r\n      /* this.v = {\r\n                v: createSizedArray(4),\r\n                i: createSizedArray(4),\r\n                o: createSizedArray(4),\r\n                c: true\r\n            }; */\r\n      this.v = shapePool.newElement();\r\n      this.v.setPathData(true, 4);\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.paths = this.localShapeCollection;\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.d = data.d;\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.frameId = -1;\r\n      this.initDynamicPropertyContainer(elem);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertEllToPath();\r\n      }\r\n    }\r\n\r\n    EllShapePropertyFactory.prototype = {\r\n      reset: resetShape,\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n\r\n        if (this._mdf) {\r\n          this.convertEllToPath();\r\n        }\r\n      },\r\n      convertEllToPath: function () {\r\n        var p0 = this.p.v[0];\r\n        var p1 = this.p.v[1];\r\n        var s0 = this.s.v[0] / 2;\r\n        var s1 = this.s.v[1] / 2;\r\n        var _cw = this.d !== 3;\r\n        var _v = this.v;\r\n        _v.v[0][0] = p0;\r\n        _v.v[0][1] = p1 - s1;\r\n        _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.v[1][1] = p1;\r\n        _v.v[2][0] = p0;\r\n        _v.v[2][1] = p1 + s1;\r\n        _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.v[3][1] = p1;\r\n        _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n        _v.i[0][1] = p1 - s1;\r\n        _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.i[1][1] = p1 - s1 * cPoint;\r\n        _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n        _v.i[2][1] = p1 + s1;\r\n        _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.i[3][1] = p1 + s1 * cPoint;\r\n        _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n        _v.o[0][1] = p1 - s1;\r\n        _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.o[1][1] = p1 + s1 * cPoint;\r\n        _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n        _v.o[2][1] = p1 + s1;\r\n        _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.o[3][1] = p1 - s1 * cPoint;\r\n      },\r\n    };\r\n\r\n    extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\r\n\r\n    return EllShapePropertyFactory;\r\n  }());\r\n\r\n  var StarShapeProperty = (function () {\r\n    function StarShapePropertyFactory(elem, data) {\r\n      this.v = shapePool.newElement();\r\n      this.v.setPathData(true, 0);\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.data = data;\r\n      this.frameId = -1;\r\n      this.d = data.d;\r\n      this.initDynamicPropertyContainer(elem);\r\n      if (data.sy === 1) {\r\n        this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\r\n        this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\r\n        this.convertToPath = this.convertStarToPath;\r\n      } else {\r\n        this.convertToPath = this.convertPolygonToPath;\r\n      }\r\n      this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\r\n      this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\r\n      this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.paths = this.localShapeCollection;\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertToPath();\r\n      }\r\n    }\r\n\r\n    StarShapePropertyFactory.prototype = {\r\n      reset: resetShape,\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n        if (this._mdf) {\r\n          this.convertToPath();\r\n        }\r\n      },\r\n      convertStarToPath: function () {\r\n        var numPts = Math.floor(this.pt.v) * 2;\r\n        var angle = (Math.PI * 2) / numPts;\r\n        /* this.v.v.length = numPts;\r\n                this.v.i.length = numPts;\r\n                this.v.o.length = numPts; */\r\n        var longFlag = true;\r\n        var longRad = this.or.v;\r\n        var shortRad = this.ir.v;\r\n        var longRound = this.os.v;\r\n        var shortRound = this.is.v;\r\n        var longPerimSegment = (2 * Math.PI * longRad) / (numPts * 2);\r\n        var shortPerimSegment = (2 * Math.PI * shortRad) / (numPts * 2);\r\n        var i;\r\n        var rad;\r\n        var roundness;\r\n        var perimSegment;\r\n        var currentAng = -Math.PI / 2;\r\n        currentAng += this.r.v;\r\n        var dir = this.data.d === 3 ? -1 : 1;\r\n        this.v._length = 0;\r\n        for (i = 0; i < numPts; i += 1) {\r\n          rad = longFlag ? longRad : shortRad;\r\n          roundness = longFlag ? longRound : shortRound;\r\n          perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\r\n          var x = rad * Math.cos(currentAng);\r\n          var y = rad * Math.sin(currentAng);\r\n          var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\r\n          var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\r\n          x += +this.p.v[0];\r\n          y += +this.p.v[1];\r\n          this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\r\n\r\n          /* this.v.v[i] = [x,y];\r\n                    this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                    this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                    this.v._length = numPts; */\r\n          longFlag = !longFlag;\r\n          currentAng += angle * dir;\r\n        }\r\n      },\r\n      convertPolygonToPath: function () {\r\n        var numPts = Math.floor(this.pt.v);\r\n        var angle = (Math.PI * 2) / numPts;\r\n        var rad = this.or.v;\r\n        var roundness = this.os.v;\r\n        var perimSegment = (2 * Math.PI * rad) / (numPts * 4);\r\n        var i;\r\n        var currentAng = -Math.PI * 0.5;\r\n        var dir = this.data.d === 3 ? -1 : 1;\r\n        currentAng += this.r.v;\r\n        this.v._length = 0;\r\n        for (i = 0; i < numPts; i += 1) {\r\n          var x = rad * Math.cos(currentAng);\r\n          var y = rad * Math.sin(currentAng);\r\n          var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\r\n          var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\r\n          x += +this.p.v[0];\r\n          y += +this.p.v[1];\r\n          this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\r\n          currentAng += angle * dir;\r\n        }\r\n        this.paths.length = 0;\r\n        this.paths[0] = this.v;\r\n      },\r\n\r\n    };\r\n    extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\r\n\r\n    return StarShapePropertyFactory;\r\n  }());\r\n\r\n  var RectShapeProperty = (function () {\r\n    function RectShapePropertyFactory(elem, data) {\r\n      this.v = shapePool.newElement();\r\n      this.v.c = true;\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.paths = this.localShapeCollection;\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.frameId = -1;\r\n      this.d = data.d;\r\n      this.initDynamicPropertyContainer(elem);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\r\n      this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertRectToPath();\r\n      }\r\n    }\r\n\r\n    RectShapePropertyFactory.prototype = {\r\n      convertRectToPath: function () {\r\n        var p0 = this.p.v[0];\r\n        var p1 = this.p.v[1];\r\n        var v0 = this.s.v[0] / 2;\r\n        var v1 = this.s.v[1] / 2;\r\n        var round = bmMin(v0, v1, this.r.v);\r\n        var cPoint = round * (1 - roundCorner);\r\n        this.v._length = 0;\r\n\r\n        if (this.d === 2 || this.d === 1) {\r\n          this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\r\n          this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\r\n          if (round !== 0) {\r\n            this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\r\n            this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\r\n          } else {\r\n            this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\r\n          }\r\n        } else {\r\n          this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\r\n          if (round !== 0) {\r\n            this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\r\n            this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\r\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\r\n          } else {\r\n            this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\r\n            this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\r\n          }\r\n        }\r\n      },\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n        if (this._mdf) {\r\n          this.convertRectToPath();\r\n        }\r\n      },\r\n      reset: resetShape,\r\n    };\r\n    extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\r\n\r\n    return RectShapePropertyFactory;\r\n  }());\r\n\r\n  function getShapeProp(elem, data, type) {\r\n    var prop;\r\n    if (type === 3 || type === 4) {\r\n      var dataProp = type === 3 ? data.pt : data.ks;\r\n      var keys = dataProp.k;\r\n      if (keys.length) {\r\n        prop = new KeyframedShapeProperty(elem, data, type);\r\n      } else {\r\n        prop = new ShapeProperty(elem, data, type);\r\n      }\r\n    } else if (type === 5) {\r\n      prop = new RectShapeProperty(elem, data);\r\n    } else if (type === 6) {\r\n      prop = new EllShapeProperty(elem, data);\r\n    } else if (type === 7) {\r\n      prop = new StarShapeProperty(elem, data);\r\n    }\r\n    if (prop.k) {\r\n      elem.addDynamicProperty(prop);\r\n    }\r\n    return prop;\r\n  }\r\n\r\n  function getConstructorFunction() {\r\n    return ShapeProperty;\r\n  }\r\n\r\n  function getKeyframedConstructorFunction() {\r\n    return KeyframedShapeProperty;\r\n  }\r\n\r\n  var ob = {};\r\n  ob.getShapeProp = getShapeProp;\r\n  ob.getConstructorFunction = getConstructorFunction;\r\n  ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\r\n  return ob;\r\n}());\r\n\r\n/* global shapeCollectionPool, initialDefaultFrame, extendPrototype, DynamicPropertyContainer */\r\n/* exported ShapeModifiers */\r\n\r\nvar ShapeModifiers = (function () {\r\n  var ob = {};\r\n  var modifiers = {};\r\n  ob.registerModifier = registerModifier;\r\n  ob.getModifier = getModifier;\r\n\r\n  function registerModifier(nm, factory) {\r\n    if (!modifiers[nm]) {\r\n      modifiers[nm] = factory;\r\n    }\r\n  }\r\n\r\n  function getModifier(nm, elem, data) {\r\n    return new modifiers[nm](elem, data);\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\nfunction ShapeModifier() {}\r\nShapeModifier.prototype.initModifierProperties = function () {};\r\nShapeModifier.prototype.addShapeToModifier = function () {};\r\nShapeModifier.prototype.addShape = function (data) {\r\n  if (!this.closed) {\r\n    // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\r\n    data.sh.container.addDynamicProperty(data.sh);\r\n    var shapeData = { shape: data.sh, data: data, localShapeCollection: shapeCollectionPool.newShapeCollection() };\r\n    this.shapes.push(shapeData);\r\n    this.addShapeToModifier(shapeData);\r\n    if (this._isAnimated) {\r\n      data.setAsAnimated();\r\n    }\r\n  }\r\n};\r\nShapeModifier.prototype.init = function (elem, data) {\r\n  this.shapes = [];\r\n  this.elem = elem;\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.initModifierProperties(elem, data);\r\n  this.frameId = initialDefaultFrame;\r\n  this.closed = false;\r\n  this.k = false;\r\n  if (this.dynamicProperties.length) {\r\n    this.k = true;\r\n  } else {\r\n    this.getValue(true);\r\n  }\r\n};\r\nShapeModifier.prototype.processKeys = function () {\r\n  if (this.elem.globalData.frameId === this.frameId) {\r\n    return;\r\n  }\r\n  this.frameId = this.elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], ShapeModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, segmentsLengthPool, bez, shapePool, ShapeModifiers */\r\n\r\nfunction TrimModifier() {\r\n}\r\nextendPrototype([ShapeModifier], TrimModifier);\r\nTrimModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\r\n  this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\r\n  this.sValue = 0;\r\n  this.eValue = 0;\r\n  this.getValue = this.processKeys;\r\n  this.m = data.m;\r\n  this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\r\n};\r\n\r\nTrimModifier.prototype.addShapeToModifier = function (shapeData) {\r\n  shapeData.pathsData = [];\r\n};\r\n\r\nTrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\r\n  var segments = [];\r\n  if (e <= 1) {\r\n    segments.push({\r\n      s: s,\r\n      e: e,\r\n    });\r\n  } else if (s >= 1) {\r\n    segments.push({\r\n      s: s - 1,\r\n      e: e - 1,\r\n    });\r\n  } else {\r\n    segments.push({\r\n      s: s,\r\n      e: 1,\r\n    });\r\n    segments.push({\r\n      s: 0,\r\n      e: e - 1,\r\n    });\r\n  }\r\n  var shapeSegments = [];\r\n  var i;\r\n  var len = segments.length;\r\n  var segmentOb;\r\n  for (i = 0; i < len; i += 1) {\r\n    segmentOb = segments[i];\r\n    if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\r\n      var shapeS;\r\n      var shapeE;\r\n      if (segmentOb.s * totalModifierLength <= addedLength) {\r\n        shapeS = 0;\r\n      } else {\r\n        shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\r\n      }\r\n      if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\r\n        shapeE = 1;\r\n      } else {\r\n        shapeE = ((segmentOb.e * totalModifierLength - addedLength) / shapeLength);\r\n      }\r\n      shapeSegments.push([shapeS, shapeE]);\r\n    }\r\n  }\r\n  if (!shapeSegments.length) {\r\n    shapeSegments.push([0, 0]);\r\n  }\r\n  return shapeSegments;\r\n};\r\n\r\nTrimModifier.prototype.releasePathsData = function (pathsData) {\r\n  var i;\r\n  var len = pathsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    segmentsLengthPool.release(pathsData[i]);\r\n  }\r\n  pathsData.length = 0;\r\n  return pathsData;\r\n};\r\n\r\nTrimModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var s;\r\n  var e;\r\n  if (this._mdf || _isFirstFrame) {\r\n    var o = (this.o.v % 360) / 360;\r\n    if (o < 0) {\r\n      o += 1;\r\n    }\r\n    if (this.s.v > 1) {\r\n      s = 1 + o;\r\n    } else if (this.s.v < 0) {\r\n      s = 0 + o;\r\n    } else {\r\n      s = this.s.v + o;\r\n    }\r\n    if (this.e.v > 1) {\r\n      e = 1 + o;\r\n    } else if (this.e.v < 0) {\r\n      e = 0 + o;\r\n    } else {\r\n      e = this.e.v + o;\r\n    }\r\n\r\n    if (s > e) {\r\n      var _s = s;\r\n      s = e;\r\n      e = _s;\r\n    }\r\n    s = Math.round(s * 10000) * 0.0001;\r\n    e = Math.round(e * 10000) * 0.0001;\r\n    this.sValue = s;\r\n    this.eValue = e;\r\n  } else {\r\n    s = this.sValue;\r\n    e = this.eValue;\r\n  }\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var pathsData;\r\n  var pathData;\r\n  var totalShapeLength;\r\n  var totalModifierLength = 0;\r\n\r\n  if (e === s) {\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapes[i].localShapeCollection.releaseShapes();\r\n      this.shapes[i].shape._mdf = true;\r\n      this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\r\n      if (this._mdf) {\r\n        this.shapes[i].pathsData.length = 0;\r\n      }\r\n    }\r\n  } else if (!((e === 1 && s === 0) || (e === 0 && s === 1))) {\r\n    var segments = [];\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\r\n      if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\r\n        shapeData.shape.paths = shapeData.localShapeCollection;\r\n      } else {\r\n        shapePaths = shapeData.shape.paths;\r\n        jLen = shapePaths._length;\r\n        totalShapeLength = 0;\r\n        if (!shapeData.shape._mdf && shapeData.pathsData.length) {\r\n          totalShapeLength = shapeData.totalShapeLength;\r\n        } else {\r\n          pathsData = this.releasePathsData(shapeData.pathsData);\r\n          for (j = 0; j < jLen; j += 1) {\r\n            pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\r\n            pathsData.push(pathData);\r\n            totalShapeLength += pathData.totalLength;\r\n          }\r\n          shapeData.totalShapeLength = totalShapeLength;\r\n          shapeData.pathsData = pathsData;\r\n        }\r\n\r\n        totalModifierLength += totalShapeLength;\r\n        shapeData.shape._mdf = true;\r\n      }\r\n    }\r\n    var shapeS = s;\r\n    var shapeE = e;\r\n    var addedLength = 0;\r\n    var edges;\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      shapeData = this.shapes[i];\r\n      if (shapeData.shape._mdf) {\r\n        localShapeCollection = shapeData.localShapeCollection;\r\n        localShapeCollection.releaseShapes();\r\n        // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\r\n        if (this.m === 2 && len > 1) {\r\n          edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\r\n          addedLength += shapeData.totalShapeLength;\r\n        } else {\r\n          edges = [[shapeS, shapeE]];\r\n        }\r\n        jLen = edges.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          shapeS = edges[j][0];\r\n          shapeE = edges[j][1];\r\n          segments.length = 0;\r\n          if (shapeE <= 1) {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * shapeS,\r\n              e: shapeData.totalShapeLength * shapeE,\r\n            });\r\n          } else if (shapeS >= 1) {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * (shapeS - 1),\r\n              e: shapeData.totalShapeLength * (shapeE - 1),\r\n            });\r\n          } else {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * shapeS,\r\n              e: shapeData.totalShapeLength,\r\n            });\r\n            segments.push({\r\n              s: 0,\r\n              e: shapeData.totalShapeLength * (shapeE - 1),\r\n            });\r\n          }\r\n          var newShapesData = this.addShapes(shapeData, segments[0]);\r\n          if (segments[0].s !== segments[0].e) {\r\n            if (segments.length > 1) {\r\n              var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\r\n              if (lastShapeInCollection.c) {\r\n                var lastShape = newShapesData.pop();\r\n                this.addPaths(newShapesData, localShapeCollection);\r\n                newShapesData = this.addShapes(shapeData, segments[1], lastShape);\r\n              } else {\r\n                this.addPaths(newShapesData, localShapeCollection);\r\n                newShapesData = this.addShapes(shapeData, segments[1]);\r\n              }\r\n            }\r\n            this.addPaths(newShapesData, localShapeCollection);\r\n          }\r\n        }\r\n        shapeData.shape.paths = localShapeCollection;\r\n      }\r\n    }\r\n  } else if (this._mdf) {\r\n    for (i = 0; i < len; i += 1) {\r\n      // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\r\n      // Don't remove this even if it's losing cached info.\r\n      this.shapes[i].pathsData.length = 0;\r\n      this.shapes[i].shape._mdf = true;\r\n    }\r\n  }\r\n};\r\n\r\nTrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\r\n  var i;\r\n  var len = newPaths.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    localShapeCollection.addShape(newPaths[i]);\r\n  }\r\n};\r\n\r\nTrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\r\n  shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\r\n  shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\r\n  if (newShape) {\r\n    shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\r\n  }\r\n  shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\r\n  shapePath.setXYAt(points[1], points[5], 'o', pos);\r\n  shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\r\n  if (newShape) {\r\n    shapePath.setXYAt(points[0], points[4], 'v', pos);\r\n  }\r\n  shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\r\n  var pathsData = shapeData.pathsData;\r\n  var shapePaths = shapeData.shape.paths.shapes;\r\n  var i;\r\n  var len = shapeData.shape.paths._length;\r\n  var j;\r\n  var jLen;\r\n  var addedLength = 0;\r\n  var currentLengthData;\r\n  var segmentCount;\r\n  var lengths;\r\n  var segment;\r\n  var shapes = [];\r\n  var initPos;\r\n  var newShape = true;\r\n  if (!shapePath) {\r\n    shapePath = shapePool.newElement();\r\n    segmentCount = 0;\r\n    initPos = 0;\r\n  } else {\r\n    segmentCount = shapePath._length;\r\n    initPos = shapePath._length;\r\n  }\r\n  shapes.push(shapePath);\r\n  for (i = 0; i < len; i += 1) {\r\n    lengths = pathsData[i].lengths;\r\n    shapePath.c = shapePaths[i].c;\r\n    jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\r\n    for (j = 1; j < jLen; j += 1) {\r\n      currentLengthData = lengths[j - 1];\r\n      if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\r\n        addedLength += currentLengthData.addedLength;\r\n        shapePath.c = false;\r\n      } else if (addedLength > shapeSegment.e) {\r\n        shapePath.c = false;\r\n        break;\r\n      } else {\r\n        if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\r\n          this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n        } else {\r\n          segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\r\n          this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n          // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n          shapePath.c = false;\r\n        }\r\n        addedLength += currentLengthData.addedLength;\r\n        segmentCount += 1;\r\n      }\r\n    }\r\n    if (shapePaths[i].c && lengths.length) {\r\n      currentLengthData = lengths[j - 1];\r\n      if (addedLength <= shapeSegment.e) {\r\n        var segmentLength = lengths[j - 1].addedLength;\r\n        if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\r\n          this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n        } else {\r\n          segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\r\n          this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n          // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n          shapePath.c = false;\r\n        }\r\n      } else {\r\n        shapePath.c = false;\r\n      }\r\n      addedLength += currentLengthData.addedLength;\r\n      segmentCount += 1;\r\n    }\r\n    if (shapePath._length) {\r\n      shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\r\n      shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\r\n    }\r\n    if (addedLength > shapeSegment.e) {\r\n      break;\r\n    }\r\n    if (i < len - 1) {\r\n      shapePath = shapePool.newElement();\r\n      newShape = true;\r\n      shapes.push(shapePath);\r\n      segmentCount = 0;\r\n    }\r\n  }\r\n  return shapes;\r\n};\r\n\r\nShapeModifiers.registerModifier('tm', TrimModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, shapePool, roundCorner, ShapeModifiers */\r\n\r\nfunction RoundCornersModifier() {}\r\nextendPrototype([ShapeModifier], RoundCornersModifier);\r\nRoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\r\n  this._isAnimated = !!this.rd.effectsSequence.length;\r\n};\r\n\r\nRoundCornersModifier.prototype.processPath = function (path, round) {\r\n  var clonedPath = shapePool.newElement();\r\n  clonedPath.c = path.c;\r\n  var i;\r\n  var len = path._length;\r\n  var currentV;\r\n  var currentI;\r\n  var currentO;\r\n  var closerV;\r\n  var distance;\r\n  var newPosPerc;\r\n  var index = 0;\r\n  var vX;\r\n  var vY;\r\n  var oX;\r\n  var oY;\r\n  var iX;\r\n  var iY;\r\n  for (i = 0; i < len; i += 1) {\r\n    currentV = path.v[i];\r\n    currentO = path.o[i];\r\n    currentI = path.i[i];\r\n    if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\r\n      if ((i === 0 || i === len - 1) && !path.c) {\r\n        clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\r\n        /* clonedPath.v[index] = currentV;\r\n                clonedPath.o[index] = currentO;\r\n                clonedPath.i[index] = currentI; */\r\n        index += 1;\r\n      } else {\r\n        if (i === 0) {\r\n          closerV = path.v[len - 1];\r\n        } else {\r\n          closerV = path.v[i - 1];\r\n        }\r\n        distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\r\n        newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\r\n        iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\r\n        vX = iX;\r\n        iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\r\n        vY = iY;\r\n        oX = vX - (vX - currentV[0]) * roundCorner;\r\n        oY = vY - (vY - currentV[1]) * roundCorner;\r\n        clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\r\n        index += 1;\r\n\r\n        if (i === len - 1) {\r\n          closerV = path.v[0];\r\n        } else {\r\n          closerV = path.v[i + 1];\r\n        }\r\n        distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\r\n        newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\r\n        oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\r\n        vX = oX;\r\n        oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\r\n        vY = oY;\r\n        iX = vX - (vX - currentV[0]) * roundCorner;\r\n        iY = vY - (vY - currentV[1]) * roundCorner;\r\n        clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\r\n        index += 1;\r\n      }\r\n    } else {\r\n      clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\r\n      index += 1;\r\n    }\r\n  }\r\n  return clonedPath;\r\n};\r\n\r\nRoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var rd = this.rd.v;\r\n\r\n  if (rd !== 0) {\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      localShapeCollection = shapeData.localShapeCollection;\r\n      if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n        localShapeCollection.releaseShapes();\r\n        shapeData.shape._mdf = true;\r\n        shapePaths = shapeData.shape.paths.shapes;\r\n        jLen = shapeData.shape.paths._length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\r\n        }\r\n      }\r\n      shapeData.shape.paths = shapeData.localShapeCollection;\r\n    }\r\n  }\r\n  if (!this.dynamicProperties.length) {\r\n    this._mdf = false;\r\n  }\r\n};\r\n\r\nShapeModifiers.registerModifier('rd', RoundCornersModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, shapePool, ShapeModifiers */\r\n\r\nfunction PuckerAndBloatModifier() {}\r\nextendPrototype([ShapeModifier], PuckerAndBloatModifier);\r\nPuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\r\n  this._isAnimated = !!this.amount.effectsSequence.length;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processPath = function (path, amount) {\r\n  var percent = amount / 100;\r\n  var centerPoint = [0, 0];\r\n  var pathLength = path._length;\r\n  var i = 0;\r\n  for (i = 0; i < pathLength; i += 1) {\r\n    centerPoint[0] += path.v[i][0];\r\n    centerPoint[1] += path.v[i][1];\r\n  }\r\n  centerPoint[0] /= pathLength;\r\n  centerPoint[1] /= pathLength;\r\n  var clonedPath = shapePool.newElement();\r\n  clonedPath.c = path.c;\r\n  var vX;\r\n  var vY;\r\n  var oX;\r\n  var oY;\r\n  var iX;\r\n  var iY;\r\n  for (i = 0; i < pathLength; i += 1) {\r\n    vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\r\n    vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\r\n    oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\r\n    oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\r\n    iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\r\n    iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\r\n    clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\r\n  }\r\n  return clonedPath;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var amount = this.amount.v;\r\n\r\n  if (amount !== 0) {\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      localShapeCollection = shapeData.localShapeCollection;\r\n      if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n        localShapeCollection.releaseShapes();\r\n        shapeData.shape._mdf = true;\r\n        shapePaths = shapeData.shape.paths.shapes;\r\n        jLen = shapeData.shape.paths._length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\r\n        }\r\n      }\r\n      shapeData.shape.paths = shapeData.localShapeCollection;\r\n    }\r\n  }\r\n  if (!this.dynamicProperties.length) {\r\n    this._mdf = false;\r\n  }\r\n};\r\nShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, TransformPropertyFactory, PropertyFactory, Matrix, ShapeModifiers */\r\n\r\nfunction RepeaterModifier() {}\r\nextendPrototype([ShapeModifier], RepeaterModifier);\r\n\r\nRepeaterModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\r\n  this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\r\n  this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\r\n  this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\r\n  this.data = data;\r\n  if (!this.dynamicProperties.length) {\r\n    this.getValue(true);\r\n  }\r\n  this._isAnimated = !!this.dynamicProperties.length;\r\n  this.pMatrix = new Matrix();\r\n  this.rMatrix = new Matrix();\r\n  this.sMatrix = new Matrix();\r\n  this.tMatrix = new Matrix();\r\n  this.matrix = new Matrix();\r\n};\r\n\r\nRepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\r\n  var dir = inv ? -1 : 1;\r\n  var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\r\n  var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\r\n  pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\r\n  rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n  rMatrix.rotate(-transform.r.v * dir * perc);\r\n  rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n  sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n  sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\r\n  sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n};\r\n\r\nRepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\r\n  this.elem = elem;\r\n  this.arr = arr;\r\n  this.pos = pos;\r\n  this.elemsData = elemsData;\r\n  this._currentCopies = 0;\r\n  this._elements = [];\r\n  this._groups = [];\r\n  this.frameId = -1;\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.initModifierProperties(elem, arr[pos]);\r\n  while (pos > 0) {\r\n    pos -= 1;\r\n    // this._elements.unshift(arr.splice(pos,1)[0]);\r\n    this._elements.unshift(arr[pos]);\r\n  }\r\n  if (this.dynamicProperties.length) {\r\n    this.k = true;\r\n  } else {\r\n    this.getValue(true);\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.resetElements = function (elements) {\r\n  var i;\r\n  var len = elements.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    elements[i]._processed = false;\r\n    if (elements[i].ty === 'gr') {\r\n      this.resetElements(elements[i].it);\r\n    }\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.cloneElements = function (elements) {\r\n  var newElements = JSON.parse(JSON.stringify(elements));\r\n  this.resetElements(newElements);\r\n  return newElements;\r\n};\r\n\r\nRepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\r\n  var i;\r\n  var len = elements.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    elements[i]._render = renderFlag;\r\n    if (elements[i].ty === 'gr') {\r\n      this.changeGroupRender(elements[i].it, renderFlag);\r\n    }\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var items;\r\n  var itemsTransform;\r\n  var i;\r\n  var dir;\r\n  var cont;\r\n  var hasReloaded = false;\r\n  if (this._mdf || _isFirstFrame) {\r\n    var copies = Math.ceil(this.c.v);\r\n    if (this._groups.length < copies) {\r\n      while (this._groups.length < copies) {\r\n        var group = {\r\n          it: this.cloneElements(this._elements),\r\n          ty: 'gr',\r\n        };\r\n        group.it.push({\r\n          a: { a: 0, ix: 1, k: [0, 0] }, nm: 'Transform', o: { a: 0, ix: 7, k: 100 }, p: { a: 0, ix: 2, k: [0, 0] }, r: { a: 1, ix: 6, k: [{ s: 0, e: 0, t: 0 }, { s: 0, e: 0, t: 1 }] }, s: { a: 0, ix: 3, k: [100, 100] }, sa: { a: 0, ix: 5, k: 0 }, sk: { a: 0, ix: 4, k: 0 }, ty: 'tr',\r\n        });\r\n\r\n        this.arr.splice(0, 0, group);\r\n        this._groups.splice(0, 0, group);\r\n        this._currentCopies += 1;\r\n      }\r\n      this.elem.reloadShapes();\r\n      hasReloaded = true;\r\n    }\r\n    cont = 0;\r\n    var renderFlag;\r\n    for (i = 0; i <= this._groups.length - 1; i += 1) {\r\n      renderFlag = cont < copies;\r\n      this._groups[i]._render = renderFlag;\r\n      this.changeGroupRender(this._groups[i].it, renderFlag);\r\n      if (!renderFlag) {\r\n        var elems = this.elemsData[i].it;\r\n        var transformData = elems[elems.length - 1];\r\n        if (transformData.transform.op.v !== 0) {\r\n          transformData.transform.op._mdf = true;\r\n          transformData.transform.op.v = 0;\r\n        } else {\r\n          transformData.transform.op._mdf = false;\r\n        }\r\n      }\r\n      cont += 1;\r\n    }\r\n\r\n    this._currentCopies = copies;\r\n    /// /\r\n\r\n    var offset = this.o.v;\r\n    var offsetModulo = offset % 1;\r\n    var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\r\n    var pProps = this.pMatrix.props;\r\n    var rProps = this.rMatrix.props;\r\n    var sProps = this.sMatrix.props;\r\n    this.pMatrix.reset();\r\n    this.rMatrix.reset();\r\n    this.sMatrix.reset();\r\n    this.tMatrix.reset();\r\n    this.matrix.reset();\r\n    var iteration = 0;\r\n\r\n    if (offset > 0) {\r\n      while (iteration < roundOffset) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n        iteration += 1;\r\n      }\r\n      if (offsetModulo) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\r\n        iteration += offsetModulo;\r\n      }\r\n    } else if (offset < 0) {\r\n      while (iteration > roundOffset) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\r\n        iteration -= 1;\r\n      }\r\n      if (offsetModulo) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\r\n        iteration -= offsetModulo;\r\n      }\r\n    }\r\n    i = this.data.m === 1 ? 0 : this._currentCopies - 1;\r\n    dir = this.data.m === 1 ? 1 : -1;\r\n    cont = this._currentCopies;\r\n    var j;\r\n    var jLen;\r\n    while (cont) {\r\n      items = this.elemsData[i].it;\r\n      itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n      jLen = itemsTransform.length;\r\n      items[items.length - 1].transform.mProps._mdf = true;\r\n      items[items.length - 1].transform.op._mdf = true;\r\n      items[items.length - 1].transform.op.v = this._currentCopies === 1\r\n        ? this.so.v\r\n        : this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\r\n\r\n      if (iteration !== 0) {\r\n        if ((i !== 0 && dir === 1) || (i !== this._currentCopies - 1 && dir === -1)) {\r\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n        }\r\n        this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\r\n        this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\r\n        this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\r\n\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsTransform[j] = this.matrix.props[j];\r\n        }\r\n        this.matrix.reset();\r\n      } else {\r\n        this.matrix.reset();\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsTransform[j] = this.matrix.props[j];\r\n        }\r\n      }\r\n      iteration += 1;\r\n      cont -= 1;\r\n      i += dir;\r\n    }\r\n  } else {\r\n    cont = this._currentCopies;\r\n    i = 0;\r\n    dir = 1;\r\n    while (cont) {\r\n      items = this.elemsData[i].it;\r\n      itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n      items[items.length - 1].transform.mProps._mdf = false;\r\n      items[items.length - 1].transform.op._mdf = false;\r\n      cont -= 1;\r\n      i += dir;\r\n    }\r\n  }\r\n  return hasReloaded;\r\n};\r\n\r\nRepeaterModifier.prototype.addShape = function () {};\r\n\r\nShapeModifiers.registerModifier('rp', RepeaterModifier);\r\n\r\n/* global createSizedArray, shapePool */\r\n\r\nfunction ShapeCollection() {\r\n  this._length = 0;\r\n  this._maxLength = 4;\r\n  this.shapes = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapeCollection.prototype.addShape = function (shapeData) {\r\n  if (this._length === this._maxLength) {\r\n    this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\r\n    this._maxLength *= 2;\r\n  }\r\n  this.shapes[this._length] = shapeData;\r\n  this._length += 1;\r\n};\r\n\r\nShapeCollection.prototype.releaseShapes = function () {\r\n  var i;\r\n  for (i = 0; i < this._length; i += 1) {\r\n    shapePool.release(this.shapes[i]);\r\n  }\r\n  this._length = 0;\r\n};\r\n\r\n/* global createSizedArray, createTypedArray, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction DashProperty(elem, data, renderer, container) {\r\n  this.elem = elem;\r\n  this.frameId = -1;\r\n  this.dataProps = createSizedArray(data.length);\r\n  this.renderer = renderer;\r\n  this.k = false;\r\n  this.dashStr = '';\r\n  this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\r\n  this.dashoffset = createTypedArray('float32', 1);\r\n  this.initDynamicPropertyContainer(container);\r\n  var i;\r\n  var len = data.length || 0;\r\n  var prop;\r\n  for (i = 0; i < len; i += 1) {\r\n    prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\r\n    this.k = prop.k || this.k;\r\n    this.dataProps[i] = { n: data[i].n, p: prop };\r\n  }\r\n  if (!this.k) {\r\n    this.getValue(true);\r\n  }\r\n  this._isAnimated = this.k;\r\n}\r\n\r\nDashProperty.prototype.getValue = function (forceRender) {\r\n  if (this.elem.globalData.frameId === this.frameId && !forceRender) {\r\n    return;\r\n  }\r\n  this.frameId = this.elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n  this._mdf = this._mdf || forceRender;\r\n  if (this._mdf) {\r\n    var i = 0;\r\n    var len = this.dataProps.length;\r\n    if (this.renderer === 'svg') {\r\n      this.dashStr = '';\r\n    }\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.dataProps[i].n !== 'o') {\r\n        if (this.renderer === 'svg') {\r\n          this.dashStr += ' ' + this.dataProps[i].p.v;\r\n        } else {\r\n          this.dashArray[i] = this.dataProps[i].p.v;\r\n        }\r\n      } else {\r\n        this.dashoffset[0] = this.dataProps[i].p.v;\r\n      }\r\n    }\r\n  }\r\n};\r\nextendPrototype([DynamicPropertyContainer], DashProperty);\r\n\r\n/* global createTypedArray, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\nfunction GradientProperty(elem, data, container) {\r\n  this.data = data;\r\n  this.c = createTypedArray('uint8c', data.p * 4);\r\n  var cLength = data.k.k[0].s ? (data.k.k[0].s.length - data.p * 4) : data.k.k.length - data.p * 4;\r\n  this.o = createTypedArray('float32', cLength);\r\n  this._cmdf = false;\r\n  this._omdf = false;\r\n  this._collapsable = this.checkCollapsable();\r\n  this._hasOpacity = cLength;\r\n  this.initDynamicPropertyContainer(container);\r\n  this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\r\n  this.k = this.prop.k;\r\n  this.getValue(true);\r\n}\r\n\r\nGradientProperty.prototype.comparePoints = function (values, points) {\r\n  var i = 0;\r\n  var len = this.o.length / 2;\r\n  var diff;\r\n  while (i < len) {\r\n    diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\r\n    if (diff > 0.01) {\r\n      return false;\r\n    }\r\n    i += 1;\r\n  }\r\n  return true;\r\n};\r\n\r\nGradientProperty.prototype.checkCollapsable = function () {\r\n  if (this.o.length / 2 !== this.c.length / 4) {\r\n    return false;\r\n  }\r\n  if (this.data.k.k[0].s) {\r\n    var i = 0;\r\n    var len = this.data.k.k.length;\r\n    while (i < len) {\r\n      if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\r\n        return false;\r\n      }\r\n      i += 1;\r\n    }\r\n  } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nGradientProperty.prototype.getValue = function (forceRender) {\r\n  this.prop.getValue();\r\n  this._mdf = false;\r\n  this._cmdf = false;\r\n  this._omdf = false;\r\n  if (this.prop._mdf || forceRender) {\r\n    var i;\r\n    var len = this.data.p * 4;\r\n    var mult;\r\n    var val;\r\n    for (i = 0; i < len; i += 1) {\r\n      mult = i % 4 === 0 ? 100 : 255;\r\n      val = Math.round(this.prop.v[i] * mult);\r\n      if (this.c[i] !== val) {\r\n        this.c[i] = val;\r\n        this._cmdf = !forceRender;\r\n      }\r\n    }\r\n    if (this.o.length) {\r\n      len = this.prop.v.length;\r\n      for (i = this.data.p * 4; i < len; i += 1) {\r\n        mult = i % 2 === 0 ? 100 : 1;\r\n        val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\r\n        if (this.o[i - this.data.p * 4] !== val) {\r\n          this.o[i - this.data.p * 4] = val;\r\n          this._omdf = !forceRender;\r\n        }\r\n      }\r\n    }\r\n    this._mdf = !forceRender;\r\n  }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], GradientProperty);\r\n\r\n/* exported buildShapeString */\r\n\r\nvar buildShapeString = function (pathNodes, length, closed, mat) {\r\n  if (length === 0) {\r\n    return '';\r\n  }\r\n  var _o = pathNodes.o;\r\n  var _i = pathNodes.i;\r\n  var _v = pathNodes.v;\r\n  var i;\r\n  var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n  for (i = 1; i < length; i += 1) {\r\n    shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\r\n  }\r\n  if (closed && length) {\r\n    shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n    shapeString += 'z';\r\n  }\r\n  return shapeString;\r\n};\r\n\r\n/* global Howl */\r\n/* exported audioControllerFactory */\r\n\r\nvar audioControllerFactory = (function () {\r\n  function AudioController(audioFactory) {\r\n    this.audios = [];\r\n    this.audioFactory = audioFactory;\r\n    this._volume = 1;\r\n    this._isMuted = false;\r\n  }\r\n\r\n  AudioController.prototype = {\r\n    addAudio: function (audio) {\r\n      this.audios.push(audio);\r\n    },\r\n    pause: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].pause();\r\n      }\r\n    },\r\n    resume: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].resume();\r\n      }\r\n    },\r\n    setRate: function (rateValue) {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].setRate(rateValue);\r\n      }\r\n    },\r\n    createAudio: function (assetPath) {\r\n      if (this.audioFactory) {\r\n        return this.audioFactory(assetPath);\r\n      } if (Howl) {\r\n        return new Howl({\r\n          src: [assetPath],\r\n        });\r\n      }\r\n      return {\r\n        isPlaying: false,\r\n        play: function () { this.isPlaying = true; },\r\n        seek: function () { this.isPlaying = false; },\r\n        playing: function () {},\r\n        rate: function () {},\r\n        setVolume: function () {},\r\n      };\r\n    },\r\n    setAudioFactory: function (audioFactory) {\r\n      this.audioFactory = audioFactory;\r\n    },\r\n    setVolume: function (value) {\r\n      this._volume = value;\r\n      this._updateVolume();\r\n    },\r\n    mute: function () {\r\n      this._isMuted = true;\r\n      this._updateVolume();\r\n    },\r\n    unmute: function () {\r\n      this._isMuted = false;\r\n      this._updateVolume();\r\n    },\r\n    getVolume: function () {\r\n      return this._volume;\r\n    },\r\n    _updateVolume: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\r\n      }\r\n    },\r\n  };\r\n\r\n  return function () {\r\n    return new AudioController();\r\n  };\r\n}());\r\n\r\n/* global createTag, createNS, isSafari, dataManager */\r\n/* exported ImagePreloader */\r\n\r\nvar ImagePreloader = (function () {\r\n  var proxyImage = (function () {\r\n    var canvas = createTag('canvas');\r\n    canvas.width = 1;\r\n    canvas.height = 1;\r\n    var ctx = canvas.getContext('2d');\r\n    ctx.fillStyle = 'rgba(0,0,0,0)';\r\n    ctx.fillRect(0, 0, 1, 1);\r\n    return canvas;\r\n  }());\r\n\r\n  function imageLoaded() {\r\n    this.loadedAssets += 1;\r\n    if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\r\n      if (this.imagesLoadedCb) {\r\n        this.imagesLoadedCb(null);\r\n      }\r\n    }\r\n  }\r\n  function footageLoaded() {\r\n    this.loadedFootagesCount += 1;\r\n    if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\r\n      if (this.imagesLoadedCb) {\r\n        this.imagesLoadedCb(null);\r\n      }\r\n    }\r\n  }\r\n\r\n  function getAssetsPath(assetData, assetsPath, originalPath) {\r\n    var path = '';\r\n    if (assetData.e) {\r\n      path = assetData.p;\r\n    } else if (assetsPath) {\r\n      var imagePath = assetData.p;\r\n      if (imagePath.indexOf('images/') !== -1) {\r\n        imagePath = imagePath.split('/')[1];\r\n      }\r\n      path = assetsPath + imagePath;\r\n    } else {\r\n      path = originalPath;\r\n      path += assetData.u ? assetData.u : '';\r\n      path += assetData.p;\r\n    }\r\n    return path;\r\n  }\r\n\r\n  function testImageLoaded(img) {\r\n    var _count = 0;\r\n    var intervalId = setInterval(function () {\r\n      var box = img.getBBox();\r\n      if (box.width || _count > 500) {\r\n        this._imageLoaded();\r\n        clearInterval(intervalId);\r\n      }\r\n      _count += 1;\r\n    }.bind(this), 50);\r\n  }\r\n\r\n  function createImageData(assetData) {\r\n    var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n    var img = createNS('image');\r\n    if (isSafari) {\r\n      this.testImageLoaded(img);\r\n    } else {\r\n      img.addEventListener('load', this._imageLoaded, false);\r\n    }\r\n    img.addEventListener('error', function () {\r\n      ob.img = proxyImage;\r\n      this._imageLoaded();\r\n    }.bind(this), false);\r\n    img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\r\n    if (this._elementHelper.append) {\r\n      this._elementHelper.append(img);\r\n    } else {\r\n      this._elementHelper.appendChild(img);\r\n    }\r\n    var ob = {\r\n      img: img,\r\n      assetData: assetData,\r\n    };\r\n    return ob;\r\n  }\r\n\r\n  function createImgData(assetData) {\r\n    var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n    var img = createTag('img');\r\n    img.crossOrigin = 'anonymous';\r\n    img.addEventListener('load', this._imageLoaded, false);\r\n    img.addEventListener('error', function () {\r\n      ob.img = proxyImage;\r\n      this._imageLoaded();\r\n    }.bind(this), false);\r\n    img.src = path;\r\n    var ob = {\r\n      img: img,\r\n      assetData: assetData,\r\n    };\r\n    return ob;\r\n  }\r\n\r\n  function createFootageData(data) {\r\n    var ob = {\r\n      assetData: data,\r\n    };\r\n    var path = getAssetsPath(data, this.assetsPath, this.path);\r\n    dataManager.loadData(path, function (footageData) {\r\n      ob.img = footageData;\r\n      this._footageLoaded();\r\n    }.bind(this), function () {\r\n      ob.img = {};\r\n      this._footageLoaded();\r\n    }.bind(this));\r\n    return ob;\r\n  }\r\n\r\n  function loadAssets(assets, cb) {\r\n    this.imagesLoadedCb = cb;\r\n    var i;\r\n    var len = assets.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!assets[i].layers) {\r\n        if (!assets[i].t || assets[i].t === 'seq') {\r\n          this.totalImages += 1;\r\n          this.images.push(this._createImageData(assets[i]));\r\n        } else if (assets[i].t === 3) {\r\n          this.totalFootages += 1;\r\n          this.images.push(this.createFootageData(assets[i]));\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function setPath(path) {\r\n    this.path = path || '';\r\n  }\r\n\r\n  function setAssetsPath(path) {\r\n    this.assetsPath = path || '';\r\n  }\r\n\r\n  function getAsset(assetData) {\r\n    var i = 0;\r\n    var len = this.images.length;\r\n    while (i < len) {\r\n      if (this.images[i].assetData === assetData) {\r\n        return this.images[i].img;\r\n      }\r\n      i += 1;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function destroy() {\r\n    this.imagesLoadedCb = null;\r\n    this.images.length = 0;\r\n  }\r\n\r\n  function loadedImages() {\r\n    return this.totalImages === this.loadedAssets;\r\n  }\r\n\r\n  function loadedFootages() {\r\n    return this.totalFootages === this.loadedFootagesCount;\r\n  }\r\n\r\n  function setCacheType(type, elementHelper) {\r\n    if (type === 'svg') {\r\n      this._elementHelper = elementHelper;\r\n      this._createImageData = this.createImageData.bind(this);\r\n    } else {\r\n      this._createImageData = this.createImgData.bind(this);\r\n    }\r\n  }\r\n\r\n  function ImagePreloaderFactory() {\r\n    this._imageLoaded = imageLoaded.bind(this);\r\n    this._footageLoaded = footageLoaded.bind(this);\r\n    this.testImageLoaded = testImageLoaded.bind(this);\r\n    this.createFootageData = createFootageData.bind(this);\r\n    this.assetsPath = '';\r\n    this.path = '';\r\n    this.totalImages = 0;\r\n    this.totalFootages = 0;\r\n    this.loadedAssets = 0;\r\n    this.loadedFootagesCount = 0;\r\n    this.imagesLoadedCb = null;\r\n    this.images = [];\r\n  }\r\n\r\n  ImagePreloaderFactory.prototype = {\r\n    loadAssets: loadAssets,\r\n    setAssetsPath: setAssetsPath,\r\n    setPath: setPath,\r\n    loadedImages: loadedImages,\r\n    loadedFootages: loadedFootages,\r\n    destroy: destroy,\r\n    getAsset: getAsset,\r\n    createImgData: createImgData,\r\n    createImageData: createImageData,\r\n    imageLoaded: imageLoaded,\r\n    footageLoaded: footageLoaded,\r\n    setCacheType: setCacheType,\r\n  };\r\n\r\n  return ImagePreloaderFactory;\r\n}());\r\n\r\n/* exported featureSupport */\r\n\r\nvar featureSupport = (function () {\r\n  var ob = {\r\n    maskType: true,\r\n  };\r\n  if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\r\n    ob.maskType = false;\r\n  }\r\n  return ob;\r\n}());\r\n\r\n/* global createNS */\r\n/* exported filtersFactory */\r\n\r\nvar filtersFactory = (function () {\r\n  var ob = {};\r\n  ob.createFilter = createFilter;\r\n  ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\r\n\r\n  function createFilter(filId, skipCoordinates) {\r\n    var fil = createNS('filter');\r\n    fil.setAttribute('id', filId);\r\n    if (skipCoordinates !== true) {\r\n      fil.setAttribute('filterUnits', 'objectBoundingBox');\r\n      fil.setAttribute('x', '0%');\r\n      fil.setAttribute('y', '0%');\r\n      fil.setAttribute('width', '100%');\r\n      fil.setAttribute('height', '100%');\r\n    }\r\n    return fil;\r\n  }\r\n\r\n  function createAlphaToLuminanceFilter() {\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type', 'matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n    feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\r\n    return feColorMatrix;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global createSizedArray, PropertyFactory, TextAnimatorDataProperty, bez, addHueToRGB,\r\n  addSaturationToRGB, addBrightnessToRGB, LetterProps, Matrix, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction TextAnimatorProperty(textData, renderType, elem) {\r\n  this._isFirstFrame = true;\r\n  this._hasMaskedPath = false;\r\n  this._frameId = -1;\r\n  this._textData = textData;\r\n  this._renderType = renderType;\r\n  this._elem = elem;\r\n  this._animatorsData = createSizedArray(this._textData.a.length);\r\n  this._pathData = {};\r\n  this._moreOptions = {\r\n    alignment: {},\r\n  };\r\n  this.renderedLetters = [];\r\n  this.lettersChangedFlag = false;\r\n  this.initDynamicPropertyContainer(elem);\r\n}\r\n\r\nTextAnimatorProperty.prototype.searchProperties = function () {\r\n  var i;\r\n  var len = this._textData.a.length;\r\n  var animatorProps;\r\n  var getProp = PropertyFactory.getProp;\r\n  for (i = 0; i < len; i += 1) {\r\n    animatorProps = this._textData.a[i];\r\n    this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\r\n  }\r\n  if (this._textData.p && 'm' in this._textData.p) {\r\n    this._pathData = {\r\n      a: getProp(this._elem, this._textData.p.a, 0, 0, this),\r\n      f: getProp(this._elem, this._textData.p.f, 0, 0, this),\r\n      l: getProp(this._elem, this._textData.p.l, 0, 0, this),\r\n      r: getProp(this._elem, this._textData.p.r, 0, 0, this),\r\n      p: getProp(this._elem, this._textData.p.p, 0, 0, this),\r\n      m: this._elem.maskManager.getMaskProperty(this._textData.p.m),\r\n    };\r\n    this._hasMaskedPath = true;\r\n  } else {\r\n    this._hasMaskedPath = false;\r\n  }\r\n  this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\r\n};\r\n\r\nTextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\r\n  this.lettersChangedFlag = lettersChangedFlag;\r\n  if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\r\n    return;\r\n  }\r\n  this._isFirstFrame = false;\r\n  var alignment = this._moreOptions.alignment.v;\r\n  var animators = this._animatorsData;\r\n  var textData = this._textData;\r\n  var matrixHelper = this.mHelper;\r\n  var renderType = this._renderType;\r\n  var renderedLettersCount = this.renderedLetters.length;\r\n  var xPos;\r\n  var yPos;\r\n  var i;\r\n  var len;\r\n  var letters = documentData.l;\r\n  var pathInfo;\r\n  var currentLength;\r\n  var currentPoint;\r\n  var segmentLength;\r\n  var flag;\r\n  var pointInd;\r\n  var segmentInd;\r\n  var prevPoint;\r\n  var points;\r\n  var segments;\r\n  var partialLength;\r\n  var totalLength;\r\n  var perc;\r\n  var tanAngle;\r\n  var mask;\r\n  if (this._hasMaskedPath) {\r\n    mask = this._pathData.m;\r\n    if (!this._pathData.n || this._pathData._mdf) {\r\n      var paths = mask.v;\r\n      if (this._pathData.r.v) {\r\n        paths = paths.reverse();\r\n      }\r\n      // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\r\n      pathInfo = {\r\n        tLength: 0,\r\n        segments: [],\r\n      };\r\n      len = paths._length - 1;\r\n      var bezierData;\r\n      totalLength = 0;\r\n      for (i = 0; i < len; i += 1) {\r\n        bezierData = bez.buildBezierData(paths.v[i],\r\n          paths.v[i + 1],\r\n          [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\r\n          [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\r\n        pathInfo.tLength += bezierData.segmentLength;\r\n        pathInfo.segments.push(bezierData);\r\n        totalLength += bezierData.segmentLength;\r\n      }\r\n      i = len;\r\n      if (mask.v.c) {\r\n        bezierData = bez.buildBezierData(paths.v[i],\r\n          paths.v[0],\r\n          [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\r\n          [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\r\n        pathInfo.tLength += bezierData.segmentLength;\r\n        pathInfo.segments.push(bezierData);\r\n        totalLength += bezierData.segmentLength;\r\n      }\r\n      this._pathData.pi = pathInfo;\r\n    }\r\n    pathInfo = this._pathData.pi;\r\n\r\n    currentLength = this._pathData.f.v;\r\n    segmentInd = 0;\r\n    pointInd = 1;\r\n    segmentLength = 0;\r\n    flag = true;\r\n    segments = pathInfo.segments;\r\n    if (currentLength < 0 && mask.v.c) {\r\n      if (pathInfo.tLength < Math.abs(currentLength)) {\r\n        currentLength = -Math.abs(currentLength) % pathInfo.tLength;\r\n      }\r\n      segmentInd = segments.length - 1;\r\n      points = segments[segmentInd].points;\r\n      pointInd = points.length - 1;\r\n      while (currentLength < 0) {\r\n        currentLength += points[pointInd].partialLength;\r\n        pointInd -= 1;\r\n        if (pointInd < 0) {\r\n          segmentInd -= 1;\r\n          points = segments[segmentInd].points;\r\n          pointInd = points.length - 1;\r\n        }\r\n      }\r\n    }\r\n    points = segments[segmentInd].points;\r\n    prevPoint = points[pointInd - 1];\r\n    currentPoint = points[pointInd];\r\n    partialLength = currentPoint.partialLength;\r\n  }\r\n\r\n  len = letters.length;\r\n  xPos = 0;\r\n  yPos = 0;\r\n  var yOff = documentData.finalSize * 1.2 * 0.714;\r\n  var firstLine = true;\r\n  var animatorProps;\r\n  var animatorSelector;\r\n  var j;\r\n  var jLen;\r\n  var letterValue;\r\n\r\n  jLen = animators.length;\r\n\r\n  var mult;\r\n  var ind = -1;\r\n  var offf;\r\n  var xPathPos;\r\n  var yPathPos;\r\n  var initPathPos = currentLength;\r\n  var initSegmentInd = segmentInd;\r\n  var initPointInd = pointInd;\r\n  var currentLine = -1;\r\n  var elemOpacity;\r\n  var sc;\r\n  var sw;\r\n  var fc;\r\n  var k;\r\n  var letterSw;\r\n  var letterSc;\r\n  var letterFc;\r\n  var letterM = '';\r\n  var letterP = this.defaultPropsArray;\r\n  var letterO;\r\n\r\n  //\r\n  if (documentData.j === 2 || documentData.j === 1) {\r\n    var animatorJustifyOffset = 0;\r\n    var animatorFirstCharOffset = 0;\r\n    var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\r\n    var lastIndex = 0;\r\n    var isNewLine = true;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (letters[i].n) {\r\n        if (animatorJustifyOffset) {\r\n          animatorJustifyOffset += animatorFirstCharOffset;\r\n        }\r\n        while (lastIndex < i) {\r\n          letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n          lastIndex += 1;\r\n        }\r\n        animatorJustifyOffset = 0;\r\n        isNewLine = true;\r\n      } else {\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n          if (animatorProps.t.propType) {\r\n            if (isNewLine && documentData.j === 2) {\r\n              animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\r\n            }\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\r\n            } else {\r\n              animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\r\n            }\r\n          }\r\n        }\r\n        isNewLine = false;\r\n      }\r\n    }\r\n    if (animatorJustifyOffset) {\r\n      animatorJustifyOffset += animatorFirstCharOffset;\r\n    }\r\n    while (lastIndex < i) {\r\n      letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n      lastIndex += 1;\r\n    }\r\n  }\r\n  //\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    matrixHelper.reset();\r\n    elemOpacity = 1;\r\n    if (letters[i].n) {\r\n      xPos = 0;\r\n      yPos += documentData.yOffset;\r\n      yPos += firstLine ? 1 : 0;\r\n      currentLength = initPathPos;\r\n      firstLine = false;\r\n      if (this._hasMaskedPath) {\r\n        segmentInd = initSegmentInd;\r\n        pointInd = initPointInd;\r\n        points = segments[segmentInd].points;\r\n        prevPoint = points[pointInd - 1];\r\n        currentPoint = points[pointInd];\r\n        partialLength = currentPoint.partialLength;\r\n        segmentLength = 0;\r\n      }\r\n      letterM = '';\r\n      letterFc = '';\r\n      letterSw = '';\r\n      letterO = '';\r\n      letterP = this.defaultPropsArray;\r\n    } else {\r\n      if (this._hasMaskedPath) {\r\n        if (currentLine !== letters[i].line) {\r\n          switch (documentData.j) {\r\n            case 1:\r\n              currentLength += totalLength - documentData.lineWidths[letters[i].line];\r\n              break;\r\n            case 2:\r\n              currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          currentLine = letters[i].line;\r\n        }\r\n        if (ind !== letters[i].ind) {\r\n          if (letters[ind]) {\r\n            currentLength += letters[ind].extra;\r\n          }\r\n          currentLength += letters[i].an / 2;\r\n          ind = letters[i].ind;\r\n        }\r\n        currentLength += (alignment[0] * letters[i].an) * 0.005;\r\n        var animatorOffset = 0;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n          if (animatorProps.p.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorOffset += animatorProps.p.v[0] * mult[0];\r\n            } else {\r\n              animatorOffset += animatorProps.p.v[0] * mult;\r\n            }\r\n          }\r\n          if (animatorProps.a.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorOffset += animatorProps.a.v[0] * mult[0];\r\n            } else {\r\n              animatorOffset += animatorProps.a.v[0] * mult;\r\n            }\r\n          }\r\n        }\r\n        flag = true;\r\n        // Force alignment only works with a single line for now\r\n        if (this._pathData.a.v) {\r\n          currentLength = letters[0].an * 0.5 + ((totalLength - this._pathData.f.v - letters[0].an * 0.5 - letters[letters.length - 1].an * 0.5) * ind) / (len - 1);\r\n          currentLength += this._pathData.f.v;\r\n        }\r\n        while (flag) {\r\n          if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\r\n            perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\r\n            xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\r\n            yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\r\n            matrixHelper.translate((-alignment[0] * letters[i].an) * 0.005, -(alignment[1] * yOff) * 0.01);\r\n            flag = false;\r\n          } else if (points) {\r\n            segmentLength += currentPoint.partialLength;\r\n            pointInd += 1;\r\n            if (pointInd >= points.length) {\r\n              pointInd = 0;\r\n              segmentInd += 1;\r\n              if (!segments[segmentInd]) {\r\n                if (mask.v.c) {\r\n                  pointInd = 0;\r\n                  segmentInd = 0;\r\n                  points = segments[segmentInd].points;\r\n                } else {\r\n                  segmentLength -= currentPoint.partialLength;\r\n                  points = null;\r\n                }\r\n              } else {\r\n                points = segments[segmentInd].points;\r\n              }\r\n            }\r\n            if (points) {\r\n              prevPoint = currentPoint;\r\n              currentPoint = points[pointInd];\r\n              partialLength = currentPoint.partialLength;\r\n            }\r\n          }\r\n        }\r\n        offf = letters[i].an / 2 - letters[i].add;\r\n        matrixHelper.translate(-offf, 0, 0);\r\n      } else {\r\n        offf = letters[i].an / 2 - letters[i].add;\r\n        matrixHelper.translate(-offf, 0, 0);\r\n\r\n        // Grouping alignment\r\n        matrixHelper.translate((-alignment[0] * letters[i].an) * 0.005, (-alignment[1] * yOff) * 0.01, 0);\r\n      }\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.t.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\r\n          if (xPos !== 0 || documentData.j !== 0) {\r\n            if (this._hasMaskedPath) {\r\n              if (mult.length) {\r\n                currentLength += animatorProps.t.v * mult[0];\r\n              } else {\r\n                currentLength += animatorProps.t.v * mult;\r\n              }\r\n            } else if (mult.length) {\r\n              xPos += animatorProps.t.v * mult[0];\r\n            } else {\r\n              xPos += animatorProps.t.v * mult;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (documentData.strokeWidthAnim) {\r\n        sw = documentData.sw || 0;\r\n      }\r\n      if (documentData.strokeColorAnim) {\r\n        if (documentData.sc) {\r\n          sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\r\n        } else {\r\n          sc = [0, 0, 0];\r\n        }\r\n      }\r\n      if (documentData.fillColorAnim && documentData.fc) {\r\n        fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.a.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n          if (mult.length) {\r\n            matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\r\n          } else {\r\n            matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\r\n          }\r\n        }\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.s.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          if (mult.length) {\r\n            matrixHelper.scale(1 + ((animatorProps.s.v[0] - 1) * mult[0]), 1 + ((animatorProps.s.v[1] - 1) * mult[1]), 1);\r\n          } else {\r\n            matrixHelper.scale(1 + ((animatorProps.s.v[0] - 1) * mult), 1 + ((animatorProps.s.v[1] - 1) * mult), 1);\r\n          }\r\n        }\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        animatorSelector = animators[j].s;\r\n        mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n        if (animatorProps.sk.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\r\n          } else {\r\n            matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.r.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\r\n          } else {\r\n            matrixHelper.rotateZ(-animatorProps.r.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.ry.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\r\n          } else {\r\n            matrixHelper.rotateY(animatorProps.ry.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.rx.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\r\n          } else {\r\n            matrixHelper.rotateX(animatorProps.rx.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.o.propType) {\r\n          if (mult.length) {\r\n            elemOpacity += ((animatorProps.o.v) * mult[0] - elemOpacity) * mult[0];\r\n          } else {\r\n            elemOpacity += ((animatorProps.o.v) * mult - elemOpacity) * mult;\r\n          }\r\n        }\r\n        if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\r\n          if (mult.length) {\r\n            sw += animatorProps.sw.v * mult[0];\r\n          } else {\r\n            sw += animatorProps.sw.v * mult;\r\n          }\r\n        }\r\n        if (documentData.strokeColorAnim && animatorProps.sc.propType) {\r\n          for (k = 0; k < 3; k += 1) {\r\n            if (mult.length) {\r\n              sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\r\n            } else {\r\n              sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\r\n            }\r\n          }\r\n        }\r\n        if (documentData.fillColorAnim && documentData.fc) {\r\n          if (animatorProps.fc.propType) {\r\n            for (k = 0; k < 3; k += 1) {\r\n              if (mult.length) {\r\n                fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\r\n              } else {\r\n                fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\r\n              }\r\n            }\r\n          }\r\n          if (animatorProps.fh.propType) {\r\n            if (mult.length) {\r\n              fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\r\n            } else {\r\n              fc = addHueToRGB(fc, animatorProps.fh.v * mult);\r\n            }\r\n          }\r\n          if (animatorProps.fs.propType) {\r\n            if (mult.length) {\r\n              fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\r\n            } else {\r\n              fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\r\n            }\r\n          }\r\n          if (animatorProps.fb.propType) {\r\n            if (mult.length) {\r\n              fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\r\n            } else {\r\n              fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n\r\n        if (animatorProps.p.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          if (this._hasMaskedPath) {\r\n            if (mult.length) {\r\n              matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\r\n            } else {\r\n              matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n            }\r\n          } else if (mult.length) {\r\n            matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\r\n          } else {\r\n            matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n          }\r\n        }\r\n      }\r\n      if (documentData.strokeWidthAnim) {\r\n        letterSw = sw < 0 ? 0 : sw;\r\n      }\r\n      if (documentData.strokeColorAnim) {\r\n        letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\r\n      }\r\n      if (documentData.fillColorAnim && documentData.fc) {\r\n        letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\r\n      }\r\n\r\n      if (this._hasMaskedPath) {\r\n        matrixHelper.translate(0, -documentData.ls);\r\n\r\n        matrixHelper.translate(0, (alignment[1] * yOff) * 0.01 + yPos, 0);\r\n        if (this._pathData.p.v) {\r\n          tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\r\n          var rot = (Math.atan(tanAngle) * 180) / Math.PI;\r\n          if (currentPoint.point[0] < prevPoint.point[0]) {\r\n            rot += 180;\r\n          }\r\n          matrixHelper.rotate((-rot * Math.PI) / 180);\r\n        }\r\n        matrixHelper.translate(xPathPos, yPathPos, 0);\r\n        currentLength -= (alignment[0] * letters[i].an) * 0.005;\r\n        if (letters[i + 1] && ind !== letters[i + 1].ind) {\r\n          currentLength += letters[i].an / 2;\r\n          currentLength += (documentData.tr * 0.001) * documentData.finalSize;\r\n        }\r\n      } else {\r\n        matrixHelper.translate(xPos, yPos, 0);\r\n\r\n        if (documentData.ps) {\r\n          // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\r\n          matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\r\n        }\r\n        switch (documentData.j) {\r\n          case 1:\r\n            matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\r\n            break;\r\n          case 2:\r\n            matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        matrixHelper.translate(0, -documentData.ls);\r\n        matrixHelper.translate(offf, 0, 0);\r\n        matrixHelper.translate((alignment[0] * letters[i].an) * 0.005, (alignment[1] * yOff) * 0.01, 0);\r\n        xPos += letters[i].l + (documentData.tr * 0.001) * documentData.finalSize;\r\n      }\r\n      if (renderType === 'html') {\r\n        letterM = matrixHelper.toCSS();\r\n      } else if (renderType === 'svg') {\r\n        letterM = matrixHelper.to2dCSS();\r\n      } else {\r\n        letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\r\n      }\r\n      letterO = elemOpacity;\r\n    }\r\n\r\n    if (renderedLettersCount <= i) {\r\n      letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\r\n      this.renderedLetters.push(letterValue);\r\n      renderedLettersCount += 1;\r\n      this.lettersChangedFlag = true;\r\n    } else {\r\n      letterValue = this.renderedLetters[i];\r\n      this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\r\n    }\r\n  }\r\n};\r\n\r\nTextAnimatorProperty.prototype.getValue = function () {\r\n  if (this._elem.globalData.frameId === this._frameId) {\r\n    return;\r\n  }\r\n  this._frameId = this._elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n};\r\n\r\nTextAnimatorProperty.prototype.mHelper = new Matrix();\r\nTextAnimatorProperty.prototype.defaultPropsArray = [];\r\nextendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\r\n\r\n/* global PropertyFactory, degToRads, TextSelectorProp */\r\n/* exported TextAnimatorDataProperty */\r\n\r\nfunction TextAnimatorDataProperty(elem, animatorProps, container) {\r\n  var defaultData = { propType: false };\r\n  var getProp = PropertyFactory.getProp;\r\n  var textAnimatorAnimatables = animatorProps.a;\r\n  this.a = {\r\n    r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\r\n    rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\r\n    ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\r\n    sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\r\n    sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\r\n    s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\r\n    a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\r\n    o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\r\n    p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\r\n    sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\r\n    sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\r\n    fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\r\n    fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\r\n    fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\r\n    fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\r\n    t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData,\r\n  };\r\n\r\n  this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\r\n  this.s.t = animatorProps.s.t;\r\n}\r\n\r\nfunction LetterProps(o, sw, sc, fc, m, p) {\r\n  this.o = o;\r\n  this.sw = sw;\r\n  this.sc = sc;\r\n  this.fc = fc;\r\n  this.m = m;\r\n  this.p = p;\r\n  this._mdf = {\r\n    o: true,\r\n    sw: !!sw,\r\n    sc: !!sc,\r\n    fc: !!fc,\r\n    m: true,\r\n    p: true,\r\n  };\r\n}\r\n\r\nLetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\r\n  this._mdf.o = false;\r\n  this._mdf.sw = false;\r\n  this._mdf.sc = false;\r\n  this._mdf.fc = false;\r\n  this._mdf.m = false;\r\n  this._mdf.p = false;\r\n  var updated = false;\r\n\r\n  if (this.o !== o) {\r\n    this.o = o;\r\n    this._mdf.o = true;\r\n    updated = true;\r\n  }\r\n  if (this.sw !== sw) {\r\n    this.sw = sw;\r\n    this._mdf.sw = true;\r\n    updated = true;\r\n  }\r\n  if (this.sc !== sc) {\r\n    this.sc = sc;\r\n    this._mdf.sc = true;\r\n    updated = true;\r\n  }\r\n  if (this.fc !== fc) {\r\n    this.fc = fc;\r\n    this._mdf.fc = true;\r\n    updated = true;\r\n  }\r\n  if (this.m !== m) {\r\n    this.m = m;\r\n    this._mdf.m = true;\r\n    updated = true;\r\n  }\r\n  if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\r\n    this.p = p;\r\n    this._mdf.p = true;\r\n    updated = true;\r\n  }\r\n  return updated;\r\n};\r\n\r\n/* global FontManager, initialDefaultFrame, getFontProperties */\r\n/* exported TextProperty */\r\n\r\nfunction TextProperty(elem, data) {\r\n  this._frameId = initialDefaultFrame;\r\n  this.pv = '';\r\n  this.v = '';\r\n  this.kf = false;\r\n  this._isFirstFrame = true;\r\n  this._mdf = false;\r\n  this.data = data;\r\n  this.elem = elem;\r\n  this.comp = this.elem.comp;\r\n  this.keysIndex = 0;\r\n  this.canResize = false;\r\n  this.minimumFontSize = 1;\r\n  this.effectsSequence = [];\r\n  this.currentData = {\r\n    ascent: 0,\r\n    boxWidth: this.defaultBoxWidth,\r\n    f: '',\r\n    fStyle: '',\r\n    fWeight: '',\r\n    fc: '',\r\n    j: '',\r\n    justifyOffset: '',\r\n    l: [],\r\n    lh: 0,\r\n    lineWidths: [],\r\n    ls: '',\r\n    of: '',\r\n    s: '',\r\n    sc: '',\r\n    sw: 0,\r\n    t: 0,\r\n    tr: 0,\r\n    sz: 0,\r\n    ps: null,\r\n    fillColorAnim: false,\r\n    strokeColorAnim: false,\r\n    strokeWidthAnim: false,\r\n    yOffset: 0,\r\n    finalSize: 0,\r\n    finalText: [],\r\n    finalLineHeight: 0,\r\n    __complete: false,\r\n\r\n  };\r\n  this.copyData(this.currentData, this.data.d.k[0].s);\r\n\r\n  if (!this.searchProperty()) {\r\n    this.completeTextData(this.currentData);\r\n  }\r\n}\r\n\r\nTextProperty.prototype.defaultBoxWidth = [0, 0];\r\n\r\nTextProperty.prototype.copyData = function (obj, data) {\r\n  for (var s in data) {\r\n    if (Object.prototype.hasOwnProperty.call(data, s)) {\r\n      obj[s] = data[s];\r\n    }\r\n  }\r\n  return obj;\r\n};\r\n\r\nTextProperty.prototype.setCurrentData = function (data) {\r\n  if (!data.__complete) {\r\n    this.completeTextData(data);\r\n  }\r\n  this.currentData = data;\r\n  this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\r\n  this._mdf = true;\r\n};\r\n\r\nTextProperty.prototype.searchProperty = function () {\r\n  return this.searchKeyframes();\r\n};\r\n\r\nTextProperty.prototype.searchKeyframes = function () {\r\n  this.kf = this.data.d.k.length > 1;\r\n  if (this.kf) {\r\n    this.addEffect(this.getKeyframeValue.bind(this));\r\n  }\r\n  return this.kf;\r\n};\r\n\r\nTextProperty.prototype.addEffect = function (effectFunction) {\r\n  this.effectsSequence.push(effectFunction);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.getValue = function (_finalValue) {\r\n  if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\r\n    return;\r\n  }\r\n  this.currentData.t = this.data.d.k[this.keysIndex].s.t;\r\n  var currentValue = this.currentData;\r\n  var currentIndex = this.keysIndex;\r\n  if (this.lock) {\r\n    this.setCurrentData(this.currentData);\r\n    return;\r\n  }\r\n  this.lock = true;\r\n  this._mdf = false;\r\n  var i; var\r\n    len = this.effectsSequence.length;\r\n  var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\r\n  for (i = 0; i < len; i += 1) {\r\n    // Checking if index changed to prevent creating a new object every time the expression updates.\r\n    if (currentIndex !== this.keysIndex) {\r\n      finalValue = this.effectsSequence[i](finalValue, finalValue.t);\r\n    } else {\r\n      finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\r\n    }\r\n  }\r\n  if (currentValue !== finalValue) {\r\n    this.setCurrentData(finalValue);\r\n  }\r\n  this.v = this.currentData;\r\n  this.pv = this.v;\r\n  this.lock = false;\r\n  this.frameId = this.elem.globalData.frameId;\r\n};\r\n\r\nTextProperty.prototype.getKeyframeValue = function () {\r\n  var textKeys = this.data.d.k;\r\n  var frameNum = this.elem.comp.renderedFrame;\r\n  var i = 0; var\r\n    len = textKeys.length;\r\n  while (i <= len - 1) {\r\n    if (i === len - 1 || textKeys[i + 1].t > frameNum) {\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n  if (this.keysIndex !== i) {\r\n    this.keysIndex = i;\r\n  }\r\n  return this.data.d.k[this.keysIndex].s;\r\n};\r\n\r\nTextProperty.prototype.buildFinalText = function (text) {\r\n  var charactersArray = [];\r\n  var i = 0;\r\n  var len = text.length;\r\n  var charCode;\r\n  var secondCharCode;\r\n  var shouldCombine = false;\r\n  while (i < len) {\r\n    charCode = text.charCodeAt(i);\r\n    if (FontManager.isCombinedCharacter(charCode)) {\r\n      charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n    } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\r\n      secondCharCode = text.charCodeAt(i + 1);\r\n      if (secondCharCode >= 0xDC00 && secondCharCode <= 0xDFFF) {\r\n        if (shouldCombine || FontManager.isModifier(charCode, secondCharCode)) {\r\n          charactersArray[charactersArray.length - 1] += text.substr(i, 2);\r\n          shouldCombine = false;\r\n        } else {\r\n          charactersArray.push(text.substr(i, 2));\r\n        }\r\n        i += 1;\r\n      } else {\r\n        charactersArray.push(text.charAt(i));\r\n      }\r\n    } else if (charCode > 0xDBFF) {\r\n      secondCharCode = text.charCodeAt(i + 1);\r\n      if (FontManager.isZeroWidthJoiner(charCode, secondCharCode)) {\r\n        shouldCombine = true;\r\n        charactersArray[charactersArray.length - 1] += text.substr(i, 2);\r\n        i += 1;\r\n      } else {\r\n        charactersArray.push(text.charAt(i));\r\n      }\r\n    } else if (FontManager.isZeroWidthJoiner(charCode)) {\r\n      charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n      shouldCombine = true;\r\n    } else {\r\n      charactersArray.push(text.charAt(i));\r\n    }\r\n    i += 1;\r\n  }\r\n  return charactersArray;\r\n};\r\n\r\nTextProperty.prototype.completeTextData = function (documentData) {\r\n  documentData.__complete = true;\r\n  var fontManager = this.elem.globalData.fontManager;\r\n  var data = this.data;\r\n  var letters = [];\r\n  var i; var\r\n    len;\r\n  var newLineFlag; var index = 0; var\r\n    val;\r\n  var anchorGrouping = data.m.g;\r\n  var currentSize = 0; var currentPos = 0; var currentLine = 0; var\r\n    lineWidths = [];\r\n  var lineWidth = 0;\r\n  var maxLineWidth = 0;\r\n  var j; var\r\n    jLen;\r\n  var fontData = fontManager.getFontByName(documentData.f);\r\n  var charData; var\r\n    cLength = 0;\r\n\r\n  var fontProps = getFontProperties(fontData);\r\n  documentData.fWeight = fontProps.weight;\r\n  documentData.fStyle = fontProps.style;\r\n  documentData.finalSize = documentData.s;\r\n  documentData.finalText = this.buildFinalText(documentData.t);\r\n  len = documentData.finalText.length;\r\n  documentData.finalLineHeight = documentData.lh;\r\n  var trackingOffset = (documentData.tr / 1000) * documentData.finalSize;\r\n  var charCode;\r\n  if (documentData.sz) {\r\n    var flag = true;\r\n    var boxWidth = documentData.sz[0];\r\n    var boxHeight = documentData.sz[1];\r\n    var currentHeight; var\r\n      finalText;\r\n    while (flag) {\r\n      finalText = this.buildFinalText(documentData.t);\r\n      currentHeight = 0;\r\n      lineWidth = 0;\r\n      len = finalText.length;\r\n      trackingOffset = (documentData.tr / 1000) * documentData.finalSize;\r\n      var lastSpaceIndex = -1;\r\n      for (i = 0; i < len; i += 1) {\r\n        charCode = finalText[i].charCodeAt(0);\r\n        newLineFlag = false;\r\n        if (finalText[i] === ' ') {\r\n          lastSpaceIndex = i;\r\n        } else if (charCode === 13 || charCode === 3) {\r\n          lineWidth = 0;\r\n          newLineFlag = true;\r\n          currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n        }\r\n        if (fontManager.chars) {\r\n          charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\r\n          cLength = newLineFlag ? 0 : (charData.w * documentData.finalSize) / 100;\r\n        } else {\r\n          // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\r\n          cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\r\n        }\r\n        if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\r\n          if (lastSpaceIndex === -1) {\r\n            len += 1;\r\n          } else {\r\n            i = lastSpaceIndex;\r\n          }\r\n          currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n          finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r');\r\n          // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\r\n          lastSpaceIndex = -1;\r\n          lineWidth = 0;\r\n        } else {\r\n          lineWidth += cLength;\r\n          lineWidth += trackingOffset;\r\n        }\r\n      }\r\n      currentHeight += (fontData.ascent * documentData.finalSize) / 100;\r\n      if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\r\n        documentData.finalSize -= 1;\r\n        documentData.finalLineHeight = (documentData.finalSize * documentData.lh) / documentData.s;\r\n      } else {\r\n        documentData.finalText = finalText;\r\n        len = documentData.finalText.length;\r\n        flag = false;\r\n      }\r\n    }\r\n  }\r\n  lineWidth = -trackingOffset;\r\n  cLength = 0;\r\n  var uncollapsedSpaces = 0;\r\n  var currentChar;\r\n  for (i = 0; i < len; i += 1) {\r\n    newLineFlag = false;\r\n    currentChar = documentData.finalText[i];\r\n    charCode = currentChar.charCodeAt(0);\r\n    if (charCode === 13 || charCode === 3) {\r\n      uncollapsedSpaces = 0;\r\n      lineWidths.push(lineWidth);\r\n      maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n      lineWidth = -2 * trackingOffset;\r\n      val = '';\r\n      newLineFlag = true;\r\n      currentLine += 1;\r\n    } else {\r\n      val = currentChar;\r\n    }\r\n    if (fontManager.chars) {\r\n      charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\r\n      cLength = newLineFlag ? 0 : (charData.w * documentData.finalSize) / 100;\r\n    } else {\r\n      // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n      // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\r\n      cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n    }\r\n\r\n    //\r\n    if (currentChar === ' ') {\r\n      uncollapsedSpaces += cLength + trackingOffset;\r\n    } else {\r\n      lineWidth += cLength + trackingOffset + uncollapsedSpaces;\r\n      uncollapsedSpaces = 0;\r\n    }\r\n    letters.push({\r\n      l: cLength, an: cLength, add: currentSize, n: newLineFlag, anIndexes: [], val: val, line: currentLine, animatorJustifyOffset: 0,\r\n    });\r\n    if (anchorGrouping == 2) { // eslint-disable-line eqeqeq\r\n      currentSize += cLength;\r\n      if (val === '' || val === ' ' || i === len - 1) {\r\n        if (val === '' || val === ' ') {\r\n          currentSize -= cLength;\r\n        }\r\n        while (currentPos <= i) {\r\n          letters[currentPos].an = currentSize;\r\n          letters[currentPos].ind = index;\r\n          letters[currentPos].extra = cLength;\r\n          currentPos += 1;\r\n        }\r\n        index += 1;\r\n        currentSize = 0;\r\n      }\r\n    } else if (anchorGrouping == 3) { // eslint-disable-line eqeqeq\r\n      currentSize += cLength;\r\n      if (val === '' || i === len - 1) {\r\n        if (val === '') {\r\n          currentSize -= cLength;\r\n        }\r\n        while (currentPos <= i) {\r\n          letters[currentPos].an = currentSize;\r\n          letters[currentPos].ind = index;\r\n          letters[currentPos].extra = cLength;\r\n          currentPos += 1;\r\n        }\r\n        currentSize = 0;\r\n        index += 1;\r\n      }\r\n    } else {\r\n      letters[index].ind = index;\r\n      letters[index].extra = 0;\r\n      index += 1;\r\n    }\r\n  }\r\n  documentData.l = letters;\r\n  maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n  lineWidths.push(lineWidth);\r\n  if (documentData.sz) {\r\n    documentData.boxWidth = documentData.sz[0];\r\n    documentData.justifyOffset = 0;\r\n  } else {\r\n    documentData.boxWidth = maxLineWidth;\r\n    switch (documentData.j) {\r\n      case 1:\r\n        documentData.justifyOffset = -documentData.boxWidth;\r\n        break;\r\n      case 2:\r\n        documentData.justifyOffset = -documentData.boxWidth / 2;\r\n        break;\r\n      default:\r\n        documentData.justifyOffset = 0;\r\n    }\r\n  }\r\n  documentData.lineWidths = lineWidths;\r\n\r\n  var animators = data.a; var animatorData; var\r\n    letterData;\r\n  jLen = animators.length;\r\n  var based; var ind; var\r\n    indexes = [];\r\n  for (j = 0; j < jLen; j += 1) {\r\n    animatorData = animators[j];\r\n    if (animatorData.a.sc) {\r\n      documentData.strokeColorAnim = true;\r\n    }\r\n    if (animatorData.a.sw) {\r\n      documentData.strokeWidthAnim = true;\r\n    }\r\n    if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\r\n      documentData.fillColorAnim = true;\r\n    }\r\n    ind = 0;\r\n    based = animatorData.s.b;\r\n    for (i = 0; i < len; i += 1) {\r\n      letterData = letters[i];\r\n      letterData.anIndexes[j] = ind;\r\n      if ((based == 1 && letterData.val !== '') || (based == 2 && letterData.val !== '' && letterData.val !== ' ') || (based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1)) || (based == 4 && (letterData.n || i == len - 1))) { // eslint-disable-line eqeqeq\r\n        if (animatorData.s.rn === 1) {\r\n          indexes.push(ind);\r\n        }\r\n        ind += 1;\r\n      }\r\n    }\r\n    data.a[j].s.totalChars = ind;\r\n    var currentInd = -1; var\r\n      newInd;\r\n    if (animatorData.s.rn === 1) {\r\n      for (i = 0; i < len; i += 1) {\r\n        letterData = letters[i];\r\n        if (currentInd != letterData.anIndexes[j]) { // eslint-disable-line eqeqeq\r\n          currentInd = letterData.anIndexes[j];\r\n          newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\r\n        }\r\n        letterData.anIndexes[j] = newInd;\r\n      }\r\n    }\r\n  }\r\n  documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n  documentData.ls = documentData.ls || 0;\r\n  documentData.ascent = (fontData.ascent * documentData.finalSize) / 100;\r\n};\r\n\r\nTextProperty.prototype.updateDocumentData = function (newData, index) {\r\n  index = index === undefined ? this.keysIndex : index;\r\n  var dData = this.copyData({}, this.data.d.k[index].s);\r\n  dData = this.copyData(dData, newData);\r\n  this.data.d.k[index].s = dData;\r\n  this.recalculate(index);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.recalculate = function (index) {\r\n  var dData = this.data.d.k[index].s;\r\n  dData.__complete = false;\r\n  this.keysIndex = 0;\r\n  this._isFirstFrame = true;\r\n  this.getValue(dData);\r\n};\r\n\r\nTextProperty.prototype.canResizeFont = function (_canResize) {\r\n  this.canResize = _canResize;\r\n  this.recalculate(this.keysIndex);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.setMinimumFontSize = function (_fontValue) {\r\n  this.minimumFontSize = Math.floor(_fontValue) || 1;\r\n  this.recalculate(this.keysIndex);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\n/* global extendPrototype, BezierFactory, PropertyFactory, DynamicPropertyContainer */\r\n/* exported TextSelectorProp */\r\n\r\nvar TextSelectorProp = (function () {\r\n  var max = Math.max;\r\n  var min = Math.min;\r\n  var floor = Math.floor;\r\n\r\n  function TextSelectorPropFactory(elem, data) {\r\n    this._currentTextLength = -1;\r\n    this.k = false;\r\n    this.data = data;\r\n    this.elem = elem;\r\n    this.comp = elem.comp;\r\n    this.finalS = 0;\r\n    this.finalE = 0;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.s = PropertyFactory.getProp(elem, data.s || { k: 0 }, 0, 0, this);\r\n    if ('e' in data) {\r\n      this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\r\n    } else {\r\n      this.e = { v: 100 };\r\n    }\r\n    this.o = PropertyFactory.getProp(elem, data.o || { k: 0 }, 0, 0, this);\r\n    this.xe = PropertyFactory.getProp(elem, data.xe || { k: 0 }, 0, 0, this);\r\n    this.ne = PropertyFactory.getProp(elem, data.ne || { k: 0 }, 0, 0, this);\r\n    this.sm = PropertyFactory.getProp(elem, data.sm || { k: 100 }, 0, 0, this);\r\n    this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\r\n    if (!this.dynamicProperties.length) {\r\n      this.getValue();\r\n    }\r\n  }\r\n\r\n  TextSelectorPropFactory.prototype = {\r\n    getMult: function (ind) {\r\n      if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\r\n        this.getValue();\r\n      }\r\n      // var easer = bez.getEasingCurve(this.ne.v/100,0,1-this.xe.v/100,1);\r\n      var x1 = 0;\r\n      var y1 = 0;\r\n      var x2 = 1;\r\n      var y2 = 1;\r\n      if (this.ne.v > 0) {\r\n        x1 = this.ne.v / 100.0;\r\n      } else {\r\n        y1 = -this.ne.v / 100.0;\r\n      }\r\n      if (this.xe.v > 0) {\r\n        x2 = 1.0 - this.xe.v / 100.0;\r\n      } else {\r\n        y2 = 1.0 + this.xe.v / 100.0;\r\n      }\r\n      var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\r\n\r\n      var mult = 0;\r\n      var s = this.finalS;\r\n      var e = this.finalE;\r\n      var type = this.data.sh;\r\n      if (type === 2) {\r\n        if (e === s) {\r\n          mult = ind >= e ? 1 : 0;\r\n        } else {\r\n          mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 3) {\r\n        if (e === s) {\r\n          mult = ind >= e ? 0 : 1;\r\n        } else {\r\n          mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n        }\r\n\r\n        mult = easer(mult);\r\n      } else if (type === 4) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n          if (mult < 0.5) {\r\n            mult *= 2;\r\n          } else {\r\n            mult = 1 - 2 * (mult - 0.5);\r\n          }\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 5) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          var tot = e - s;\r\n          /* ind += 0.5;\r\n                    mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\r\n          ind = min(max(0, ind + 0.5 - s), e - s);\r\n          var x = -tot / 2 + ind;\r\n          var a = tot / 2;\r\n          mult = Math.sqrt(1 - (x * x) / (a * a));\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 6) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          ind = min(max(0, ind + 0.5 - s), e - s);\r\n          mult = (1 + (Math.cos((Math.PI + Math.PI * 2 * (ind) / (e - s))))) / 2; // eslint-disable-line\r\n        }\r\n        mult = easer(mult);\r\n      } else {\r\n        if (ind >= floor(s)) {\r\n          if (ind - s < 0) {\r\n            mult = max(0, min(min(e, 1) - (s - ind), 1));\r\n          } else {\r\n            mult = max(0, min(e - ind, 1));\r\n          }\r\n        }\r\n        mult = easer(mult);\r\n      }\r\n      // Smoothness implementation.\r\n      // The smoothness represents a reduced range of the original [0; 1] range.\r\n      // if smoothness is 25%, the new range will be [0.375; 0.625]\r\n      // Steps are:\r\n      // - find the lower value of the new range (threshold)\r\n      // - if multiplier is smaller than that value, floor it to 0\r\n      // - if it is larger,\r\n      //     - subtract the threshold\r\n      //     - divide it by the smoothness (this will return the range to [0; 1])\r\n      // Note: If it doesn't work on some scenarios, consider applying it before the easer.\r\n      if (this.sm.v !== 100) {\r\n        var smoothness = this.sm.v * 0.01;\r\n        if (smoothness === 0) {\r\n          smoothness = 0.00000001;\r\n        }\r\n        var threshold = 0.5 - smoothness * 0.5;\r\n        if (mult < threshold) {\r\n          mult = 0;\r\n        } else {\r\n          mult = (mult - threshold) / smoothness;\r\n          if (mult > 1) {\r\n            mult = 1;\r\n          }\r\n        }\r\n      }\r\n      return mult * this.a.v;\r\n    },\r\n    getValue: function (newCharsFlag) {\r\n      this.iterateDynamicProperties();\r\n      this._mdf = newCharsFlag || this._mdf;\r\n      this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\r\n      if (newCharsFlag && this.data.r === 2) {\r\n        this.e.v = this._currentTextLength;\r\n      }\r\n      var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\r\n      var o = this.o.v / divisor;\r\n      var s = this.s.v / divisor + o;\r\n      var e = (this.e.v / divisor) + o;\r\n      if (s > e) {\r\n        var _s = s;\r\n        s = e;\r\n        e = _s;\r\n      }\r\n      this.finalS = s;\r\n      this.finalE = e;\r\n    },\r\n  };\r\n  extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\r\n\r\n  function getTextSelectorProp(elem, data, arr) {\r\n    return new TextSelectorPropFactory(elem, data, arr);\r\n  }\r\n\r\n  return {\r\n    getTextSelectorProp: getTextSelectorProp,\r\n  };\r\n}());\r\n\r\n/* global createSizedArray, pooling */\r\n/* exported poolFactory */\r\n\r\nvar poolFactory = (function () {\r\n  return function (initialLength, _create, _release) {\r\n    var _length = 0;\r\n    var _maxLength = initialLength;\r\n    var pool = createSizedArray(_maxLength);\r\n\r\n    var ob = {\r\n      newElement: newElement,\r\n      release: release,\r\n    };\r\n\r\n    function newElement() {\r\n      var element;\r\n      if (_length) {\r\n        _length -= 1;\r\n        element = pool[_length];\r\n      } else {\r\n        element = _create();\r\n      }\r\n      return element;\r\n    }\r\n\r\n    function release(element) {\r\n      if (_length === _maxLength) {\r\n        pool = pooling.double(pool);\r\n        _maxLength *= 2;\r\n      }\r\n      if (_release) {\r\n        _release(element);\r\n      }\r\n      pool[_length] = element;\r\n      _length += 1;\r\n    }\r\n\r\n    return ob;\r\n  };\r\n}());\r\n\r\n/* global createSizedArray */\r\n/* exported pooling */\r\n\r\nvar pooling = (function () {\r\n  function double(arr) {\r\n    return arr.concat(createSizedArray(arr.length));\r\n  }\r\n\r\n  return {\r\n    double: double,\r\n  };\r\n}());\r\n\r\n/* global createTypedArray, poolFactory */\r\n/* exported pointPool */\r\n\r\nvar pointPool = (function () {\r\n  function create() {\r\n    return createTypedArray('float32', 2);\r\n  }\r\n  return poolFactory(8, create);\r\n}());\r\n\r\n/* global ShapePath, pointPool, poolFactory */\r\n/* exported shapePool */\r\n\r\nvar shapePool = (function () {\r\n  function create() {\r\n    return new ShapePath();\r\n  }\r\n\r\n  function release(shapePath) {\r\n    var len = shapePath._length;\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      pointPool.release(shapePath.v[i]);\r\n      pointPool.release(shapePath.i[i]);\r\n      pointPool.release(shapePath.o[i]);\r\n      shapePath.v[i] = null;\r\n      shapePath.i[i] = null;\r\n      shapePath.o[i] = null;\r\n    }\r\n    shapePath._length = 0;\r\n    shapePath.c = false;\r\n  }\r\n\r\n  function clone(shape) {\r\n    var cloned = factory.newElement();\r\n    var i;\r\n    var len = shape._length === undefined ? shape.v.length : shape._length;\r\n    cloned.setLength(len);\r\n    cloned.c = shape.c;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\r\n    }\r\n    return cloned;\r\n  }\r\n\r\n  var factory = poolFactory(4, create, release);\r\n  factory.clone = clone;\r\n\r\n  return factory;\r\n}());\r\n\r\n/* global createSizedArray, ShapeCollection, shapePool, pooling */\r\n/* exported shapeCollectionPool */\r\n\r\nvar shapeCollectionPool = (function () {\r\n  var ob = {\r\n    newShapeCollection: newShapeCollection,\r\n    release: release,\r\n  };\r\n\r\n  var _length = 0;\r\n  var _maxLength = 4;\r\n  var pool = createSizedArray(_maxLength);\r\n\r\n  function newShapeCollection() {\r\n    var shapeCollection;\r\n    if (_length) {\r\n      _length -= 1;\r\n      shapeCollection = pool[_length];\r\n    } else {\r\n      shapeCollection = new ShapeCollection();\r\n    }\r\n    return shapeCollection;\r\n  }\r\n\r\n  function release(shapeCollection) {\r\n    var i;\r\n    var len = shapeCollection._length;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapePool.release(shapeCollection.shapes[i]);\r\n    }\r\n    shapeCollection._length = 0;\r\n\r\n    if (_length === _maxLength) {\r\n      pool = pooling.double(pool);\r\n      _maxLength *= 2;\r\n    }\r\n    pool[_length] = shapeCollection;\r\n    _length += 1;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global poolFactory, bezierLengthPool */\r\n/* exported segmentsLengthPool */\r\n\r\nvar segmentsLengthPool = (function () {\r\n  function create() {\r\n    return {\r\n      lengths: [],\r\n      totalLength: 0,\r\n    };\r\n  }\r\n\r\n  function release(element) {\r\n    var i;\r\n    var len = element.lengths.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      bezierLengthPool.release(element.lengths[i]);\r\n    }\r\n    element.lengths.length = 0;\r\n  }\r\n\r\n  return poolFactory(8, create, release);\r\n}());\r\n\r\n/* global createTypedArray, defaultCurveSegments, poolFactory */\r\n/* exported bezierLengthPool */\r\n\r\nvar bezierLengthPool = (function () {\r\n  function create() {\r\n    return {\r\n      addedLength: 0,\r\n      percents: createTypedArray('float32', defaultCurveSegments),\r\n      lengths: createTypedArray('float32', defaultCurveSegments),\r\n    };\r\n  }\r\n  return poolFactory(8, create);\r\n}());\r\n\r\n/* exported markerParser */\r\n\r\nvar markerParser = (\r\n\r\n  function () {\r\n    function parsePayloadLines(payload) {\r\n      var lines = payload.split('\\r\\n');\r\n      var keys = {};\r\n      var line;\r\n      var keysCount = 0;\r\n      for (var i = 0; i < lines.length; i += 1) {\r\n        line = lines[i].split(':');\r\n        if (line.length === 2) {\r\n          keys[line[0]] = line[1].trim();\r\n          keysCount += 1;\r\n        }\r\n      }\r\n      if (keysCount === 0) {\r\n        throw new Error();\r\n      }\r\n      return keys;\r\n    }\r\n\r\n    return function (_markers) {\r\n      var markers = [];\r\n      for (var i = 0; i < _markers.length; i += 1) {\r\n        var _marker = _markers[i];\r\n        var markerData = {\r\n          time: _marker.tm,\r\n          duration: _marker.dr,\r\n        };\r\n        try {\r\n          markerData.payload = JSON.parse(_markers[i].cm);\r\n        } catch (_) {\r\n          try {\r\n            markerData.payload = parsePayloadLines(_markers[i].cm);\r\n          } catch (__) {\r\n            markerData.payload = {\r\n              name: _markers[i],\r\n            };\r\n          }\r\n        }\r\n        markers.push(markerData);\r\n      }\r\n      return markers;\r\n    };\r\n  }());\r\n\r\n/* global AudioElement, FootageElement, FontManager */\r\n\r\nfunction BaseRenderer() {}\r\nBaseRenderer.prototype.checkLayers = function (num) {\r\n  var i;\r\n  var len = this.layers.length;\r\n  var data;\r\n  this.completeLayers = true;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (!this.elements[i]) {\r\n      data = this.layers[i];\r\n      if (data.ip - data.st <= (num - this.layers[i].st) && data.op - data.st > (num - this.layers[i].st)) {\r\n        this.buildItem(i);\r\n      }\r\n    }\r\n    this.completeLayers = this.elements[i] ? this.completeLayers : false;\r\n  }\r\n  this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.createItem = function (layer) {\r\n  switch (layer.ty) {\r\n    case 2:\r\n      return this.createImage(layer);\r\n    case 0:\r\n      return this.createComp(layer);\r\n    case 1:\r\n      return this.createSolid(layer);\r\n    case 3:\r\n      return this.createNull(layer);\r\n    case 4:\r\n      return this.createShape(layer);\r\n    case 5:\r\n      return this.createText(layer);\r\n    case 6:\r\n      return this.createAudio(layer);\r\n    case 13:\r\n      return this.createCamera(layer);\r\n    case 15:\r\n      return this.createFootage(layer);\r\n    default:\r\n      return this.createNull(layer);\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.createCamera = function () {\r\n  throw new Error('You\\'re using a 3d camera. Try the html renderer.');\r\n};\r\n\r\nBaseRenderer.prototype.createAudio = function (data) {\r\n  return new AudioElement(data, this.globalData, this);\r\n};\r\n\r\nBaseRenderer.prototype.createFootage = function (data) {\r\n  return new FootageElement(data, this.globalData, this);\r\n};\r\n\r\nBaseRenderer.prototype.buildAllItems = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.buildItem(i);\r\n  }\r\n  this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.includeLayers = function (newLayers) {\r\n  this.completeLayers = false;\r\n  var i;\r\n  var len = newLayers.length;\r\n  var j;\r\n  var jLen = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    j = 0;\r\n    while (j < jLen) {\r\n      if (this.layers[j].id === newLayers[i].id) {\r\n        this.layers[j] = newLayers[i];\r\n        break;\r\n      }\r\n      j += 1;\r\n    }\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.setProjectInterface = function (pInterface) {\r\n  this.globalData.projectInterface = pInterface;\r\n};\r\n\r\nBaseRenderer.prototype.initItems = function () {\r\n  if (!this.globalData.progressiveLoad) {\r\n    this.buildAllItems();\r\n  }\r\n};\r\nBaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\r\n  var elements = this.elements;\r\n  var layers = this.layers;\r\n  var i = 0;\r\n  var len = layers.length;\r\n  while (i < len) {\r\n    if (layers[i].ind == parentName) { // eslint-disable-line eqeqeq\r\n      if (!elements[i] || elements[i] === true) {\r\n        this.buildItem(i);\r\n        this.addPendingElement(element);\r\n      } else {\r\n        hierarchy.push(elements[i]);\r\n        elements[i].setAsParent();\r\n        if (layers[i].parent !== undefined) {\r\n          this.buildElementParenting(element, layers[i].parent, hierarchy);\r\n        } else {\r\n          element.setHierarchy(hierarchy);\r\n        }\r\n      }\r\n    }\r\n    i += 1;\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.addPendingElement = function (element) {\r\n  this.pendingElements.push(element);\r\n};\r\n\r\nBaseRenderer.prototype.searchExtraCompositions = function (assets) {\r\n  var i;\r\n  var len = assets.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (assets[i].xt) {\r\n      var comp = this.createComp(assets[i]);\r\n      comp.initExpressions();\r\n      this.globalData.projectInterface.registerComposition(comp);\r\n    }\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\r\n  this.globalData.fontManager = new FontManager();\r\n  this.globalData.fontManager.addChars(animData.chars);\r\n  this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\r\n  this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\r\n  this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\r\n  this.globalData.imageLoader = this.animationItem.imagePreloader;\r\n  this.globalData.audioController = this.animationItem.audioController;\r\n  this.globalData.frameId = 0;\r\n  this.globalData.frameRate = animData.fr;\r\n  this.globalData.nm = animData.nm;\r\n  this.globalData.compSize = {\r\n    w: animData.w,\r\n    h: animData.h,\r\n  };\r\n};\r\n\r\n/* global createElementID, extendPrototype, BaseRenderer, NullElement, SVGShapeElement, SVGTextLottieElement,\r\nIImageElement, SVGCompElement, ISolidElement, createNS, locationHref, createSizedArray, expressionsPlugin */\r\n\r\nfunction SVGRenderer(animationItem, config) {\r\n  this.animationItem = animationItem;\r\n  this.layers = null;\r\n  this.renderedFrame = -1;\r\n  this.svgElement = createNS('svg');\r\n  var ariaLabel = '';\r\n  if (config && config.title) {\r\n    var titleElement = createNS('title');\r\n    var titleId = createElementID();\r\n    titleElement.setAttribute('id', titleId);\r\n    titleElement.textContent = config.title;\r\n    this.svgElement.appendChild(titleElement);\r\n    ariaLabel += titleId;\r\n  }\r\n  if (config && config.description) {\r\n    var descElement = createNS('desc');\r\n    var descId = createElementID();\r\n    descElement.setAttribute('id', descId);\r\n    descElement.textContent = config.description;\r\n    this.svgElement.appendChild(descElement);\r\n    ariaLabel += ' ' + descId;\r\n  }\r\n  if (ariaLabel) {\r\n    this.svgElement.setAttribute('aria-labelledby', ariaLabel);\r\n  }\r\n  var defs = createNS('defs');\r\n  this.svgElement.appendChild(defs);\r\n  var maskElement = createNS('g');\r\n  this.svgElement.appendChild(maskElement);\r\n  this.layerElement = maskElement;\r\n  this.renderConfig = {\r\n    preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n    contentVisibility: (config && config.contentVisibility) || 'visible',\r\n    progressiveLoad: (config && config.progressiveLoad) || false,\r\n    hideOnTransparent: !((config && config.hideOnTransparent === false)),\r\n    viewBoxOnly: (config && config.viewBoxOnly) || false,\r\n    viewBoxSize: (config && config.viewBoxSize) || false,\r\n    className: (config && config.className) || '',\r\n    id: (config && config.id) || '',\r\n    focusable: config && config.focusable,\r\n    filterSize: {\r\n      width: (config && config.filterSize && config.filterSize.width) || '100%',\r\n      height: (config && config.filterSize && config.filterSize.height) || '100%',\r\n      x: (config && config.filterSize && config.filterSize.x) || '0%',\r\n      y: (config && config.filterSize && config.filterSize.y) || '0%',\r\n    },\r\n  };\r\n\r\n  this.globalData = {\r\n    _mdf: false,\r\n    frameNum: -1,\r\n    defs: defs,\r\n    renderConfig: this.renderConfig,\r\n  };\r\n  this.elements = [];\r\n  this.pendingElements = [];\r\n  this.destroyed = false;\r\n  this.rendererType = 'svg';\r\n}\r\n\r\nextendPrototype([BaseRenderer], SVGRenderer);\r\n\r\nSVGRenderer.prototype.createNull = function (data) {\r\n  return new NullElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createShape = function (data) {\r\n  return new SVGShapeElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createText = function (data) {\r\n  return new SVGTextLottieElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createImage = function (data) {\r\n  return new IImageElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createComp = function (data) {\r\n  return new SVGCompElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createSolid = function (data) {\r\n  return new ISolidElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.configAnimation = function (animData) {\r\n  this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\r\n  if (this.renderConfig.viewBoxSize) {\r\n    this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\r\n  } else {\r\n    this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\r\n  }\r\n\r\n  if (!this.renderConfig.viewBoxOnly) {\r\n    this.svgElement.setAttribute('width', animData.w);\r\n    this.svgElement.setAttribute('height', animData.h);\r\n    this.svgElement.style.width = '100%';\r\n    this.svgElement.style.height = '100%';\r\n    this.svgElement.style.transform = 'translate3d(0,0,0)';\r\n    this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility;\r\n  }\r\n  if (this.renderConfig.className) {\r\n    this.svgElement.setAttribute('class', this.renderConfig.className);\r\n  }\r\n  if (this.renderConfig.id) {\r\n    this.svgElement.setAttribute('id', this.renderConfig.id);\r\n  }\r\n  if (this.renderConfig.focusable !== undefined) {\r\n    this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\r\n  }\r\n  this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio);\r\n  // this.layerElement.style.transform = 'translate3d(0,0,0)';\r\n  // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\r\n  this.animationItem.wrapper.appendChild(this.svgElement);\r\n  // Mask animation\r\n  var defs = this.globalData.defs;\r\n\r\n  this.setupGlobalData(animData, defs);\r\n  this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n  this.data = animData;\r\n\r\n  var maskElement = createNS('clipPath');\r\n  var rect = createNS('rect');\r\n  rect.setAttribute('width', animData.w);\r\n  rect.setAttribute('height', animData.h);\r\n  rect.setAttribute('x', 0);\r\n  rect.setAttribute('y', 0);\r\n  var maskId = createElementID();\r\n  maskElement.setAttribute('id', maskId);\r\n  maskElement.appendChild(rect);\r\n  this.layerElement.setAttribute('clip-path', 'url(' + locationHref + '#' + maskId + ')');\r\n\r\n  defs.appendChild(maskElement);\r\n  this.layers = animData.layers;\r\n  this.elements = createSizedArray(animData.layers.length);\r\n};\r\n\r\nSVGRenderer.prototype.destroy = function () {\r\n  if (this.animationItem.wrapper) {\r\n    this.animationItem.wrapper.innerText = '';\r\n  }\r\n  this.layerElement = null;\r\n  this.globalData.defs = null;\r\n  var i;\r\n  var len = this.layers ? this.layers.length : 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n  this.elements.length = 0;\r\n  this.destroyed = true;\r\n  this.animationItem = null;\r\n};\r\n\r\nSVGRenderer.prototype.updateContainerSize = function () {\r\n};\r\n\r\nSVGRenderer.prototype.buildItem = function (pos) {\r\n  var elements = this.elements;\r\n  if (elements[pos] || this.layers[pos].ty === 99) {\r\n    return;\r\n  }\r\n  elements[pos] = true;\r\n  var element = this.createItem(this.layers[pos]);\r\n\r\n  elements[pos] = element;\r\n  if (expressionsPlugin) {\r\n    if (this.layers[pos].ty === 0) {\r\n      this.globalData.projectInterface.registerComposition(element);\r\n    }\r\n    element.initExpressions();\r\n  }\r\n  this.appendElementInPos(element, pos);\r\n  if (this.layers[pos].tt) {\r\n    if (!this.elements[pos - 1] || this.elements[pos - 1] === true) {\r\n      this.buildItem(pos - 1);\r\n      this.addPendingElement(element);\r\n    } else {\r\n      element.setMatte(elements[pos - 1].layerId);\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.checkPendingElements = function () {\r\n  while (this.pendingElements.length) {\r\n    var element = this.pendingElements.pop();\r\n    element.checkParenting();\r\n    if (element.data.tt) {\r\n      var i = 0;\r\n      var len = this.elements.length;\r\n      while (i < len) {\r\n        if (this.elements[i] === element) {\r\n          element.setMatte(this.elements[i - 1].layerId);\r\n          break;\r\n        }\r\n        i += 1;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.renderFrame = function (num) {\r\n  if (this.renderedFrame === num || this.destroyed) {\r\n    return;\r\n  }\r\n  if (num === null) {\r\n    num = this.renderedFrame;\r\n  } else {\r\n    this.renderedFrame = num;\r\n  }\r\n  // console.log('-------');\r\n  // console.log('FRAME ',num);\r\n  this.globalData.frameNum = num;\r\n  this.globalData.frameId += 1;\r\n  this.globalData.projectInterface.currentFrame = num;\r\n  this.globalData._mdf = false;\r\n  var i;\r\n  var len = this.layers.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(num);\r\n  }\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(num - this.layers[i].st);\r\n    }\r\n  }\r\n  if (this.globalData._mdf) {\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].renderFrame();\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.appendElementInPos = function (element, pos) {\r\n  var newElement = element.getBaseElement();\r\n  if (!newElement) {\r\n    return;\r\n  }\r\n  var i = 0;\r\n  var nextElement;\r\n  while (i < pos) {\r\n    if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\r\n      nextElement = this.elements[i].getBaseElement();\r\n    }\r\n    i += 1;\r\n  }\r\n  if (nextElement) {\r\n    this.layerElement.insertBefore(newElement, nextElement);\r\n  } else {\r\n    this.layerElement.appendChild(newElement);\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.hide = function () {\r\n  this.layerElement.style.display = 'none';\r\n};\r\n\r\nSVGRenderer.prototype.show = function () {\r\n  this.layerElement.style.display = 'block';\r\n};\r\n\r\n/* global CVContextData, Matrix, extendPrototype, BaseRenderer, CVShapeElement, CVTextElement,\r\nCVImageElement, CVCompElement, CVSolidElement, SVGRenderer, createTag, createSizedArray */\r\n\r\nfunction CanvasRenderer(animationItem, config) {\r\n  this.animationItem = animationItem;\r\n  this.renderConfig = {\r\n    clearCanvas: (config && config.clearCanvas !== undefined) ? config.clearCanvas : true,\r\n    context: (config && config.context) || null,\r\n    progressiveLoad: (config && config.progressiveLoad) || false,\r\n    preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n    contentVisibility: (config && config.contentVisibility) || 'visible',\r\n    className: (config && config.className) || '',\r\n    id: (config && config.id) || '',\r\n  };\r\n  this.renderConfig.dpr = (config && config.dpr) || 1;\r\n  if (this.animationItem.wrapper) {\r\n    this.renderConfig.dpr = (config && config.dpr) || window.devicePixelRatio || 1;\r\n  }\r\n  this.renderedFrame = -1;\r\n  this.globalData = {\r\n    frameNum: -1,\r\n    _mdf: false,\r\n    renderConfig: this.renderConfig,\r\n    currentGlobalAlpha: -1,\r\n  };\r\n  this.contextData = new CVContextData();\r\n  this.elements = [];\r\n  this.pendingElements = [];\r\n  this.transformMat = new Matrix();\r\n  this.completeLayers = false;\r\n  this.rendererType = 'canvas';\r\n}\r\nextendPrototype([BaseRenderer], CanvasRenderer);\r\n\r\nCanvasRenderer.prototype.createShape = function (data) {\r\n  return new CVShapeElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createText = function (data) {\r\n  return new CVTextElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createImage = function (data) {\r\n  return new CVImageElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createComp = function (data) {\r\n  return new CVCompElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createSolid = function (data) {\r\n  return new CVSolidElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nCanvasRenderer.prototype.ctxTransform = function (props) {\r\n  if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\r\n    return;\r\n  }\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\r\n    return;\r\n  }\r\n  this.transformMat.cloneFromProps(props);\r\n  var cProps = this.contextData.cTr.props;\r\n  this.transformMat.transform(cProps[0], cProps[1], cProps[2], cProps[3], cProps[4], cProps[5], cProps[6], cProps[7], cProps[8], cProps[9], cProps[10], cProps[11], cProps[12], cProps[13], cProps[14], cProps[15]);\r\n  // this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n  this.contextData.cTr.cloneFromProps(this.transformMat.props);\r\n  var trProps = this.contextData.cTr.props;\r\n  this.canvasContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\r\n};\r\n\r\nCanvasRenderer.prototype.ctxOpacity = function (op) {\r\n  /* if(op === 1){\r\n        return;\r\n    } */\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\r\n    this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n    return;\r\n  }\r\n  this.contextData.cO *= op < 0 ? 0 : op;\r\n  if (this.globalData.currentGlobalAlpha !== this.contextData.cO) {\r\n    this.canvasContext.globalAlpha = this.contextData.cO;\r\n    this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.reset = function () {\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.restore();\r\n    return;\r\n  }\r\n  this.contextData.reset();\r\n};\r\n\r\nCanvasRenderer.prototype.save = function (actionFlag) {\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.save();\r\n    return;\r\n  }\r\n  if (actionFlag) {\r\n    this.canvasContext.save();\r\n  }\r\n  var props = this.contextData.cTr.props;\r\n  if (this.contextData._length <= this.contextData.cArrPos) {\r\n    this.contextData.duplicate();\r\n  }\r\n  var i;\r\n  var arr = this.contextData.saved[this.contextData.cArrPos];\r\n  for (i = 0; i < 16; i += 1) {\r\n    arr[i] = props[i];\r\n  }\r\n  this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\r\n  this.contextData.cArrPos += 1;\r\n};\r\n\r\nCanvasRenderer.prototype.restore = function (actionFlag) {\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.restore();\r\n    return;\r\n  }\r\n  if (actionFlag) {\r\n    this.canvasContext.restore();\r\n    this.globalData.blendMode = 'source-over';\r\n  }\r\n  this.contextData.cArrPos -= 1;\r\n  var popped = this.contextData.saved[this.contextData.cArrPos];\r\n  var i;\r\n  var arr = this.contextData.cTr.props;\r\n  for (i = 0; i < 16; i += 1) {\r\n    arr[i] = popped[i];\r\n  }\r\n  this.canvasContext.setTransform(popped[0], popped[1], popped[4], popped[5], popped[12], popped[13]);\r\n  popped = this.contextData.savedOp[this.contextData.cArrPos];\r\n  this.contextData.cO = popped;\r\n  if (this.globalData.currentGlobalAlpha !== popped) {\r\n    this.canvasContext.globalAlpha = popped;\r\n    this.globalData.currentGlobalAlpha = popped;\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.configAnimation = function (animData) {\r\n  if (this.animationItem.wrapper) {\r\n    this.animationItem.container = createTag('canvas');\r\n    var containerStyle = this.animationItem.container.style;\r\n    containerStyle.width = '100%';\r\n    containerStyle.height = '100%';\r\n    var origin = '0px 0px 0px';\r\n    containerStyle.transformOrigin = origin;\r\n    containerStyle.mozTransformOrigin = origin;\r\n    containerStyle.webkitTransformOrigin = origin;\r\n    containerStyle['-webkit-transform'] = origin;\r\n    containerStyle.contentVisibility = this.renderConfig.contentVisibility;\r\n    this.animationItem.wrapper.appendChild(this.animationItem.container);\r\n    this.canvasContext = this.animationItem.container.getContext('2d');\r\n    if (this.renderConfig.className) {\r\n      this.animationItem.container.setAttribute('class', this.renderConfig.className);\r\n    }\r\n    if (this.renderConfig.id) {\r\n      this.animationItem.container.setAttribute('id', this.renderConfig.id);\r\n    }\r\n  } else {\r\n    this.canvasContext = this.renderConfig.context;\r\n  }\r\n  this.data = animData;\r\n  this.layers = animData.layers;\r\n  this.transformCanvas = {\r\n    w: animData.w,\r\n    h: animData.h,\r\n    sx: 0,\r\n    sy: 0,\r\n    tx: 0,\r\n    ty: 0,\r\n  };\r\n  this.setupGlobalData(animData, document.body);\r\n  this.globalData.canvasContext = this.canvasContext;\r\n  this.globalData.renderer = this;\r\n  this.globalData.isDashed = false;\r\n  this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n  this.globalData.transformCanvas = this.transformCanvas;\r\n  this.elements = createSizedArray(animData.layers.length);\r\n\r\n  this.updateContainerSize();\r\n};\r\n\r\nCanvasRenderer.prototype.updateContainerSize = function () {\r\n  this.reset();\r\n  var elementWidth;\r\n  var elementHeight;\r\n  if (this.animationItem.wrapper && this.animationItem.container) {\r\n    elementWidth = this.animationItem.wrapper.offsetWidth;\r\n    elementHeight = this.animationItem.wrapper.offsetHeight;\r\n    this.animationItem.container.setAttribute('width', elementWidth * this.renderConfig.dpr);\r\n    this.animationItem.container.setAttribute('height', elementHeight * this.renderConfig.dpr);\r\n  } else {\r\n    elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\r\n    elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\r\n  }\r\n  var elementRel;\r\n  var animationRel;\r\n  if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\r\n    var par = this.renderConfig.preserveAspectRatio.split(' ');\r\n    var fillType = par[1] || 'meet';\r\n    var pos = par[0] || 'xMidYMid';\r\n    var xPos = pos.substr(0, 4);\r\n    var yPos = pos.substr(4);\r\n    elementRel = elementWidth / elementHeight;\r\n    animationRel = this.transformCanvas.w / this.transformCanvas.h;\r\n    if ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice')) {\r\n      this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n      this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n    } else {\r\n      this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n      this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n    }\r\n\r\n    if (xPos === 'xMid' && ((animationRel < elementRel && fillType === 'meet') || (animationRel > elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.tx = ((elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2) * this.renderConfig.dpr;\r\n    } else if (xPos === 'xMax' && ((animationRel < elementRel && fillType === 'meet') || (animationRel > elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\r\n    } else {\r\n      this.transformCanvas.tx = 0;\r\n    }\r\n    if (yPos === 'YMid' && ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.ty = ((elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2) * this.renderConfig.dpr;\r\n    } else if (yPos === 'YMax' && ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.ty = ((elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w))) * this.renderConfig.dpr;\r\n    } else {\r\n      this.transformCanvas.ty = 0;\r\n    }\r\n  } else if (this.renderConfig.preserveAspectRatio === 'none') {\r\n    this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n    this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n    this.transformCanvas.tx = 0;\r\n    this.transformCanvas.ty = 0;\r\n  } else {\r\n    this.transformCanvas.sx = this.renderConfig.dpr;\r\n    this.transformCanvas.sy = this.renderConfig.dpr;\r\n    this.transformCanvas.tx = 0;\r\n    this.transformCanvas.ty = 0;\r\n  }\r\n  this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\r\n  /* var i, len = this.elements.length;\r\n    for(i=0;i<len;i+=1){\r\n        if(this.elements[i] && this.elements[i].data.ty === 0){\r\n            this.elements[i].resize(this.globalData.transformCanvas);\r\n        }\r\n    } */\r\n  this.ctxTransform(this.transformCanvas.props);\r\n  this.canvasContext.beginPath();\r\n  this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n  this.canvasContext.closePath();\r\n  this.canvasContext.clip();\r\n\r\n  this.renderFrame(this.renderedFrame, true);\r\n};\r\n\r\nCanvasRenderer.prototype.destroy = function () {\r\n  if (this.renderConfig.clearCanvas && this.animationItem.wrapper) {\r\n    this.animationItem.wrapper.innerText = '';\r\n  }\r\n  var i;\r\n  var len = this.layers ? this.layers.length : 0;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n  this.elements.length = 0;\r\n  this.globalData.canvasContext = null;\r\n  this.animationItem.container = null;\r\n  this.destroyed = true;\r\n};\r\n\r\nCanvasRenderer.prototype.renderFrame = function (num, forceRender) {\r\n  if ((this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender) || this.destroyed || num === -1) {\r\n    return;\r\n  }\r\n  this.renderedFrame = num;\r\n  this.globalData.frameNum = num - this.animationItem._isFirstFrame;\r\n  this.globalData.frameId += 1;\r\n  this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\r\n  this.globalData.projectInterface.currentFrame = num;\r\n\r\n  // console.log('--------');\r\n  // console.log('NEW: ',num);\r\n  var i;\r\n  var len = this.layers.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(num);\r\n  }\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(num - this.layers[i].st);\r\n    }\r\n  }\r\n  if (this.globalData._mdf) {\r\n    if (this.renderConfig.clearCanvas === true) {\r\n      this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n    } else {\r\n      this.save();\r\n    }\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].renderFrame();\r\n      }\r\n    }\r\n    if (this.renderConfig.clearCanvas !== true) {\r\n      this.restore();\r\n    }\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.buildItem = function (pos) {\r\n  var elements = this.elements;\r\n  if (elements[pos] || this.layers[pos].ty === 99) {\r\n    return;\r\n  }\r\n  var element = this.createItem(this.layers[pos], this, this.globalData);\r\n  elements[pos] = element;\r\n  element.initExpressions();\r\n  /* if(this.layers[pos].ty === 0){\r\n        element.resize(this.globalData.transformCanvas);\r\n    } */\r\n};\r\n\r\nCanvasRenderer.prototype.checkPendingElements = function () {\r\n  while (this.pendingElements.length) {\r\n    var element = this.pendingElements.pop();\r\n    element.checkParenting();\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.hide = function () {\r\n  this.animationItem.container.style.display = 'none';\r\n};\r\n\r\nCanvasRenderer.prototype.show = function () {\r\n  this.animationItem.container.style.display = 'block';\r\n};\r\n\r\n/* global extendPrototype, BaseRenderer, SVGRenderer, SVGShapeElement, HShapeElement, SVGTextLottieElement,\r\nHTextElement, HCameraElement, IImageElement, HImageElement, SVGCompElement, HCompElement, ISolidElement,\r\nHSolidElement, styleDiv, createTag, createNS */\r\n\r\nfunction HybridRenderer(animationItem, config) {\r\n  this.animationItem = animationItem;\r\n  this.layers = null;\r\n  this.renderedFrame = -1;\r\n  this.renderConfig = {\r\n    className: (config && config.className) || '',\r\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n    hideOnTransparent: !(config && config.hideOnTransparent === false),\r\n    filterSize: {\r\n      width: (config && config.filterSize && config.filterSize.width) || '400%',\r\n      height: (config && config.filterSize && config.filterSize.height) || '400%',\r\n      x: (config && config.filterSize && config.filterSize.x) || '-100%',\r\n      y: (config && config.filterSize && config.filterSize.y) || '-100%',\r\n    },\r\n  };\r\n  this.globalData = {\r\n    _mdf: false,\r\n    frameNum: -1,\r\n    renderConfig: this.renderConfig,\r\n  };\r\n  this.pendingElements = [];\r\n  this.elements = [];\r\n  this.threeDElements = [];\r\n  this.destroyed = false;\r\n  this.camera = null;\r\n  this.supports3d = true;\r\n  this.rendererType = 'html';\r\n}\r\n\r\nextendPrototype([BaseRenderer], HybridRenderer);\r\n\r\nHybridRenderer.prototype.buildItem = SVGRenderer.prototype.buildItem;\r\n\r\nHybridRenderer.prototype.checkPendingElements = function () {\r\n  while (this.pendingElements.length) {\r\n    var element = this.pendingElements.pop();\r\n    element.checkParenting();\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.appendElementInPos = function (element, pos) {\r\n  var newDOMElement = element.getBaseElement();\r\n  if (!newDOMElement) {\r\n    return;\r\n  }\r\n  var layer = this.layers[pos];\r\n  if (!layer.ddd || !this.supports3d) {\r\n    if (this.threeDElements) {\r\n      this.addTo3dContainer(newDOMElement, pos);\r\n    } else {\r\n      var i = 0;\r\n      var nextDOMElement;\r\n      var nextLayer;\r\n      var tmpDOMElement;\r\n      while (i < pos) {\r\n        if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement) {\r\n          nextLayer = this.elements[i];\r\n          tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\r\n          nextDOMElement = tmpDOMElement || nextDOMElement;\r\n        }\r\n        i += 1;\r\n      }\r\n      if (nextDOMElement) {\r\n        if (!layer.ddd || !this.supports3d) {\r\n          this.layerElement.insertBefore(newDOMElement, nextDOMElement);\r\n        }\r\n      } else if (!layer.ddd || !this.supports3d) {\r\n        this.layerElement.appendChild(newDOMElement);\r\n      }\r\n    }\r\n  } else {\r\n    this.addTo3dContainer(newDOMElement, pos);\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.createShape = function (data) {\r\n  if (!this.supports3d) {\r\n    return new SVGShapeElement(data, this.globalData, this);\r\n  }\r\n  return new HShapeElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createText = function (data) {\r\n  if (!this.supports3d) {\r\n    return new SVGTextLottieElement(data, this.globalData, this);\r\n  }\r\n  return new HTextElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createCamera = function (data) {\r\n  this.camera = new HCameraElement(data, this.globalData, this);\r\n  return this.camera;\r\n};\r\n\r\nHybridRenderer.prototype.createImage = function (data) {\r\n  if (!this.supports3d) {\r\n    return new IImageElement(data, this.globalData, this);\r\n  }\r\n  return new HImageElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createComp = function (data) {\r\n  if (!this.supports3d) {\r\n    return new SVGCompElement(data, this.globalData, this);\r\n  }\r\n  return new HCompElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createSolid = function (data) {\r\n  if (!this.supports3d) {\r\n    return new ISolidElement(data, this.globalData, this);\r\n  }\r\n  return new HSolidElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nHybridRenderer.prototype.getThreeDContainerByPos = function (pos) {\r\n  var i = 0;\r\n  var len = this.threeDElements.length;\r\n  while (i < len) {\r\n    if (this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\r\n      return this.threeDElements[i].perspectiveElem;\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nHybridRenderer.prototype.createThreeDContainer = function (pos, type) {\r\n  var perspectiveElem = createTag('div');\r\n  var style;\r\n  var containerStyle;\r\n  styleDiv(perspectiveElem);\r\n  var container = createTag('div');\r\n  styleDiv(container);\r\n  if (type === '3d') {\r\n    style = perspectiveElem.style;\r\n    style.width = this.globalData.compSize.w + 'px';\r\n    style.height = this.globalData.compSize.h + 'px';\r\n    var center = '50% 50%';\r\n    style.webkitTransformOrigin = center;\r\n    style.mozTransformOrigin = center;\r\n    style.transformOrigin = center;\r\n    containerStyle = container.style;\r\n    var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n    containerStyle.transform = matrix;\r\n    containerStyle.webkitTransform = matrix;\r\n  }\r\n\r\n  perspectiveElem.appendChild(container);\r\n  // this.resizerElem.appendChild(perspectiveElem);\r\n  var threeDContainerData = {\r\n    container: container,\r\n    perspectiveElem: perspectiveElem,\r\n    startPos: pos,\r\n    endPos: pos,\r\n    type: type,\r\n  };\r\n  this.threeDElements.push(threeDContainerData);\r\n  return threeDContainerData;\r\n};\r\n\r\nHybridRenderer.prototype.build3dContainers = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  var lastThreeDContainerData;\r\n  var currentContainer = '';\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.layers[i].ddd && this.layers[i].ty !== 3) {\r\n      if (currentContainer !== '3d') {\r\n        currentContainer = '3d';\r\n        lastThreeDContainerData = this.createThreeDContainer(i, '3d');\r\n      }\r\n      lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\r\n    } else {\r\n      if (currentContainer !== '2d') {\r\n        currentContainer = '2d';\r\n        lastThreeDContainerData = this.createThreeDContainer(i, '2d');\r\n      }\r\n      lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\r\n    }\r\n  }\r\n  len = this.threeDElements.length;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.addTo3dContainer = function (elem, pos) {\r\n  var i = 0;\r\n  var len = this.threeDElements.length;\r\n  while (i < len) {\r\n    if (pos <= this.threeDElements[i].endPos) {\r\n      var j = this.threeDElements[i].startPos;\r\n      var nextElement;\r\n      while (j < pos) {\r\n        if (this.elements[j] && this.elements[j].getBaseElement) {\r\n          nextElement = this.elements[j].getBaseElement();\r\n        }\r\n        j += 1;\r\n      }\r\n      if (nextElement) {\r\n        this.threeDElements[i].container.insertBefore(elem, nextElement);\r\n      } else {\r\n        this.threeDElements[i].container.appendChild(elem);\r\n      }\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.configAnimation = function (animData) {\r\n  var resizerElem = createTag('div');\r\n  var wrapper = this.animationItem.wrapper;\r\n  var style = resizerElem.style;\r\n  style.width = animData.w + 'px';\r\n  style.height = animData.h + 'px';\r\n  this.resizerElem = resizerElem;\r\n  styleDiv(resizerElem);\r\n  style.transformStyle = 'flat';\r\n  style.mozTransformStyle = 'flat';\r\n  style.webkitTransformStyle = 'flat';\r\n  if (this.renderConfig.className) {\r\n    resizerElem.setAttribute('class', this.renderConfig.className);\r\n  }\r\n  wrapper.appendChild(resizerElem);\r\n\r\n  style.overflow = 'hidden';\r\n  var svg = createNS('svg');\r\n  svg.setAttribute('width', '1');\r\n  svg.setAttribute('height', '1');\r\n  styleDiv(svg);\r\n  this.resizerElem.appendChild(svg);\r\n  var defs = createNS('defs');\r\n  svg.appendChild(defs);\r\n  this.data = animData;\r\n  // Mask animation\r\n  this.setupGlobalData(animData, svg);\r\n  this.globalData.defs = defs;\r\n  this.layers = animData.layers;\r\n  this.layerElement = this.resizerElem;\r\n  this.build3dContainers();\r\n  this.updateContainerSize();\r\n};\r\n\r\nHybridRenderer.prototype.destroy = function () {\r\n  if (this.animationItem.wrapper) {\r\n    this.animationItem.wrapper.innerText = '';\r\n  }\r\n  this.animationItem.container = null;\r\n  this.globalData.defs = null;\r\n  var i;\r\n  var len = this.layers ? this.layers.length : 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.elements[i].destroy();\r\n  }\r\n  this.elements.length = 0;\r\n  this.destroyed = true;\r\n  this.animationItem = null;\r\n};\r\n\r\nHybridRenderer.prototype.updateContainerSize = function () {\r\n  var elementWidth = this.animationItem.wrapper.offsetWidth;\r\n  var elementHeight = this.animationItem.wrapper.offsetHeight;\r\n  var elementRel = elementWidth / elementHeight;\r\n  var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;\r\n  var sx;\r\n  var sy;\r\n  var tx;\r\n  var ty;\r\n  if (animationRel > elementRel) {\r\n    sx = elementWidth / (this.globalData.compSize.w);\r\n    sy = elementWidth / (this.globalData.compSize.w);\r\n    tx = 0;\r\n    ty = ((elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2);\r\n  } else {\r\n    sx = elementHeight / (this.globalData.compSize.h);\r\n    sy = elementHeight / (this.globalData.compSize.h);\r\n    tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;\r\n    ty = 0;\r\n  }\r\n  var style = this.resizerElem.style;\r\n  style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,' + sy + ',0,0,0,0,1,0,' + tx + ',' + ty + ',0,1)';\r\n  style.transform = style.webkitTransform;\r\n};\r\n\r\nHybridRenderer.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\r\n\r\nHybridRenderer.prototype.hide = function () {\r\n  this.resizerElem.style.display = 'none';\r\n};\r\n\r\nHybridRenderer.prototype.show = function () {\r\n  this.resizerElem.style.display = 'block';\r\n};\r\n\r\nHybridRenderer.prototype.initItems = function () {\r\n  this.buildAllItems();\r\n  if (this.camera) {\r\n    this.camera.setup();\r\n  } else {\r\n    var cWidth = this.globalData.compSize.w;\r\n    var cHeight = this.globalData.compSize.h;\r\n    var i;\r\n    var len = this.threeDElements.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      var style = this.threeDElements[i].perspectiveElem.style;\r\n      style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + 'px';\r\n      style.perspective = style.webkitPerspective;\r\n    }\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.searchExtraCompositions = function (assets) {\r\n  var i;\r\n  var len = assets.length;\r\n  var floatingContainer = createTag('div');\r\n  for (i = 0; i < len; i += 1) {\r\n    if (assets[i].xt) {\r\n      var comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\r\n      comp.initExpressions();\r\n      this.globalData.projectInterface.registerComposition(comp);\r\n    }\r\n  }\r\n};\r\n\r\n/* global createSizedArray, createElementID, PropertyFactory, ShapePropertyFactory, createNS, locationHref */\r\n\r\nfunction MaskElement(data, element, globalData) {\r\n  this.data = data;\r\n  this.element = element;\r\n  this.globalData = globalData;\r\n  this.storedData = [];\r\n  this.masksProperties = this.data.masksProperties || [];\r\n  this.maskElement = null;\r\n  var defs = this.globalData.defs;\r\n  var i;\r\n  var len = this.masksProperties ? this.masksProperties.length : 0;\r\n  this.viewData = createSizedArray(len);\r\n  this.solidPath = '';\r\n\r\n  var path;\r\n  var properties = this.masksProperties;\r\n  var count = 0;\r\n  var currentMasks = [];\r\n  var j;\r\n  var jLen;\r\n  var layerId = createElementID();\r\n  var rect;\r\n  var expansor;\r\n  var feMorph;\r\n  var x;\r\n  var maskType = 'clipPath';\r\n  var maskRef = 'clip-path';\r\n  for (i = 0; i < len; i += 1) {\r\n    if ((properties[i].mode !== 'a' && properties[i].mode !== 'n') || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\r\n      maskType = 'mask';\r\n      maskRef = 'mask';\r\n    }\r\n\r\n    if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\r\n      rect = createNS('rect');\r\n      rect.setAttribute('fill', '#ffffff');\r\n      rect.setAttribute('width', this.element.comp.data.w || 0);\r\n      rect.setAttribute('height', this.element.comp.data.h || 0);\r\n      currentMasks.push(rect);\r\n    } else {\r\n      rect = null;\r\n    }\r\n\r\n    path = createNS('path');\r\n    if (properties[i].mode === 'n') {\r\n      // TODO move this to a factory or to a constructor\r\n      this.viewData[i] = {\r\n        op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\r\n        prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\r\n        elem: path,\r\n        lastPath: '',\r\n      };\r\n      defs.appendChild(path);\r\n    } else {\r\n      count += 1;\r\n\r\n      path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\r\n      path.setAttribute('clip-rule', 'nonzero');\r\n      var filterID;\r\n\r\n      if (properties[i].x.k !== 0) {\r\n        maskType = 'mask';\r\n        maskRef = 'mask';\r\n        x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\r\n        filterID = createElementID();\r\n        expansor = createNS('filter');\r\n        expansor.setAttribute('id', filterID);\r\n        feMorph = createNS('feMorphology');\r\n        feMorph.setAttribute('operator', 'erode');\r\n        feMorph.setAttribute('in', 'SourceGraphic');\r\n        feMorph.setAttribute('radius', '0');\r\n        expansor.appendChild(feMorph);\r\n        defs.appendChild(expansor);\r\n        path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\r\n      } else {\r\n        feMorph = null;\r\n        x = null;\r\n      }\r\n\r\n      // TODO move this to a factory or to a constructor\r\n      this.storedData[i] = {\r\n        elem: path,\r\n        x: x,\r\n        expan: feMorph,\r\n        lastPath: '',\r\n        lastOperator: '',\r\n        filterId: filterID,\r\n        lastRadius: 0,\r\n      };\r\n      if (properties[i].mode === 'i') {\r\n        jLen = currentMasks.length;\r\n        var g = createNS('g');\r\n        for (j = 0; j < jLen; j += 1) {\r\n          g.appendChild(currentMasks[j]);\r\n        }\r\n        var mask = createNS('mask');\r\n        mask.setAttribute('mask-type', 'alpha');\r\n        mask.setAttribute('id', layerId + '_' + count);\r\n        mask.appendChild(path);\r\n        defs.appendChild(mask);\r\n        g.setAttribute('mask', 'url(' + locationHref + '#' + layerId + '_' + count + ')');\r\n\r\n        currentMasks.length = 0;\r\n        currentMasks.push(g);\r\n      } else {\r\n        currentMasks.push(path);\r\n      }\r\n      if (properties[i].inv && !this.solidPath) {\r\n        this.solidPath = this.createLayerSolidPath();\r\n      }\r\n      // TODO move this to a factory or to a constructor\r\n      this.viewData[i] = {\r\n        elem: path,\r\n        lastPath: '',\r\n        op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\r\n        prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\r\n        invRect: rect,\r\n      };\r\n      if (!this.viewData[i].prop.k) {\r\n        this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  this.maskElement = createNS(maskType);\r\n\r\n  len = currentMasks.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.maskElement.appendChild(currentMasks[i]);\r\n  }\r\n\r\n  if (count > 0) {\r\n    this.maskElement.setAttribute('id', layerId);\r\n    this.element.maskedElement.setAttribute(maskRef, 'url(' + locationHref + '#' + layerId + ')');\r\n    defs.appendChild(this.maskElement);\r\n  }\r\n  if (this.viewData.length) {\r\n    this.element.addRenderableComponent(this);\r\n  }\r\n}\r\n\r\nMaskElement.prototype.getMaskProperty = function (pos) {\r\n  return this.viewData[pos].prop;\r\n};\r\n\r\nMaskElement.prototype.renderFrame = function (isFirstFrame) {\r\n  var finalMat = this.element.finalTransform.mat;\r\n  var i;\r\n  var len = this.masksProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.viewData[i].prop._mdf || isFirstFrame) {\r\n      this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\r\n    }\r\n    if (this.viewData[i].op._mdf || isFirstFrame) {\r\n      this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\r\n    }\r\n    if (this.masksProperties[i].mode !== 'n') {\r\n      if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\r\n        this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\r\n      }\r\n      if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\r\n        var feMorph = this.storedData[i].expan;\r\n        if (this.storedData[i].x.v < 0) {\r\n          if (this.storedData[i].lastOperator !== 'erode') {\r\n            this.storedData[i].lastOperator = 'erode';\r\n            this.storedData[i].elem.setAttribute('filter', 'url(' + locationHref + '#' + this.storedData[i].filterId + ')');\r\n          }\r\n          feMorph.setAttribute('radius', -this.storedData[i].x.v);\r\n        } else {\r\n          if (this.storedData[i].lastOperator !== 'dilate') {\r\n            this.storedData[i].lastOperator = 'dilate';\r\n            this.storedData[i].elem.setAttribute('filter', null);\r\n          }\r\n          this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nMaskElement.prototype.getMaskelement = function () {\r\n  return this.maskElement;\r\n};\r\n\r\nMaskElement.prototype.createLayerSolidPath = function () {\r\n  var path = 'M0,0 ';\r\n  path += ' h' + this.globalData.compSize.w;\r\n  path += ' v' + this.globalData.compSize.h;\r\n  path += ' h-' + this.globalData.compSize.w;\r\n  path += ' v-' + this.globalData.compSize.h + ' ';\r\n  return path;\r\n};\r\n\r\nMaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\r\n  var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\r\n  var i;\r\n  var len;\r\n  len = pathNodes._length;\r\n  for (i = 1; i < len; i += 1) {\r\n    // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n    pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\r\n  }\r\n  // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n  if (pathNodes.c && len > 1) {\r\n    pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\r\n  }\r\n  // pathNodes.__renderedString = pathString;\r\n\r\n  if (viewData.lastPath !== pathString) {\r\n    var pathShapeValue = '';\r\n    if (viewData.elem) {\r\n      if (pathNodes.c) {\r\n        pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\r\n      }\r\n      viewData.elem.setAttribute('d', pathShapeValue);\r\n    }\r\n    viewData.lastPath = pathString;\r\n  }\r\n};\r\n\r\nMaskElement.prototype.destroy = function () {\r\n  this.element = null;\r\n  this.globalData = null;\r\n  this.maskElement = null;\r\n  this.data = null;\r\n  this.masksProperties = null;\r\n};\r\n\r\n/**\r\n * @file\r\n * Handles AE's layer parenting property.\r\n *\r\n */\r\n\r\nfunction HierarchyElement() {}\r\n\r\nHierarchyElement.prototype = {\r\n  /**\r\n     * @function\r\n     * Initializes hierarchy properties\r\n     *\r\n     */\r\n  initHierarchy: function () {\r\n    // element's parent list\r\n    this.hierarchy = [];\r\n    // if element is parent of another layer _isParent will be true\r\n    this._isParent = false;\r\n    this.checkParenting();\r\n  },\r\n  /**\r\n     * @function\r\n     * Sets layer's hierarchy.\r\n     * @param {array} hierarch\r\n     * layer's parent list\r\n     *\r\n     */\r\n  setHierarchy: function (hierarchy) {\r\n    this.hierarchy = hierarchy;\r\n  },\r\n  /**\r\n     * @function\r\n     * Sets layer as parent.\r\n     *\r\n     */\r\n  setAsParent: function () {\r\n    this._isParent = true;\r\n  },\r\n  /**\r\n     * @function\r\n     * Searches layer's parenting chain\r\n     *\r\n     */\r\n  checkParenting: function () {\r\n    if (this.data.parent !== undefined) {\r\n      this.comp.buildElementParenting(this, this.data.parent, []);\r\n    }\r\n  },\r\n};\r\n\r\n/**\r\n * @file\r\n * Handles element's layer frame update.\r\n * Checks layer in point and out point\r\n *\r\n */\r\n\r\nfunction FrameElement() {}\r\n\r\nFrameElement.prototype = {\r\n  /**\r\n     * @function\r\n     * Initializes frame related properties.\r\n     *\r\n     */\r\n  initFrame: function () {\r\n    // set to true when inpoint is rendered\r\n    this._isFirstFrame = false;\r\n    // list of animated properties\r\n    this.dynamicProperties = [];\r\n    // If layer has been modified in current tick this will be true\r\n    this._mdf = false;\r\n  },\r\n  /**\r\n     * @function\r\n     * Calculates all dynamic values\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * @param {boolean} isVisible\r\n     * if layers is currently in range\r\n     *\r\n     */\r\n  prepareProperties: function (num, isVisible) {\r\n    var i;\r\n    var len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (isVisible || (this._isParent && this.dynamicProperties[i].propType === 'transform')) {\r\n        this.dynamicProperties[i].getValue();\r\n        if (this.dynamicProperties[i]._mdf) {\r\n          this.globalData._mdf = true;\r\n          this._mdf = true;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  addDynamicProperty: function (prop) {\r\n    if (this.dynamicProperties.indexOf(prop) === -1) {\r\n      this.dynamicProperties.push(prop);\r\n    }\r\n  },\r\n};\r\n\r\n/* global TransformPropertyFactory, Matrix */\r\n\r\nfunction TransformElement() {}\r\n\r\nTransformElement.prototype = {\r\n  initTransform: function () {\r\n    this.finalTransform = {\r\n      mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : { o: 0 },\r\n      _matMdf: false,\r\n      _opMdf: false,\r\n      mat: new Matrix(),\r\n    };\r\n    if (this.data.ao) {\r\n      this.finalTransform.mProp.autoOriented = true;\r\n    }\r\n\r\n    // TODO: check TYPE 11: Guided elements\r\n    if (this.data.ty !== 11) {\r\n      // this.createElements();\r\n    }\r\n  },\r\n  renderTransform: function () {\r\n    this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\r\n    this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\r\n\r\n    if (this.hierarchy) {\r\n      var mat;\r\n      var finalMat = this.finalTransform.mat;\r\n      var i = 0;\r\n      var len = this.hierarchy.length;\r\n      // Checking if any of the transformation matrices in the hierarchy chain has changed.\r\n      if (!this.finalTransform._matMdf) {\r\n        while (i < len) {\r\n          if (this.hierarchy[i].finalTransform.mProp._mdf) {\r\n            this.finalTransform._matMdf = true;\r\n            break;\r\n          }\r\n          i += 1;\r\n        }\r\n      }\r\n\r\n      if (this.finalTransform._matMdf) {\r\n        mat = this.finalTransform.mProp.v.props;\r\n        finalMat.cloneFromProps(mat);\r\n        for (i = 0; i < len; i += 1) {\r\n          mat = this.hierarchy[i].finalTransform.mProp.v.props;\r\n          finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  globalToLocal: function (pt) {\r\n    var transforms = [];\r\n    transforms.push(this.finalTransform);\r\n    var flag = true;\r\n    var comp = this.comp;\r\n    while (flag) {\r\n      if (comp.finalTransform) {\r\n        if (comp.data.hasMask) {\r\n          transforms.splice(0, 0, comp.finalTransform);\r\n        }\r\n        comp = comp.comp;\r\n      } else {\r\n        flag = false;\r\n      }\r\n    }\r\n    var i;\r\n    var len = transforms.length;\r\n    var ptNew;\r\n    for (i = 0; i < len; i += 1) {\r\n      ptNew = transforms[i].mat.applyToPointArray(0, 0, 0);\r\n      // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\r\n      pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\r\n    }\r\n    return pt;\r\n  },\r\n  mHelper: new Matrix(),\r\n};\r\n\r\nfunction RenderableElement() {\r\n\r\n}\r\n\r\nRenderableElement.prototype = {\r\n  initRenderable: function () {\r\n    // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\r\n    this.isInRange = false;\r\n    // layer's display state\r\n    this.hidden = false;\r\n    // If layer's transparency equals 0, it can be hidden\r\n    this.isTransparent = false;\r\n    // list of animated components\r\n    this.renderableComponents = [];\r\n  },\r\n  addRenderableComponent: function (component) {\r\n    if (this.renderableComponents.indexOf(component) === -1) {\r\n      this.renderableComponents.push(component);\r\n    }\r\n  },\r\n  removeRenderableComponent: function (component) {\r\n    if (this.renderableComponents.indexOf(component) !== -1) {\r\n      this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\r\n    }\r\n  },\r\n  prepareRenderableFrame: function (num) {\r\n    this.checkLayerLimits(num);\r\n  },\r\n  checkTransparency: function () {\r\n    if (this.finalTransform.mProp.o.v <= 0) {\r\n      if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\r\n        this.isTransparent = true;\r\n        this.hide();\r\n      }\r\n    } else if (this.isTransparent) {\r\n      this.isTransparent = false;\r\n      this.show();\r\n    }\r\n  },\r\n  /**\r\n     * @function\r\n     * Initializes frame related properties.\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     *\r\n     */\r\n  checkLayerLimits: function (num) {\r\n    if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\r\n      if (this.isInRange !== true) {\r\n        this.globalData._mdf = true;\r\n        this._mdf = true;\r\n        this.isInRange = true;\r\n        this.show();\r\n      }\r\n    } else if (this.isInRange !== false) {\r\n      this.globalData._mdf = true;\r\n      this.isInRange = false;\r\n      this.hide();\r\n    }\r\n  },\r\n  renderRenderable: function () {\r\n    var i;\r\n    var len = this.renderableComponents.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.renderableComponents[i].renderFrame(this._isFirstFrame);\r\n    }\r\n    /* this.maskManager.renderFrame(this.finalTransform.mat);\r\n        this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\r\n  },\r\n  sourceRectAtTime: function () {\r\n    return {\r\n      top: 0,\r\n      left: 0,\r\n      width: 100,\r\n      height: 100,\r\n    };\r\n  },\r\n  getLayerSize: function () {\r\n    if (this.data.ty === 5) {\r\n      return { w: this.data.textData.width, h: this.data.textData.height };\r\n    }\r\n    return { w: this.data.width, h: this.data.height };\r\n  },\r\n};\r\n\r\n/* global extendPrototype, RenderableElement, createProxyFunction */\r\n\r\nfunction RenderableDOMElement() {}\r\n\r\n(function () {\r\n  var _prototype = {\r\n    initElement: function (data, globalData, comp) {\r\n      this.initFrame();\r\n      this.initBaseData(data, globalData, comp);\r\n      this.initTransform(data, globalData, comp);\r\n      this.initHierarchy();\r\n      this.initRenderable();\r\n      this.initRendererElement();\r\n      this.createContainerElements();\r\n      this.createRenderableComponents();\r\n      this.createContent();\r\n      this.hide();\r\n    },\r\n    hide: function () {\r\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n        var elem = this.baseElement || this.layerElement;\r\n        elem.style.display = 'none';\r\n        this.hidden = true;\r\n      }\r\n    },\r\n    show: function () {\r\n      if (this.isInRange && !this.isTransparent) {\r\n        if (!this.data.hd) {\r\n          var elem = this.baseElement || this.layerElement;\r\n          elem.style.display = 'block';\r\n        }\r\n        this.hidden = false;\r\n        this._isFirstFrame = true;\r\n      }\r\n    },\r\n    renderFrame: function () {\r\n      // If it is exported as hidden (data.hd === true) no need to render\r\n      // If it is not visible no need to render\r\n      if (this.data.hd || this.hidden) {\r\n        return;\r\n      }\r\n      this.renderTransform();\r\n      this.renderRenderable();\r\n      this.renderElement();\r\n      this.renderInnerContent();\r\n      if (this._isFirstFrame) {\r\n        this._isFirstFrame = false;\r\n      }\r\n    },\r\n    renderInnerContent: function () {},\r\n    prepareFrame: function (num) {\r\n      this._mdf = false;\r\n      this.prepareRenderableFrame(num);\r\n      this.prepareProperties(num, this.isInRange);\r\n      this.checkTransparency();\r\n    },\r\n    destroy: function () {\r\n      this.innerElem = null;\r\n      this.destroyBaseElement();\r\n    },\r\n  };\r\n  extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\r\n}());\r\n\r\n/* exported ProcessedElement */\r\n\r\nfunction ProcessedElement(element, position) {\r\n  this.elem = element;\r\n  this.pos = position;\r\n}\r\n\r\n/* global createNS */\r\n\r\nfunction SVGStyleData(data, level) {\r\n  this.data = data;\r\n  this.type = data.ty;\r\n  this.d = '';\r\n  this.lvl = level;\r\n  this._mdf = false;\r\n  this.closed = data.hd === true;\r\n  this.pElem = createNS('path');\r\n  this.msElem = null;\r\n}\r\n\r\nSVGStyleData.prototype.reset = function () {\r\n  this.d = '';\r\n  this._mdf = false;\r\n};\r\n\r\nfunction SVGShapeData(transformers, level, shape) {\r\n  this.caches = [];\r\n  this.styles = [];\r\n  this.transformers = transformers;\r\n  this.lStr = '';\r\n  this.sh = shape;\r\n  this.lvl = level;\r\n  // TODO find if there are some cases where _isAnimated can be false.\r\n  // For now, since shapes add up with other shapes. They have to be calculated every time.\r\n  // One way of finding out is checking if all styles associated to this shape depend only of this shape\r\n  this._isAnimated = !!shape.k;\r\n  // TODO: commenting this for now since all shapes are animated\r\n  var i = 0;\r\n  var len = transformers.length;\r\n  while (i < len) {\r\n    if (transformers[i].mProps.dynamicProperties.length) {\r\n      this._isAnimated = true;\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n}\r\n\r\nSVGShapeData.prototype.setAsAnimated = function () {\r\n  this._isAnimated = true;\r\n};\r\n\r\n/* exported SVGTransformData */\r\n\r\nfunction SVGTransformData(mProps, op, container) {\r\n  this.transform = {\r\n    mProps: mProps,\r\n    op: op,\r\n    container: container,\r\n  };\r\n  this.elements = [];\r\n  this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\r\n}\r\n\r\n/* global DashProperty, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction SVGStrokeStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\r\n  this.d = new DashProperty(elem, data.d || {}, 'svg', this);\r\n  this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\r\n  this.style = styleOb;\r\n  this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\r\n\r\n/* global PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction SVGFillStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\r\n  this.style = styleOb;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGFillStyleData);\r\n\r\n/* global PropertyFactory, degToRads, GradientProperty, createElementID, createNS, locationHref,\r\nextendPrototype, DynamicPropertyContainer, lineCapEnum, lineJoinEnum */\r\n\r\nfunction SVGGradientFillStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.initGradientData(elem, data, styleOb);\r\n}\r\n\r\nSVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\r\n  this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\r\n  this.h = PropertyFactory.getProp(elem, data.h || { k: 0 }, 0, 0.01, this);\r\n  this.a = PropertyFactory.getProp(elem, data.a || { k: 0 }, 0, degToRads, this);\r\n  this.g = new GradientProperty(elem, data.g, this);\r\n  this.style = styleOb;\r\n  this.stops = [];\r\n  this.setGradientData(styleOb.pElem, data);\r\n  this.setGradientOpacity(data, styleOb);\r\n  this._isAnimated = !!this._isAnimated;\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\r\n  var gradientId = createElementID();\r\n  var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n  gfill.setAttribute('id', gradientId);\r\n  gfill.setAttribute('spreadMethod', 'pad');\r\n  gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\r\n  var stops = [];\r\n  var stop;\r\n  var j;\r\n  var jLen;\r\n  jLen = data.g.p * 4;\r\n  for (j = 0; j < jLen; j += 4) {\r\n    stop = createNS('stop');\r\n    gfill.appendChild(stop);\r\n    stops.push(stop);\r\n  }\r\n  pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + locationHref + '#' + gradientId + ')');\r\n  this.gf = gfill;\r\n  this.cst = stops;\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\r\n  if (this.g._hasOpacity && !this.g._collapsable) {\r\n    var stop;\r\n    var j;\r\n    var jLen;\r\n    var mask = createNS('mask');\r\n    var maskElement = createNS('path');\r\n    mask.appendChild(maskElement);\r\n    var opacityId = createElementID();\r\n    var maskId = createElementID();\r\n    mask.setAttribute('id', maskId);\r\n    var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n    opFill.setAttribute('id', opacityId);\r\n    opFill.setAttribute('spreadMethod', 'pad');\r\n    opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\r\n    jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\r\n    var stops = this.stops;\r\n    for (j = data.g.p * 4; j < jLen; j += 2) {\r\n      stop = createNS('stop');\r\n      stop.setAttribute('stop-color', 'rgb(255,255,255)');\r\n      opFill.appendChild(stop);\r\n      stops.push(stop);\r\n    }\r\n    maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + locationHref + '#' + opacityId + ')');\r\n    if (data.ty === 'gs') {\r\n      maskElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\r\n      maskElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\r\n      if (data.lj === 1) {\r\n        maskElement.setAttribute('stroke-miterlimit', data.ml);\r\n      }\r\n    }\r\n    this.of = opFill;\r\n    this.ms = mask;\r\n    this.ost = stops;\r\n    this.maskId = maskId;\r\n    styleOb.msElem = maskElement;\r\n  }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\r\n\r\n/* global PropertyFactory, DashProperty, extendPrototype, SVGGradientFillStyleData, DynamicPropertyContainer */\r\n\r\nfunction SVGGradientStrokeStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\r\n  this.d = new DashProperty(elem, data.d || {}, 'svg', this);\r\n  this.initGradientData(elem, data, styleOb);\r\n  this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\r\n\r\n/* global createNS */\r\n/* exported ShapeGroupData */\r\n\r\nfunction ShapeGroupData() {\r\n  this.it = [];\r\n  this.prevViewData = [];\r\n  this.gr = createNS('g');\r\n}\r\n\r\n/* global Matrix, buildShapeString, bmFloor */\r\n/* exported SVGElementsRenderer */\r\n\r\nvar SVGElementsRenderer = (function () {\r\n  var _identityMatrix = new Matrix();\r\n  var _matrixHelper = new Matrix();\r\n\r\n  var ob = {\r\n    createRenderFunction: createRenderFunction,\r\n  };\r\n\r\n  function createRenderFunction(data) {\r\n    switch (data.ty) {\r\n      case 'fl':\r\n        return renderFill;\r\n      case 'gf':\r\n        return renderGradient;\r\n      case 'gs':\r\n        return renderGradientStroke;\r\n      case 'st':\r\n        return renderStroke;\r\n      case 'sh':\r\n      case 'el':\r\n      case 'rc':\r\n      case 'sr':\r\n        return renderPath;\r\n      case 'tr':\r\n        return renderContentTransform;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  function renderContentTransform(styleData, itemData, isFirstFrame) {\r\n    if (isFirstFrame || itemData.transform.op._mdf) {\r\n      itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\r\n    }\r\n    if (isFirstFrame || itemData.transform.mProps._mdf) {\r\n      itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\r\n    }\r\n  }\r\n\r\n  function renderPath(styleData, itemData, isFirstFrame) {\r\n    var j;\r\n    var jLen;\r\n    var pathStringTransformed;\r\n    var redraw;\r\n    var pathNodes;\r\n    var l;\r\n    var lLen = itemData.styles.length;\r\n    var lvl = itemData.lvl;\r\n    var paths;\r\n    var mat;\r\n    var props;\r\n    var iterations;\r\n    var k;\r\n    for (l = 0; l < lLen; l += 1) {\r\n      redraw = itemData.sh._mdf || isFirstFrame;\r\n      if (itemData.styles[l].lvl < lvl) {\r\n        mat = _matrixHelper.reset();\r\n        iterations = lvl - itemData.styles[l].lvl;\r\n        k = itemData.transformers.length - 1;\r\n        while (!redraw && iterations > 0) {\r\n          redraw = itemData.transformers[k].mProps._mdf || redraw;\r\n          iterations -= 1;\r\n          k -= 1;\r\n        }\r\n        if (redraw) {\r\n          iterations = lvl - itemData.styles[l].lvl;\r\n          k = itemData.transformers.length - 1;\r\n          while (iterations > 0) {\r\n            props = itemData.transformers[k].mProps.v.props;\r\n            mat.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\r\n            iterations -= 1;\r\n            k -= 1;\r\n          }\r\n        }\r\n      } else {\r\n        mat = _identityMatrix;\r\n      }\r\n      paths = itemData.sh.paths;\r\n      jLen = paths._length;\r\n      if (redraw) {\r\n        pathStringTransformed = '';\r\n        for (j = 0; j < jLen; j += 1) {\r\n          pathNodes = paths.shapes[j];\r\n          if (pathNodes && pathNodes._length) {\r\n            pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\r\n          }\r\n        }\r\n        itemData.caches[l] = pathStringTransformed;\r\n      } else {\r\n        pathStringTransformed = itemData.caches[l];\r\n      }\r\n      itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\r\n      itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\r\n    }\r\n  }\r\n\r\n  function renderFill(styleData, itemData, isFirstFrame) {\r\n    var styleElem = itemData.style;\r\n\r\n    if (itemData.c._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\r\n    }\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\r\n    }\r\n  }\r\n\r\n  function renderGradientStroke(styleData, itemData, isFirstFrame) {\r\n    renderGradient(styleData, itemData, isFirstFrame);\r\n    renderStroke(styleData, itemData, isFirstFrame);\r\n  }\r\n\r\n  function renderGradient(styleData, itemData, isFirstFrame) {\r\n    var gfill = itemData.gf;\r\n    var hasOpacity = itemData.g._hasOpacity;\r\n    var pt1 = itemData.s.v;\r\n    var pt2 = itemData.e.v;\r\n\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\r\n      itemData.style.pElem.setAttribute(attr, itemData.o.v);\r\n    }\r\n    if (itemData.s._mdf || isFirstFrame) {\r\n      var attr1 = styleData.t === 1 ? 'x1' : 'cx';\r\n      var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\r\n      gfill.setAttribute(attr1, pt1[0]);\r\n      gfill.setAttribute(attr2, pt1[1]);\r\n      if (hasOpacity && !itemData.g._collapsable) {\r\n        itemData.of.setAttribute(attr1, pt1[0]);\r\n        itemData.of.setAttribute(attr2, pt1[1]);\r\n      }\r\n    }\r\n    var stops;\r\n    var i;\r\n    var len;\r\n    var stop;\r\n    if (itemData.g._cmdf || isFirstFrame) {\r\n      stops = itemData.cst;\r\n      var cValues = itemData.g.c;\r\n      len = stops.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        stop = stops[i];\r\n        stop.setAttribute('offset', cValues[i * 4] + '%');\r\n        stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\r\n      }\r\n    }\r\n    if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\r\n      var oValues = itemData.g.o;\r\n      if (itemData.g._collapsable) {\r\n        stops = itemData.cst;\r\n      } else {\r\n        stops = itemData.ost;\r\n      }\r\n      len = stops.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        stop = stops[i];\r\n        if (!itemData.g._collapsable) {\r\n          stop.setAttribute('offset', oValues[i * 2] + '%');\r\n        }\r\n        stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\r\n      }\r\n    }\r\n    if (styleData.t === 1) {\r\n      if (itemData.e._mdf || isFirstFrame) {\r\n        gfill.setAttribute('x2', pt2[0]);\r\n        gfill.setAttribute('y2', pt2[1]);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('x2', pt2[0]);\r\n          itemData.of.setAttribute('y2', pt2[1]);\r\n        }\r\n      }\r\n    } else {\r\n      var rad;\r\n      if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\r\n        rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n        gfill.setAttribute('r', rad);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('r', rad);\r\n        }\r\n      }\r\n      if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\r\n        if (!rad) {\r\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n        }\r\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n        var percent = itemData.h.v;\r\n        if (percent >= 1) {\r\n          percent = 0.99;\r\n        } else if (percent <= -1) {\r\n          percent = -0.99;\r\n        }\r\n        var dist = rad * percent;\r\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n        gfill.setAttribute('fx', x);\r\n        gfill.setAttribute('fy', y);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('fx', x);\r\n          itemData.of.setAttribute('fy', y);\r\n        }\r\n      }\r\n      // gfill.setAttribute('fy','200');\r\n    }\r\n  }\r\n\r\n  function renderStroke(styleData, itemData, isFirstFrame) {\r\n    var styleElem = itemData.style;\r\n    var d = itemData.d;\r\n    if (d && (d._mdf || isFirstFrame) && d.dashStr) {\r\n      styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\r\n      styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\r\n    }\r\n    if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\r\n      styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\r\n    }\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\r\n    }\r\n    if (itemData.w._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\r\n      if (styleElem.msElem) {\r\n        styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\r\n      }\r\n    }\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global Matrix */\r\n\r\nfunction ShapeTransformManager() {\r\n  this.sequences = {};\r\n  this.sequenceList = [];\r\n  this.transform_key_count = 0;\r\n}\r\n\r\nShapeTransformManager.prototype = {\r\n  addTransformSequence: function (transforms) {\r\n    var i;\r\n    var len = transforms.length;\r\n    var key = '_';\r\n    for (i = 0; i < len; i += 1) {\r\n      key += transforms[i].transform.key + '_';\r\n    }\r\n    var sequence = this.sequences[key];\r\n    if (!sequence) {\r\n      sequence = {\r\n        transforms: [].concat(transforms),\r\n        finalTransform: new Matrix(),\r\n        _mdf: false,\r\n      };\r\n      this.sequences[key] = sequence;\r\n      this.sequenceList.push(sequence);\r\n    }\r\n    return sequence;\r\n  },\r\n  processSequence: function (sequence, isFirstFrame) {\r\n    var i = 0;\r\n    var len = sequence.transforms.length;\r\n    var _mdf = isFirstFrame;\r\n    while (i < len && !isFirstFrame) {\r\n      if (sequence.transforms[i].transform.mProps._mdf) {\r\n        _mdf = true;\r\n        break;\r\n      }\r\n      i += 1;\r\n    }\r\n    if (_mdf) {\r\n      var props;\r\n      sequence.finalTransform.reset();\r\n      for (i = len - 1; i >= 0; i -= 1) {\r\n        props = sequence.transforms[i].transform.mProps.v.props;\r\n        sequence.finalTransform.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\r\n      }\r\n    }\r\n    sequence._mdf = _mdf;\r\n  },\r\n  processSequences: function (isFirstFrame) {\r\n    var i;\r\n    var len = this.sequenceList.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.processSequence(this.sequenceList[i], isFirstFrame);\r\n    }\r\n  },\r\n  getNewKey: function () {\r\n    this.transform_key_count += 1;\r\n    return '_' + this.transform_key_count;\r\n  },\r\n};\r\n\r\n/* global ShapePropertyFactory, SVGShapeData */\r\n\r\nfunction CVShapeData(element, data, styles, transformsManager) {\r\n  this.styledShapes = [];\r\n  this.tr = [0, 0, 0, 0, 0, 0];\r\n  var ty = 4;\r\n  if (data.ty === 'rc') {\r\n    ty = 5;\r\n  } else if (data.ty === 'el') {\r\n    ty = 6;\r\n  } else if (data.ty === 'sr') {\r\n    ty = 7;\r\n  }\r\n  this.sh = ShapePropertyFactory.getShapeProp(element, data, ty, element);\r\n  var i;\r\n  var len = styles.length;\r\n  var styledShape;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!styles[i].closed) {\r\n      styledShape = {\r\n        transforms: transformsManager.addTransformSequence(styles[i].transforms),\r\n        trNodes: [],\r\n      };\r\n      this.styledShapes.push(styledShape);\r\n      styles[i].elements.push(styledShape);\r\n    }\r\n  }\r\n}\r\n\r\nCVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\r\n\r\n/* global LayerExpressionInterface, EffectsExpressionInterface, CompExpressionInterface, ShapeExpressionInterface,\r\nTextExpressionInterface, getBlendMode,createElementID, EffectsManager */\r\n\r\nfunction BaseElement() {\r\n}\r\n\r\nBaseElement.prototype = {\r\n  checkMasks: function () {\r\n    if (!this.data.hasMask) {\r\n      return false;\r\n    }\r\n    var i = 0;\r\n    var len = this.data.masksProperties.length;\r\n    while (i < len) {\r\n      if ((this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false)) {\r\n        return true;\r\n      }\r\n      i += 1;\r\n    }\r\n    return false;\r\n  },\r\n  initExpressions: function () {\r\n    this.layerInterface = LayerExpressionInterface(this);\r\n    if (this.data.hasMask && this.maskManager) {\r\n      this.layerInterface.registerMaskInterface(this.maskManager);\r\n    }\r\n    var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\r\n    this.layerInterface.registerEffectsInterface(effectsInterface);\r\n\r\n    if (this.data.ty === 0 || this.data.xt) {\r\n      this.compInterface = CompExpressionInterface(this);\r\n    } else if (this.data.ty === 4) {\r\n      this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\r\n      this.layerInterface.content = this.layerInterface.shapeInterface;\r\n    } else if (this.data.ty === 5) {\r\n      this.layerInterface.textInterface = TextExpressionInterface(this);\r\n      this.layerInterface.text = this.layerInterface.textInterface;\r\n    }\r\n  },\r\n  setBlendMode: function () {\r\n    var blendModeValue = getBlendMode(this.data.bm);\r\n    var elem = this.baseElement || this.layerElement;\r\n\r\n    elem.style['mix-blend-mode'] = blendModeValue;\r\n  },\r\n  initBaseData: function (data, globalData, comp) {\r\n    this.globalData = globalData;\r\n    this.comp = comp;\r\n    this.data = data;\r\n    this.layerId = createElementID();\r\n\r\n    // Stretch factor for old animations missing this property.\r\n    if (!this.data.sr) {\r\n      this.data.sr = 1;\r\n    }\r\n    // effects manager\r\n    this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\r\n  },\r\n  getType: function () {\r\n    return this.type;\r\n  },\r\n  sourceRectAtTime: function () {},\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HierarchyElement, FrameElement */\r\n\r\nfunction NullElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initFrame();\r\n  this.initTransform(data, globalData, comp);\r\n  this.initHierarchy();\r\n}\r\n\r\nNullElement.prototype.prepareFrame = function (num) {\r\n  this.prepareProperties(num, true);\r\n};\r\n\r\nNullElement.prototype.renderFrame = function () {\r\n};\r\n\r\nNullElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nNullElement.prototype.destroy = function () {\r\n};\r\n\r\nNullElement.prototype.sourceRectAtTime = function () {\r\n};\r\n\r\nNullElement.prototype.hide = function () {\r\n};\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\r\n\r\n/* global filtersFactory, featureSupport, filtersFactory, createElementID, createNS, MaskElement, SVGEffects, locationHref */\r\n\r\nfunction SVGBaseElement() {\r\n}\r\n\r\nSVGBaseElement.prototype = {\r\n  initRendererElement: function () {\r\n    this.layerElement = createNS('g');\r\n  },\r\n  createContainerElements: function () {\r\n    this.matteElement = createNS('g');\r\n    this.transformedElement = this.layerElement;\r\n    this.maskedElement = this.layerElement;\r\n    this._sizeChanged = false;\r\n    var layerElementParent = null;\r\n    // If this layer acts as a mask for the following layer\r\n    var filId;\r\n    var fil;\r\n    var gg;\r\n    if (this.data.td) {\r\n      if (this.data.td == 3 || this.data.td == 1) { // eslint-disable-line eqeqeq\r\n        var masker = createNS('mask');\r\n        masker.setAttribute('id', this.layerId);\r\n        masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha'); // eslint-disable-line eqeqeq\r\n        masker.appendChild(this.layerElement);\r\n        layerElementParent = masker;\r\n        this.globalData.defs.appendChild(masker);\r\n        // This is only for IE and Edge when mask if of type alpha\r\n        if (!featureSupport.maskType && this.data.td == 1) { // eslint-disable-line eqeqeq\r\n          masker.setAttribute('mask-type', 'luminance');\r\n          filId = createElementID();\r\n          fil = filtersFactory.createFilter(filId);\r\n          this.globalData.defs.appendChild(fil);\r\n          fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n          gg = createNS('g');\r\n          gg.appendChild(this.layerElement);\r\n          layerElementParent = gg;\r\n          masker.appendChild(gg);\r\n          gg.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n        }\r\n      } else if (this.data.td == 2) { // eslint-disable-line eqeqeq\r\n        var maskGroup = createNS('mask');\r\n        maskGroup.setAttribute('id', this.layerId);\r\n        maskGroup.setAttribute('mask-type', 'alpha');\r\n        var maskGrouper = createNS('g');\r\n        maskGroup.appendChild(maskGrouper);\r\n        filId = createElementID();\r\n        fil = filtersFactory.createFilter(filId);\r\n        /// /\r\n\r\n        // This solution doesn't work on Android when meta tag with viewport attribute is set\r\n        /* var feColorMatrix = createNS('feColorMatrix');\r\n                feColorMatrix.setAttribute('type', 'matrix');\r\n                feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n                feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\r\n                fil.appendChild(feColorMatrix); */\r\n        /// /\r\n        var feCTr = createNS('feComponentTransfer');\r\n        feCTr.setAttribute('in', 'SourceGraphic');\r\n        fil.appendChild(feCTr);\r\n        var feFunc = createNS('feFuncA');\r\n        feFunc.setAttribute('type', 'table');\r\n        feFunc.setAttribute('tableValues', '1.0 0.0');\r\n        feCTr.appendChild(feFunc);\r\n        /// /\r\n        this.globalData.defs.appendChild(fil);\r\n        var alphaRect = createNS('rect');\r\n        alphaRect.setAttribute('width', this.comp.data.w);\r\n        alphaRect.setAttribute('height', this.comp.data.h);\r\n        alphaRect.setAttribute('x', '0');\r\n        alphaRect.setAttribute('y', '0');\r\n        alphaRect.setAttribute('fill', '#ffffff');\r\n        alphaRect.setAttribute('opacity', '0');\r\n        maskGrouper.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n        maskGrouper.appendChild(alphaRect);\r\n        maskGrouper.appendChild(this.layerElement);\r\n        layerElementParent = maskGrouper;\r\n        if (!featureSupport.maskType) {\r\n          maskGroup.setAttribute('mask-type', 'luminance');\r\n          fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n          gg = createNS('g');\r\n          maskGrouper.appendChild(alphaRect);\r\n          gg.appendChild(this.layerElement);\r\n          layerElementParent = gg;\r\n          maskGrouper.appendChild(gg);\r\n        }\r\n        this.globalData.defs.appendChild(maskGroup);\r\n      }\r\n    } else if (this.data.tt) {\r\n      this.matteElement.appendChild(this.layerElement);\r\n      layerElementParent = this.matteElement;\r\n      this.baseElement = this.matteElement;\r\n    } else {\r\n      this.baseElement = this.layerElement;\r\n    }\r\n    if (this.data.ln) {\r\n      this.layerElement.setAttribute('id', this.data.ln);\r\n    }\r\n    if (this.data.cl) {\r\n      this.layerElement.setAttribute('class', this.data.cl);\r\n    }\r\n    // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\r\n    if (this.data.ty === 0 && !this.data.hd) {\r\n      var cp = createNS('clipPath');\r\n      var pt = createNS('path');\r\n      pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\r\n      var clipId = createElementID();\r\n      cp.setAttribute('id', clipId);\r\n      cp.appendChild(pt);\r\n      this.globalData.defs.appendChild(cp);\r\n\r\n      if (this.checkMasks()) {\r\n        var cpGroup = createNS('g');\r\n        cpGroup.setAttribute('clip-path', 'url(' + locationHref + '#' + clipId + ')');\r\n        cpGroup.appendChild(this.layerElement);\r\n        this.transformedElement = cpGroup;\r\n        if (layerElementParent) {\r\n          layerElementParent.appendChild(this.transformedElement);\r\n        } else {\r\n          this.baseElement = this.transformedElement;\r\n        }\r\n      } else {\r\n        this.layerElement.setAttribute('clip-path', 'url(' + locationHref + '#' + clipId + ')');\r\n      }\r\n    }\r\n    if (this.data.bm !== 0) {\r\n      this.setBlendMode();\r\n    }\r\n  },\r\n  renderElement: function () {\r\n    if (this.finalTransform._matMdf) {\r\n      this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\r\n    }\r\n    if (this.finalTransform._opMdf) {\r\n      this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\r\n    }\r\n  },\r\n  destroyBaseElement: function () {\r\n    this.layerElement = null;\r\n    this.matteElement = null;\r\n    this.maskManager.destroy();\r\n  },\r\n  getBaseElement: function () {\r\n    if (this.data.hd) {\r\n      return null;\r\n    }\r\n    return this.baseElement;\r\n  },\r\n  createRenderableComponents: function () {\r\n    this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n    this.renderableEffectsManager = new SVGEffects(this);\r\n  },\r\n  setMatte: function (id) {\r\n    if (!this.matteElement) {\r\n      return;\r\n    }\r\n    this.matteElement.setAttribute('mask', 'url(' + locationHref + '#' + id + ')');\r\n  },\r\n};\r\n\r\n/* global ProcessedElement */\r\n\r\nfunction IShapeElement() {\r\n}\r\n\r\nIShapeElement.prototype = {\r\n  addShapeToModifiers: function (data) {\r\n    var i;\r\n    var len = this.shapeModifiers.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapeModifiers[i].addShape(data);\r\n    }\r\n  },\r\n  isShapeInAnimatedModifiers: function (data) {\r\n    var i = 0;\r\n    var len = this.shapeModifiers.length;\r\n    while (i < len) {\r\n      if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  },\r\n  renderModifiers: function () {\r\n    if (!this.shapeModifiers.length) {\r\n      return;\r\n    }\r\n    var i;\r\n    var len = this.shapes.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapes[i].sh.reset();\r\n    }\r\n\r\n    len = this.shapeModifiers.length;\r\n    var shouldBreakProcess;\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      shouldBreakProcess = this.shapeModifiers[i].processShapes(this._isFirstFrame);\r\n      // workaround to fix cases where a repeater resets the shape so the following processes get called twice\r\n      // TODO: find a better solution for this\r\n      if (shouldBreakProcess) {\r\n        break;\r\n      }\r\n    }\r\n  },\r\n\r\n  searchProcessedElement: function (elem) {\r\n    var elements = this.processedElements;\r\n    var i = 0;\r\n    var len = elements.length;\r\n    while (i < len) {\r\n      if (elements[i].elem === elem) {\r\n        return elements[i].pos;\r\n      }\r\n      i += 1;\r\n    }\r\n    return 0;\r\n  },\r\n  addProcessedElement: function (elem, pos) {\r\n    var elements = this.processedElements;\r\n    var i = elements.length;\r\n    while (i) {\r\n      i -= 1;\r\n      if (elements[i].elem === elem) {\r\n        elements[i].pos = pos;\r\n        return;\r\n      }\r\n    }\r\n    elements.push(new ProcessedElement(elem, pos));\r\n  },\r\n  prepareFrame: function (num) {\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n  },\r\n};\r\n\r\n/* global TextProperty, TextAnimatorProperty, buildShapeString, LetterProps */\r\n\r\nfunction ITextElement() {\r\n}\r\n\r\nITextElement.prototype.initElement = function (data, globalData, comp) {\r\n  this.lettersChangedFlag = true;\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\r\n  this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\r\n  this.initTransform(data, globalData, comp);\r\n  this.initHierarchy();\r\n  this.initRenderable();\r\n  this.initRendererElement();\r\n  this.createContainerElements();\r\n  this.createRenderableComponents();\r\n  this.createContent();\r\n  this.hide();\r\n  this.textAnimator.searchProperties(this.dynamicProperties);\r\n};\r\n\r\nITextElement.prototype.prepareFrame = function (num) {\r\n  this._mdf = false;\r\n  this.prepareRenderableFrame(num);\r\n  this.prepareProperties(num, this.isInRange);\r\n  if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\r\n    this.buildNewText();\r\n    this.textProperty._isFirstFrame = false;\r\n    this.textProperty._mdf = false;\r\n  }\r\n};\r\n\r\nITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\r\n  var j;\r\n  var jLen = shapes.length;\r\n  var pathNodes;\r\n  var shapeStr = '';\r\n  for (j = 0; j < jLen; j += 1) {\r\n    pathNodes = shapes[j].ks.k;\r\n    shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\r\n  }\r\n  return shapeStr;\r\n};\r\n\r\nITextElement.prototype.updateDocumentData = function (newData, index) {\r\n  this.textProperty.updateDocumentData(newData, index);\r\n};\r\n\r\nITextElement.prototype.canResizeFont = function (_canResize) {\r\n  this.textProperty.canResizeFont(_canResize);\r\n};\r\n\r\nITextElement.prototype.setMinimumFontSize = function (_fontSize) {\r\n  this.textProperty.setMinimumFontSize(_fontSize);\r\n};\r\n\r\nITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\r\n  if (documentData.ps) {\r\n    matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\r\n  }\r\n  matrixHelper.translate(0, -documentData.ls, 0);\r\n  switch (documentData.j) {\r\n    case 1:\r\n      matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\r\n      break;\r\n    case 2:\r\n      matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  matrixHelper.translate(xPos, yPos, 0);\r\n};\r\n\r\nITextElement.prototype.buildColor = function (colorData) {\r\n  return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\r\n};\r\n\r\nITextElement.prototype.emptyProp = new LetterProps();\r\n\r\nITextElement.prototype.destroy = function () {\r\n\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement */\r\n\r\nfunction ICompElement() {}\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\r\n\r\nICompElement.prototype.initElement = function (data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initTransform(data, globalData, comp);\r\n  this.initRenderable();\r\n  this.initHierarchy();\r\n  this.initRendererElement();\r\n  this.createContainerElements();\r\n  this.createRenderableComponents();\r\n  if (this.data.xt || !globalData.progressiveLoad) {\r\n    this.buildAllItems();\r\n  }\r\n  this.hide();\r\n};\r\n\r\n/* ICompElement.prototype.hide = function(){\r\n    if(!this.hidden){\r\n        this.hideElement();\r\n        var i,len = this.elements.length;\r\n        for( i = 0; i < len; i+=1 ){\r\n            if(this.elements[i]){\r\n                this.elements[i].hide();\r\n            }\r\n        }\r\n    }\r\n}; */\r\n\r\nICompElement.prototype.prepareFrame = function (num) {\r\n  this._mdf = false;\r\n  this.prepareRenderableFrame(num);\r\n  this.prepareProperties(num, this.isInRange);\r\n  if (!this.isInRange && !this.data.xt) {\r\n    return;\r\n  }\r\n\r\n  if (!this.tm._placeholder) {\r\n    var timeRemapped = this.tm.v;\r\n    if (timeRemapped === this.data.op) {\r\n      timeRemapped = this.data.op - 1;\r\n    }\r\n    this.renderedFrame = timeRemapped;\r\n  } else {\r\n    this.renderedFrame = num / this.data.sr;\r\n  }\r\n  var i;\r\n  var len = this.elements.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(this.renderedFrame);\r\n  }\r\n  // This iteration needs to be backwards because of how expressions connect between each other\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\r\n      if (this.elements[i]._mdf) {\r\n        this._mdf = true;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.renderInnerContent = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].renderFrame();\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.setElements = function (elems) {\r\n  this.elements = elems;\r\n};\r\n\r\nICompElement.prototype.getElements = function () {\r\n  return this.elements;\r\n};\r\n\r\nICompElement.prototype.destroyElements = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.destroy = function () {\r\n  this.destroyElements();\r\n  this.destroyBaseElement();\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, createNS */\r\n\r\nfunction IImageElement(data, globalData, comp) {\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initElement(data, globalData, comp);\r\n  this.sourceRect = {\r\n    top: 0, left: 0, width: this.assetData.w, height: this.assetData.h,\r\n  };\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\r\n\r\nIImageElement.prototype.createContent = function () {\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n\r\n  this.innerElem = createNS('image');\r\n  this.innerElem.setAttribute('width', this.assetData.w + 'px');\r\n  this.innerElem.setAttribute('height', this.assetData.h + 'px');\r\n  this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\r\n  this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\r\n\r\n  this.layerElement.appendChild(this.innerElem);\r\n};\r\n\r\nIImageElement.prototype.sourceRectAtTime = function () {\r\n  return this.sourceRect;\r\n};\r\n\r\n/* global extendPrototype, IImageElement, createNS */\r\n\r\nfunction ISolidElement(data, globalData, comp) {\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([IImageElement], ISolidElement);\r\n\r\nISolidElement.prototype.createContent = function () {\r\n  var rect = createNS('rect');\r\n  /// /rect.style.width = this.data.sw;\r\n  /// /rect.style.height = this.data.sh;\r\n  /// /rect.style.fill = this.data.sc;\r\n  rect.setAttribute('width', this.data.sw);\r\n  rect.setAttribute('height', this.data.sh);\r\n  rect.setAttribute('fill', this.data.sc);\r\n  this.layerElement.appendChild(rect);\r\n};\r\n\r\n/* global PropertyFactory, extendPrototype, RenderableElement, BaseElement, FrameElement */\r\n\r\nfunction AudioElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initRenderable();\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initBaseData(data, globalData, comp);\r\n  this._isPlaying = false;\r\n  this._canPlay = false;\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n  this.audio = this.globalData.audioController.createAudio(assetPath);\r\n  this._currentTime = 0;\r\n  this.globalData.audioController.addAudio(this);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nAudioElement.prototype.prepareFrame = function (num) {\r\n  this.prepareRenderableFrame(num, true);\r\n  this.prepareProperties(num, true);\r\n  if (!this.tm._placeholder) {\r\n    var timeRemapped = this.tm.v;\r\n    this._currentTime = timeRemapped;\r\n  } else {\r\n    this._currentTime = num / this.data.sr;\r\n  }\r\n};\r\n\r\nextendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\r\n\r\nAudioElement.prototype.renderFrame = function () {\r\n  if (this.isInRange && this._canPlay) {\r\n    if (!this._isPlaying) {\r\n      this.audio.play();\r\n      this.audio.seek(this._currentTime / this.globalData.frameRate);\r\n      this._isPlaying = true;\r\n    } else if (!this.audio.playing()\r\n      || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1\r\n    ) {\r\n      this.audio.seek(this._currentTime / this.globalData.frameRate);\r\n    }\r\n  }\r\n};\r\n\r\nAudioElement.prototype.show = function () {\r\n  // this.audio.play()\r\n};\r\n\r\nAudioElement.prototype.hide = function () {\r\n  this.audio.pause();\r\n  this._isPlaying = false;\r\n};\r\n\r\nAudioElement.prototype.pause = function () {\r\n  this.audio.pause();\r\n  this._isPlaying = false;\r\n  this._canPlay = false;\r\n};\r\n\r\nAudioElement.prototype.resume = function () {\r\n  this._canPlay = true;\r\n};\r\n\r\nAudioElement.prototype.setRate = function (rateValue) {\r\n  this.audio.rate(rateValue);\r\n};\r\n\r\nAudioElement.prototype.volume = function (volumeValue) {\r\n  this.audio.volume(volumeValue);\r\n};\r\n\r\nAudioElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nAudioElement.prototype.destroy = function () {\r\n};\r\n\r\nAudioElement.prototype.sourceRectAtTime = function () {\r\n};\r\n\r\nAudioElement.prototype.initExpressions = function () {\r\n};\r\n\r\n/* global extendPrototype, RenderableElement, BaseElement, FrameElement, FootageInterface */\r\n\r\nfunction FootageElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initRenderable();\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.footageData = globalData.imageLoader.getAsset(this.assetData);\r\n  this.initBaseData(data, globalData, comp);\r\n}\r\n\r\nFootageElement.prototype.prepareFrame = function () {\r\n};\r\n\r\nextendPrototype([RenderableElement, BaseElement, FrameElement], FootageElement);\r\n\r\nFootageElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nFootageElement.prototype.renderFrame = function () {\r\n};\r\n\r\nFootageElement.prototype.destroy = function () {\r\n};\r\n\r\nFootageElement.prototype.initExpressions = function () {\r\n  this.layerInterface = FootageInterface(this);\r\n};\r\n\r\nFootageElement.prototype.getFootageData = function () {\r\n  return this.footageData;\r\n};\r\n\r\n/* global createSizedArray, PropertyFactory, extendPrototype, SVGRenderer, ICompElement, SVGBaseElement */\r\n\r\nfunction SVGCompElement(data, globalData, comp) {\r\n  this.layers = data.layers;\r\n  this.supports3d = true;\r\n  this.completeLayers = false;\r\n  this.pendingElements = [];\r\n  this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n  // this.layerElement = createNS('g');\r\n  this.initElement(data, globalData, comp);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nextendPrototype([SVGRenderer, ICompElement, SVGBaseElement], SVGCompElement);\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement,\r\nRenderableDOMElement, ITextElement, createSizedArray, createNS */\r\n\r\nfunction SVGTextLottieElement(data, globalData, comp) {\r\n  this.textSpans = [];\r\n  this.renderType = 'svg';\r\n  this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\r\n\r\nSVGTextLottieElement.prototype.createContent = function () {\r\n  if (this.data.singleShape && !this.globalData.fontManager.chars) {\r\n    this.textContainer = createNS('text');\r\n  }\r\n};\r\n\r\nSVGTextLottieElement.prototype.buildTextContents = function (textArray) {\r\n  var i = 0;\r\n  var len = textArray.length;\r\n  var textContents = [];\r\n  var currentTextContent = '';\r\n  while (i < len) {\r\n    if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\r\n      textContents.push(currentTextContent);\r\n      currentTextContent = '';\r\n    } else {\r\n      currentTextContent += textArray[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  textContents.push(currentTextContent);\r\n  return textContents;\r\n};\r\n\r\nSVGTextLottieElement.prototype.buildNewText = function () {\r\n  var i;\r\n  var len;\r\n\r\n  var documentData = this.textProperty.currentData;\r\n  this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\r\n  if (documentData.fc) {\r\n    this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\r\n  } else {\r\n    this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\r\n  }\r\n  if (documentData.sc) {\r\n    this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\r\n    this.layerElement.setAttribute('stroke-width', documentData.sw);\r\n  }\r\n  this.layerElement.setAttribute('font-size', documentData.finalSize);\r\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n  if (fontData.fClass) {\r\n    this.layerElement.setAttribute('class', fontData.fClass);\r\n  } else {\r\n    this.layerElement.setAttribute('font-family', fontData.fFamily);\r\n    var fWeight = documentData.fWeight;\r\n    var fStyle = documentData.fStyle;\r\n    this.layerElement.setAttribute('font-style', fStyle);\r\n    this.layerElement.setAttribute('font-weight', fWeight);\r\n  }\r\n  this.layerElement.setAttribute('aria-label', documentData.t);\r\n\r\n  var letters = documentData.l || [];\r\n  var usesGlyphs = !!this.globalData.fontManager.chars;\r\n  len = letters.length;\r\n\r\n  var tSpan;\r\n  var matrixHelper = this.mHelper;\r\n  var shapes;\r\n  var shapeStr = '';\r\n  var singleShape = this.data.singleShape;\r\n  var xPos = 0;\r\n  var yPos = 0;\r\n  var firstLine = true;\r\n  var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\r\n  if (singleShape && !usesGlyphs && !documentData.sz) {\r\n    var tElement = this.textContainer;\r\n    var justify = 'start';\r\n    switch (documentData.j) {\r\n      case 1:\r\n        justify = 'end';\r\n        break;\r\n      case 2:\r\n        justify = 'middle';\r\n        break;\r\n      default:\r\n        justify = 'start';\r\n        break;\r\n    }\r\n    tElement.setAttribute('text-anchor', justify);\r\n    tElement.setAttribute('letter-spacing', trackingOffset);\r\n    var textContent = this.buildTextContents(documentData.finalText);\r\n    len = textContent.length;\r\n    yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      tSpan = this.textSpans[i] || createNS('tspan');\r\n      tSpan.textContent = textContent[i];\r\n      tSpan.setAttribute('x', 0);\r\n      tSpan.setAttribute('y', yPos);\r\n      tSpan.style.display = 'inherit';\r\n      tElement.appendChild(tSpan);\r\n      this.textSpans[i] = tSpan;\r\n      yPos += documentData.finalLineHeight;\r\n    }\r\n\r\n    this.layerElement.appendChild(tElement);\r\n  } else {\r\n    var cachedSpansLength = this.textSpans.length;\r\n    var shapeData;\r\n    var charData;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!usesGlyphs || !singleShape || i === 0) {\r\n        tSpan = cachedSpansLength > i ? this.textSpans[i] : createNS(usesGlyphs ? 'path' : 'text');\r\n        if (cachedSpansLength <= i) {\r\n          tSpan.setAttribute('stroke-linecap', 'butt');\r\n          tSpan.setAttribute('stroke-linejoin', 'round');\r\n          tSpan.setAttribute('stroke-miterlimit', '4');\r\n          this.textSpans[i] = tSpan;\r\n          this.layerElement.appendChild(tSpan);\r\n        }\r\n        tSpan.style.display = 'inherit';\r\n      }\r\n\r\n      matrixHelper.reset();\r\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n      if (singleShape) {\r\n        if (letters[i].n) {\r\n          xPos = -trackingOffset;\r\n          yPos += documentData.yOffset;\r\n          yPos += firstLine ? 1 : 0;\r\n          firstLine = false;\r\n        }\r\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n        xPos += letters[i].l || 0;\r\n        // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\r\n        xPos += trackingOffset;\r\n      }\r\n      if (usesGlyphs) {\r\n        charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n        shapeData = (charData && charData.data) || {};\r\n        shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n        if (!singleShape) {\r\n          tSpan.setAttribute('d', this.createPathShape(matrixHelper, shapes));\r\n        } else {\r\n          shapeStr += this.createPathShape(matrixHelper, shapes);\r\n        }\r\n      } else {\r\n        if (singleShape) {\r\n          tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\r\n        }\r\n        tSpan.textContent = letters[i].val;\r\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n      }\r\n      //\r\n    }\r\n    if (singleShape && tSpan) {\r\n      tSpan.setAttribute('d', shapeStr);\r\n    }\r\n  }\r\n  while (i < this.textSpans.length) {\r\n    this.textSpans[i].style.display = 'none';\r\n    i += 1;\r\n  }\r\n\r\n  this._sizeChanged = true;\r\n};\r\n\r\nSVGTextLottieElement.prototype.sourceRectAtTime = function () {\r\n  this.prepareFrame(this.comp.renderedFrame - this.data.st);\r\n  this.renderInnerContent();\r\n  if (this._sizeChanged) {\r\n    this._sizeChanged = false;\r\n    var textBox = this.layerElement.getBBox();\r\n    this.bbox = {\r\n      top: textBox.y,\r\n      left: textBox.x,\r\n      width: textBox.width,\r\n      height: textBox.height,\r\n    };\r\n  }\r\n  return this.bbox;\r\n};\r\n\r\nSVGTextLottieElement.prototype.renderInnerContent = function () {\r\n  if (!this.data.singleShape) {\r\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n    if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\r\n      this._sizeChanged = true;\r\n      var i;\r\n      var len;\r\n      var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n      var letters = this.textProperty.currentData.l;\r\n\r\n      len = letters.length;\r\n      var renderedLetter;\r\n      var textSpan;\r\n      for (i = 0; i < len; i += 1) {\r\n        if (!letters[i].n) {\r\n          renderedLetter = renderedLetters[i];\r\n          textSpan = this.textSpans[i];\r\n          if (renderedLetter._mdf.m) {\r\n            textSpan.setAttribute('transform', renderedLetter.m);\r\n          }\r\n          if (renderedLetter._mdf.o) {\r\n            textSpan.setAttribute('opacity', renderedLetter.o);\r\n          }\r\n          if (renderedLetter._mdf.sw) {\r\n            textSpan.setAttribute('stroke-width', renderedLetter.sw);\r\n          }\r\n          if (renderedLetter._mdf.sc) {\r\n            textSpan.setAttribute('stroke', renderedLetter.sc);\r\n          }\r\n          if (renderedLetter._mdf.fc) {\r\n            textSpan.setAttribute('fill', renderedLetter.fc);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement,\r\nFrameElement, RenderableDOMElement, Matrix, SVGStyleData, SVGStrokeStyleData, SVGFillStyleData,\r\nSVGGradientFillStyleData, SVGGradientStrokeStyleData, locationHref, getBlendMode, ShapeGroupData,\r\nTransformPropertyFactory, SVGTransformData, ShapePropertyFactory, SVGShapeData, SVGElementsRenderer, ShapeModifiers,\r\nlineCapEnum, lineJoinEnum */\r\n\r\nfunction SVGShapeElement(data, globalData, comp) {\r\n  // List of drawable elements\r\n  this.shapes = [];\r\n  // Full shape data\r\n  this.shapesData = data.shapes;\r\n  // List of styles that will be applied to shapes\r\n  this.stylesList = [];\r\n  // List of modifiers that will be applied to shapes\r\n  this.shapeModifiers = [];\r\n  // List of items in shape tree\r\n  this.itemsData = [];\r\n  // List of items in previous shape tree\r\n  this.processedElements = [];\r\n  // List of animated components\r\n  this.animatedContents = [];\r\n  this.initElement(data, globalData, comp);\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n  // List of elements that have been created\r\n  this.prevViewData = [];\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\r\n\r\nSVGShapeElement.prototype.initSecondaryElement = function () {\r\n};\r\n\r\nSVGShapeElement.prototype.identityMatrix = new Matrix();\r\n\r\nSVGShapeElement.prototype.buildExpressionInterface = function () {};\r\n\r\nSVGShapeElement.prototype.createContent = function () {\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\r\n  this.filterUniqueShapes();\r\n};\r\n\r\n/*\r\nThis method searches for multiple shapes that affect a single element and one of them is animated\r\n*/\r\nSVGShapeElement.prototype.filterUniqueShapes = function () {\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var shape;\r\n  var j;\r\n  var jLen = this.stylesList.length;\r\n  var style;\r\n  var tempShapes = [];\r\n  var areAnimated = false;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    style = this.stylesList[j];\r\n    areAnimated = false;\r\n    tempShapes.length = 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      shape = this.shapes[i];\r\n      if (shape.styles.indexOf(style) !== -1) {\r\n        tempShapes.push(shape);\r\n        areAnimated = shape._isAnimated || areAnimated;\r\n      }\r\n    }\r\n    if (tempShapes.length > 1 && areAnimated) {\r\n      this.setShapesAsAnimated(tempShapes);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\r\n  var i;\r\n  var len = shapes.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    shapes[i].setAsAnimated();\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.createStyleElement = function (data, level) {\r\n  // TODO: prevent drawing of hidden styles\r\n  var elementData;\r\n  var styleOb = new SVGStyleData(data, level);\r\n\r\n  var pathElement = styleOb.pElem;\r\n  if (data.ty === 'st') {\r\n    elementData = new SVGStrokeStyleData(this, data, styleOb);\r\n  } else if (data.ty === 'fl') {\r\n    elementData = new SVGFillStyleData(this, data, styleOb);\r\n  } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n    var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\r\n    elementData = new GradientConstructor(this, data, styleOb);\r\n    this.globalData.defs.appendChild(elementData.gf);\r\n    if (elementData.maskId) {\r\n      this.globalData.defs.appendChild(elementData.ms);\r\n      this.globalData.defs.appendChild(elementData.of);\r\n      pathElement.setAttribute('mask', 'url(' + locationHref + '#' + elementData.maskId + ')');\r\n    }\r\n  }\r\n\r\n  if (data.ty === 'st' || data.ty === 'gs') {\r\n    pathElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\r\n    pathElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\r\n    pathElement.setAttribute('fill-opacity', '0');\r\n    if (data.lj === 1) {\r\n      pathElement.setAttribute('stroke-miterlimit', data.ml);\r\n    }\r\n  }\r\n\r\n  if (data.r === 2) {\r\n    pathElement.setAttribute('fill-rule', 'evenodd');\r\n  }\r\n\r\n  if (data.ln) {\r\n    pathElement.setAttribute('id', data.ln);\r\n  }\r\n  if (data.cl) {\r\n    pathElement.setAttribute('class', data.cl);\r\n  }\r\n  if (data.bm) {\r\n    pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n  }\r\n  this.stylesList.push(styleOb);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createGroupElement = function (data) {\r\n  var elementData = new ShapeGroupData();\r\n  if (data.ln) {\r\n    elementData.gr.setAttribute('id', data.ln);\r\n  }\r\n  if (data.cl) {\r\n    elementData.gr.setAttribute('class', data.cl);\r\n  }\r\n  if (data.bm) {\r\n    elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n  }\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createTransformElement = function (data, container) {\r\n  var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\r\n  var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\r\n  var ty = 4;\r\n  if (data.ty === 'rc') {\r\n    ty = 5;\r\n  } else if (data.ty === 'el') {\r\n    ty = 6;\r\n  } else if (data.ty === 'sr') {\r\n    ty = 7;\r\n  }\r\n  var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\r\n  var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\r\n  this.shapes.push(elementData);\r\n  this.addShapeToModifiers(elementData);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\r\n  var i = 0;\r\n  var len = this.animatedContents.length;\r\n  while (i < len) {\r\n    if (this.animatedContents[i].element === element) {\r\n      return;\r\n    }\r\n    i += 1;\r\n  }\r\n  this.animatedContents.push({\r\n    fn: SVGElementsRenderer.createRenderFunction(data),\r\n    element: element,\r\n    data: data,\r\n  });\r\n};\r\n\r\nSVGShapeElement.prototype.setElementStyles = function (elementData) {\r\n  var arr = elementData.styles;\r\n  var j;\r\n  var jLen = this.stylesList.length;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    if (!this.stylesList[j].closed) {\r\n      arr.push(this.stylesList[j]);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.reloadShapes = function () {\r\n  this._isFirstFrame = true;\r\n  var i;\r\n  var len = this.itemsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.prevViewData[i] = this.itemsData[i];\r\n  }\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\r\n  this.filterUniqueShapes();\r\n  len = this.dynamicProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.dynamicProperties[i].getValue();\r\n  }\r\n  this.renderModifiers();\r\n};\r\n\r\nSVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\r\n  var ownTransformers = [].concat(transformers);\r\n  var i;\r\n  var len = arr.length - 1;\r\n  var j;\r\n  var jLen;\r\n  var ownStyles = [];\r\n  var ownModifiers = [];\r\n  var currentTransform;\r\n  var modifier;\r\n  var processedPos;\r\n  for (i = len; i >= 0; i -= 1) {\r\n    processedPos = this.searchProcessedElement(arr[i]);\r\n    if (!processedPos) {\r\n      arr[i]._render = render;\r\n    } else {\r\n      itemsData[i] = prevViewData[processedPos - 1];\r\n    }\r\n    if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createStyleElement(arr[i], level);\r\n      } else {\r\n        itemsData[i].style.closed = false;\r\n      }\r\n      if (arr[i]._render) {\r\n        if (itemsData[i].style.pElem.parentNode !== container) {\r\n          container.appendChild(itemsData[i].style.pElem);\r\n        }\r\n      }\r\n      ownStyles.push(itemsData[i].style);\r\n    } else if (arr[i].ty === 'gr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createGroupElement(arr[i]);\r\n      } else {\r\n        jLen = itemsData[i].it.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n        }\r\n      }\r\n      this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\r\n      if (arr[i]._render) {\r\n        if (itemsData[i].gr.parentNode !== container) {\r\n          container.appendChild(itemsData[i].gr);\r\n        }\r\n      }\r\n    } else if (arr[i].ty === 'tr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createTransformElement(arr[i], container);\r\n      }\r\n      currentTransform = itemsData[i].transform;\r\n      ownTransformers.push(currentTransform);\r\n    } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\r\n      }\r\n      this.setElementStyles(itemsData[i]);\r\n    } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        modifier.init(this, arr[i]);\r\n        itemsData[i] = modifier;\r\n        this.shapeModifiers.push(modifier);\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = false;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    } else if (arr[i].ty === 'rp') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        itemsData[i] = modifier;\r\n        modifier.init(this, arr, i, itemsData);\r\n        this.shapeModifiers.push(modifier);\r\n        render = false;\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = true;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    }\r\n    this.addProcessedElement(arr[i], i + 1);\r\n  }\r\n  len = ownStyles.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownStyles[i].closed = true;\r\n  }\r\n  len = ownModifiers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownModifiers[i].closed = true;\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.renderInnerContent = function () {\r\n  this.renderModifiers();\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.stylesList[i].reset();\r\n  }\r\n  this.renderShape();\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.stylesList[i]._mdf || this._isFirstFrame) {\r\n      if (this.stylesList[i].msElem) {\r\n        this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d);\r\n        // Adding M0 0 fixes same mask bug on all browsers\r\n        this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\r\n      }\r\n      this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.renderShape = function () {\r\n  var i;\r\n  var len = this.animatedContents.length;\r\n  var animatedContent;\r\n  for (i = 0; i < len; i += 1) {\r\n    animatedContent = this.animatedContents[i];\r\n    if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\r\n      animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.destroy = function () {\r\n  this.destroyBaseElement();\r\n  this.shapesData = null;\r\n  this.itemsData = null;\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGTintFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\r\n  feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f1');\r\n  filter.appendChild(feColorMatrix);\r\n  feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n  feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f2');\r\n  filter.appendChild(feColorMatrix);\r\n  this.matrixFilter = feColorMatrix;\r\n  if (filterManager.effectElements[2].p.v !== 100 || filterManager.effectElements[2].p.k) {\r\n    var feMerge = createNS('feMerge');\r\n    filter.appendChild(feMerge);\r\n    var feMergeNode;\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMergeNode.setAttribute('in', 'SourceGraphic');\r\n    feMerge.appendChild(feMergeNode);\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMergeNode.setAttribute('in', 'f2');\r\n    feMerge.appendChild(feMergeNode);\r\n  }\r\n}\r\n\r\nSVGTintFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var colorBlack = this.filterManager.effectElements[0].p.v;\r\n    var colorWhite = this.filterManager.effectElements[1].p.v;\r\n    var opacity = this.filterManager.effectElements[2].p.v / 100;\r\n    this.matrixFilter.setAttribute('values', (colorWhite[0] - colorBlack[0]) + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGFillFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n  feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n  filter.appendChild(feColorMatrix);\r\n  this.matrixFilter = feColorMatrix;\r\n}\r\nSVGFillFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var color = this.filterManager.effectElements[2].p.v;\r\n    var opacity = this.filterManager.effectElements[6].p.v;\r\n    this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGGaussianBlurEffect(filter, filterManager) {\r\n  // Outset the filter region by 100% on all sides to accommodate blur expansion.\r\n  filter.setAttribute('x', '-100%');\r\n  filter.setAttribute('y', '-100%');\r\n  filter.setAttribute('width', '300%');\r\n  filter.setAttribute('height', '300%');\r\n\r\n  this.filterManager = filterManager;\r\n  var feGaussianBlur = createNS('feGaussianBlur');\r\n  filter.appendChild(feGaussianBlur);\r\n  this.feGaussianBlur = feGaussianBlur;\r\n}\r\n\r\nSVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    // Empirical value, matching AE's blur appearance.\r\n    var kBlurrinessToSigma = 0.3;\r\n    var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma;\r\n\r\n    // Dimensions mapping:\r\n    //\r\n    //   1 -> horizontal & vertical\r\n    //   2 -> horizontal only\r\n    //   3 -> vertical only\r\n    //\r\n    var dimensions = this.filterManager.effectElements[1].p.v;\r\n    var sigmaX = (dimensions == 3) ? 0 : sigma; // eslint-disable-line eqeqeq\r\n    var sigmaY = (dimensions == 2) ? 0 : sigma; // eslint-disable-line eqeqeq\r\n\r\n    this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + ' ' + sigmaY);\r\n\r\n    // Repeat edges mapping:\r\n    //\r\n    //   0 -> off -> duplicate\r\n    //   1 -> on  -> wrap\r\n    var edgeMode = (this.filterManager.effectElements[2].p.v == 1) ? 'wrap' : 'duplicate'; // eslint-disable-line eqeqeq\r\n    this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\r\n  }\r\n};\r\n\r\n/* global createNS, createElementID, locationHref, bmFloor */\r\n\r\nfunction SVGStrokeEffect(elem, filterManager) {\r\n  this.initialized = false;\r\n  this.filterManager = filterManager;\r\n  this.elem = elem;\r\n  this.paths = [];\r\n}\r\n\r\nSVGStrokeEffect.prototype.initialize = function () {\r\n  var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n  var path;\r\n  var groupPath;\r\n  var i;\r\n  var len;\r\n  if (this.filterManager.effectElements[1].p.v === 1) {\r\n    len = this.elem.maskManager.masksProperties.length;\r\n    i = 0;\r\n  } else {\r\n    i = this.filterManager.effectElements[0].p.v - 1;\r\n    len = i + 1;\r\n  }\r\n  groupPath = createNS('g');\r\n  groupPath.setAttribute('fill', 'none');\r\n  groupPath.setAttribute('stroke-linecap', 'round');\r\n  groupPath.setAttribute('stroke-dashoffset', 1);\r\n  for (i; i < len; i += 1) {\r\n    path = createNS('path');\r\n    groupPath.appendChild(path);\r\n    this.paths.push({ p: path, m: i });\r\n  }\r\n  if (this.filterManager.effectElements[10].p.v === 3) {\r\n    var mask = createNS('mask');\r\n    var id = createElementID();\r\n    mask.setAttribute('id', id);\r\n    mask.setAttribute('mask-type', 'alpha');\r\n    mask.appendChild(groupPath);\r\n    this.elem.globalData.defs.appendChild(mask);\r\n    var g = createNS('g');\r\n    g.setAttribute('mask', 'url(' + locationHref + '#' + id + ')');\r\n    while (elemChildren[0]) {\r\n      g.appendChild(elemChildren[0]);\r\n    }\r\n    this.elem.layerElement.appendChild(g);\r\n    this.masker = mask;\r\n    groupPath.setAttribute('stroke', '#fff');\r\n  } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\r\n    if (this.filterManager.effectElements[10].p.v === 2) {\r\n      elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n      while (elemChildren.length) {\r\n        this.elem.layerElement.removeChild(elemChildren[0]);\r\n      }\r\n    }\r\n    this.elem.layerElement.appendChild(groupPath);\r\n    this.elem.layerElement.removeAttribute('mask');\r\n    groupPath.setAttribute('stroke', '#fff');\r\n  }\r\n  this.initialized = true;\r\n  this.pathMasker = groupPath;\r\n};\r\n\r\nSVGStrokeEffect.prototype.renderFrame = function (forceRender) {\r\n  if (!this.initialized) {\r\n    this.initialize();\r\n  }\r\n  var i;\r\n  var len = this.paths.length;\r\n  var mask;\r\n  var path;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.paths[i].m !== -1) {\r\n      mask = this.elem.maskManager.viewData[this.paths[i].m];\r\n      path = this.paths[i].p;\r\n      if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\r\n        path.setAttribute('d', mask.lastPath);\r\n      }\r\n      if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\r\n        var dasharrayValue;\r\n        if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\r\n          var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\r\n          var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\r\n          var l = path.getTotalLength();\r\n          dasharrayValue = '0 0 0 ' + l * s + ' ';\r\n          var lineLength = l * (e - s);\r\n          var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\r\n          var units = Math.floor(lineLength / segment);\r\n          var j;\r\n          for (j = 0; j < units; j += 1) {\r\n            dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + ' ';\r\n          }\r\n          dasharrayValue += '0 ' + l * 10 + ' 0 0';\r\n        } else {\r\n          dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\r\n        }\r\n        path.setAttribute('stroke-dasharray', dasharrayValue);\r\n      }\r\n    }\r\n  }\r\n  if (forceRender || this.filterManager.effectElements[4].p._mdf) {\r\n    this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\r\n  }\r\n\r\n  if (forceRender || this.filterManager.effectElements[6].p._mdf) {\r\n    this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\r\n  }\r\n  if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\r\n    if (forceRender || this.filterManager.effectElements[3].p._mdf) {\r\n      var color = this.filterManager.effectElements[3].p.v;\r\n      this.pathMasker.setAttribute('stroke', 'rgb(' + bmFloor(color[0] * 255) + ',' + bmFloor(color[1] * 255) + ',' + bmFloor(color[2] * 255) + ')');\r\n    }\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGTritoneFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\r\n  feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f1');\r\n  filter.appendChild(feColorMatrix);\r\n  var feComponentTransfer = createNS('feComponentTransfer');\r\n  feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n  filter.appendChild(feComponentTransfer);\r\n  this.matrixFilter = feComponentTransfer;\r\n  var feFuncR = createNS('feFuncR');\r\n  feFuncR.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncR);\r\n  this.feFuncR = feFuncR;\r\n  var feFuncG = createNS('feFuncG');\r\n  feFuncG.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncG);\r\n  this.feFuncG = feFuncG;\r\n  var feFuncB = createNS('feFuncB');\r\n  feFuncB.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncB);\r\n  this.feFuncB = feFuncB;\r\n}\r\n\r\nSVGTritoneFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var color1 = this.filterManager.effectElements[0].p.v;\r\n    var color2 = this.filterManager.effectElements[1].p.v;\r\n    var color3 = this.filterManager.effectElements[2].p.v;\r\n    var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\r\n    var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\r\n    var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\r\n    this.feFuncR.setAttribute('tableValues', tableR);\r\n    this.feFuncG.setAttribute('tableValues', tableG);\r\n    this.feFuncB.setAttribute('tableValues', tableB);\r\n    // var opacity = this.filterManager.effectElements[2].p.v/100;\r\n    // this.matrixFilter.setAttribute('values',(colorWhite[0]- colorBlack[0])+' 0 0 0 '+ colorBlack[0] +' '+ (colorWhite[1]- colorBlack[1]) +' 0 0 0 '+ colorBlack[1] +' '+ (colorWhite[2]- colorBlack[2]) +' 0 0 0 '+ colorBlack[2] +' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGProLevelsFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var effectElements = this.filterManager.effectElements;\r\n  var feComponentTransfer = createNS('feComponentTransfer');\r\n\r\n  if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\r\n    this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\r\n  }\r\n  if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\r\n    this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\r\n  }\r\n  if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\r\n    this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\r\n  }\r\n  if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\r\n    this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\r\n  }\r\n\r\n  if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\r\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n    filter.appendChild(feComponentTransfer);\r\n    feComponentTransfer = createNS('feComponentTransfer');\r\n  }\r\n\r\n  if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\r\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n    filter.appendChild(feComponentTransfer);\r\n    this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\r\n    this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\r\n    this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\r\n  }\r\n}\r\n\r\nSVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\r\n  var feFunc = createNS(type);\r\n  feFunc.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFunc);\r\n  return feFunc;\r\n};\r\n\r\nSVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\r\n  var cnt = 0;\r\n  var segments = 256;\r\n  var perc;\r\n  var min = Math.min(inputBlack, inputWhite);\r\n  var max = Math.max(inputBlack, inputWhite);\r\n  var table = Array.call(null, { length: segments });\r\n  var colorValue;\r\n  var pos = 0;\r\n  var outputDelta = outputWhite - outputBlack;\r\n  var inputDelta = inputWhite - inputBlack;\r\n  while (cnt <= 256) {\r\n    perc = cnt / 256;\r\n    if (perc <= min) {\r\n      colorValue = inputDelta < 0 ? outputWhite : outputBlack;\r\n    } else if (perc >= max) {\r\n      colorValue = inputDelta < 0 ? outputBlack : outputWhite;\r\n    } else {\r\n      colorValue = (outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma));\r\n    }\r\n    table[pos] = colorValue;\r\n    pos += 1;\r\n    cnt += 256 / (segments - 1);\r\n  }\r\n  return table.join(' ');\r\n};\r\n\r\nSVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var val;\r\n    var effectElements = this.filterManager.effectElements;\r\n    if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\r\n      val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\r\n      this.feFuncRComposed.setAttribute('tableValues', val);\r\n      this.feFuncGComposed.setAttribute('tableValues', val);\r\n      this.feFuncBComposed.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\r\n      val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\r\n      this.feFuncR.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\r\n      val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\r\n      this.feFuncG.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\r\n      val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\r\n      this.feFuncB.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\r\n      val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\r\n      this.feFuncA.setAttribute('tableValues', val);\r\n    }\r\n  }\r\n};\r\n\r\n/* global createNS, rgbToHex, degToRads */\r\n\r\nfunction SVGDropShadowEffect(filter, filterManager) {\r\n  var filterSize = filterManager.container.globalData.renderConfig.filterSize;\r\n  filter.setAttribute('x', filterSize.x);\r\n  filter.setAttribute('y', filterSize.y);\r\n  filter.setAttribute('width', filterSize.width);\r\n  filter.setAttribute('height', filterSize.height);\r\n  this.filterManager = filterManager;\r\n\r\n  var feGaussianBlur = createNS('feGaussianBlur');\r\n  feGaussianBlur.setAttribute('in', 'SourceAlpha');\r\n  feGaussianBlur.setAttribute('result', 'drop_shadow_1');\r\n  feGaussianBlur.setAttribute('stdDeviation', '0');\r\n  this.feGaussianBlur = feGaussianBlur;\r\n  filter.appendChild(feGaussianBlur);\r\n\r\n  var feOffset = createNS('feOffset');\r\n  feOffset.setAttribute('dx', '25');\r\n  feOffset.setAttribute('dy', '0');\r\n  feOffset.setAttribute('in', 'drop_shadow_1');\r\n  feOffset.setAttribute('result', 'drop_shadow_2');\r\n  this.feOffset = feOffset;\r\n  filter.appendChild(feOffset);\r\n  var feFlood = createNS('feFlood');\r\n  feFlood.setAttribute('flood-color', '#00ff00');\r\n  feFlood.setAttribute('flood-opacity', '1');\r\n  feFlood.setAttribute('result', 'drop_shadow_3');\r\n  this.feFlood = feFlood;\r\n  filter.appendChild(feFlood);\r\n\r\n  var feComposite = createNS('feComposite');\r\n  feComposite.setAttribute('in', 'drop_shadow_3');\r\n  feComposite.setAttribute('in2', 'drop_shadow_2');\r\n  feComposite.setAttribute('operator', 'in');\r\n  feComposite.setAttribute('result', 'drop_shadow_4');\r\n  filter.appendChild(feComposite);\r\n\r\n  var feMerge = createNS('feMerge');\r\n  filter.appendChild(feMerge);\r\n  var feMergeNode;\r\n  feMergeNode = createNS('feMergeNode');\r\n  feMerge.appendChild(feMergeNode);\r\n  feMergeNode = createNS('feMergeNode');\r\n  feMergeNode.setAttribute('in', 'SourceGraphic');\r\n  this.feMergeNode = feMergeNode;\r\n  this.feMerge = feMerge;\r\n  this.originalNodeAdded = false;\r\n  feMerge.appendChild(feMergeNode);\r\n}\r\n\r\nSVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\r\n      this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[0].p._mdf) {\r\n      var col = this.filterManager.effectElements[0].p.v;\r\n      this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[1].p._mdf) {\r\n      this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\r\n      var distance = this.filterManager.effectElements[3].p.v;\r\n      var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\r\n      var x = distance * Math.cos(angle);\r\n      var y = distance * Math.sin(angle);\r\n      this.feOffset.setAttribute('dx', x);\r\n      this.feOffset.setAttribute('dy', y);\r\n    }\r\n    /* if(forceRender || this.filterManager.effectElements[5].p._mdf){\r\n            if(this.filterManager.effectElements[5].p.v === 1 && this.originalNodeAdded) {\r\n                this.feMerge.removeChild(this.feMergeNode);\r\n                this.originalNodeAdded = false;\r\n            } else if(this.filterManager.effectElements[5].p.v === 0 && !this.originalNodeAdded) {\r\n                this.feMerge.appendChild(this.feMergeNode);\r\n                this.originalNodeAdded = true;\r\n            }\r\n        } */\r\n  }\r\n};\r\n\r\n/* global createElementID, createNS */\r\n\r\nvar _svgMatteSymbols = [];\r\n\r\nfunction SVGMatte3Effect(filterElem, filterManager, elem) {\r\n  this.initialized = false;\r\n  this.filterManager = filterManager;\r\n  this.filterElem = filterElem;\r\n  this.elem = elem;\r\n  elem.matteElement = createNS('g');\r\n  elem.matteElement.appendChild(elem.layerElement);\r\n  elem.matteElement.appendChild(elem.transformedElement);\r\n  elem.baseElement = elem.matteElement;\r\n}\r\n\r\nSVGMatte3Effect.prototype.findSymbol = function (mask) {\r\n  var i = 0;\r\n  var len = _svgMatteSymbols.length;\r\n  while (i < len) {\r\n    if (_svgMatteSymbols[i] === mask) {\r\n      return _svgMatteSymbols[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nSVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\r\n  var parentNode = mask.layerElement.parentNode;\r\n  if (!parentNode) {\r\n    return;\r\n  }\r\n  var children = parentNode.children;\r\n  var i = 0;\r\n  var len = children.length;\r\n  while (i < len) {\r\n    if (children[i] === mask.layerElement) {\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n  var nextChild;\r\n  if (i <= len - 2) {\r\n    nextChild = children[i + 1];\r\n  }\r\n  var useElem = createNS('use');\r\n  useElem.setAttribute('href', '#' + symbolId);\r\n  if (nextChild) {\r\n    parentNode.insertBefore(useElem, nextChild);\r\n  } else {\r\n    parentNode.appendChild(useElem);\r\n  }\r\n};\r\n\r\nSVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\r\n  if (!this.findSymbol(mask)) {\r\n    var symbolId = createElementID();\r\n    var masker = createNS('mask');\r\n    masker.setAttribute('id', mask.layerId);\r\n    masker.setAttribute('mask-type', 'alpha');\r\n    _svgMatteSymbols.push(mask);\r\n    var defs = elem.globalData.defs;\r\n    defs.appendChild(masker);\r\n    var symbol = createNS('symbol');\r\n    symbol.setAttribute('id', symbolId);\r\n    this.replaceInParent(mask, symbolId);\r\n    symbol.appendChild(mask.layerElement);\r\n    defs.appendChild(symbol);\r\n    var useElem = createNS('use');\r\n    useElem.setAttribute('href', '#' + symbolId);\r\n    masker.appendChild(useElem);\r\n    mask.data.hd = false;\r\n    mask.show();\r\n  }\r\n  elem.setMatte(mask.layerId);\r\n};\r\n\r\nSVGMatte3Effect.prototype.initialize = function () {\r\n  var ind = this.filterManager.effectElements[0].p.v;\r\n  var elements = this.elem.comp.elements;\r\n  var i = 0;\r\n  var len = elements.length;\r\n  while (i < len) {\r\n    if (elements[i] && elements[i].data.ind === ind) {\r\n      this.setElementAsMask(this.elem, elements[i]);\r\n    }\r\n    i += 1;\r\n  }\r\n  this.initialized = true;\r\n};\r\n\r\nSVGMatte3Effect.prototype.renderFrame = function () {\r\n  if (!this.initialized) {\r\n    this.initialize();\r\n  }\r\n};\r\n\r\n/* global createElementID, filtersFactory, SVGTintFilter, SVGFillFilter, SVGStrokeEffect, SVGTritoneFilter,\r\nSVGProLevelsFilter, SVGDropShadowEffect, SVGMatte3Effect, SVGGaussianBlurEffect, locationHref */\r\n\r\nfunction SVGEffects(elem) {\r\n  var i;\r\n  var len = elem.data.ef ? elem.data.ef.length : 0;\r\n  var filId = createElementID();\r\n  var fil = filtersFactory.createFilter(filId, true);\r\n  var count = 0;\r\n  this.filters = [];\r\n  var filterManager;\r\n  for (i = 0; i < len; i += 1) {\r\n    filterManager = null;\r\n    if (elem.data.ef[i].ty === 20) {\r\n      count += 1;\r\n      filterManager = new SVGTintFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 21) {\r\n      count += 1;\r\n      filterManager = new SVGFillFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 22) {\r\n      filterManager = new SVGStrokeEffect(elem, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 23) {\r\n      count += 1;\r\n      filterManager = new SVGTritoneFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 24) {\r\n      count += 1;\r\n      filterManager = new SVGProLevelsFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 25) {\r\n      count += 1;\r\n      filterManager = new SVGDropShadowEffect(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 28) {\r\n      // count += 1;\r\n      filterManager = new SVGMatte3Effect(fil, elem.effectsManager.effectElements[i], elem);\r\n    } else if (elem.data.ef[i].ty === 29) {\r\n      count += 1;\r\n      filterManager = new SVGGaussianBlurEffect(fil, elem.effectsManager.effectElements[i]);\r\n    }\r\n    if (filterManager) {\r\n      this.filters.push(filterManager);\r\n    }\r\n  }\r\n  if (count) {\r\n    elem.globalData.defs.appendChild(fil);\r\n    elem.layerElement.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n  }\r\n  if (this.filters.length) {\r\n    elem.addRenderableComponent(this);\r\n  }\r\n}\r\n\r\nSVGEffects.prototype.renderFrame = function (_isFirstFrame) {\r\n  var i;\r\n  var len = this.filters.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.filters[i].renderFrame(_isFirstFrame);\r\n  }\r\n};\r\n\r\n/* global Matrix, createTypedArray */\r\n\r\nfunction CVContextData() {\r\n  this.saved = [];\r\n  this.cArrPos = 0;\r\n  this.cTr = new Matrix();\r\n  this.cO = 1;\r\n  var i;\r\n  var len = 15;\r\n  this.savedOp = createTypedArray('float32', len);\r\n  for (i = 0; i < len; i += 1) {\r\n    this.saved[i] = createTypedArray('float32', 16);\r\n  }\r\n  this._length = len;\r\n}\r\n\r\nCVContextData.prototype.duplicate = function () {\r\n  var newLength = this._length * 2;\r\n  var currentSavedOp = this.savedOp;\r\n  this.savedOp = createTypedArray('float32', newLength);\r\n  this.savedOp.set(currentSavedOp);\r\n  var i = 0;\r\n  for (i = this._length; i < newLength; i += 1) {\r\n    this.saved[i] = createTypedArray('float32', 16);\r\n  }\r\n  this._length = newLength;\r\n};\r\n\r\nCVContextData.prototype.reset = function () {\r\n  this.cArrPos = 0;\r\n  this.cTr.reset();\r\n  this.cO = 1;\r\n};\r\n\r\n/* global CVEffects, getBlendMode, CVMaskElement, Matrix */\r\n\r\nfunction CVBaseElement() {\r\n}\r\n\r\nCVBaseElement.prototype = {\r\n  createElements: function () {},\r\n  initRendererElement: function () {},\r\n  createContainerElements: function () {\r\n    this.canvasContext = this.globalData.canvasContext;\r\n    this.renderableEffectsManager = new CVEffects(this);\r\n  },\r\n  createContent: function () {},\r\n  setBlendMode: function () {\r\n    var globalData = this.globalData;\r\n    if (globalData.blendMode !== this.data.bm) {\r\n      globalData.blendMode = this.data.bm;\r\n      var blendModeValue = getBlendMode(this.data.bm);\r\n      globalData.canvasContext.globalCompositeOperation = blendModeValue;\r\n    }\r\n  },\r\n  createRenderableComponents: function () {\r\n    this.maskManager = new CVMaskElement(this.data, this);\r\n  },\r\n  hideElement: function () {\r\n    if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n      this.hidden = true;\r\n    }\r\n  },\r\n  showElement: function () {\r\n    if (this.isInRange && !this.isTransparent) {\r\n      this.hidden = false;\r\n      this._isFirstFrame = true;\r\n      this.maskManager._isFirstFrame = true;\r\n    }\r\n  },\r\n  renderFrame: function () {\r\n    if (this.hidden || this.data.hd) {\r\n      return;\r\n    }\r\n    this.renderTransform();\r\n    this.renderRenderable();\r\n    this.setBlendMode();\r\n    var forceRealStack = this.data.ty === 0;\r\n    this.globalData.renderer.save(forceRealStack);\r\n    this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);\r\n    this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);\r\n    this.renderInnerContent();\r\n    this.globalData.renderer.restore(forceRealStack);\r\n    if (this.maskManager.hasMasks) {\r\n      this.globalData.renderer.restore(true);\r\n    }\r\n    if (this._isFirstFrame) {\r\n      this._isFirstFrame = false;\r\n    }\r\n  },\r\n  destroy: function () {\r\n    this.canvasContext = null;\r\n    this.data = null;\r\n    this.globalData = null;\r\n    this.maskManager.destroy();\r\n  },\r\n  mHelper: new Matrix(),\r\n};\r\nCVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\r\nCVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, CVBaseElement,HierarchyElement, FrameElement,\r\nRenderableElement, SVGShapeElement, IImageElement, createTag */\r\n\r\nfunction CVImageElement(data, globalData, comp) {\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.img = globalData.imageLoader.getAsset(this.assetData);\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\r\n\r\nCVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVImageElement.prototype.createContent = function () {\r\n  if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\r\n    var canvas = createTag('canvas');\r\n    canvas.width = this.assetData.w;\r\n    canvas.height = this.assetData.h;\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    var imgW = this.img.width;\r\n    var imgH = this.img.height;\r\n    var imgRel = imgW / imgH;\r\n    var canvasRel = this.assetData.w / this.assetData.h;\r\n    var widthCrop;\r\n    var heightCrop;\r\n    var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\r\n    if ((imgRel > canvasRel && par === 'xMidYMid slice') || (imgRel < canvasRel && par !== 'xMidYMid slice')) {\r\n      heightCrop = imgH;\r\n      widthCrop = heightCrop * canvasRel;\r\n    } else {\r\n      widthCrop = imgW;\r\n      heightCrop = widthCrop / canvasRel;\r\n    }\r\n    ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);\r\n    this.img = canvas;\r\n  }\r\n};\r\n\r\nCVImageElement.prototype.renderInnerContent = function () {\r\n  this.canvasContext.drawImage(this.img, 0, 0);\r\n};\r\n\r\nCVImageElement.prototype.destroy = function () {\r\n  this.img = null;\r\n};\r\n\r\n/* global createSizedArray, PropertyFactory, extendPrototype, CanvasRenderer, ICompElement, CVBaseElement */\r\n\r\nfunction CVCompElement(data, globalData, comp) {\r\n  this.completeLayers = false;\r\n  this.layers = data.layers;\r\n  this.pendingElements = [];\r\n  this.elements = createSizedArray(this.layers.length);\r\n  this.initElement(data, globalData, comp);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nextendPrototype([CanvasRenderer, ICompElement, CVBaseElement], CVCompElement);\r\n\r\nCVCompElement.prototype.renderInnerContent = function () {\r\n  var ctx = this.canvasContext;\r\n  ctx.beginPath();\r\n  ctx.moveTo(0, 0);\r\n  ctx.lineTo(this.data.w, 0);\r\n  ctx.lineTo(this.data.w, this.data.h);\r\n  ctx.lineTo(0, this.data.h);\r\n  ctx.lineTo(0, 0);\r\n  ctx.clip();\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].renderFrame();\r\n    }\r\n  }\r\n};\r\n\r\nCVCompElement.prototype.destroy = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n  this.layers = null;\r\n  this.elements = null;\r\n};\r\n\r\n/* global createSizedArray, ShapePropertyFactory, MaskElement */\r\n\r\nfunction CVMaskElement(data, element) {\r\n  this.data = data;\r\n  this.element = element;\r\n  this.masksProperties = this.data.masksProperties || [];\r\n  this.viewData = createSizedArray(this.masksProperties.length);\r\n  var i;\r\n  var len = this.masksProperties.length;\r\n  var hasMasks = false;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.masksProperties[i].mode !== 'n') {\r\n      hasMasks = true;\r\n    }\r\n    this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);\r\n  }\r\n  this.hasMasks = hasMasks;\r\n  if (hasMasks) {\r\n    this.element.addRenderableComponent(this);\r\n  }\r\n}\r\n\r\nCVMaskElement.prototype.renderFrame = function () {\r\n  if (!this.hasMasks) {\r\n    return;\r\n  }\r\n  var transform = this.element.finalTransform.mat;\r\n  var ctx = this.element.canvasContext;\r\n  var i;\r\n  var len = this.masksProperties.length;\r\n  var pt;\r\n  var pts;\r\n  var data;\r\n  ctx.beginPath();\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.masksProperties[i].mode !== 'n') {\r\n      if (this.masksProperties[i].inv) {\r\n        ctx.moveTo(0, 0);\r\n        ctx.lineTo(this.element.globalData.compSize.w, 0);\r\n        ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\r\n        ctx.lineTo(0, this.element.globalData.compSize.h);\r\n        ctx.lineTo(0, 0);\r\n      }\r\n      data = this.viewData[i].v;\r\n      pt = transform.applyToPointArray(data.v[0][0], data.v[0][1], 0);\r\n      ctx.moveTo(pt[0], pt[1]);\r\n      var j;\r\n      var jLen = data._length;\r\n      for (j = 1; j < jLen; j += 1) {\r\n        pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\r\n        ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n      }\r\n      pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\r\n      ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n    }\r\n  }\r\n  this.element.globalData.renderer.save(true);\r\n  ctx.clip();\r\n};\r\n\r\nCVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\r\n\r\nCVMaskElement.prototype.destroy = function () {\r\n  this.element = null;\r\n};\r\n\r\n/* global ShapeTransformManager, extendPrototype, BaseElement, TransformElement, CVBaseElement, IShapeElement,\r\nHierarchyElement, FrameElement, RenderableElement, RenderableDOMElement, PropertyFactory, degToRads, GradientProperty,\r\nDashProperty, TransformPropertyFactory, CVShapeData, ShapeModifiers, bmFloor, lineCapEnum, lineJoinEnum */\r\n\r\nfunction CVShapeElement(data, globalData, comp) {\r\n  this.shapes = [];\r\n  this.shapesData = data.shapes;\r\n  this.stylesList = [];\r\n  this.itemsData = [];\r\n  this.prevViewData = [];\r\n  this.shapeModifiers = [];\r\n  this.processedElements = [];\r\n  this.transformsManager = new ShapeTransformManager();\r\n  this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);\r\n\r\nCVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\r\n\r\nCVShapeElement.prototype.transformHelper = { opacity: 1, _opMdf: false };\r\n\r\nCVShapeElement.prototype.dashResetter = [];\r\n\r\nCVShapeElement.prototype.createContent = function () {\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\r\n};\r\n\r\nCVShapeElement.prototype.createStyleElement = function (data, transforms) {\r\n  var styleElem = {\r\n    data: data,\r\n    type: data.ty,\r\n    preTransforms: this.transformsManager.addTransformSequence(transforms),\r\n    transforms: [],\r\n    elements: [],\r\n    closed: data.hd === true,\r\n  };\r\n  var elementData = {};\r\n  if (data.ty === 'fl' || data.ty === 'st') {\r\n    elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\r\n    if (!elementData.c.k) {\r\n      styleElem.co = 'rgb(' + bmFloor(elementData.c.v[0]) + ',' + bmFloor(elementData.c.v[1]) + ',' + bmFloor(elementData.c.v[2]) + ')';\r\n    }\r\n  } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n    elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\r\n    elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\r\n    elementData.h = PropertyFactory.getProp(this, data.h || { k: 0 }, 0, 0.01, this);\r\n    elementData.a = PropertyFactory.getProp(this, data.a || { k: 0 }, 0, degToRads, this);\r\n    elementData.g = new GradientProperty(this, data.g, this);\r\n  }\r\n  elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\r\n  if (data.ty === 'st' || data.ty === 'gs') {\r\n    styleElem.lc = lineCapEnum[data.lc || 2];\r\n    styleElem.lj = lineJoinEnum[data.lj || 2];\r\n    if (data.lj == 1) { // eslint-disable-line eqeqeq\r\n      styleElem.ml = data.ml;\r\n    }\r\n    elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\r\n    if (!elementData.w.k) {\r\n      styleElem.wi = elementData.w.v;\r\n    }\r\n    if (data.d) {\r\n      var d = new DashProperty(this, data.d, 'canvas', this);\r\n      elementData.d = d;\r\n      if (!elementData.d.k) {\r\n        styleElem.da = elementData.d.dashArray;\r\n        styleElem.do = elementData.d.dashoffset[0];\r\n      }\r\n    }\r\n  } else {\r\n    styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\r\n  }\r\n  this.stylesList.push(styleElem);\r\n  elementData.style = styleElem;\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createGroupElement = function () {\r\n  var elementData = {\r\n    it: [],\r\n    prevViewData: [],\r\n  };\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createTransformElement = function (data) {\r\n  var elementData = {\r\n    transform: {\r\n      opacity: 1,\r\n      _opMdf: false,\r\n      key: this.transformsManager.getNewKey(),\r\n      op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\r\n      mProps: TransformPropertyFactory.getTransformProperty(this, data, this),\r\n    },\r\n  };\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createShapeElement = function (data) {\r\n  var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\r\n\r\n  this.shapes.push(elementData);\r\n  this.addShapeToModifiers(elementData);\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.reloadShapes = function () {\r\n  this._isFirstFrame = true;\r\n  var i;\r\n  var len = this.itemsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.prevViewData[i] = this.itemsData[i];\r\n  }\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\r\n  len = this.dynamicProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.dynamicProperties[i].getValue();\r\n  }\r\n  this.renderModifiers();\r\n  this.transformsManager.processSequences(this._isFirstFrame);\r\n};\r\n\r\nCVShapeElement.prototype.addTransformToStyleList = function (transform) {\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!this.stylesList[i].closed) {\r\n      this.stylesList[i].transforms.push(transform);\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.removeTransformFromStyleList = function () {\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!this.stylesList[i].closed) {\r\n      this.stylesList[i].transforms.pop();\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.closeStyles = function (styles) {\r\n  var i;\r\n  var len = styles.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    styles[i].closed = true;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, shouldRender, transforms) {\r\n  var i;\r\n  var len = arr.length - 1;\r\n  var j;\r\n  var jLen;\r\n  var ownStyles = [];\r\n  var ownModifiers = [];\r\n  var processedPos;\r\n  var modifier;\r\n  var currentTransform;\r\n  var ownTransforms = [].concat(transforms);\r\n  for (i = len; i >= 0; i -= 1) {\r\n    processedPos = this.searchProcessedElement(arr[i]);\r\n    if (!processedPos) {\r\n      arr[i]._shouldRender = shouldRender;\r\n    } else {\r\n      itemsData[i] = prevViewData[processedPos - 1];\r\n    }\r\n    if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\r\n      } else {\r\n        itemsData[i].style.closed = false;\r\n      }\r\n\r\n      ownStyles.push(itemsData[i].style);\r\n    } else if (arr[i].ty === 'gr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createGroupElement(arr[i]);\r\n      } else {\r\n        jLen = itemsData[i].it.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n        }\r\n      }\r\n      this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\r\n    } else if (arr[i].ty === 'tr') {\r\n      if (!processedPos) {\r\n        currentTransform = this.createTransformElement(arr[i]);\r\n        itemsData[i] = currentTransform;\r\n      }\r\n      ownTransforms.push(itemsData[i]);\r\n      this.addTransformToStyleList(itemsData[i]);\r\n    } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createShapeElement(arr[i]);\r\n      }\r\n    } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'pb') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        modifier.init(this, arr[i]);\r\n        itemsData[i] = modifier;\r\n        this.shapeModifiers.push(modifier);\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = false;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    } else if (arr[i].ty === 'rp') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        itemsData[i] = modifier;\r\n        modifier.init(this, arr, i, itemsData);\r\n        this.shapeModifiers.push(modifier);\r\n        shouldRender = false;\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = true;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    }\r\n    this.addProcessedElement(arr[i], i + 1);\r\n  }\r\n  this.removeTransformFromStyleList();\r\n  this.closeStyles(ownStyles);\r\n  len = ownModifiers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownModifiers[i].closed = true;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderInnerContent = function () {\r\n  this.transformHelper.opacity = 1;\r\n  this.transformHelper._opMdf = false;\r\n  this.renderModifiers();\r\n  this.transformsManager.processSequences(this._isFirstFrame);\r\n  this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);\r\n};\r\n\r\nCVShapeElement.prototype.renderShapeTransform = function (parentTransform, groupTransform) {\r\n  if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\r\n    groupTransform.opacity = parentTransform.opacity;\r\n    groupTransform.opacity *= groupTransform.op.v;\r\n    groupTransform._opMdf = true;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.drawLayer = function () {\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  var j;\r\n  var jLen;\r\n  var k;\r\n  var kLen;\r\n  var elems;\r\n  var nodes;\r\n  var renderer = this.globalData.renderer;\r\n  var ctx = this.globalData.canvasContext;\r\n  var type;\r\n  var currentStyle;\r\n  for (i = 0; i < len; i += 1) {\r\n    currentStyle = this.stylesList[i];\r\n    type = currentStyle.type;\r\n\r\n    // Skipping style when\r\n    // Stroke width equals 0\r\n    // style should not be rendered (extra unused repeaters)\r\n    // current opacity equals 0\r\n    // global opacity equals 0\r\n    if (!(((type === 'st' || type === 'gs') && currentStyle.wi === 0) || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0)) {\r\n      renderer.save();\r\n      elems = currentStyle.elements;\r\n      if (type === 'st' || type === 'gs') {\r\n        ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\r\n        ctx.lineWidth = currentStyle.wi;\r\n        ctx.lineCap = currentStyle.lc;\r\n        ctx.lineJoin = currentStyle.lj;\r\n        ctx.miterLimit = currentStyle.ml || 0;\r\n      } else {\r\n        ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\r\n      }\r\n      renderer.ctxOpacity(currentStyle.coOp);\r\n      if (type !== 'st' && type !== 'gs') {\r\n        ctx.beginPath();\r\n      }\r\n      renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\r\n      jLen = elems.length;\r\n      for (j = 0; j < jLen; j += 1) {\r\n        if (type === 'st' || type === 'gs') {\r\n          ctx.beginPath();\r\n          if (currentStyle.da) {\r\n            ctx.setLineDash(currentStyle.da);\r\n            ctx.lineDashOffset = currentStyle.do;\r\n          }\r\n        }\r\n        nodes = elems[j].trNodes;\r\n        kLen = nodes.length;\r\n\r\n        for (k = 0; k < kLen; k += 1) {\r\n          if (nodes[k].t === 'm') {\r\n            ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\r\n          } else if (nodes[k].t === 'c') {\r\n            ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\r\n          } else {\r\n            ctx.closePath();\r\n          }\r\n        }\r\n        if (type === 'st' || type === 'gs') {\r\n          ctx.stroke();\r\n          if (currentStyle.da) {\r\n            ctx.setLineDash(this.dashResetter);\r\n          }\r\n        }\r\n      }\r\n      if (type !== 'st' && type !== 'gs') {\r\n        ctx.fill(currentStyle.r);\r\n      }\r\n      renderer.restore();\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderShape = function (parentTransform, items, data, isMain) {\r\n  var i;\r\n  var len = items.length - 1;\r\n  var groupTransform;\r\n  groupTransform = parentTransform;\r\n  for (i = len; i >= 0; i -= 1) {\r\n    if (items[i].ty === 'tr') {\r\n      groupTransform = data[i].transform;\r\n      this.renderShapeTransform(parentTransform, groupTransform);\r\n    } else if (items[i].ty === 'sh' || items[i].ty === 'el' || items[i].ty === 'rc' || items[i].ty === 'sr') {\r\n      this.renderPath(items[i], data[i]);\r\n    } else if (items[i].ty === 'fl') {\r\n      this.renderFill(items[i], data[i], groupTransform);\r\n    } else if (items[i].ty === 'st') {\r\n      this.renderStroke(items[i], data[i], groupTransform);\r\n    } else if (items[i].ty === 'gf' || items[i].ty === 'gs') {\r\n      this.renderGradientFill(items[i], data[i], groupTransform);\r\n    } else if (items[i].ty === 'gr') {\r\n      this.renderShape(groupTransform, items[i].it, data[i].it);\r\n    } else if (items[i].ty === 'tm') {\r\n      //\r\n    }\r\n  }\r\n  if (isMain) {\r\n    this.drawLayer();\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderStyledShape = function (styledShape, shape) {\r\n  if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\r\n    var shapeNodes = styledShape.trNodes;\r\n    var paths = shape.paths;\r\n    var i;\r\n    var len;\r\n    var j;\r\n    var jLen = paths._length;\r\n    shapeNodes.length = 0;\r\n    var groupTransformMat = styledShape.transforms.finalTransform;\r\n    for (j = 0; j < jLen; j += 1) {\r\n      var pathNodes = paths.shapes[j];\r\n      if (pathNodes && pathNodes.v) {\r\n        len = pathNodes._length;\r\n        for (i = 1; i < len; i += 1) {\r\n          if (i === 1) {\r\n            shapeNodes.push({\r\n              t: 'm',\r\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0),\r\n            });\r\n          }\r\n          shapeNodes.push({\r\n            t: 'c',\r\n            pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i]),\r\n          });\r\n        }\r\n        if (len === 1) {\r\n          shapeNodes.push({\r\n            t: 'm',\r\n            p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0),\r\n          });\r\n        }\r\n        if (pathNodes.c && len) {\r\n          shapeNodes.push({\r\n            t: 'c',\r\n            pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0]),\r\n          });\r\n          shapeNodes.push({\r\n            t: 'z',\r\n          });\r\n        }\r\n      }\r\n    }\r\n    styledShape.trNodes = shapeNodes;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderPath = function (pathData, itemData) {\r\n  if (pathData.hd !== true && pathData._shouldRender) {\r\n    var i;\r\n    var len = itemData.styledShapes.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderFill = function (styleData, itemData, groupTransform) {\r\n  var styleElem = itemData.style;\r\n\r\n  if (itemData.c._mdf || this._isFirstFrame) {\r\n    styleElem.co = 'rgb('\r\n        + bmFloor(itemData.c.v[0]) + ','\r\n        + bmFloor(itemData.c.v[1]) + ','\r\n        + bmFloor(itemData.c.v[2]) + ')';\r\n  }\r\n  if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderGradientFill = function (styleData, itemData, groupTransform) {\r\n  var styleElem = itemData.style;\r\n  var grd;\r\n  if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || (styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf))) {\r\n    var ctx = this.globalData.canvasContext;\r\n    var pt1 = itemData.s.v;\r\n    var pt2 = itemData.e.v;\r\n    if (styleData.t === 1) {\r\n      grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\r\n    } else {\r\n      var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n      var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n      var percent = itemData.h.v;\r\n      if (percent >= 1) {\r\n        percent = 0.99;\r\n      } else if (percent <= -1) {\r\n        percent = -0.99;\r\n      }\r\n      var dist = rad * percent;\r\n      var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n      var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n      grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\r\n    }\r\n\r\n    var i;\r\n    var len = styleData.g.p;\r\n    var cValues = itemData.g.c;\r\n    var opacity = 1;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (itemData.g._hasOpacity && itemData.g._collapsable) {\r\n        opacity = itemData.g.o[i * 2 + 1];\r\n      }\r\n      grd.addColorStop(cValues[i * 4] / 100, 'rgba(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ',' + opacity + ')');\r\n    }\r\n    styleElem.grd = grd;\r\n  }\r\n  styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n};\r\n\r\nCVShapeElement.prototype.renderStroke = function (styleData, itemData, groupTransform) {\r\n  var styleElem = itemData.style;\r\n  var d = itemData.d;\r\n  if (d && (d._mdf || this._isFirstFrame)) {\r\n    styleElem.da = d.dashArray;\r\n    styleElem.do = d.dashoffset[0];\r\n  }\r\n  if (itemData.c._mdf || this._isFirstFrame) {\r\n    styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\r\n  }\r\n  if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n  }\r\n  if (itemData.w._mdf || this._isFirstFrame) {\r\n    styleElem.wi = itemData.w.v;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.destroy = function () {\r\n  this.shapesData = null;\r\n  this.globalData = null;\r\n  this.canvasContext = null;\r\n  this.stylesList.length = 0;\r\n  this.itemsData.length = 0;\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement,\r\nSVGShapeElement, IImageElement */\r\n\r\nfunction CVSolidElement(data, globalData, comp) {\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\r\n\r\nCVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVSolidElement.prototype.renderInnerContent = function () {\r\n  var ctx = this.canvasContext;\r\n  ctx.fillStyle = this.data.sc;\r\n  ctx.fillRect(0, 0, this.data.sw, this.data.sh);\r\n  //\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement,\r\nRenderableElement, ITextElement, createTag, createSizedArray */\r\n\r\nfunction CVTextElement(data, globalData, comp) {\r\n  this.textSpans = [];\r\n  this.yOffset = 0;\r\n  this.fillColorAnim = false;\r\n  this.strokeColorAnim = false;\r\n  this.strokeWidthAnim = false;\r\n  this.stroke = false;\r\n  this.fill = false;\r\n  this.justifyOffset = 0;\r\n  this.currentRender = null;\r\n  this.renderType = 'canvas';\r\n  this.values = {\r\n    fill: 'rgba(0,0,0,0)',\r\n    stroke: 'rgba(0,0,0,0)',\r\n    sWidth: 0,\r\n    fValue: '',\r\n  };\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);\r\n\r\nCVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\r\n\r\nCVTextElement.prototype.buildNewText = function () {\r\n  var documentData = this.textProperty.currentData;\r\n  this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n\r\n  var hasFill = false;\r\n  if (documentData.fc) {\r\n    hasFill = true;\r\n    this.values.fill = this.buildColor(documentData.fc);\r\n  } else {\r\n    this.values.fill = 'rgba(0,0,0,0)';\r\n  }\r\n  this.fill = hasFill;\r\n  var hasStroke = false;\r\n  if (documentData.sc) {\r\n    hasStroke = true;\r\n    this.values.stroke = this.buildColor(documentData.sc);\r\n    this.values.sWidth = documentData.sw;\r\n  }\r\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n  var i;\r\n  var len;\r\n  var letters = documentData.l;\r\n  var matrixHelper = this.mHelper;\r\n  this.stroke = hasStroke;\r\n  this.values.fValue = documentData.finalSize + 'px ' + this.globalData.fontManager.getFontByName(documentData.f).fFamily;\r\n  len = documentData.finalText.length;\r\n  // this.tHelper.font = this.values.fValue;\r\n  var charData;\r\n  var shapeData;\r\n  var k;\r\n  var kLen;\r\n  var shapes;\r\n  var j;\r\n  var jLen;\r\n  var pathNodes;\r\n  var commands;\r\n  var pathArr;\r\n  var singleShape = this.data.singleShape;\r\n  var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\r\n  var xPos = 0;\r\n  var yPos = 0;\r\n  var firstLine = true;\r\n  var cnt = 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n    shapeData = (charData && charData.data) || {};\r\n    matrixHelper.reset();\r\n    if (singleShape && letters[i].n) {\r\n      xPos = -trackingOffset;\r\n      yPos += documentData.yOffset;\r\n      yPos += firstLine ? 1 : 0;\r\n      firstLine = false;\r\n    }\r\n\r\n    shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n    jLen = shapes.length;\r\n    matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n    if (singleShape) {\r\n      this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n    }\r\n    commands = createSizedArray(jLen);\r\n    for (j = 0; j < jLen; j += 1) {\r\n      kLen = shapes[j].ks.k.i.length;\r\n      pathNodes = shapes[j].ks.k;\r\n      pathArr = [];\r\n      for (k = 1; k < kLen; k += 1) {\r\n        if (k === 1) {\r\n          pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\r\n        }\r\n        pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToY(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToX(pathNodes.v[k][0], pathNodes.v[k][1], 0), matrixHelper.applyToY(pathNodes.v[k][0], pathNodes.v[k][1], 0));\r\n      }\r\n      pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\r\n      commands[j] = pathArr;\r\n    }\r\n    if (singleShape) {\r\n      xPos += letters[i].l;\r\n      xPos += trackingOffset;\r\n    }\r\n    if (this.textSpans[cnt]) {\r\n      this.textSpans[cnt].elem = commands;\r\n    } else {\r\n      this.textSpans[cnt] = { elem: commands };\r\n    }\r\n    cnt += 1;\r\n  }\r\n};\r\n\r\nCVTextElement.prototype.renderInnerContent = function () {\r\n  var ctx = this.canvasContext;\r\n  ctx.font = this.values.fValue;\r\n  ctx.lineCap = 'butt';\r\n  ctx.lineJoin = 'miter';\r\n  ctx.miterLimit = 4;\r\n\r\n  if (!this.data.singleShape) {\r\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n  }\r\n\r\n  var i;\r\n  var len;\r\n  var j;\r\n  var jLen;\r\n  var k;\r\n  var kLen;\r\n  var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n  var letters = this.textProperty.currentData.l;\r\n\r\n  len = letters.length;\r\n  var renderedLetter;\r\n  var lastFill = null;\r\n  var lastStroke = null;\r\n  var lastStrokeW = null;\r\n  var commands;\r\n  var pathArr;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!letters[i].n) {\r\n      renderedLetter = renderedLetters[i];\r\n      if (renderedLetter) {\r\n        this.globalData.renderer.save();\r\n        this.globalData.renderer.ctxTransform(renderedLetter.p);\r\n        this.globalData.renderer.ctxOpacity(renderedLetter.o);\r\n      }\r\n      if (this.fill) {\r\n        if (renderedLetter && renderedLetter.fc) {\r\n          if (lastFill !== renderedLetter.fc) {\r\n            lastFill = renderedLetter.fc;\r\n            ctx.fillStyle = renderedLetter.fc;\r\n          }\r\n        } else if (lastFill !== this.values.fill) {\r\n          lastFill = this.values.fill;\r\n          ctx.fillStyle = this.values.fill;\r\n        }\r\n        commands = this.textSpans[i].elem;\r\n        jLen = commands.length;\r\n        this.globalData.canvasContext.beginPath();\r\n        for (j = 0; j < jLen; j += 1) {\r\n          pathArr = commands[j];\r\n          kLen = pathArr.length;\r\n          this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n          for (k = 2; k < kLen; k += 6) {\r\n            this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n          }\r\n        }\r\n        this.globalData.canvasContext.closePath();\r\n        this.globalData.canvasContext.fill();\r\n        /// ctx.fillText(this.textSpans[i].val,0,0);\r\n      }\r\n      if (this.stroke) {\r\n        if (renderedLetter && renderedLetter.sw) {\r\n          if (lastStrokeW !== renderedLetter.sw) {\r\n            lastStrokeW = renderedLetter.sw;\r\n            ctx.lineWidth = renderedLetter.sw;\r\n          }\r\n        } else if (lastStrokeW !== this.values.sWidth) {\r\n          lastStrokeW = this.values.sWidth;\r\n          ctx.lineWidth = this.values.sWidth;\r\n        }\r\n        if (renderedLetter && renderedLetter.sc) {\r\n          if (lastStroke !== renderedLetter.sc) {\r\n            lastStroke = renderedLetter.sc;\r\n            ctx.strokeStyle = renderedLetter.sc;\r\n          }\r\n        } else if (lastStroke !== this.values.stroke) {\r\n          lastStroke = this.values.stroke;\r\n          ctx.strokeStyle = this.values.stroke;\r\n        }\r\n        commands = this.textSpans[i].elem;\r\n        jLen = commands.length;\r\n        this.globalData.canvasContext.beginPath();\r\n        for (j = 0; j < jLen; j += 1) {\r\n          pathArr = commands[j];\r\n          kLen = pathArr.length;\r\n          this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n          for (k = 2; k < kLen; k += 6) {\r\n            this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n          }\r\n        }\r\n        this.globalData.canvasContext.closePath();\r\n        this.globalData.canvasContext.stroke();\r\n        /// ctx.strokeText(letters[i].val,0,0);\r\n      }\r\n      if (renderedLetter) {\r\n        this.globalData.renderer.restore();\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nfunction CVEffects() {\r\n\r\n}\r\nCVEffects.prototype.renderFrame = function () {};\r\n\r\n/* global createTag, createNS, styleDiv, CVEffects, MaskElement, SVGBaseElement, HybridRenderer */\r\n\r\nfunction HBaseElement() {}\r\nHBaseElement.prototype = {\r\n  checkBlendMode: function () {},\r\n  initRendererElement: function () {\r\n    this.baseElement = createTag(this.data.tg || 'div');\r\n    if (this.data.hasMask) {\r\n      this.svgElement = createNS('svg');\r\n      this.layerElement = createNS('g');\r\n      this.maskedElement = this.layerElement;\r\n      this.svgElement.appendChild(this.layerElement);\r\n      this.baseElement.appendChild(this.svgElement);\r\n    } else {\r\n      this.layerElement = this.baseElement;\r\n    }\r\n    styleDiv(this.baseElement);\r\n  },\r\n  createContainerElements: function () {\r\n    this.renderableEffectsManager = new CVEffects(this);\r\n    this.transformedElement = this.baseElement;\r\n    this.maskedElement = this.layerElement;\r\n    if (this.data.ln) {\r\n      this.layerElement.setAttribute('id', this.data.ln);\r\n    }\r\n    if (this.data.cl) {\r\n      this.layerElement.setAttribute('class', this.data.cl);\r\n    }\r\n    if (this.data.bm !== 0) {\r\n      this.setBlendMode();\r\n    }\r\n  },\r\n  renderElement: function () {\r\n    var transformedElementStyle = this.transformedElement ? this.transformedElement.style : {};\r\n    if (this.finalTransform._matMdf) {\r\n      var matrixValue = this.finalTransform.mat.toCSS();\r\n      transformedElementStyle.transform = matrixValue;\r\n      transformedElementStyle.webkitTransform = matrixValue;\r\n    }\r\n    if (this.finalTransform._opMdf) {\r\n      transformedElementStyle.opacity = this.finalTransform.mProp.o.v;\r\n    }\r\n  },\r\n  renderFrame: function () {\r\n    // If it is exported as hidden (data.hd === true) no need to render\r\n    // If it is not visible no need to render\r\n    if (this.data.hd || this.hidden) {\r\n      return;\r\n    }\r\n    this.renderTransform();\r\n    this.renderRenderable();\r\n    this.renderElement();\r\n    this.renderInnerContent();\r\n    if (this._isFirstFrame) {\r\n      this._isFirstFrame = false;\r\n    }\r\n  },\r\n  destroy: function () {\r\n    this.layerElement = null;\r\n    this.transformedElement = null;\r\n    if (this.matteElement) {\r\n      this.matteElement = null;\r\n    }\r\n    if (this.maskManager) {\r\n      this.maskManager.destroy();\r\n      this.maskManager = null;\r\n    }\r\n  },\r\n  createRenderableComponents: function () {\r\n    this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n  },\r\n  addEffects: function () {\r\n  },\r\n  setMatte: function () {},\r\n};\r\nHBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\r\nHBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\r\nHBaseElement.prototype.buildElementParenting = HybridRenderer.prototype.buildElementParenting;\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement,\r\nRenderableDOMElement, createNS, createTag */\r\n\r\nfunction HSolidElement(data, globalData, comp) {\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement);\r\n\r\nHSolidElement.prototype.createContent = function () {\r\n  var rect;\r\n  if (this.data.hasMask) {\r\n    rect = createNS('rect');\r\n    rect.setAttribute('width', this.data.sw);\r\n    rect.setAttribute('height', this.data.sh);\r\n    rect.setAttribute('fill', this.data.sc);\r\n    this.svgElement.setAttribute('width', this.data.sw);\r\n    this.svgElement.setAttribute('height', this.data.sh);\r\n  } else {\r\n    rect = createTag('div');\r\n    rect.style.width = this.data.sw + 'px';\r\n    rect.style.height = this.data.sh + 'px';\r\n    rect.style.backgroundColor = this.data.sc;\r\n  }\r\n  this.layerElement.appendChild(rect);\r\n};\r\n\r\n/* global createSizedArray, PropertyFactory, extendPrototype, HybridRenderer, ICompElement, HBaseElement */\r\n\r\nfunction HCompElement(data, globalData, comp) {\r\n  this.layers = data.layers;\r\n  this.supports3d = !data.hasMask;\r\n  this.completeLayers = false;\r\n  this.pendingElements = [];\r\n  this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n  this.initElement(data, globalData, comp);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nextendPrototype([HybridRenderer, ICompElement, HBaseElement], HCompElement);\r\nHCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\r\n\r\nHCompElement.prototype.createContainerElements = function () {\r\n  this._createBaseContainerElements();\r\n  // divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\r\n  if (this.data.hasMask) {\r\n    this.svgElement.setAttribute('width', this.data.w);\r\n    this.svgElement.setAttribute('height', this.data.h);\r\n    this.transformedElement = this.baseElement;\r\n  } else {\r\n    this.transformedElement = this.layerElement;\r\n  }\r\n};\r\n\r\nHCompElement.prototype.addTo3dContainer = function (elem, pos) {\r\n  var j = 0;\r\n  var nextElement;\r\n  while (j < pos) {\r\n    if (this.elements[j] && this.elements[j].getBaseElement) {\r\n      nextElement = this.elements[j].getBaseElement();\r\n    }\r\n    j += 1;\r\n  }\r\n  if (nextElement) {\r\n    this.layerElement.insertBefore(elem, nextElement);\r\n  } else {\r\n    this.layerElement.appendChild(elem);\r\n  }\r\n};\r\n\r\n/* global createNS, extendPrototype, BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement,\r\nHierarchyElement, FrameElement, RenderableElement, createNS, bmMin, bmSqrt, bmMin, bmMax, bmPow */\r\n\r\nfunction HShapeElement(data, globalData, comp) {\r\n  // List of drawable elements\r\n  this.shapes = [];\r\n  // Full shape data\r\n  this.shapesData = data.shapes;\r\n  // List of styles that will be applied to shapes\r\n  this.stylesList = [];\r\n  // List of modifiers that will be applied to shapes\r\n  this.shapeModifiers = [];\r\n  // List of items in shape tree\r\n  this.itemsData = [];\r\n  // List of items in previous shape tree\r\n  this.processedElements = [];\r\n  // List of animated components\r\n  this.animatedContents = [];\r\n  this.shapesContainer = createNS('g');\r\n  this.initElement(data, globalData, comp);\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n  // List of elements that have been created\r\n  this.prevViewData = [];\r\n  this.currentBBox = {\r\n    x: 999999,\r\n    y: -999999,\r\n    h: 0,\r\n    w: 0,\r\n  };\r\n}\r\nextendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement);\r\nHShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\r\n\r\nHShapeElement.prototype.createContent = function () {\r\n  var cont;\r\n  this.baseElement.style.fontSize = 0;\r\n  if (this.data.hasMask) {\r\n    this.layerElement.appendChild(this.shapesContainer);\r\n    cont = this.svgElement;\r\n  } else {\r\n    cont = createNS('svg');\r\n    var size = this.comp.data ? this.comp.data : this.globalData.compSize;\r\n    cont.setAttribute('width', size.w);\r\n    cont.setAttribute('height', size.h);\r\n    cont.appendChild(this.shapesContainer);\r\n    this.layerElement.appendChild(cont);\r\n  }\r\n\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], true);\r\n  this.filterUniqueShapes();\r\n  this.shapeCont = cont;\r\n};\r\n\r\nHShapeElement.prototype.getTransformedPoint = function (transformers, point) {\r\n  var i;\r\n  var len = transformers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\r\n  }\r\n  return point;\r\n};\r\n\r\nHShapeElement.prototype.calculateShapeBoundingBox = function (item, boundingBox) {\r\n  var shape = item.sh.v;\r\n  var transformers = item.transformers;\r\n  var i;\r\n  var len = shape._length;\r\n  var vPoint;\r\n  var oPoint;\r\n  var nextIPoint;\r\n  var nextVPoint;\r\n  if (len <= 1) {\r\n    return;\r\n  }\r\n  for (i = 0; i < len - 1; i += 1) {\r\n    vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n    oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n    nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\r\n    nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\r\n    this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n  }\r\n  if (shape.c) {\r\n    vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n    oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n    nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\r\n    nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\r\n    this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n  }\r\n};\r\n\r\nHShapeElement.prototype.checkBounds = function (vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\r\n  this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\r\n  var bounds = this.shapeBoundingBox;\r\n  boundingBox.x = bmMin(bounds.left, boundingBox.x);\r\n  boundingBox.xMax = bmMax(bounds.right, boundingBox.xMax);\r\n  boundingBox.y = bmMin(bounds.top, boundingBox.y);\r\n  boundingBox.yMax = bmMax(bounds.bottom, boundingBox.yMax);\r\n};\r\n\r\nHShapeElement.prototype.shapeBoundingBox = {\r\n  left: 0,\r\n  right: 0,\r\n  top: 0,\r\n  bottom: 0,\r\n};\r\n\r\nHShapeElement.prototype.tempBoundingBox = {\r\n  x: 0,\r\n  xMax: 0,\r\n  y: 0,\r\n  yMax: 0,\r\n  width: 0,\r\n  height: 0,\r\n};\r\n\r\nHShapeElement.prototype.getBoundsOfCurve = function (p0, p1, p2, p3) {\r\n  var bounds = [[p0[0], p3[0]], [p0[1], p3[1]]];\r\n\r\n  for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) { // eslint-disable-line no-plusplus\r\n    b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\r\n    a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\r\n    c = 3 * p1[i] - 3 * p0[i];\r\n\r\n    b |= 0; // eslint-disable-line no-bitwise\r\n    a |= 0; // eslint-disable-line no-bitwise\r\n    c |= 0; // eslint-disable-line no-bitwise\r\n\r\n    if (a === 0 && b === 0) {\r\n      //\r\n    } else if (a === 0) {\r\n      t = -c / b;\r\n\r\n      if (t > 0 && t < 1) {\r\n        bounds[i].push(this.calculateF(t, p0, p1, p2, p3, i));\r\n      }\r\n    } else {\r\n      b2ac = b * b - 4 * c * a;\r\n\r\n      if (b2ac >= 0) {\r\n        t1 = (-b + bmSqrt(b2ac)) / (2 * a);\r\n        if (t1 > 0 && t1 < 1) bounds[i].push(this.calculateF(t1, p0, p1, p2, p3, i));\r\n        t2 = (-b - bmSqrt(b2ac)) / (2 * a);\r\n        if (t2 > 0 && t2 < 1) bounds[i].push(this.calculateF(t2, p0, p1, p2, p3, i));\r\n      }\r\n    }\r\n  }\r\n\r\n  this.shapeBoundingBox.left = bmMin.apply(null, bounds[0]);\r\n  this.shapeBoundingBox.top = bmMin.apply(null, bounds[1]);\r\n  this.shapeBoundingBox.right = bmMax.apply(null, bounds[0]);\r\n  this.shapeBoundingBox.bottom = bmMax.apply(null, bounds[1]);\r\n};\r\n\r\nHShapeElement.prototype.calculateF = function (t, p0, p1, p2, p3, i) {\r\n  return bmPow(1 - t, 3) * p0[i]\r\n        + 3 * bmPow(1 - t, 2) * t * p1[i]\r\n        + 3 * (1 - t) * bmPow(t, 2) * p2[i]\r\n        + bmPow(t, 3) * p3[i];\r\n};\r\n\r\nHShapeElement.prototype.calculateBoundingBox = function (itemsData, boundingBox) {\r\n  var i;\r\n  var len = itemsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (itemsData[i] && itemsData[i].sh) {\r\n      this.calculateShapeBoundingBox(itemsData[i], boundingBox);\r\n    } else if (itemsData[i] && itemsData[i].it) {\r\n      this.calculateBoundingBox(itemsData[i].it, boundingBox);\r\n    }\r\n  }\r\n};\r\n\r\nHShapeElement.prototype.currentBoxContains = function (box) {\r\n  return this.currentBBox.x <= box.x\r\n    && this.currentBBox.y <= box.y\r\n    && this.currentBBox.width + this.currentBBox.x >= box.x + box.width\r\n    && this.currentBBox.height + this.currentBBox.y >= box.y + box.height;\r\n};\r\n\r\nHShapeElement.prototype.renderInnerContent = function () {\r\n  this._renderShapeFrame();\r\n\r\n  if (!this.hidden && (this._isFirstFrame || this._mdf)) {\r\n    var tempBoundingBox = this.tempBoundingBox;\r\n    var max = 999999;\r\n    tempBoundingBox.x = max;\r\n    tempBoundingBox.xMax = -max;\r\n    tempBoundingBox.y = max;\r\n    tempBoundingBox.yMax = -max;\r\n    this.calculateBoundingBox(this.itemsData, tempBoundingBox);\r\n    tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\r\n    tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y;\r\n    // var tempBoundingBox = this.shapeCont.getBBox();\r\n    if (this.currentBoxContains(tempBoundingBox)) {\r\n      return;\r\n    }\r\n    var changed = false;\r\n    if (this.currentBBox.w !== tempBoundingBox.width) {\r\n      this.currentBBox.w = tempBoundingBox.width;\r\n      this.shapeCont.setAttribute('width', tempBoundingBox.width);\r\n      changed = true;\r\n    }\r\n    if (this.currentBBox.h !== tempBoundingBox.height) {\r\n      this.currentBBox.h = tempBoundingBox.height;\r\n      this.shapeCont.setAttribute('height', tempBoundingBox.height);\r\n      changed = true;\r\n    }\r\n    if (changed || this.currentBBox.x !== tempBoundingBox.x || this.currentBBox.y !== tempBoundingBox.y) {\r\n      this.currentBBox.w = tempBoundingBox.width;\r\n      this.currentBBox.h = tempBoundingBox.height;\r\n      this.currentBBox.x = tempBoundingBox.x;\r\n      this.currentBBox.y = tempBoundingBox.y;\r\n\r\n      this.shapeCont.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\r\n      var shapeStyle = this.shapeCont.style;\r\n      var shapeTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n      shapeStyle.transform = shapeTransform;\r\n      shapeStyle.webkitTransform = shapeTransform;\r\n    }\r\n  }\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement,\r\nRenderableDOMElement, ITextElement, createSizedArray, createTag, styleDiv, createNS, lineJoinEnum, lineCapEnum */\r\n\r\nfunction HTextElement(data, globalData, comp) {\r\n  this.textSpans = [];\r\n  this.textPaths = [];\r\n  this.currentBBox = {\r\n    x: 999999,\r\n    y: -999999,\r\n    h: 0,\r\n    w: 0,\r\n  };\r\n  this.renderType = 'svg';\r\n  this.isMasked = false;\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement);\r\n\r\nHTextElement.prototype.createContent = function () {\r\n  this.isMasked = this.checkMasks();\r\n  if (this.isMasked) {\r\n    this.renderType = 'svg';\r\n    this.compW = this.comp.data.w;\r\n    this.compH = this.comp.data.h;\r\n    this.svgElement.setAttribute('width', this.compW);\r\n    this.svgElement.setAttribute('height', this.compH);\r\n    var g = createNS('g');\r\n    this.maskedElement.appendChild(g);\r\n    this.innerElem = g;\r\n  } else {\r\n    this.renderType = 'html';\r\n    this.innerElem = this.layerElement;\r\n  }\r\n\r\n  this.checkParenting();\r\n};\r\n\r\nHTextElement.prototype.buildNewText = function () {\r\n  var documentData = this.textProperty.currentData;\r\n  this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n  var innerElemStyle = this.innerElem.style;\r\n  var textColor = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\r\n  innerElemStyle.fill = textColor;\r\n  innerElemStyle.color = textColor;\r\n  if (documentData.sc) {\r\n    innerElemStyle.stroke = this.buildColor(documentData.sc);\r\n    innerElemStyle.strokeWidth = documentData.sw + 'px';\r\n  }\r\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n  if (!this.globalData.fontManager.chars) {\r\n    innerElemStyle.fontSize = documentData.finalSize + 'px';\r\n    innerElemStyle.lineHeight = documentData.finalSize + 'px';\r\n    if (fontData.fClass) {\r\n      this.innerElem.className = fontData.fClass;\r\n    } else {\r\n      innerElemStyle.fontFamily = fontData.fFamily;\r\n      var fWeight = documentData.fWeight;\r\n      var fStyle = documentData.fStyle;\r\n      innerElemStyle.fontStyle = fStyle;\r\n      innerElemStyle.fontWeight = fWeight;\r\n    }\r\n  }\r\n  var i;\r\n  var len;\r\n\r\n  var letters = documentData.l;\r\n  len = letters.length;\r\n  var tSpan;\r\n  var tParent;\r\n  var tCont;\r\n  var matrixHelper = this.mHelper;\r\n  var shapes;\r\n  var shapeStr = '';\r\n  var cnt = 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.globalData.fontManager.chars) {\r\n      if (!this.textPaths[cnt]) {\r\n        tSpan = createNS('path');\r\n        tSpan.setAttribute('stroke-linecap', lineCapEnum[1]);\r\n        tSpan.setAttribute('stroke-linejoin', lineJoinEnum[2]);\r\n        tSpan.setAttribute('stroke-miterlimit', '4');\r\n      } else {\r\n        tSpan = this.textPaths[cnt];\r\n      }\r\n      if (!this.isMasked) {\r\n        if (this.textSpans[cnt]) {\r\n          tParent = this.textSpans[cnt];\r\n          tCont = tParent.children[0];\r\n        } else {\r\n          tParent = createTag('div');\r\n          tParent.style.lineHeight = 0;\r\n          tCont = createNS('svg');\r\n          tCont.appendChild(tSpan);\r\n          styleDiv(tParent);\r\n        }\r\n      }\r\n    } else if (!this.isMasked) {\r\n      if (this.textSpans[cnt]) {\r\n        tParent = this.textSpans[cnt];\r\n        tSpan = this.textPaths[cnt];\r\n      } else {\r\n        tParent = createTag('span');\r\n        styleDiv(tParent);\r\n        tSpan = createTag('span');\r\n        styleDiv(tSpan);\r\n        tParent.appendChild(tSpan);\r\n      }\r\n    } else {\r\n      tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\r\n    }\r\n    // tSpan.setAttribute('visibility', 'hidden');\r\n    if (this.globalData.fontManager.chars) {\r\n      var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n      var shapeData;\r\n      if (charData) {\r\n        shapeData = charData.data;\r\n      } else {\r\n        shapeData = null;\r\n      }\r\n      matrixHelper.reset();\r\n      if (shapeData && shapeData.shapes) {\r\n        shapes = shapeData.shapes[0].it;\r\n        matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n        shapeStr = this.createPathShape(matrixHelper, shapes);\r\n        tSpan.setAttribute('d', shapeStr);\r\n      }\r\n      if (!this.isMasked) {\r\n        this.innerElem.appendChild(tParent);\r\n        if (shapeData && shapeData.shapes) {\r\n          // document.body.appendChild is needed to get exact measure of shape\r\n          document.body.appendChild(tCont);\r\n          var boundingBox = tCont.getBBox();\r\n          tCont.setAttribute('width', boundingBox.width + 2);\r\n          tCont.setAttribute('height', boundingBox.height + 2);\r\n          tCont.setAttribute('viewBox', (boundingBox.x - 1) + ' ' + (boundingBox.y - 1) + ' ' + (boundingBox.width + 2) + ' ' + (boundingBox.height + 2));\r\n          var tContStyle = tCont.style;\r\n          var tContTranslation = 'translate(' + (boundingBox.x - 1) + 'px,' + (boundingBox.y - 1) + 'px)';\r\n          tContStyle.transform = tContTranslation;\r\n          tContStyle.webkitTransform = tContTranslation;\r\n\r\n          letters[i].yOffset = boundingBox.y - 1;\r\n        } else {\r\n          tCont.setAttribute('width', 1);\r\n          tCont.setAttribute('height', 1);\r\n        }\r\n        tParent.appendChild(tCont);\r\n      } else {\r\n        this.innerElem.appendChild(tSpan);\r\n      }\r\n    } else {\r\n      tSpan.textContent = letters[i].val;\r\n      tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n      if (!this.isMasked) {\r\n        this.innerElem.appendChild(tParent);\r\n        //\r\n        var tStyle = tSpan.style;\r\n        var tSpanTranslation = 'translate3d(0,' + -documentData.finalSize / 1.2 + 'px,0)';\r\n        tStyle.transform = tSpanTranslation;\r\n        tStyle.webkitTransform = tSpanTranslation;\r\n      } else {\r\n        this.innerElem.appendChild(tSpan);\r\n      }\r\n    }\r\n    //\r\n    if (!this.isMasked) {\r\n      this.textSpans[cnt] = tParent;\r\n    } else {\r\n      this.textSpans[cnt] = tSpan;\r\n    }\r\n    this.textSpans[cnt].style.display = 'block';\r\n    this.textPaths[cnt] = tSpan;\r\n    cnt += 1;\r\n  }\r\n  while (cnt < this.textSpans.length) {\r\n    this.textSpans[cnt].style.display = 'none';\r\n    cnt += 1;\r\n  }\r\n};\r\n\r\nHTextElement.prototype.renderInnerContent = function () {\r\n  var svgStyle;\r\n  if (this.data.singleShape) {\r\n    if (!this._isFirstFrame && !this.lettersChangedFlag) {\r\n      return;\r\n    } if (this.isMasked && this.finalTransform._matMdf) {\r\n      // Todo Benchmark if using this is better than getBBox\r\n      this.svgElement.setAttribute('viewBox', -this.finalTransform.mProp.p.v[0] + ' ' + -this.finalTransform.mProp.p.v[1] + ' ' + this.compW + ' ' + this.compH);\r\n      svgStyle = this.svgElement.style;\r\n      var translation = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\r\n      svgStyle.transform = translation;\r\n      svgStyle.webkitTransform = translation;\r\n    }\r\n  }\r\n\r\n  this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n  if (!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag) {\r\n    return;\r\n  }\r\n  var i;\r\n  var len;\r\n  var count = 0;\r\n  var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n  var letters = this.textProperty.currentData.l;\r\n\r\n  len = letters.length;\r\n  var renderedLetter;\r\n  var textSpan;\r\n  var textPath;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (letters[i].n) {\r\n      count += 1;\r\n    } else {\r\n      textSpan = this.textSpans[i];\r\n      textPath = this.textPaths[i];\r\n      renderedLetter = renderedLetters[count];\r\n      count += 1;\r\n      if (renderedLetter._mdf.m) {\r\n        if (!this.isMasked) {\r\n          textSpan.style.webkitTransform = renderedLetter.m;\r\n          textSpan.style.transform = renderedLetter.m;\r\n        } else {\r\n          textSpan.setAttribute('transform', renderedLetter.m);\r\n        }\r\n      }\r\n      /// /textSpan.setAttribute('opacity',renderedLetter.o);\r\n      textSpan.style.opacity = renderedLetter.o;\r\n      if (renderedLetter.sw && renderedLetter._mdf.sw) {\r\n        textPath.setAttribute('stroke-width', renderedLetter.sw);\r\n      }\r\n      if (renderedLetter.sc && renderedLetter._mdf.sc) {\r\n        textPath.setAttribute('stroke', renderedLetter.sc);\r\n      }\r\n      if (renderedLetter.fc && renderedLetter._mdf.fc) {\r\n        textPath.setAttribute('fill', renderedLetter.fc);\r\n        textPath.style.color = renderedLetter.fc;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {\r\n    var boundingBox = this.innerElem.getBBox();\r\n\r\n    if (this.currentBBox.w !== boundingBox.width) {\r\n      this.currentBBox.w = boundingBox.width;\r\n      this.svgElement.setAttribute('width', boundingBox.width);\r\n    }\r\n    if (this.currentBBox.h !== boundingBox.height) {\r\n      this.currentBBox.h = boundingBox.height;\r\n      this.svgElement.setAttribute('height', boundingBox.height);\r\n    }\r\n\r\n    var margin = 1;\r\n    if (this.currentBBox.w !== (boundingBox.width + margin * 2) || this.currentBBox.h !== (boundingBox.height + margin * 2) || this.currentBBox.x !== (boundingBox.x - margin) || this.currentBBox.y !== (boundingBox.y - margin)) {\r\n      this.currentBBox.w = boundingBox.width + margin * 2;\r\n      this.currentBBox.h = boundingBox.height + margin * 2;\r\n      this.currentBBox.x = boundingBox.x - margin;\r\n      this.currentBBox.y = boundingBox.y - margin;\r\n\r\n      this.svgElement.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\r\n      svgStyle = this.svgElement.style;\r\n      var svgTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n      svgStyle.transform = svgTransform;\r\n      svgStyle.webkitTransform = svgTransform;\r\n    }\r\n  }\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement,\r\nFrameElement, RenderableElement, createNS */\r\n\r\nfunction HImageElement(data, globalData, comp) {\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement);\r\n\r\nHImageElement.prototype.createContent = function () {\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n  var img = new Image();\r\n\r\n  if (this.data.hasMask) {\r\n    this.imageElem = createNS('image');\r\n    this.imageElem.setAttribute('width', this.assetData.w + 'px');\r\n    this.imageElem.setAttribute('height', this.assetData.h + 'px');\r\n    this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\r\n    this.layerElement.appendChild(this.imageElem);\r\n    this.baseElement.setAttribute('width', this.assetData.w);\r\n    this.baseElement.setAttribute('height', this.assetData.h);\r\n  } else {\r\n    this.layerElement.appendChild(img);\r\n  }\r\n  img.crossOrigin = 'anonymous';\r\n  img.src = assetPath;\r\n  if (this.data.ln) {\r\n    this.baseElement.setAttribute('id', this.data.ln);\r\n  }\r\n};\r\n\r\n/* global PropertyFactory, degToRads, Matrix, extendPrototype, BaseElement, FrameElement, HierarchyElement */\r\n\r\nfunction HCameraElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initHierarchy();\r\n  var getProp = PropertyFactory.getProp;\r\n  this.pe = getProp(this, data.pe, 0, 0, this);\r\n  if (data.ks.p.s) {\r\n    this.px = getProp(this, data.ks.p.x, 1, 0, this);\r\n    this.py = getProp(this, data.ks.p.y, 1, 0, this);\r\n    this.pz = getProp(this, data.ks.p.z, 1, 0, this);\r\n  } else {\r\n    this.p = getProp(this, data.ks.p, 1, 0, this);\r\n  }\r\n  if (data.ks.a) {\r\n    this.a = getProp(this, data.ks.a, 1, 0, this);\r\n  }\r\n  if (data.ks.or.k.length && data.ks.or.k[0].to) {\r\n    var i;\r\n    var len = data.ks.or.k.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      data.ks.or.k[i].to = null;\r\n      data.ks.or.k[i].ti = null;\r\n    }\r\n  }\r\n  this.or = getProp(this, data.ks.or, 1, degToRads, this);\r\n  this.or.sh = true;\r\n  this.rx = getProp(this, data.ks.rx, 0, degToRads, this);\r\n  this.ry = getProp(this, data.ks.ry, 0, degToRads, this);\r\n  this.rz = getProp(this, data.ks.rz, 0, degToRads, this);\r\n  this.mat = new Matrix();\r\n  this._prevMat = new Matrix();\r\n  this._isFirstFrame = true;\r\n\r\n  // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\r\n  this.finalTransform = {\r\n    mProp: this,\r\n  };\r\n}\r\nextendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\r\n\r\nHCameraElement.prototype.setup = function () {\r\n  var i;\r\n  var len = this.comp.threeDElements.length;\r\n  var comp;\r\n  var perspectiveStyle;\r\n  var containerStyle;\r\n  for (i = 0; i < len; i += 1) {\r\n    // [perspectiveElem,container]\r\n    comp = this.comp.threeDElements[i];\r\n    if (comp.type === '3d') {\r\n      perspectiveStyle = comp.perspectiveElem.style;\r\n      containerStyle = comp.container.style;\r\n      var perspective = this.pe.v + 'px';\r\n      var origin = '0px 0px 0px';\r\n      var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n      perspectiveStyle.perspective = perspective;\r\n      perspectiveStyle.webkitPerspective = perspective;\r\n      containerStyle.transformOrigin = origin;\r\n      containerStyle.mozTransformOrigin = origin;\r\n      containerStyle.webkitTransformOrigin = origin;\r\n      perspectiveStyle.transform = matrix;\r\n      perspectiveStyle.webkitTransform = matrix;\r\n    }\r\n  }\r\n};\r\n\r\nHCameraElement.prototype.createElements = function () {\r\n};\r\n\r\nHCameraElement.prototype.hide = function () {\r\n};\r\n\r\nHCameraElement.prototype.renderFrame = function () {\r\n  var _mdf = this._isFirstFrame;\r\n  var i;\r\n  var len;\r\n  if (this.hierarchy) {\r\n    len = this.hierarchy.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\r\n    }\r\n  }\r\n  if (_mdf || this.pe._mdf || (this.p && this.p._mdf) || (this.px && (this.px._mdf || this.py._mdf || this.pz._mdf)) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || (this.a && this.a._mdf)) {\r\n    this.mat.reset();\r\n\r\n    if (this.hierarchy) {\r\n      len = this.hierarchy.length - 1;\r\n      for (i = len; i >= 0; i -= 1) {\r\n        var mTransf = this.hierarchy[i].finalTransform.mProp;\r\n        this.mat.translate(-mTransf.p.v[0], -mTransf.p.v[1], mTransf.p.v[2]);\r\n        this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\r\n        this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\r\n        this.mat.scale(1 / mTransf.s.v[0], 1 / mTransf.s.v[1], 1 / mTransf.s.v[2]);\r\n        this.mat.translate(mTransf.a.v[0], mTransf.a.v[1], mTransf.a.v[2]);\r\n      }\r\n    }\r\n    if (this.p) {\r\n      this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]);\r\n    } else {\r\n      this.mat.translate(-this.px.v, -this.py.v, this.pz.v);\r\n    }\r\n    if (this.a) {\r\n      var diffVector;\r\n      if (this.p) {\r\n        diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\r\n      } else {\r\n        diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\r\n      }\r\n      var mag = Math.sqrt(Math.pow(diffVector[0], 2) + Math.pow(diffVector[1], 2) + Math.pow(diffVector[2], 2));\r\n      // var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\r\n      var lookDir = [diffVector[0] / mag, diffVector[1] / mag, diffVector[2] / mag];\r\n      var lookLengthOnXZ = Math.sqrt(lookDir[2] * lookDir[2] + lookDir[0] * lookDir[0]);\r\n      var mRotationX = (Math.atan2(lookDir[1], lookLengthOnXZ));\r\n      var mRotationY = (Math.atan2(lookDir[0], -lookDir[2]));\r\n      this.mat.rotateY(mRotationY).rotateX(-mRotationX);\r\n    }\r\n    this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\r\n    this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\r\n    this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0);\r\n    this.mat.translate(0, 0, this.pe.v);\r\n\r\n    var hasMatrixChanged = !this._prevMat.equals(this.mat);\r\n    if ((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\r\n      len = this.comp.threeDElements.length;\r\n      var comp;\r\n      var perspectiveStyle;\r\n      var containerStyle;\r\n      for (i = 0; i < len; i += 1) {\r\n        comp = this.comp.threeDElements[i];\r\n        if (comp.type === '3d') {\r\n          if (hasMatrixChanged) {\r\n            var matValue = this.mat.toCSS();\r\n            containerStyle = comp.container.style;\r\n            containerStyle.transform = matValue;\r\n            containerStyle.webkitTransform = matValue;\r\n          }\r\n          if (this.pe._mdf) {\r\n            perspectiveStyle = comp.perspectiveElem.style;\r\n            perspectiveStyle.perspective = this.pe.v + 'px';\r\n            perspectiveStyle.webkitPerspective = this.pe.v + 'px';\r\n          }\r\n        }\r\n      }\r\n      this.mat.clone(this._prevMat);\r\n    }\r\n  }\r\n  this._isFirstFrame = false;\r\n};\r\n\r\nHCameraElement.prototype.prepareFrame = function (num) {\r\n  this.prepareProperties(num, true);\r\n};\r\n\r\nHCameraElement.prototype.destroy = function () {\r\n};\r\nHCameraElement.prototype.getBaseElement = function () { return null; };\r\n\r\nfunction HEffects() {\r\n}\r\nHEffects.prototype.renderFrame = function () {};\r\n\r\n/* global createTag, AnimationItem */\r\n/* exported animationManager */\r\n\r\nvar animationManager = (function () {\r\n  var moduleOb = {};\r\n  var registeredAnimations = [];\r\n  var initTime = 0;\r\n  var len = 0;\r\n  var playingAnimationsNum = 0;\r\n  var _stopped = true;\r\n  var _isFrozen = false;\r\n\r\n  function removeElement(ev) {\r\n    var i = 0;\r\n    var animItem = ev.target;\r\n    while (i < len) {\r\n      if (registeredAnimations[i].animation === animItem) {\r\n        registeredAnimations.splice(i, 1);\r\n        i -= 1;\r\n        len -= 1;\r\n        if (!animItem.isPaused) {\r\n          subtractPlayingCount();\r\n        }\r\n      }\r\n      i += 1;\r\n    }\r\n  }\r\n\r\n  function registerAnimation(element, animationData) {\r\n    if (!element) {\r\n      return null;\r\n    }\r\n    var i = 0;\r\n    while (i < len) {\r\n      if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\r\n        return registeredAnimations[i].animation;\r\n      }\r\n      i += 1;\r\n    }\r\n    var animItem = new AnimationItem();\r\n    setupAnimation(animItem, element);\r\n    animItem.setData(element, animationData);\r\n    return animItem;\r\n  }\r\n\r\n  function getRegisteredAnimations() {\r\n    var i;\r\n    var lenAnims = registeredAnimations.length;\r\n    var animations = [];\r\n    for (i = 0; i < lenAnims; i += 1) {\r\n      animations.push(registeredAnimations[i].animation);\r\n    }\r\n    return animations;\r\n  }\r\n\r\n  function addPlayingCount() {\r\n    playingAnimationsNum += 1;\r\n    activate();\r\n  }\r\n\r\n  function subtractPlayingCount() {\r\n    playingAnimationsNum -= 1;\r\n  }\r\n\r\n  function setupAnimation(animItem, element) {\r\n    animItem.addEventListener('destroy', removeElement);\r\n    animItem.addEventListener('_active', addPlayingCount);\r\n    animItem.addEventListener('_idle', subtractPlayingCount);\r\n    registeredAnimations.push({ elem: element, animation: animItem });\r\n    len += 1;\r\n  }\r\n\r\n  function loadAnimation(params) {\r\n    var animItem = new AnimationItem();\r\n    setupAnimation(animItem, null);\r\n    animItem.setParams(params);\r\n    return animItem;\r\n  }\r\n\r\n  function setSpeed(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setSpeed(val, animation);\r\n    }\r\n  }\r\n\r\n  function setDirection(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setDirection(val, animation);\r\n    }\r\n  }\r\n\r\n  function play(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.play(animation);\r\n    }\r\n  }\r\n  function resume(nowTime) {\r\n    var elapsedTime = nowTime - initTime;\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.advanceTime(elapsedTime);\r\n    }\r\n    initTime = nowTime;\r\n    if (playingAnimationsNum && !_isFrozen) {\r\n      window.requestAnimationFrame(resume);\r\n    } else {\r\n      _stopped = true;\r\n    }\r\n  }\r\n\r\n  function first(nowTime) {\r\n    initTime = nowTime;\r\n    window.requestAnimationFrame(resume);\r\n  }\r\n\r\n  function pause(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.pause(animation);\r\n    }\r\n  }\r\n\r\n  function goToAndStop(value, isFrame, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\r\n    }\r\n  }\r\n\r\n  function stop(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.stop(animation);\r\n    }\r\n  }\r\n\r\n  function togglePause(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.togglePause(animation);\r\n    }\r\n  }\r\n\r\n  function destroy(animation) {\r\n    var i;\r\n    for (i = (len - 1); i >= 0; i -= 1) {\r\n      registeredAnimations[i].animation.destroy(animation);\r\n    }\r\n  }\r\n\r\n  function searchAnimations(animationData, standalone, renderer) {\r\n    var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')),\r\n      [].slice.call(document.getElementsByClassName('bodymovin')));\r\n    var i;\r\n    var lenAnims = animElements.length;\r\n    for (i = 0; i < lenAnims; i += 1) {\r\n      if (renderer) {\r\n        animElements[i].setAttribute('data-bm-type', renderer);\r\n      }\r\n      registerAnimation(animElements[i], animationData);\r\n    }\r\n    if (standalone && lenAnims === 0) {\r\n      if (!renderer) {\r\n        renderer = 'svg';\r\n      }\r\n      var body = document.getElementsByTagName('body')[0];\r\n      body.innerText = '';\r\n      var div = createTag('div');\r\n      div.style.width = '100%';\r\n      div.style.height = '100%';\r\n      div.setAttribute('data-bm-type', renderer);\r\n      body.appendChild(div);\r\n      registerAnimation(div, animationData);\r\n    }\r\n  }\r\n\r\n  function resize() {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.resize();\r\n    }\r\n  }\r\n\r\n  function activate() {\r\n    if (!_isFrozen && playingAnimationsNum) {\r\n      if (_stopped) {\r\n        window.requestAnimationFrame(first);\r\n        _stopped = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  function freeze() {\r\n    _isFrozen = true;\r\n  }\r\n\r\n  function unfreeze() {\r\n    _isFrozen = false;\r\n    activate();\r\n  }\r\n\r\n  function setVolume(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setVolume(val, animation);\r\n    }\r\n  }\r\n\r\n  function mute(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.mute(animation);\r\n    }\r\n  }\r\n\r\n  function unmute(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.unmute(animation);\r\n    }\r\n  }\r\n\r\n  moduleOb.registerAnimation = registerAnimation;\r\n  moduleOb.loadAnimation = loadAnimation;\r\n  moduleOb.setSpeed = setSpeed;\r\n  moduleOb.setDirection = setDirection;\r\n  moduleOb.play = play;\r\n  moduleOb.pause = pause;\r\n  moduleOb.stop = stop;\r\n  moduleOb.togglePause = togglePause;\r\n  moduleOb.searchAnimations = searchAnimations;\r\n  moduleOb.resize = resize;\r\n  // moduleOb.start = start;\r\n  moduleOb.goToAndStop = goToAndStop;\r\n  moduleOb.destroy = destroy;\r\n  moduleOb.freeze = freeze;\r\n  moduleOb.unfreeze = unfreeze;\r\n  moduleOb.setVolume = setVolume;\r\n  moduleOb.mute = mute;\r\n  moduleOb.unmute = unmute;\r\n  moduleOb.getRegisteredAnimations = getRegisteredAnimations;\r\n  return moduleOb;\r\n}());\r\n\r\n/* global createElementID, subframeEnabled, ProjectInterface, ImagePreloader, audioControllerFactory, extendPrototype, BaseEvent,\r\nCanvasRenderer, SVGRenderer, HybridRenderer, dataManager, expressionsPlugin, BMEnterFrameEvent, BMCompleteLoopEvent,\r\nBMCompleteEvent, BMSegmentStartEvent, BMDestroyEvent, BMEnterFrameEvent, BMCompleteLoopEvent, BMCompleteEvent, BMSegmentStartEvent,\r\nBMDestroyEvent, BMRenderFrameErrorEvent, BMConfigErrorEvent, markerParser */\r\n\r\nvar AnimationItem = function () {\r\n  this._cbs = [];\r\n  this.name = '';\r\n  this.path = '';\r\n  this.isLoaded = false;\r\n  this.currentFrame = 0;\r\n  this.currentRawFrame = 0;\r\n  this.firstFrame = 0;\r\n  this.totalFrames = 0;\r\n  this.frameRate = 0;\r\n  this.frameMult = 0;\r\n  this.playSpeed = 1;\r\n  this.playDirection = 1;\r\n  this.playCount = 0;\r\n  this.animationData = {};\r\n  this.assets = [];\r\n  this.isPaused = true;\r\n  this.autoplay = false;\r\n  this.loop = true;\r\n  this.renderer = null;\r\n  this.animationID = createElementID();\r\n  this.assetsPath = '';\r\n  this.timeCompleted = 0;\r\n  this.segmentPos = 0;\r\n  this.isSubframeEnabled = subframeEnabled;\r\n  this.segments = [];\r\n  this._idle = true;\r\n  this._completedLoop = false;\r\n  this.projectInterface = ProjectInterface();\r\n  this.imagePreloader = new ImagePreloader();\r\n  this.audioController = audioControllerFactory();\r\n  this.markers = [];\r\n  this.configAnimation = this.configAnimation.bind(this);\r\n  this.onSetupError = this.onSetupError.bind(this);\r\n  this.onSegmentComplete = this.onSegmentComplete.bind(this);\r\n};\r\n\r\nextendPrototype([BaseEvent], AnimationItem);\r\n\r\nAnimationItem.prototype.setParams = function (params) {\r\n  if (params.wrapper || params.container) {\r\n    this.wrapper = params.wrapper || params.container;\r\n  }\r\n  var animType = 'svg';\r\n  if (params.animType) {\r\n    animType = params.animType;\r\n  } else if (params.renderer) {\r\n    animType = params.renderer;\r\n  }\r\n  switch (animType) {\r\n    case 'canvas':\r\n      this.renderer = new CanvasRenderer(this, params.rendererSettings);\r\n      break;\r\n    case 'svg':\r\n      this.renderer = new SVGRenderer(this, params.rendererSettings);\r\n      break;\r\n    default:\r\n      this.renderer = new HybridRenderer(this, params.rendererSettings);\r\n      break;\r\n  }\r\n  this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\r\n  this.renderer.setProjectInterface(this.projectInterface);\r\n  this.animType = animType;\r\n  if (params.loop === ''\r\n        || params.loop === null\r\n        || params.loop === undefined\r\n        || params.loop === true) {\r\n    this.loop = true;\r\n  } else if (params.loop === false) {\r\n    this.loop = false;\r\n  } else {\r\n    this.loop = parseInt(params.loop, 10);\r\n  }\r\n  this.autoplay = 'autoplay' in params ? params.autoplay : true;\r\n  this.name = params.name ? params.name : '';\r\n  this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\r\n  this.assetsPath = params.assetsPath;\r\n  this.initialSegment = params.initialSegment;\r\n  if (params.audioFactory) {\r\n    this.audioController.setAudioFactory(params.audioFactory);\r\n  }\r\n  if (params.animationData) {\r\n    this.setupAnimation(params.animationData);\r\n  } else if (params.path) {\r\n    if (params.path.lastIndexOf('\\\\') !== -1) {\r\n      this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\r\n    } else {\r\n      this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\r\n    }\r\n    this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\r\n    this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\r\n    dataManager.loadAnimation(\r\n      params.path,\r\n      this.configAnimation,\r\n      this.onSetupError\r\n    );\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.onSetupError = function () {\r\n  this.trigger('data_failed');\r\n};\r\n\r\nAnimationItem.prototype.setupAnimation = function (data) {\r\n  dataManager.completeAnimation(\r\n    data,\r\n    this.configAnimation\r\n  );\r\n};\r\n\r\nAnimationItem.prototype.setData = function (wrapper, animationData) {\r\n  if (animationData) {\r\n    if (typeof animationData !== 'object') {\r\n      animationData = JSON.parse(animationData);\r\n    }\r\n  }\r\n  var params = {\r\n    wrapper: wrapper,\r\n    animationData: animationData,\r\n  };\r\n  var wrapperAttributes = wrapper.attributes;\r\n\r\n  params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-animation-path').value\r\n    : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-path').value\r\n      : wrapperAttributes.getNamedItem('bm-path')\r\n        ? wrapperAttributes.getNamedItem('bm-path').value\r\n        : '';\r\n  params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-type').value\r\n    : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-type').value\r\n      : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\r\n        ? wrapperAttributes.getNamedItem('bm-type').value\r\n        : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\r\n          ? wrapperAttributes.getNamedItem('data-bm-renderer').value\r\n          : wrapperAttributes.getNamedItem('bm-renderer')\r\n            ? wrapperAttributes.getNamedItem('bm-renderer').value\r\n            : 'canvas';\r\n\r\n  var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value\r\n    : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-loop').value\r\n      : wrapperAttributes.getNamedItem('bm-loop')\r\n        ? wrapperAttributes.getNamedItem('bm-loop').value\r\n        : '';\r\n  if (loop === 'false') {\r\n    params.loop = false;\r\n  } else if (loop === 'true') {\r\n    params.loop = true;\r\n  } else if (loop !== '') {\r\n    params.loop = parseInt(loop, 10);\r\n  }\r\n  var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value\r\n    : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-autoplay').value\r\n      : wrapperAttributes.getNamedItem('bm-autoplay')\r\n        ? wrapperAttributes.getNamedItem('bm-autoplay').value\r\n        : true;\r\n  params.autoplay = autoplay !== 'false';\r\n\r\n  params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-name').value\r\n    : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-name').value\r\n      : wrapperAttributes.getNamedItem('bm-name')\r\n        ? wrapperAttributes.getNamedItem('bm-name').value\r\n        : '';\r\n  var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value\r\n    : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-prerender').value\r\n      : wrapperAttributes.getNamedItem('bm-prerender')\r\n        ? wrapperAttributes.getNamedItem('bm-prerender').value\r\n        : '';\r\n\r\n  if (prerender === 'false') {\r\n    params.prerender = false;\r\n  }\r\n  this.setParams(params);\r\n};\r\n\r\nAnimationItem.prototype.includeLayers = function (data) {\r\n  if (data.op > this.animationData.op) {\r\n    this.animationData.op = data.op;\r\n    this.totalFrames = Math.floor(data.op - this.animationData.ip);\r\n  }\r\n  var layers = this.animationData.layers;\r\n  var i;\r\n  var len = layers.length;\r\n  var newLayers = data.layers;\r\n  var j;\r\n  var jLen = newLayers.length;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    i = 0;\r\n    while (i < len) {\r\n      if (layers[i].id === newLayers[j].id) {\r\n        layers[i] = newLayers[j];\r\n        break;\r\n      }\r\n      i += 1;\r\n    }\r\n  }\r\n  if (data.chars || data.fonts) {\r\n    this.renderer.globalData.fontManager.addChars(data.chars);\r\n    this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\r\n  }\r\n  if (data.assets) {\r\n    len = data.assets.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.animationData.assets.push(data.assets[i]);\r\n    }\r\n  }\r\n  this.animationData.__complete = false;\r\n  dataManager.completeAnimation(\r\n    this.animationData,\r\n    this.onSegmentComplete\r\n  );\r\n};\r\n\r\nAnimationItem.prototype.onSegmentComplete = function (data) {\r\n  this.animationData = data;\r\n  if (expressionsPlugin) {\r\n    expressionsPlugin.initExpressions(this);\r\n  }\r\n  this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.loadNextSegment = function () {\r\n  var segments = this.animationData.segments;\r\n  if (!segments || segments.length === 0 || !this.autoloadSegments) {\r\n    this.trigger('data_ready');\r\n    this.timeCompleted = this.totalFrames;\r\n    return;\r\n  }\r\n  var segment = segments.shift();\r\n  this.timeCompleted = segment.time * this.frameRate;\r\n  var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\r\n  this.segmentPos += 1;\r\n  dataManager.loadData(segmentPath, this.includeLayers.bind(this), function () {\r\n    this.trigger('data_failed');\r\n  }.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.loadSegments = function () {\r\n  var segments = this.animationData.segments;\r\n  if (!segments) {\r\n    this.timeCompleted = this.totalFrames;\r\n  }\r\n  this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.imagesLoaded = function () {\r\n  this.trigger('loaded_images');\r\n  this.checkLoaded();\r\n};\r\n\r\nAnimationItem.prototype.preloadImages = function () {\r\n  this.imagePreloader.setAssetsPath(this.assetsPath);\r\n  this.imagePreloader.setPath(this.path);\r\n  this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.configAnimation = function (animData) {\r\n  if (!this.renderer) {\r\n    return;\r\n  }\r\n  try {\r\n    this.animationData = animData;\r\n    if (this.initialSegment) {\r\n      this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\r\n      this.firstFrame = Math.round(this.initialSegment[0]);\r\n    } else {\r\n      this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\r\n      this.firstFrame = Math.round(this.animationData.ip);\r\n    }\r\n    this.renderer.configAnimation(animData);\r\n    if (!animData.assets) {\r\n      animData.assets = [];\r\n    }\r\n\r\n    this.assets = this.animationData.assets;\r\n    this.frameRate = this.animationData.fr;\r\n    this.frameMult = this.animationData.fr / 1000;\r\n    this.renderer.searchExtraCompositions(animData.assets);\r\n    this.markers = markerParser(animData.markers || []);\r\n    this.trigger('config_ready');\r\n    this.preloadImages();\r\n    this.loadSegments();\r\n    this.updaFrameModifier();\r\n    this.waitForFontsLoaded();\r\n    if (this.isPaused) {\r\n      this.audioController.pause();\r\n    }\r\n  } catch (error) {\r\n    this.triggerConfigError(error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.waitForFontsLoaded = function () {\r\n  if (!this.renderer) {\r\n    return;\r\n  }\r\n  if (this.renderer.globalData.fontManager.isLoaded) {\r\n    this.checkLoaded();\r\n  } else {\r\n    setTimeout(this.waitForFontsLoaded.bind(this), 20);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.checkLoaded = function () {\r\n  if (!this.isLoaded\r\n        && this.renderer.globalData.fontManager.isLoaded\r\n        && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== 'canvas')\r\n        && (this.imagePreloader.loadedFootages())\r\n  ) {\r\n    this.isLoaded = true;\r\n    if (expressionsPlugin) {\r\n      expressionsPlugin.initExpressions(this);\r\n    }\r\n    this.renderer.initItems();\r\n    setTimeout(function () {\r\n      this.trigger('DOMLoaded');\r\n    }.bind(this), 0);\r\n    this.gotoFrame();\r\n    if (this.autoplay) {\r\n      this.play();\r\n    }\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.resize = function () {\r\n  this.renderer.updateContainerSize();\r\n};\r\n\r\nAnimationItem.prototype.setSubframe = function (flag) {\r\n  this.isSubframeEnabled = !!flag;\r\n};\r\n\r\nAnimationItem.prototype.gotoFrame = function () {\r\n  this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\r\n\r\n  if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\r\n    this.currentFrame = this.timeCompleted;\r\n  }\r\n  this.trigger('enterFrame');\r\n  this.renderFrame();\r\n  this.trigger('drawnFrame');\r\n};\r\n\r\nAnimationItem.prototype.renderFrame = function () {\r\n  if (this.isLoaded === false || !this.renderer) {\r\n    return;\r\n  }\r\n  try {\r\n    this.renderer.renderFrame(this.currentFrame + this.firstFrame);\r\n  } catch (error) {\r\n    this.triggerRenderFrameError(error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.play = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === true) {\r\n    this.isPaused = false;\r\n    this.audioController.resume();\r\n    if (this._idle) {\r\n      this._idle = false;\r\n      this.trigger('_active');\r\n    }\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.pause = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === false) {\r\n    this.isPaused = true;\r\n    this._idle = true;\r\n    this.trigger('_idle');\r\n    this.audioController.pause();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.togglePause = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === true) {\r\n    this.play();\r\n  } else {\r\n    this.pause();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.stop = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.pause();\r\n  this.playCount = 0;\r\n  this._completedLoop = false;\r\n  this.setCurrentRawFrameValue(0);\r\n};\r\n\r\nAnimationItem.prototype.getMarkerData = function (markerName) {\r\n  var marker;\r\n  for (var i = 0; i < this.markers.length; i += 1) {\r\n    marker = this.markers[i];\r\n    if (marker.payload && marker.payload.name === markerName) {\r\n      return marker;\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nAnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  var numValue = Number(value);\r\n  if (isNaN(numValue)) {\r\n    var marker = this.getMarkerData(value);\r\n    if (marker) {\r\n      this.goToAndStop(marker.time, true);\r\n    }\r\n  } else if (isFrame) {\r\n    this.setCurrentRawFrameValue(value);\r\n  } else {\r\n    this.setCurrentRawFrameValue(value * this.frameModifier);\r\n  }\r\n  this.pause();\r\n};\r\n\r\nAnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  var numValue = Number(value);\r\n  if (isNaN(numValue)) {\r\n    var marker = this.getMarkerData(value);\r\n    if (marker) {\r\n      if (!marker.duration) {\r\n        this.goToAndStop(marker.time, true);\r\n      } else {\r\n        this.playSegments([marker.time, marker.time + marker.duration], true);\r\n      }\r\n    }\r\n  } else {\r\n    this.goToAndStop(numValue, isFrame, name);\r\n  }\r\n  this.play();\r\n};\r\n\r\nAnimationItem.prototype.advanceTime = function (value) {\r\n  if (this.isPaused === true || this.isLoaded === false) {\r\n    return;\r\n  }\r\n  var nextValue = this.currentRawFrame + value * this.frameModifier;\r\n  var _isComplete = false;\r\n  // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\r\n  // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\r\n  if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\r\n    if (!this.loop || this.playCount === this.loop) {\r\n      if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\r\n        _isComplete = true;\r\n        nextValue = this.totalFrames - 1;\r\n      }\r\n    } else if (nextValue >= this.totalFrames) {\r\n      this.playCount += 1;\r\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n        this.setCurrentRawFrameValue(nextValue % this.totalFrames);\r\n        this._completedLoop = true;\r\n        this.trigger('loopComplete');\r\n      }\r\n    } else {\r\n      this.setCurrentRawFrameValue(nextValue);\r\n    }\r\n  } else if (nextValue < 0) {\r\n    if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n      if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) { // eslint-disable-line no-plusplus\r\n        this.setCurrentRawFrameValue(this.totalFrames + (nextValue % this.totalFrames));\r\n        if (!this._completedLoop) {\r\n          this._completedLoop = true;\r\n        } else {\r\n          this.trigger('loopComplete');\r\n        }\r\n      } else {\r\n        _isComplete = true;\r\n        nextValue = 0;\r\n      }\r\n    }\r\n  } else {\r\n    this.setCurrentRawFrameValue(nextValue);\r\n  }\r\n  if (_isComplete) {\r\n    this.setCurrentRawFrameValue(nextValue);\r\n    this.pause();\r\n    this.trigger('complete');\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.adjustSegment = function (arr, offset) {\r\n  this.playCount = 0;\r\n  if (arr[1] < arr[0]) {\r\n    if (this.frameModifier > 0) {\r\n      if (this.playSpeed < 0) {\r\n        this.setSpeed(-this.playSpeed);\r\n      } else {\r\n        this.setDirection(-1);\r\n      }\r\n    }\r\n    this.totalFrames = arr[0] - arr[1];\r\n    this.timeCompleted = this.totalFrames;\r\n    this.firstFrame = arr[1];\r\n    this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\r\n  } else if (arr[1] > arr[0]) {\r\n    if (this.frameModifier < 0) {\r\n      if (this.playSpeed < 0) {\r\n        this.setSpeed(-this.playSpeed);\r\n      } else {\r\n        this.setDirection(1);\r\n      }\r\n    }\r\n    this.totalFrames = arr[1] - arr[0];\r\n    this.timeCompleted = this.totalFrames;\r\n    this.firstFrame = arr[0];\r\n    this.setCurrentRawFrameValue(0.001 + offset);\r\n  }\r\n  this.trigger('segmentStart');\r\n};\r\nAnimationItem.prototype.setSegment = function (init, end) {\r\n  var pendingFrame = -1;\r\n  if (this.isPaused) {\r\n    if (this.currentRawFrame + this.firstFrame < init) {\r\n      pendingFrame = init;\r\n    } else if (this.currentRawFrame + this.firstFrame > end) {\r\n      pendingFrame = end - init;\r\n    }\r\n  }\r\n\r\n  this.firstFrame = init;\r\n  this.totalFrames = end - init;\r\n  this.timeCompleted = this.totalFrames;\r\n  if (pendingFrame !== -1) {\r\n    this.goToAndStop(pendingFrame, true);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.playSegments = function (arr, forceFlag) {\r\n  if (forceFlag) {\r\n    this.segments.length = 0;\r\n  }\r\n  if (typeof arr[0] === 'object') {\r\n    var i;\r\n    var len = arr.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.segments.push(arr[i]);\r\n    }\r\n  } else {\r\n    this.segments.push(arr);\r\n  }\r\n  if (this.segments.length && forceFlag) {\r\n    this.adjustSegment(this.segments.shift(), 0);\r\n  }\r\n  if (this.isPaused) {\r\n    this.play();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.resetSegments = function (forceFlag) {\r\n  this.segments.length = 0;\r\n  this.segments.push([this.animationData.ip, this.animationData.op]);\r\n  if (forceFlag) {\r\n    this.checkSegments(0);\r\n  }\r\n};\r\nAnimationItem.prototype.checkSegments = function (offset) {\r\n  if (this.segments.length) {\r\n    this.adjustSegment(this.segments.shift(), offset);\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nAnimationItem.prototype.destroy = function (name) {\r\n  if ((name && this.name !== name) || !this.renderer) {\r\n    return;\r\n  }\r\n  this.renderer.destroy();\r\n  this.imagePreloader.destroy();\r\n  this.trigger('destroy');\r\n  this._cbs = null;\r\n  this.onEnterFrame = null;\r\n  this.onLoopComplete = null;\r\n  this.onComplete = null;\r\n  this.onSegmentStart = null;\r\n  this.onDestroy = null;\r\n  this.renderer = null;\r\n  this.renderer = null;\r\n  this.imagePreloader = null;\r\n  this.projectInterface = null;\r\n};\r\n\r\nAnimationItem.prototype.setCurrentRawFrameValue = function (value) {\r\n  this.currentRawFrame = value;\r\n  this.gotoFrame();\r\n};\r\n\r\nAnimationItem.prototype.setSpeed = function (val) {\r\n  this.playSpeed = val;\r\n  this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setDirection = function (val) {\r\n  this.playDirection = val < 0 ? -1 : 1;\r\n  this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setVolume = function (val, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.setVolume(val);\r\n};\r\n\r\nAnimationItem.prototype.getVolume = function () {\r\n  return this.audioController.getVolume();\r\n};\r\n\r\nAnimationItem.prototype.mute = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.mute();\r\n};\r\n\r\nAnimationItem.prototype.unmute = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.unmute();\r\n};\r\n\r\nAnimationItem.prototype.updaFrameModifier = function () {\r\n  this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\r\n  this.audioController.setRate(this.playSpeed * this.playDirection);\r\n};\r\n\r\nAnimationItem.prototype.getPath = function () {\r\n  return this.path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetsPath = function (assetData) {\r\n  var path = '';\r\n  if (assetData.e) {\r\n    path = assetData.p;\r\n  } else if (this.assetsPath) {\r\n    var imagePath = assetData.p;\r\n    if (imagePath.indexOf('images/') !== -1) {\r\n      imagePath = imagePath.split('/')[1];\r\n    }\r\n    path = this.assetsPath + imagePath;\r\n  } else {\r\n    path = this.path;\r\n    path += assetData.u ? assetData.u : '';\r\n    path += assetData.p;\r\n  }\r\n  return path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetData = function (id) {\r\n  var i = 0;\r\n  var len = this.assets.length;\r\n  while (i < len) {\r\n    if (id === this.assets[i].id) {\r\n      return this.assets[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nAnimationItem.prototype.hide = function () {\r\n  this.renderer.hide();\r\n};\r\n\r\nAnimationItem.prototype.show = function () {\r\n  this.renderer.show();\r\n};\r\n\r\nAnimationItem.prototype.getDuration = function (isFrame) {\r\n  return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\r\n};\r\n\r\nAnimationItem.prototype.trigger = function (name) {\r\n  if (this._cbs && this._cbs[name]) {\r\n    switch (name) {\r\n      case 'enterFrame':\r\n      case 'drawnFrame':\r\n        this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\r\n        break;\r\n      case 'loopComplete':\r\n        this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\r\n        break;\r\n      case 'complete':\r\n        this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\r\n        break;\r\n      case 'segmentStart':\r\n        this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\r\n        break;\r\n      case 'destroy':\r\n        this.triggerEvent(name, new BMDestroyEvent(name, this));\r\n        break;\r\n      default:\r\n        this.triggerEvent(name);\r\n    }\r\n  }\r\n  if (name === 'enterFrame' && this.onEnterFrame) {\r\n    this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\r\n  }\r\n  if (name === 'loopComplete' && this.onLoopComplete) {\r\n    this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\r\n  }\r\n  if (name === 'complete' && this.onComplete) {\r\n    this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\r\n  }\r\n  if (name === 'segmentStart' && this.onSegmentStart) {\r\n    this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\r\n  }\r\n  if (name === 'destroy' && this.onDestroy) {\r\n    this.onDestroy.call(this, new BMDestroyEvent(name, this));\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\r\n  var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\r\n  this.triggerEvent('error', error);\r\n\r\n  if (this.onError) {\r\n    this.onError.call(this, error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.triggerConfigError = function (nativeError) {\r\n  var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\r\n  this.triggerEvent('error', error);\r\n\r\n  if (this.onError) {\r\n    this.onError.call(this, error);\r\n  }\r\n};\r\n\r\n/* global CompExpressionInterface, expressionsPlugin: writable */\r\n/* exported expressionsPlugin */\r\n\r\nvar Expressions = (function () {\r\n  var ob = {};\r\n  ob.initExpressions = initExpressions;\r\n\r\n  function initExpressions(animation) {\r\n    var stackCount = 0;\r\n    var registers = [];\r\n\r\n    function pushExpression() {\r\n      stackCount += 1;\r\n    }\r\n\r\n    function popExpression() {\r\n      stackCount -= 1;\r\n      if (stackCount === 0) {\r\n        releaseInstances();\r\n      }\r\n    }\r\n\r\n    function registerExpressionProperty(expression) {\r\n      if (registers.indexOf(expression) === -1) {\r\n        registers.push(expression);\r\n      }\r\n    }\r\n\r\n    function releaseInstances() {\r\n      var i;\r\n      var len = registers.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        registers[i].release();\r\n      }\r\n      registers.length = 0;\r\n    }\r\n\r\n    animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\r\n    animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\r\n    animation.renderer.globalData.pushExpression = pushExpression;\r\n    animation.renderer.globalData.popExpression = popExpression;\r\n    animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\r\n  }\r\n  return ob;\r\n}());\r\n\r\nexpressionsPlugin = Expressions;\r\n\r\n/* eslint-disable camelcase, no-unused-vars */\r\n/* global BMMath, BezierFactory, createTypedArray, degToRads, shapePool */\r\n\r\nvar ExpressionManager = (function () {\r\n  'use strict';\r\n\r\n  var ob = {};\r\n  var Math = BMMath;\r\n  var window = null;\r\n  var document = null;\r\n  var XMLHttpRequest = null;\r\n  var fetch = null;\r\n  var frames = null;\r\n\r\n  function $bm_isInstanceOfArray(arr) {\r\n    return arr.constructor === Array || arr.constructor === Float32Array;\r\n  }\r\n\r\n  function isNumerable(tOfV, v) {\r\n    return tOfV === 'number' || tOfV === 'boolean' || tOfV === 'string' || v instanceof Number;\r\n  }\r\n\r\n  function $bm_neg(a) {\r\n    var tOfA = typeof a;\r\n    if (tOfA === 'number' || tOfA === 'boolean' || a instanceof Number) {\r\n      return -a;\r\n    }\r\n    if ($bm_isInstanceOfArray(a)) {\r\n      var i;\r\n      var lenA = a.length;\r\n      var retArr = [];\r\n      for (i = 0; i < lenA; i += 1) {\r\n        retArr[i] = -a[i];\r\n      }\r\n      return retArr;\r\n    }\r\n    if (a.propType) {\r\n      return a.v;\r\n    }\r\n    return -a;\r\n  }\r\n\r\n  var easeInBez = BezierFactory.getBezierEasing(0.333, 0, 0.833, 0.833, 'easeIn').get;\r\n  var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, 0.667, 1, 'easeOut').get;\r\n  var easeInOutBez = BezierFactory.getBezierEasing(0.33, 0, 0.667, 1, 'easeInOut').get;\r\n\r\n  function sum(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    if (tOfA === 'string' || tOfB === 'string') {\r\n      return a + b;\r\n    }\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      return a + b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      a = a.slice(0);\r\n      a[0] += b;\r\n      return a;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      b = b.slice(0);\r\n      b[0] = a + b[0];\r\n      return b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\r\n      var i = 0;\r\n      var lenA = a.length;\r\n      var lenB = b.length;\r\n      var retArr = [];\r\n      while (i < lenA || i < lenB) {\r\n        if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\r\n          retArr[i] = a[i] + b[i];\r\n        } else {\r\n          retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return retArr;\r\n    }\r\n    return 0;\r\n  }\r\n  var add = sum;\r\n\r\n  function sub(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      if (tOfA === 'string') {\r\n        a = parseInt(a, 10);\r\n      }\r\n      if (tOfB === 'string') {\r\n        b = parseInt(b, 10);\r\n      }\r\n      return a - b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      a = a.slice(0);\r\n      a[0] -= b;\r\n      return a;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      b = b.slice(0);\r\n      b[0] = a - b[0];\r\n      return b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\r\n      var i = 0;\r\n      var lenA = a.length;\r\n      var lenB = b.length;\r\n      var retArr = [];\r\n      while (i < lenA || i < lenB) {\r\n        if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\r\n          retArr[i] = a[i] - b[i];\r\n        } else {\r\n          retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return retArr;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  function mul(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    var arr;\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      return a * b;\r\n    }\r\n\r\n    var i;\r\n    var len;\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      len = a.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a[i] * b;\r\n      }\r\n      return arr;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      len = b.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a * b[i];\r\n      }\r\n      return arr;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  function div(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    var arr;\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      return a / b;\r\n    }\r\n    var i;\r\n    var len;\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      len = a.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a[i] / b;\r\n      }\r\n      return arr;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      len = b.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a / b[i];\r\n      }\r\n      return arr;\r\n    }\r\n    return 0;\r\n  }\r\n  function mod(a, b) {\r\n    if (typeof a === 'string') {\r\n      a = parseInt(a, 10);\r\n    }\r\n    if (typeof b === 'string') {\r\n      b = parseInt(b, 10);\r\n    }\r\n    return a % b;\r\n  }\r\n  var $bm_sum = sum;\r\n  var $bm_sub = sub;\r\n  var $bm_mul = mul;\r\n  var $bm_div = div;\r\n  var $bm_mod = mod;\r\n\r\n  function clamp(num, min, max) {\r\n    if (min > max) {\r\n      var mm = max;\r\n      max = min;\r\n      min = mm;\r\n    }\r\n    return Math.min(Math.max(num, min), max);\r\n  }\r\n\r\n  function radiansToDegrees(val) {\r\n    return val / degToRads;\r\n  }\r\n  var radians_to_degrees = radiansToDegrees;\r\n\r\n  function degreesToRadians(val) {\r\n    return val * degToRads;\r\n  }\r\n  var degrees_to_radians = radiansToDegrees;\r\n\r\n  var helperLengthArray = [0, 0, 0, 0, 0, 0];\r\n\r\n  function length(arr1, arr2) {\r\n    if (typeof arr1 === 'number' || arr1 instanceof Number) {\r\n      arr2 = arr2 || 0;\r\n      return Math.abs(arr1 - arr2);\r\n    }\r\n    if (!arr2) {\r\n      arr2 = helperLengthArray;\r\n    }\r\n    var i;\r\n    var len = Math.min(arr1.length, arr2.length);\r\n    var addedLength = 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      addedLength += Math.pow(arr2[i] - arr1[i], 2);\r\n    }\r\n    return Math.sqrt(addedLength);\r\n  }\r\n\r\n  function normalize(vec) {\r\n    return div(vec, length(vec));\r\n  }\r\n\r\n  function rgbToHsl(val) {\r\n    var r = val[0]; var g = val[1]; var b = val[2];\r\n    var max = Math.max(r, g, b);\r\n    var min = Math.min(r, g, b);\r\n    var h;\r\n    var s;\r\n    var l = (max + min) / 2;\r\n\r\n    if (max === min) {\r\n      h = 0; // achromatic\r\n      s = 0; // achromatic\r\n    } else {\r\n      var d = max - min;\r\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n      switch (max) {\r\n        case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n        case g: h = (b - r) / d + 2; break;\r\n        case b: h = (r - g) / d + 4; break;\r\n        default: break;\r\n      }\r\n      h /= 6;\r\n    }\r\n\r\n    return [h, s, l, val[3]];\r\n  }\r\n\r\n  function hue2rgb(p, q, t) {\r\n    if (t < 0) t += 1;\r\n    if (t > 1) t -= 1;\r\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\r\n    if (t < 1 / 2) return q;\r\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\r\n    return p;\r\n  }\r\n\r\n  function hslToRgb(val) {\r\n    var h = val[0];\r\n    var s = val[1];\r\n    var l = val[2];\r\n\r\n    var r;\r\n    var g;\r\n    var b;\r\n\r\n    if (s === 0) {\r\n      r = l; // achromatic\r\n      b = l; // achromatic\r\n      g = l; // achromatic\r\n    } else {\r\n      var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n      var p = 2 * l - q;\r\n      r = hue2rgb(p, q, h + 1 / 3);\r\n      g = hue2rgb(p, q, h);\r\n      b = hue2rgb(p, q, h - 1 / 3);\r\n    }\r\n\r\n    return [r, g, b, val[3]];\r\n  }\r\n\r\n  function linear(t, tMin, tMax, value1, value2) {\r\n    if (value1 === undefined || value2 === undefined) {\r\n      value1 = tMin;\r\n      value2 = tMax;\r\n      tMin = 0;\r\n      tMax = 1;\r\n    }\r\n    if (tMax < tMin) {\r\n      var _tMin = tMax;\r\n      tMax = tMin;\r\n      tMin = _tMin;\r\n    }\r\n    if (t <= tMin) {\r\n      return value1;\r\n    } if (t >= tMax) {\r\n      return value2;\r\n    }\r\n    var perc = tMax === tMin ? 0 : (t - tMin) / (tMax - tMin);\r\n    if (!value1.length) {\r\n      return value1 + (value2 - value1) * perc;\r\n    }\r\n    var i;\r\n    var len = value1.length;\r\n    var arr = createTypedArray('float32', len);\r\n    for (i = 0; i < len; i += 1) {\r\n      arr[i] = value1[i] + (value2[i] - value1[i]) * perc;\r\n    }\r\n    return arr;\r\n  }\r\n  function random(min, max) {\r\n    if (max === undefined) {\r\n      if (min === undefined) {\r\n        min = 0;\r\n        max = 1;\r\n      } else {\r\n        max = min;\r\n        min = undefined;\r\n      }\r\n    }\r\n    if (max.length) {\r\n      var i;\r\n      var len = max.length;\r\n      if (!min) {\r\n        min = createTypedArray('float32', len);\r\n      }\r\n      var arr = createTypedArray('float32', len);\r\n      var rnd = BMMath.random();\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = min[i] + rnd * (max[i] - min[i]);\r\n      }\r\n      return arr;\r\n    }\r\n    if (min === undefined) {\r\n      min = 0;\r\n    }\r\n    var rndm = BMMath.random();\r\n    return min + rndm * (max - min);\r\n  }\r\n\r\n  function createPath(points, inTangents, outTangents, closed) {\r\n    var i;\r\n    var len = points.length;\r\n    var path = shapePool.newElement();\r\n    path.setPathData(!!closed, len);\r\n    var arrPlaceholder = [0, 0];\r\n    var inVertexPoint;\r\n    var outVertexPoint;\r\n    for (i = 0; i < len; i += 1) {\r\n      inVertexPoint = (inTangents && inTangents[i]) ? inTangents[i] : arrPlaceholder;\r\n      outVertexPoint = (outTangents && outTangents[i]) ? outTangents[i] : arrPlaceholder;\r\n      path.setTripleAt(points[i][0], points[i][1], outVertexPoint[0] + points[i][0], outVertexPoint[1] + points[i][1], inVertexPoint[0] + points[i][0], inVertexPoint[1] + points[i][1], i, true);\r\n    }\r\n    return path;\r\n  }\r\n\r\n  function initiateExpression(elem, data, property) {\r\n    var val = data.x;\r\n    var needsVelocity = /velocity(?![\\w\\d])/.test(val);\r\n    var _needsRandom = val.indexOf('random') !== -1;\r\n    var elemType = elem.data.ty;\r\n    var transform;\r\n    var $bm_transform;\r\n    var content;\r\n    var effect;\r\n    var thisProperty = property;\r\n    thisProperty.valueAtTime = thisProperty.getValueAtTime;\r\n    Object.defineProperty(thisProperty, 'value', {\r\n      get: function () {\r\n        return thisProperty.v;\r\n      },\r\n    });\r\n    elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;\r\n    elem.comp.displayStartTime = 0;\r\n    var inPoint = elem.data.ip / elem.comp.globalData.frameRate;\r\n    var outPoint = elem.data.op / elem.comp.globalData.frameRate;\r\n    var width = elem.data.sw ? elem.data.sw : 0;\r\n    var height = elem.data.sh ? elem.data.sh : 0;\r\n    var name = elem.data.nm;\r\n    var loopIn;\r\n    var loop_in;\r\n    var loopOut;\r\n    var loop_out;\r\n    var smooth;\r\n    var toWorld;\r\n    var fromWorld;\r\n    var fromComp;\r\n    var toComp;\r\n    var fromCompToSurface;\r\n    var position;\r\n    var rotation;\r\n    var anchorPoint;\r\n    var scale;\r\n    var thisLayer;\r\n    var thisComp;\r\n    var mask;\r\n    var valueAtTime;\r\n    var velocityAtTime;\r\n\r\n    var scoped_bm_rt;\r\n    // val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\r\n    var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\r\n    var numKeys = property.kf ? data.k.length : 0;\r\n\r\n    var active = !this.data || this.data.hd !== true;\r\n\r\n    var wiggle = function wiggle(freq, amp) {\r\n      var iWiggle;\r\n      var j;\r\n      var lenWiggle = this.pv.length ? this.pv.length : 1;\r\n      var addedAmps = createTypedArray('float32', lenWiggle);\r\n      freq = 5;\r\n      var iterations = Math.floor(time * freq);\r\n      iWiggle = 0;\r\n      j = 0;\r\n      while (iWiggle < iterations) {\r\n        // var rnd = BMMath.random();\r\n        for (j = 0; j < lenWiggle; j += 1) {\r\n          addedAmps[j] += -amp + amp * 2 * BMMath.random();\r\n          // addedAmps[j] += -amp + amp*2*rnd;\r\n        }\r\n        iWiggle += 1;\r\n      }\r\n      // var rnd2 = BMMath.random();\r\n      var periods = time * freq;\r\n      var perc = periods - Math.floor(periods);\r\n      var arr = createTypedArray('float32', lenWiggle);\r\n      if (lenWiggle > 1) {\r\n        for (j = 0; j < lenWiggle; j += 1) {\r\n          arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp * 2 * BMMath.random()) * perc;\r\n          // arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\r\n          // arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\r\n        }\r\n        return arr;\r\n      }\r\n      return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;\r\n    }.bind(this);\r\n\r\n    if (thisProperty.loopIn) {\r\n      loopIn = thisProperty.loopIn.bind(thisProperty);\r\n      loop_in = loopIn;\r\n    }\r\n\r\n    if (thisProperty.loopOut) {\r\n      loopOut = thisProperty.loopOut.bind(thisProperty);\r\n      loop_out = loopOut;\r\n    }\r\n\r\n    if (thisProperty.smooth) {\r\n      smooth = thisProperty.smooth.bind(thisProperty);\r\n    }\r\n\r\n    function loopInDuration(type, duration) {\r\n      return loopIn(type, duration, true);\r\n    }\r\n\r\n    function loopOutDuration(type, duration) {\r\n      return loopOut(type, duration, true);\r\n    }\r\n\r\n    if (this.getValueAtTime) {\r\n      valueAtTime = this.getValueAtTime.bind(this);\r\n    }\r\n\r\n    if (this.getVelocityAtTime) {\r\n      velocityAtTime = this.getVelocityAtTime.bind(this);\r\n    }\r\n\r\n    var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\r\n\r\n    function lookAt(elem1, elem2) {\r\n      var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];\r\n      var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;\r\n      var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;\r\n      return [yaw, pitch, 0];\r\n    }\r\n\r\n    function easeOut(t, tMin, tMax, val1, val2) {\r\n      return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\r\n    }\r\n\r\n    function easeIn(t, tMin, tMax, val1, val2) {\r\n      return applyEase(easeInBez, t, tMin, tMax, val1, val2);\r\n    }\r\n\r\n    function ease(t, tMin, tMax, val1, val2) {\r\n      return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\r\n    }\r\n\r\n    function applyEase(fn, t, tMin, tMax, val1, val2) {\r\n      if (val1 === undefined) {\r\n        val1 = tMin;\r\n        val2 = tMax;\r\n      } else {\r\n        t = (t - tMin) / (tMax - tMin);\r\n      }\r\n      if (t > 1) {\r\n        t = 1;\r\n      } else if (t < 0) {\r\n        t = 0;\r\n      }\r\n      var mult = fn(t);\r\n      if ($bm_isInstanceOfArray(val1)) {\r\n        var iKey;\r\n        var lenKey = val1.length;\r\n        var arr = createTypedArray('float32', lenKey);\r\n        for (iKey = 0; iKey < lenKey; iKey += 1) {\r\n          arr[iKey] = (val2[iKey] - val1[iKey]) * mult + val1[iKey];\r\n        }\r\n        return arr;\r\n      }\r\n      return (val2 - val1) * mult + val1;\r\n    }\r\n\r\n    function nearestKey(time) {\r\n      var iKey;\r\n      var lenKey = data.k.length;\r\n      var index;\r\n      var keyTime;\r\n      if (!data.k.length || typeof (data.k[0]) === 'number') {\r\n        index = 0;\r\n        keyTime = 0;\r\n      } else {\r\n        index = -1;\r\n        time *= elem.comp.globalData.frameRate;\r\n        if (time < data.k[0].t) {\r\n          index = 1;\r\n          keyTime = data.k[0].t;\r\n        } else {\r\n          for (iKey = 0; iKey < lenKey - 1; iKey += 1) {\r\n            if (time === data.k[iKey].t) {\r\n              index = iKey + 1;\r\n              keyTime = data.k[iKey].t;\r\n              break;\r\n            } else if (time > data.k[iKey].t && time < data.k[iKey + 1].t) {\r\n              if (time - data.k[iKey].t > data.k[iKey + 1].t - time) {\r\n                index = iKey + 2;\r\n                keyTime = data.k[iKey + 1].t;\r\n              } else {\r\n                index = iKey + 1;\r\n                keyTime = data.k[iKey].t;\r\n              }\r\n              break;\r\n            }\r\n          }\r\n          if (index === -1) {\r\n            index = iKey + 1;\r\n            keyTime = data.k[iKey].t;\r\n          }\r\n        }\r\n      }\r\n      var obKey = {};\r\n      obKey.index = index;\r\n      obKey.time = keyTime / elem.comp.globalData.frameRate;\r\n      return obKey;\r\n    }\r\n\r\n    function key(ind) {\r\n      var obKey;\r\n      var iKey;\r\n      var lenKey;\r\n      if (!data.k.length || typeof (data.k[0]) === 'number') {\r\n        throw new Error('The property has no keyframe at index ' + ind);\r\n      }\r\n      ind -= 1;\r\n      obKey = {\r\n        time: data.k[ind].t / elem.comp.globalData.frameRate,\r\n        value: [],\r\n      };\r\n      var arr = Object.prototype.hasOwnProperty.call(data.k[ind], 's') ? data.k[ind].s : data.k[ind - 1].e;\r\n\r\n      lenKey = arr.length;\r\n      for (iKey = 0; iKey < lenKey; iKey += 1) {\r\n        obKey[iKey] = arr[iKey];\r\n        obKey.value[iKey] = arr[iKey];\r\n      }\r\n      return obKey;\r\n    }\r\n\r\n    function framesToTime(fr, fps) {\r\n      if (!fps) {\r\n        fps = elem.comp.globalData.frameRate;\r\n      }\r\n      return fr / fps;\r\n    }\r\n\r\n    function timeToFrames(t, fps) {\r\n      if (!t && t !== 0) {\r\n        t = time;\r\n      }\r\n      if (!fps) {\r\n        fps = elem.comp.globalData.frameRate;\r\n      }\r\n      return t * fps;\r\n    }\r\n\r\n    function seedRandom(seed) {\r\n      BMMath.seedrandom(randSeed + seed);\r\n    }\r\n\r\n    function sourceRectAtTime() {\r\n      return elem.sourceRectAtTime();\r\n    }\r\n\r\n    function substring(init, end) {\r\n      if (typeof value === 'string') {\r\n        if (end === undefined) {\r\n          return value.substring(init);\r\n        }\r\n        return value.substring(init, end);\r\n      }\r\n      return '';\r\n    }\r\n\r\n    function substr(init, end) {\r\n      if (typeof value === 'string') {\r\n        if (end === undefined) {\r\n          return value.substr(init);\r\n        }\r\n        return value.substr(init, end);\r\n      }\r\n      return '';\r\n    }\r\n\r\n    function posterizeTime(framesPerSecond) {\r\n      time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;\r\n      value = valueAtTime(time);\r\n    }\r\n\r\n    var time;\r\n    var velocity;\r\n    var value;\r\n    var text;\r\n    var textIndex;\r\n    var textTotal;\r\n    var selectorValue;\r\n    var index = elem.data.ind;\r\n    var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n    var parent;\r\n    var randSeed = Math.floor(Math.random() * 1000000);\r\n    var globalData = elem.globalData;\r\n    function executeExpression(_value) {\r\n      // globalData.pushExpression();\r\n      value = _value;\r\n      if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\r\n        return value;\r\n      }\r\n      if (this.propType === 'textSelector') {\r\n        textIndex = this.textIndex;\r\n        textTotal = this.textTotal;\r\n        selectorValue = this.selectorValue;\r\n      }\r\n      if (!thisLayer) {\r\n        text = elem.layerInterface.text;\r\n        thisLayer = elem.layerInterface;\r\n        thisComp = elem.comp.compInterface;\r\n        toWorld = thisLayer.toWorld.bind(thisLayer);\r\n        fromWorld = thisLayer.fromWorld.bind(thisLayer);\r\n        fromComp = thisLayer.fromComp.bind(thisLayer);\r\n        toComp = thisLayer.toComp.bind(thisLayer);\r\n        mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\r\n        fromCompToSurface = fromComp;\r\n      }\r\n      if (!transform) {\r\n        transform = elem.layerInterface('ADBE Transform Group');\r\n        $bm_transform = transform;\r\n        if (transform) {\r\n          anchorPoint = transform.anchorPoint;\r\n          /* position = transform.position;\r\n                    rotation = transform.rotation;\r\n                    scale = transform.scale; */\r\n        }\r\n      }\r\n\r\n      if (elemType === 4 && !content) {\r\n        content = thisLayer('ADBE Root Vectors Group');\r\n      }\r\n      if (!effect) {\r\n        effect = thisLayer(4);\r\n      }\r\n      hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n      if (hasParent && !parent) {\r\n        parent = elem.hierarchy[0].layerInterface;\r\n      }\r\n      time = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n      if (_needsRandom) {\r\n        seedRandom(randSeed + time);\r\n      }\r\n      if (needsVelocity) {\r\n        velocity = velocityAtTime(time);\r\n      }\r\n      expression_function();\r\n      this.frameExpressionId = elem.globalData.frameId;\r\n\r\n      // TODO: Check if it's possible to return on ShapeInterface the .v value\r\n      if (scoped_bm_rt.propType === 'shape') {\r\n        scoped_bm_rt = scoped_bm_rt.v;\r\n      }\r\n      // globalData.popExpression();\r\n      return scoped_bm_rt;\r\n    }\r\n    return executeExpression;\r\n  }\r\n\r\n  ob.initiateExpression = initiateExpression;\r\n  return ob;\r\n}());\r\n\r\n/* global ExpressionManager, createTypedArray */\r\n/* exported expressionHelpers */\r\n\r\nvar expressionHelpers = (function () {\r\n  function searchExpressions(elem, data, prop) {\r\n    if (data.x) {\r\n      prop.k = true;\r\n      prop.x = true;\r\n      prop.initiateExpression = ExpressionManager.initiateExpression;\r\n      prop.effectsSequence.push(prop.initiateExpression(elem, data, prop).bind(prop));\r\n    }\r\n  }\r\n\r\n  function getValueAtTime(frameNum) {\r\n    frameNum *= this.elem.globalData.frameRate;\r\n    frameNum -= this.offsetTime;\r\n    if (frameNum !== this._cachingAtTime.lastFrame) {\r\n      this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\r\n      this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\r\n      this._cachingAtTime.lastFrame = frameNum;\r\n    }\r\n    return this._cachingAtTime.value;\r\n  }\r\n\r\n  function getSpeedAtTime(frameNum) {\r\n    var delta = -0.01;\r\n    var v1 = this.getValueAtTime(frameNum);\r\n    var v2 = this.getValueAtTime(frameNum + delta);\r\n    var speed = 0;\r\n    if (v1.length) {\r\n      var i;\r\n      for (i = 0; i < v1.length; i += 1) {\r\n        speed += Math.pow(v2[i] - v1[i], 2);\r\n      }\r\n      speed = Math.sqrt(speed) * 100;\r\n    } else {\r\n      speed = 0;\r\n    }\r\n    return speed;\r\n  }\r\n\r\n  function getVelocityAtTime(frameNum) {\r\n    if (this.vel !== undefined) {\r\n      return this.vel;\r\n    }\r\n    var delta = -0.001;\r\n    // frameNum += this.elem.data.st;\r\n    var v1 = this.getValueAtTime(frameNum);\r\n    var v2 = this.getValueAtTime(frameNum + delta);\r\n    var velocity;\r\n    if (v1.length) {\r\n      velocity = createTypedArray('float32', v1.length);\r\n      var i;\r\n      for (i = 0; i < v1.length; i += 1) {\r\n        // removing frameRate\r\n        // if needed, don't add it here\r\n        // velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\r\n        velocity[i] = (v2[i] - v1[i]) / delta;\r\n      }\r\n    } else {\r\n      velocity = (v2 - v1) / delta;\r\n    }\r\n    return velocity;\r\n  }\r\n\r\n  function getStaticValueAtTime() {\r\n    return this.pv;\r\n  }\r\n\r\n  function setGroupProperty(propertyGroup) {\r\n    this.propertyGroup = propertyGroup;\r\n  }\r\n\r\n  return {\r\n    searchExpressions: searchExpressions,\r\n    getSpeedAtTime: getSpeedAtTime,\r\n    getVelocityAtTime: getVelocityAtTime,\r\n    getValueAtTime: getValueAtTime,\r\n    getStaticValueAtTime: getStaticValueAtTime,\r\n    setGroupProperty: setGroupProperty,\r\n  };\r\n}());\r\n\r\n/* global createTypedArray, Matrix, TransformPropertyFactory, expressionHelpers, PropertyFactory, expressionHelpers,\r\ninitialDefaultFrame, shapePool, ShapePropertyFactory, bez, extendPrototype, ExpressionManager, createSizedArray */\r\n\r\n(function addPropertyDecorator() {\r\n  function loopOut(type, duration, durationFlag) {\r\n    if (!this.k || !this.keyframes) {\r\n      return this.pv;\r\n    }\r\n    type = type ? type.toLowerCase() : '';\r\n    var currentFrame = this.comp.renderedFrame;\r\n    var keyframes = this.keyframes;\r\n    var lastKeyFrame = keyframes[keyframes.length - 1].t;\r\n    if (currentFrame <= lastKeyFrame) {\r\n      return this.pv;\r\n    }\r\n    var cycleDuration;\r\n    var firstKeyFrame;\r\n    if (!durationFlag) {\r\n      if (!duration || duration > keyframes.length - 1) {\r\n        duration = keyframes.length - 1;\r\n      }\r\n      firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\r\n      cycleDuration = lastKeyFrame - firstKeyFrame;\r\n    } else {\r\n      if (!duration) {\r\n        cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);\r\n      } else {\r\n        cycleDuration = Math.abs(lastKeyFrame - this.elem.comp.globalData.frameRate * duration);\r\n      }\r\n      firstKeyFrame = lastKeyFrame - cycleDuration;\r\n    }\r\n    var i;\r\n    var len;\r\n    var ret;\r\n    if (type === 'pingpong') {\r\n      var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\r\n      if (iterations % 2 !== 0) {\r\n          return this.getValueAtTime(((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n      }\r\n    } else if (type === 'offset') {\r\n      var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n        var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n      var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\r\n      if (this.pv.length) {\r\n        ret = new Array(initV.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          ret[i] = (endV[i] - initV[i]) * repeats + current[i];\r\n        }\r\n        return ret;\r\n      }\r\n      return (endV - initV) * repeats + current;\r\n    } else if (type === 'continue') {\r\n      var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\r\n      if (this.pv.length) {\r\n        ret = new Array(lastValue.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            ret[i] = lastValue[i] + (lastValue[i] - nextLastValue[i]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 0.0005; // eslint-disable-line\r\n        }\r\n        return ret;\r\n      }\r\n      return lastValue + (lastValue - nextLastValue) * (((currentFrame - lastKeyFrame)) / 0.001);\r\n    }\r\n      return this.getValueAtTime((((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n\r\n  }\r\n\r\n  function loopIn(type, duration, durationFlag) {\r\n    if (!this.k) {\r\n      return this.pv;\r\n    }\r\n    type = type ? type.toLowerCase() : '';\r\n    var currentFrame = this.comp.renderedFrame;\r\n    var keyframes = this.keyframes;\r\n    var firstKeyFrame = keyframes[0].t;\r\n    if (currentFrame >= firstKeyFrame) {\r\n      return this.pv;\r\n    }\r\n    var cycleDuration;\r\n    var lastKeyFrame;\r\n    if (!durationFlag) {\r\n      if (!duration || duration > keyframes.length - 1) {\r\n        duration = keyframes.length - 1;\r\n      }\r\n      lastKeyFrame = keyframes[duration].t;\r\n      cycleDuration = lastKeyFrame - firstKeyFrame;\r\n    } else {\r\n      if (!duration) {\r\n        cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);\r\n      } else {\r\n        cycleDuration = Math.abs(this.elem.comp.globalData.frameRate * duration);\r\n      }\r\n      lastKeyFrame = firstKeyFrame + cycleDuration;\r\n    }\r\n    var i;\r\n    var len;\r\n    var ret;\r\n    if (type === 'pingpong') {\r\n      var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);\r\n      if (iterations % 2 === 0) {\r\n          return this.getValueAtTime((((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n      }\r\n    } else if (type === 'offset') {\r\n      var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var current = this.getValueAtTime((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration) + firstKeyFrame) / this.comp.globalData.frameRate, 0);\r\n      var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;\r\n      if (this.pv.length) {\r\n        ret = new Array(initV.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          ret[i] = current[i] - (endV[i] - initV[i]) * repeats;\r\n        }\r\n        return ret;\r\n      }\r\n      return current - (endV - initV) * repeats;\r\n    } else if (type === 'continue') {\r\n      var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\r\n      if (this.pv.length) {\r\n        ret = new Array(firstValue.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          ret[i] = firstValue[i] + ((firstValue[i] - nextFirstValue[i]) * (firstKeyFrame - currentFrame)) / 0.001;\r\n        }\r\n        return ret;\r\n      }\r\n      return firstValue + ((firstValue - nextFirstValue) * (firstKeyFrame - currentFrame)) / 0.001;\r\n    }\r\n      return this.getValueAtTime(((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame))) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n\r\n  }\r\n\r\n  function smooth(width, samples) {\r\n    if (!this.k) {\r\n      return this.pv;\r\n    }\r\n    width = (width || 0.4) * 0.5;\r\n    samples = Math.floor(samples || 5);\r\n    if (samples <= 1) {\r\n      return this.pv;\r\n    }\r\n    var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n    var initFrame = currentTime - width;\r\n    var endFrame = currentTime + width;\r\n    var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\r\n    var i = 0;\r\n    var j = 0;\r\n    var value;\r\n    if (this.pv.length) {\r\n      value = createTypedArray('float32', this.pv.length);\r\n    } else {\r\n      value = 0;\r\n    }\r\n    var sampleValue;\r\n    while (i < samples) {\r\n      sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\r\n      if (this.pv.length) {\r\n        for (j = 0; j < this.pv.length; j += 1) {\r\n          value[j] += sampleValue[j];\r\n        }\r\n      } else {\r\n        value += sampleValue;\r\n      }\r\n      i += 1;\r\n    }\r\n    if (this.pv.length) {\r\n      for (j = 0; j < this.pv.length; j += 1) {\r\n        value[j] /= samples;\r\n      }\r\n    } else {\r\n      value /= samples;\r\n    }\r\n    return value;\r\n  }\r\n\r\n  function getTransformValueAtTime(time) {\r\n    if (!this._transformCachingAtTime) {\r\n      this._transformCachingAtTime = {\r\n        v: new Matrix(),\r\n      };\r\n    }\r\n    /// /\r\n    var matrix = this._transformCachingAtTime.v;\r\n    matrix.cloneFromProps(this.pre.props);\r\n    if (this.appliedTransformations < 1) {\r\n      var anchor = this.a.getValueAtTime(time);\r\n      matrix.translate(\r\n        -anchor[0] * this.a.mult,\r\n        -anchor[1] * this.a.mult,\r\n        anchor[2] * this.a.mult\r\n      );\r\n    }\r\n    if (this.appliedTransformations < 2) {\r\n      var scale = this.s.getValueAtTime(time);\r\n      matrix.scale(\r\n        scale[0] * this.s.mult,\r\n        scale[1] * this.s.mult,\r\n        scale[2] * this.s.mult\r\n      );\r\n    }\r\n    if (this.sk && this.appliedTransformations < 3) {\r\n      var skew = this.sk.getValueAtTime(time);\r\n      var skewAxis = this.sa.getValueAtTime(time);\r\n      matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);\r\n    }\r\n    if (this.r && this.appliedTransformations < 4) {\r\n      var rotation = this.r.getValueAtTime(time);\r\n      matrix.rotate(-rotation * this.r.mult);\r\n    } else if (!this.r && this.appliedTransformations < 4) {\r\n      var rotationZ = this.rz.getValueAtTime(time);\r\n      var rotationY = this.ry.getValueAtTime(time);\r\n      var rotationX = this.rx.getValueAtTime(time);\r\n      var orientation = this.or.getValueAtTime(time);\r\n      matrix.rotateZ(-rotationZ * this.rz.mult)\r\n        .rotateY(rotationY * this.ry.mult)\r\n        .rotateX(rotationX * this.rx.mult)\r\n        .rotateZ(-orientation[2] * this.or.mult)\r\n        .rotateY(orientation[1] * this.or.mult)\r\n        .rotateX(orientation[0] * this.or.mult);\r\n    }\r\n    if (this.data.p && this.data.p.s) {\r\n      var positionX = this.px.getValueAtTime(time);\r\n      var positionY = this.py.getValueAtTime(time);\r\n      if (this.data.p.z) {\r\n        var positionZ = this.pz.getValueAtTime(time);\r\n        matrix.translate(\r\n          positionX * this.px.mult,\r\n          positionY * this.py.mult,\r\n          -positionZ * this.pz.mult\r\n        );\r\n      } else {\r\n        matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);\r\n      }\r\n    } else {\r\n      var position = this.p.getValueAtTime(time);\r\n      matrix.translate(\r\n        position[0] * this.p.mult,\r\n        position[1] * this.p.mult,\r\n        -position[2] * this.p.mult\r\n      );\r\n    }\r\n    return matrix;\r\n    /// /\r\n  }\r\n\r\n  function getTransformStaticValueAtTime() {\r\n    return this.v.clone(new Matrix());\r\n  }\r\n\r\n  var getTransformProperty = TransformPropertyFactory.getTransformProperty;\r\n  TransformPropertyFactory.getTransformProperty = function (elem, data, container) {\r\n    var prop = getTransformProperty(elem, data, container);\r\n    if (prop.dynamicProperties.length) {\r\n      prop.getValueAtTime = getTransformValueAtTime.bind(prop);\r\n    } else {\r\n      prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\r\n    }\r\n    prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n    return prop;\r\n  };\r\n\r\n  var propertyGetProp = PropertyFactory.getProp;\r\n  PropertyFactory.getProp = function (elem, data, type, mult, container) {\r\n    var prop = propertyGetProp(elem, data, type, mult, container);\r\n    // prop.getVelocityAtTime = getVelocityAtTime;\r\n    // prop.loopOut = loopOut;\r\n    // prop.loopIn = loopIn;\r\n    if (prop.kf) {\r\n      prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\r\n    } else {\r\n      prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\r\n    }\r\n    prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n    prop.loopOut = loopOut;\r\n    prop.loopIn = loopIn;\r\n    prop.smooth = smooth;\r\n    prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\r\n    prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\r\n    prop.numKeys = data.a === 1 ? data.k.length : 0;\r\n    prop.propertyIndex = data.ix;\r\n    var value = 0;\r\n    if (type !== 0) {\r\n      value = createTypedArray('float32', data.a === 1 ? data.k[0].s.length : data.k.length);\r\n    }\r\n    prop._cachingAtTime = {\r\n      lastFrame: initialDefaultFrame,\r\n      lastIndex: 0,\r\n      value: value,\r\n    };\r\n    expressionHelpers.searchExpressions(elem, data, prop);\r\n    if (prop.k) {\r\n      container.addDynamicProperty(prop);\r\n    }\r\n\r\n    return prop;\r\n  };\r\n\r\n  function getShapeValueAtTime(frameNum) {\r\n    // For now this caching object is created only when needed instead of creating it when the shape is initialized.\r\n    if (!this._cachingAtTime) {\r\n      this._cachingAtTime = {\r\n        shapeValue: shapePool.clone(this.pv),\r\n        lastIndex: 0,\r\n        lastTime: initialDefaultFrame,\r\n      };\r\n    }\r\n\r\n    frameNum *= this.elem.globalData.frameRate;\r\n    frameNum -= this.offsetTime;\r\n    if (frameNum !== this._cachingAtTime.lastTime) {\r\n      this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\r\n      this._cachingAtTime.lastTime = frameNum;\r\n      this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\r\n    }\r\n    return this._cachingAtTime.shapeValue;\r\n  }\r\n\r\n  var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\r\n  var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\r\n\r\n  function ShapeExpressions() {}\r\n  ShapeExpressions.prototype = {\r\n    vertices: function (prop, time) {\r\n      if (this.k) {\r\n        this.getValue();\r\n      }\r\n      var shapePath = this.v;\r\n      if (time !== undefined) {\r\n        shapePath = this.getValueAtTime(time, 0);\r\n      }\r\n      var i;\r\n      var len = shapePath._length;\r\n      var vertices = shapePath[prop];\r\n      var points = shapePath.v;\r\n      var arr = createSizedArray(len);\r\n      for (i = 0; i < len; i += 1) {\r\n        if (prop === 'i' || prop === 'o') {\r\n          arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\r\n        } else {\r\n          arr[i] = [vertices[i][0], vertices[i][1]];\r\n        }\r\n      }\r\n      return arr;\r\n    },\r\n    points: function (time) {\r\n      return this.vertices('v', time);\r\n    },\r\n    inTangents: function (time) {\r\n      return this.vertices('i', time);\r\n    },\r\n    outTangents: function (time) {\r\n      return this.vertices('o', time);\r\n    },\r\n    isClosed: function () {\r\n      return this.v.c;\r\n    },\r\n    pointOnPath: function (perc, time) {\r\n      var shapePath = this.v;\r\n      if (time !== undefined) {\r\n        shapePath = this.getValueAtTime(time, 0);\r\n      }\r\n      if (!this._segmentsLength) {\r\n        this._segmentsLength = bez.getSegmentsLength(shapePath);\r\n      }\r\n\r\n      var segmentsLength = this._segmentsLength;\r\n      var lengths = segmentsLength.lengths;\r\n      var lengthPos = segmentsLength.totalLength * perc;\r\n      var i = 0;\r\n      var len = lengths.length;\r\n      var accumulatedLength = 0;\r\n      var pt;\r\n      while (i < len) {\r\n        if (accumulatedLength + lengths[i].addedLength > lengthPos) {\r\n          var initIndex = i;\r\n          var endIndex = (shapePath.c && i === len - 1) ? 0 : i + 1;\r\n          var segmentPerc = (lengthPos - accumulatedLength) / lengths[i].addedLength;\r\n          pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\r\n          break;\r\n        } else {\r\n          accumulatedLength += lengths[i].addedLength;\r\n        }\r\n        i += 1;\r\n      }\r\n      if (!pt) {\r\n        pt = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];\r\n      }\r\n      return pt;\r\n    },\r\n    vectorOnPath: function (perc, time, vectorType) {\r\n      // perc doesn't use triple equality because it can be a Number object as well as a primitive.\r\n      if (perc == 1) { // eslint-disable-line eqeqeq\r\n        perc = this.v.c;\r\n      } else if (perc == 0) { // eslint-disable-line eqeqeq\r\n        perc = 0.999;\r\n      }\r\n      var pt1 = this.pointOnPath(perc, time);\r\n      var pt2 = this.pointOnPath(perc + 0.001, time);\r\n      var xLength = pt2[0] - pt1[0];\r\n      var yLength = pt2[1] - pt1[1];\r\n      var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));\r\n      if (magnitude === 0) {\r\n        return [0, 0];\r\n      }\r\n      var unitVector = vectorType === 'tangent' ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];\r\n      return unitVector;\r\n    },\r\n    tangentOnPath: function (perc, time) {\r\n      return this.vectorOnPath(perc, time, 'tangent');\r\n    },\r\n    normalOnPath: function (perc, time) {\r\n      return this.vectorOnPath(perc, time, 'normal');\r\n    },\r\n    setGroupProperty: expressionHelpers.setGroupProperty,\r\n    getValueAtTime: expressionHelpers.getStaticValueAtTime,\r\n  };\r\n  extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\r\n  extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\r\n  KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\r\n  KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\r\n\r\n  var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\r\n  ShapePropertyFactory.getShapeProp = function (elem, data, type, arr, trims) {\r\n    var prop = propertyGetShapeProp(elem, data, type, arr, trims);\r\n    prop.propertyIndex = data.ix;\r\n    prop.lock = false;\r\n    if (type === 3) {\r\n      expressionHelpers.searchExpressions(elem, data.pt, prop);\r\n    } else if (type === 4) {\r\n      expressionHelpers.searchExpressions(elem, data.ks, prop);\r\n    }\r\n    if (prop.k) {\r\n      elem.addDynamicProperty(prop);\r\n    }\r\n    return prop;\r\n  };\r\n}());\r\n\r\n/* global ExpressionManager, TextProperty */\r\n\r\n(function addDecorator() {\r\n  function searchExpressions() {\r\n    if (this.data.d.x) {\r\n      this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);\r\n      this.addEffect(this.getExpressionValue.bind(this));\r\n      return true;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  TextProperty.prototype.getExpressionValue = function (currentValue, text) {\r\n    var newValue = this.calculateExpression(text);\r\n    if (currentValue.t !== newValue) {\r\n      var newData = {};\r\n      this.copyData(newData, currentValue);\r\n      newData.t = newValue.toString();\r\n      newData.__complete = false;\r\n      return newData;\r\n    }\r\n    return currentValue;\r\n  };\r\n\r\n  TextProperty.prototype.searchProperty = function () {\r\n    var isKeyframed = this.searchKeyframes();\r\n    var hasExpressions = this.searchExpressions();\r\n    this.kf = isKeyframed || hasExpressions;\r\n    return this.kf;\r\n  };\r\n\r\n  TextProperty.prototype.searchExpressions = searchExpressions;\r\n}());\r\n\r\n/* global propertyGroupFactory, PropertyInterface */\r\n/* exported ShapePathInterface */\r\n\r\nvar ShapePathInterface = (\r\n\r\n  function () {\r\n    return function pathInterfaceFactory(shape, view, propertyGroup) {\r\n      var prop = view.sh;\r\n\r\n      function interfaceFunction(val) {\r\n        if (val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2) {\r\n          return interfaceFunction.path;\r\n        }\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n      prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\r\n      Object.defineProperties(interfaceFunction, {\r\n        path: {\r\n          get: function () {\r\n            if (prop.k) {\r\n              prop.getValue();\r\n            }\r\n            return prop;\r\n          },\r\n        },\r\n        shape: {\r\n          get: function () {\r\n            if (prop.k) {\r\n              prop.getValue();\r\n            }\r\n            return prop;\r\n          },\r\n        },\r\n        _name: { value: shape.nm },\r\n        ix: { value: shape.ix },\r\n        propertyIndex: { value: shape.ix },\r\n        mn: { value: shape.mn },\r\n        propertyGroup: { value: propertyGroup },\r\n      });\r\n      return interfaceFunction;\r\n    };\r\n  }()\r\n);\r\n\r\n/* exported propertyGroupFactory */\r\n\r\nvar propertyGroupFactory = (function () {\r\n  return function (interfaceFunction, parentPropertyGroup) {\r\n    return function (val) {\r\n      val = val === undefined ? 1 : val;\r\n      if (val <= 0) {\r\n        return interfaceFunction;\r\n      }\r\n      return parentPropertyGroup(val - 1);\r\n    };\r\n  };\r\n}());\r\n\r\n/* exported PropertyInterface */\r\n\r\nvar PropertyInterface = (function () {\r\n  return function (propertyName, propertyGroup) {\r\n    var interfaceFunction = {\r\n      _name: propertyName,\r\n    };\r\n\r\n    function _propertyGroup(val) {\r\n      val = val === undefined ? 1 : val;\r\n      if (val <= 0) {\r\n        return interfaceFunction;\r\n      }\r\n      return propertyGroup(val - 1);\r\n    }\r\n\r\n    return _propertyGroup;\r\n  };\r\n}());\r\n\r\n/* global ExpressionPropertyInterface, PropertyInterface, propertyGroupFactory, ShapePathInterface */\r\n/* exported ShapeExpressionInterface */\r\n\r\nvar ShapeExpressionInterface = (function () {\r\n  function iterateElements(shapes, view, propertyGroup) {\r\n    var arr = [];\r\n    var i;\r\n    var len = shapes ? shapes.length : 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (shapes[i].ty === 'gr') {\r\n        arr.push(groupInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'fl') {\r\n        arr.push(fillInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'st') {\r\n        arr.push(strokeInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'tm') {\r\n        arr.push(trimInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'tr') {\r\n        // arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n      } else if (shapes[i].ty === 'el') {\r\n        arr.push(ellipseInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'sr') {\r\n        arr.push(starInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'sh') {\r\n        arr.push(ShapePathInterface(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'rc') {\r\n        arr.push(rectInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'rd') {\r\n        arr.push(roundedInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'rp') {\r\n        arr.push(repeaterInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'gf') {\r\n        arr.push(gradientFillInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else {\r\n        arr.push(defaultInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      }\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function contentsInterfaceFactory(shape, view, propertyGroup) {\r\n    var interfaces;\r\n    var interfaceFunction = function _interfaceFunction(value) {\r\n      var i = 0;\r\n      var len = interfaces.length;\r\n      while (i < len) {\r\n        if (interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value) {\r\n          return interfaces[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      if (typeof value === 'number') {\r\n        return interfaces[value - 1];\r\n      }\r\n      return null;\r\n    };\r\n\r\n    interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\r\n    interfaceFunction.numProperties = interfaces.length;\r\n    var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\r\n    interfaceFunction.transform = transformInterface;\r\n    interfaceFunction.propertyIndex = shape.cix;\r\n    interfaceFunction._name = shape.nm;\r\n\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function groupInterfaceFactory(shape, view, propertyGroup) {\r\n    var interfaceFunction = function _interfaceFunction(value) {\r\n      switch (value) {\r\n        case 'ADBE Vectors Group':\r\n        case 'Contents':\r\n        case 2:\r\n          return interfaceFunction.content;\r\n          // Not necessary for now. Keeping them here in case a new case appears\r\n          // case 'ADBE Vector Transform Group':\r\n          // case 3:\r\n        default:\r\n          return interfaceFunction.transform;\r\n      }\r\n    };\r\n    interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var content = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);\r\n    var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\r\n    interfaceFunction.content = content;\r\n    interfaceFunction.transform = transformInterface;\r\n    Object.defineProperty(interfaceFunction, '_name', {\r\n      get: function () {\r\n        return shape.nm;\r\n      },\r\n    });\r\n    // interfaceFunction.content = interfaceFunction;\r\n    interfaceFunction.numProperties = shape.np;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    interfaceFunction.nm = shape.nm;\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function fillInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(val) {\r\n      if (val === 'Color' || val === 'color') {\r\n        return interfaceFunction.color;\r\n      } if (val === 'Opacity' || val === 'opacity') {\r\n        return interfaceFunction.opacity;\r\n      }\r\n      return null;\r\n    }\r\n    Object.defineProperties(interfaceFunction, {\r\n      color: {\r\n        get: ExpressionPropertyInterface(view.c),\r\n      },\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      _name: { value: shape.nm },\r\n      mn: { value: shape.mn },\r\n    });\r\n\r\n    view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function gradientFillInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(val) {\r\n      if (val === 'Start Point' || val === 'start point') {\r\n        return interfaceFunction.startPoint;\r\n      }\r\n      if (val === 'End Point' || val === 'end point') {\r\n        return interfaceFunction.endPoint;\r\n      }\r\n      if (val === 'Opacity' || val === 'opacity') {\r\n        return interfaceFunction.opacity;\r\n      }\r\n      return null;\r\n    }\r\n    Object.defineProperties(interfaceFunction, {\r\n      startPoint: {\r\n        get: ExpressionPropertyInterface(view.s),\r\n      },\r\n      endPoint: {\r\n        get: ExpressionPropertyInterface(view.e),\r\n      },\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      type: {\r\n        get: function () {\r\n          return 'a';\r\n        },\r\n      },\r\n      _name: { value: shape.nm },\r\n      mn: { value: shape.mn },\r\n    });\r\n\r\n    view.s.setGroupProperty(PropertyInterface('Start Point', propertyGroup));\r\n    view.e.setGroupProperty(PropertyInterface('End Point', propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\r\n    return interfaceFunction;\r\n  }\r\n  function defaultInterfaceFactory() {\r\n    function interfaceFunction() {\r\n      return null;\r\n    }\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function strokeInterfaceFactory(shape, view, propertyGroup) {\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\r\n    function addPropertyToDashOb(i) {\r\n      Object.defineProperty(dashOb, shape.d[i].nm, {\r\n        get: ExpressionPropertyInterface(view.d.dataProps[i].p),\r\n      });\r\n    }\r\n    var i;\r\n    var len = shape.d ? shape.d.length : 0;\r\n    var dashOb = {};\r\n    for (i = 0; i < len; i += 1) {\r\n      addPropertyToDashOb(i);\r\n      view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\r\n    }\r\n\r\n    function interfaceFunction(val) {\r\n      if (val === 'Color' || val === 'color') {\r\n        return interfaceFunction.color;\r\n      } if (val === 'Opacity' || val === 'opacity') {\r\n        return interfaceFunction.opacity;\r\n      } if (val === 'Stroke Width' || val === 'stroke width') {\r\n        return interfaceFunction.strokeWidth;\r\n      }\r\n      return null;\r\n    }\r\n    Object.defineProperties(interfaceFunction, {\r\n      color: {\r\n        get: ExpressionPropertyInterface(view.c),\r\n      },\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      strokeWidth: {\r\n        get: ExpressionPropertyInterface(view.w),\r\n      },\r\n      dash: {\r\n        get: function () {\r\n          return dashOb;\r\n        },\r\n      },\r\n      _name: { value: shape.nm },\r\n      mn: { value: shape.mn },\r\n    });\r\n\r\n    view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n    view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function trimInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(val) {\r\n      if (val === shape.e.ix || val === 'End' || val === 'end') {\r\n        return interfaceFunction.end;\r\n      }\r\n      if (val === shape.s.ix) {\r\n        return interfaceFunction.start;\r\n      }\r\n      if (val === shape.o.ix) {\r\n        return interfaceFunction.offset;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n\r\n    view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\r\n    view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    interfaceFunction.propertyGroup = propertyGroup;\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      start: {\r\n        get: ExpressionPropertyInterface(view.s),\r\n      },\r\n      end: {\r\n        get: ExpressionPropertyInterface(view.e),\r\n      },\r\n      offset: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function transformInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.a.ix === value || value === 'Anchor Point') {\r\n        return interfaceFunction.anchorPoint;\r\n      }\r\n      if (shape.o.ix === value || value === 'Opacity') {\r\n        return interfaceFunction.opacity;\r\n      }\r\n      if (shape.p.ix === value || value === 'Position') {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation') {\r\n        return interfaceFunction.rotation;\r\n      }\r\n      if (shape.s.ix === value || value === 'Scale') {\r\n        return interfaceFunction.scale;\r\n      }\r\n      if ((shape.sk && shape.sk.ix === value) || value === 'Skew') {\r\n        return interfaceFunction.skew;\r\n      }\r\n      if ((shape.sa && shape.sa.ix === value) || value === 'Skew Axis') {\r\n        return interfaceFunction.skewAxis;\r\n      }\r\n      return null;\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n    view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n    view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\r\n    view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\r\n    view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n    if (view.transform.mProps.sk) {\r\n      view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\r\n      view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\r\n    }\r\n    view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n    Object.defineProperties(interfaceFunction, {\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.o),\r\n      },\r\n      position: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.p),\r\n      },\r\n      anchorPoint: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.a),\r\n      },\r\n      scale: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.s),\r\n      },\r\n      rotation: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.r),\r\n      },\r\n      skew: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.sk),\r\n      },\r\n      skewAxis: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.sa),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.ty = 'tr';\r\n    interfaceFunction.mn = shape.mn;\r\n    interfaceFunction.propertyGroup = propertyGroup;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function ellipseInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.p.ix === value) {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.s.ix === value) {\r\n        return interfaceFunction.size;\r\n      }\r\n      return null;\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n    prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      size: {\r\n        get: ExpressionPropertyInterface(prop.s),\r\n      },\r\n      position: {\r\n        get: ExpressionPropertyInterface(prop.p),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function starInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.p.ix === value) {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.r.ix === value) {\r\n        return interfaceFunction.rotation;\r\n      }\r\n      if (shape.pt.ix === value) {\r\n        return interfaceFunction.points;\r\n      }\r\n      if (shape.or.ix === value || value === 'ADBE Vector Star Outer Radius') {\r\n        return interfaceFunction.outerRadius;\r\n      }\r\n      if (shape.os.ix === value) {\r\n        return interfaceFunction.outerRoundness;\r\n      }\r\n      if (shape.ir && (shape.ir.ix === value || value === 'ADBE Vector Star Inner Radius')) {\r\n        return interfaceFunction.innerRadius;\r\n      }\r\n      if (shape.is && shape.is.ix === value) {\r\n        return interfaceFunction.innerRoundness;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\r\n    prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\r\n    prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\r\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n    prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n    if (shape.ir) {\r\n      prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\r\n      prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\r\n    }\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      position: {\r\n        get: ExpressionPropertyInterface(prop.p),\r\n      },\r\n      rotation: {\r\n        get: ExpressionPropertyInterface(prop.r),\r\n      },\r\n      points: {\r\n        get: ExpressionPropertyInterface(prop.pt),\r\n      },\r\n      outerRadius: {\r\n        get: ExpressionPropertyInterface(prop.or),\r\n      },\r\n      outerRoundness: {\r\n        get: ExpressionPropertyInterface(prop.os),\r\n      },\r\n      innerRadius: {\r\n        get: ExpressionPropertyInterface(prop.ir),\r\n      },\r\n      innerRoundness: {\r\n        get: ExpressionPropertyInterface(prop.is),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function rectInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.p.ix === value) {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.r.ix === value) {\r\n        return interfaceFunction.roundness;\r\n      }\r\n      if (shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size') {\r\n        return interfaceFunction.size;\r\n      }\r\n      return null;\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n    prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n    prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      position: {\r\n        get: ExpressionPropertyInterface(prop.p),\r\n      },\r\n      roundness: {\r\n        get: ExpressionPropertyInterface(prop.r),\r\n      },\r\n      size: {\r\n        get: ExpressionPropertyInterface(prop.s),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function roundedInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.r.ix === value || value === 'Round Corners 1') {\r\n        return interfaceFunction.radius;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var prop = view;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      radius: {\r\n        get: ExpressionPropertyInterface(prop.rd),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function repeaterInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.c.ix === value || value === 'Copies') {\r\n        return interfaceFunction.copies;\r\n      } if (shape.o.ix === value || value === 'Offset') {\r\n        return interfaceFunction.offset;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var prop = view;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\r\n    prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n    Object.defineProperties(interfaceFunction, {\r\n      copies: {\r\n        get: ExpressionPropertyInterface(prop.c),\r\n      },\r\n      offset: {\r\n        get: ExpressionPropertyInterface(prop.o),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  return function (shapes, view, propertyGroup) {\r\n    var interfaces;\r\n    function _interfaceFunction(value) {\r\n      if (typeof value === 'number') {\r\n        value = value === undefined ? 1 : value;\r\n        if (value === 0) {\r\n          return propertyGroup;\r\n        }\r\n        return interfaces[value - 1];\r\n      }\r\n      var i = 0;\r\n      var len = interfaces.length;\r\n      while (i < len) {\r\n        if (interfaces[i]._name === value) {\r\n          return interfaces[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n    }\r\n    function parentGroupWrapper() {\r\n      return propertyGroup;\r\n    }\r\n    _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);\r\n    interfaces = iterateElements(shapes, view, _interfaceFunction.propertyGroup);\r\n    _interfaceFunction.numProperties = interfaces.length;\r\n    _interfaceFunction._name = 'Contents';\r\n    return _interfaceFunction;\r\n  };\r\n}());\r\n\r\n/* exported TextExpressionInterface */\r\n\r\nvar TextExpressionInterface = (function () {\r\n  return function (elem) {\r\n    var _prevValue;\r\n    var _sourceText;\r\n    function _thisLayerFunction(name) {\r\n      switch (name) {\r\n        case 'ADBE Text Document':\r\n          return _thisLayerFunction.sourceText;\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n    Object.defineProperty(_thisLayerFunction, 'sourceText', {\r\n      get: function () {\r\n        elem.textProperty.getValue();\r\n        var stringValue = elem.textProperty.currentData.t;\r\n        if (stringValue !== _prevValue) {\r\n          elem.textProperty.currentData.t = _prevValue;\r\n          _sourceText = new String(stringValue); // eslint-disable-line no-new-wrappers\r\n          // If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\r\n          _sourceText.value = stringValue || new String(stringValue); // eslint-disable-line no-new-wrappers\r\n        }\r\n        return _sourceText;\r\n      },\r\n    });\r\n    return _thisLayerFunction;\r\n  };\r\n}());\r\n\r\n/* global Matrix, MaskManagerInterface, TransformExpressionInterface, getDescriptor */\r\n/* exported LayerExpressionInterface */\r\n\r\nvar LayerExpressionInterface = (function () {\r\n  function getMatrix(time) {\r\n    var toWorldMat = new Matrix();\r\n    if (time !== undefined) {\r\n      var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time);\r\n      propMatrix.clone(toWorldMat);\r\n    } else {\r\n      var transformMat = this._elem.finalTransform.mProp;\r\n      transformMat.applyToMatrix(toWorldMat);\r\n    }\r\n    return toWorldMat;\r\n  }\r\n\r\n  function toWorldVec(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    toWorldMat.props[12] = 0;\r\n    toWorldMat.props[13] = 0;\r\n    toWorldMat.props[14] = 0;\r\n    return this.applyPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function toWorld(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    return this.applyPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function fromWorldVec(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    toWorldMat.props[12] = 0;\r\n    toWorldMat.props[13] = 0;\r\n    toWorldMat.props[14] = 0;\r\n    return this.invertPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function fromWorld(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    return this.invertPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function applyPoint(matrix, arr) {\r\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n      var i;\r\n      var len = this._elem.hierarchy.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\r\n      }\r\n    }\r\n    return matrix.applyToPointArray(arr[0], arr[1], arr[2] || 0);\r\n  }\r\n\r\n  function invertPoint(matrix, arr) {\r\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n      var i;\r\n      var len = this._elem.hierarchy.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\r\n      }\r\n    }\r\n    return matrix.inversePoint(arr);\r\n  }\r\n\r\n  function fromComp(arr) {\r\n    var toWorldMat = new Matrix();\r\n    toWorldMat.reset();\r\n    this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\r\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n      var i;\r\n      var len = this._elem.hierarchy.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n      }\r\n      return toWorldMat.inversePoint(arr);\r\n    }\r\n    return toWorldMat.inversePoint(arr);\r\n  }\r\n\r\n  function sampleImage() {\r\n    return [1, 1, 1, 1];\r\n  }\r\n\r\n  return function (elem) {\r\n    var transformInterface;\r\n\r\n    function _registerMaskInterface(maskManager) {\r\n      _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\r\n    }\r\n    function _registerEffectsInterface(effects) {\r\n      _thisLayerFunction.effect = effects;\r\n    }\r\n\r\n    function _thisLayerFunction(name) {\r\n      switch (name) {\r\n        case 'ADBE Root Vectors Group':\r\n        case 'Contents':\r\n        case 2:\r\n          return _thisLayerFunction.shapeInterface;\r\n        case 1:\r\n        case 6:\r\n        case 'Transform':\r\n        case 'transform':\r\n        case 'ADBE Transform Group':\r\n          return transformInterface;\r\n        case 4:\r\n        case 'ADBE Effect Parade':\r\n        case 'effects':\r\n        case 'Effects':\r\n          return _thisLayerFunction.effect;\r\n        case 'ADBE Text Properties':\r\n          return _thisLayerFunction.textInterface;\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n    _thisLayerFunction.getMatrix = getMatrix;\r\n    _thisLayerFunction.invertPoint = invertPoint;\r\n    _thisLayerFunction.applyPoint = applyPoint;\r\n    _thisLayerFunction.toWorld = toWorld;\r\n    _thisLayerFunction.toWorldVec = toWorldVec;\r\n    _thisLayerFunction.fromWorld = fromWorld;\r\n    _thisLayerFunction.fromWorldVec = fromWorldVec;\r\n    _thisLayerFunction.toComp = toWorld;\r\n    _thisLayerFunction.fromComp = fromComp;\r\n    _thisLayerFunction.sampleImage = sampleImage;\r\n    _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\r\n    _thisLayerFunction._elem = elem;\r\n    transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\r\n    var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\r\n    Object.defineProperties(_thisLayerFunction, {\r\n      hasParent: {\r\n        get: function () {\r\n          return elem.hierarchy.length;\r\n        },\r\n      },\r\n      parent: {\r\n        get: function () {\r\n          return elem.hierarchy[0].layerInterface;\r\n        },\r\n      },\r\n      rotation: getDescriptor(transformInterface, 'rotation'),\r\n      scale: getDescriptor(transformInterface, 'scale'),\r\n      position: getDescriptor(transformInterface, 'position'),\r\n      opacity: getDescriptor(transformInterface, 'opacity'),\r\n      anchorPoint: anchorPointDescriptor,\r\n      anchor_point: anchorPointDescriptor,\r\n      transform: {\r\n        get: function () {\r\n          return transformInterface;\r\n        },\r\n      },\r\n      active: {\r\n        get: function () {\r\n          return elem.isInRange;\r\n        },\r\n      },\r\n    });\r\n\r\n    _thisLayerFunction.startTime = elem.data.st;\r\n    _thisLayerFunction.index = elem.data.ind;\r\n    _thisLayerFunction.source = elem.data.refId;\r\n    _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\r\n    _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\r\n    _thisLayerFunction.inPoint = elem.data.ip / elem.comp.globalData.frameRate;\r\n    _thisLayerFunction.outPoint = elem.data.op / elem.comp.globalData.frameRate;\r\n    _thisLayerFunction._name = elem.data.nm;\r\n\r\n    _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\r\n    _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\r\n    return _thisLayerFunction;\r\n  };\r\n}());\r\n\r\n/* global */\r\n/* exported FootageInterface */\r\n\r\nvar FootageInterface = (function () {\r\n  var outlineInterfaceFactory = (function (elem) {\r\n    var currentPropertyName = '';\r\n    var currentProperty = elem.getFootageData();\r\n    function init() {\r\n      currentPropertyName = '';\r\n      currentProperty = elem.getFootageData();\r\n      return searchProperty;\r\n    }\r\n    function searchProperty(value) {\r\n      if (currentProperty[value]) {\r\n        currentPropertyName = value;\r\n        currentProperty = currentProperty[value];\r\n        if (typeof currentProperty === 'object') {\r\n          return searchProperty;\r\n        }\r\n        return currentProperty;\r\n      }\r\n      var propertyNameIndex = value.indexOf(currentPropertyName);\r\n      if (propertyNameIndex !== -1) {\r\n        var index = parseInt(value.substr(propertyNameIndex + currentPropertyName.length), 10);\r\n        currentProperty = currentProperty[index];\r\n        if (typeof currentProperty === 'object') {\r\n          return searchProperty;\r\n        }\r\n        return currentProperty;\r\n      }\r\n      return '';\r\n    }\r\n    return init;\r\n  });\r\n\r\n  var dataInterfaceFactory = function (elem) {\r\n    function interfaceFunction(value) {\r\n      if (value === 'Outline') {\r\n        return interfaceFunction.outlineInterface();\r\n      }\r\n      return null;\r\n    }\r\n\r\n    interfaceFunction._name = 'Outline';\r\n    interfaceFunction.outlineInterface = outlineInterfaceFactory(elem);\r\n    return interfaceFunction;\r\n  };\r\n\r\n  return function (elem) {\r\n    function _interfaceFunction(value) {\r\n      if (value === 'Data') {\r\n        return _interfaceFunction.dataInterface;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    _interfaceFunction._name = 'Data';\r\n    _interfaceFunction.dataInterface = dataInterfaceFactory(elem);\r\n    return _interfaceFunction;\r\n  };\r\n}());\r\n\r\n/* exported CompExpressionInterface */\r\n\r\nvar CompExpressionInterface = (function () {\r\n  return function (comp) {\r\n    function _thisLayerFunction(name) {\r\n      var i = 0;\r\n      var len = comp.layers.length;\r\n      while (i < len) {\r\n        if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\r\n          return comp.elements[i].layerInterface;\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n      // return {active:false};\r\n    }\r\n    Object.defineProperty(_thisLayerFunction, '_name', { value: comp.data.nm });\r\n    _thisLayerFunction.layer = _thisLayerFunction;\r\n    _thisLayerFunction.pixelAspect = 1;\r\n    _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\r\n    _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\r\n    _thisLayerFunction.pixelAspect = 1;\r\n    _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\r\n    _thisLayerFunction.displayStartTime = 0;\r\n    _thisLayerFunction.numLayers = comp.layers.length;\r\n    return _thisLayerFunction;\r\n  };\r\n}());\r\n\r\n/* global ExpressionPropertyInterface */\r\n/* exported TransformExpressionInterface */\r\n\r\nvar TransformExpressionInterface = (function () {\r\n  return function (transform) {\r\n    function _thisFunction(name) {\r\n      switch (name) {\r\n        case 'scale':\r\n        case 'Scale':\r\n        case 'ADBE Scale':\r\n        case 6:\r\n          return _thisFunction.scale;\r\n        case 'rotation':\r\n        case 'Rotation':\r\n        case 'ADBE Rotation':\r\n        case 'ADBE Rotate Z':\r\n        case 10:\r\n          return _thisFunction.rotation;\r\n        case 'ADBE Rotate X':\r\n          return _thisFunction.xRotation;\r\n        case 'ADBE Rotate Y':\r\n          return _thisFunction.yRotation;\r\n        case 'position':\r\n        case 'Position':\r\n        case 'ADBE Position':\r\n        case 2:\r\n          return _thisFunction.position;\r\n        case 'ADBE Position_0':\r\n          return _thisFunction.xPosition;\r\n        case 'ADBE Position_1':\r\n          return _thisFunction.yPosition;\r\n        case 'ADBE Position_2':\r\n          return _thisFunction.zPosition;\r\n        case 'anchorPoint':\r\n        case 'AnchorPoint':\r\n        case 'Anchor Point':\r\n        case 'ADBE AnchorPoint':\r\n        case 1:\r\n          return _thisFunction.anchorPoint;\r\n        case 'opacity':\r\n        case 'Opacity':\r\n        case 11:\r\n          return _thisFunction.opacity;\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n    Object.defineProperty(_thisFunction, 'rotation', {\r\n      get: ExpressionPropertyInterface(transform.r || transform.rz),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'zRotation', {\r\n      get: ExpressionPropertyInterface(transform.rz || transform.r),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'xRotation', {\r\n      get: ExpressionPropertyInterface(transform.rx),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'yRotation', {\r\n      get: ExpressionPropertyInterface(transform.ry),\r\n    });\r\n    Object.defineProperty(_thisFunction, 'scale', {\r\n      get: ExpressionPropertyInterface(transform.s),\r\n    });\r\n    var _px;\r\n    var _py;\r\n    var _pz;\r\n    var _transformFactory;\r\n    if (transform.p) {\r\n      _transformFactory = ExpressionPropertyInterface(transform.p);\r\n    } else {\r\n      _px = ExpressionPropertyInterface(transform.px);\r\n      _py = ExpressionPropertyInterface(transform.py);\r\n      if (transform.pz) {\r\n        _pz = ExpressionPropertyInterface(transform.pz);\r\n      }\r\n    }\r\n    Object.defineProperty(_thisFunction, 'position', {\r\n      get: function () {\r\n        if (transform.p) {\r\n          return _transformFactory();\r\n        }\r\n        return [\r\n          _px(),\r\n          _py(),\r\n          _pz ? _pz() : 0];\r\n      },\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'xPosition', {\r\n      get: ExpressionPropertyInterface(transform.px),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'yPosition', {\r\n      get: ExpressionPropertyInterface(transform.py),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'zPosition', {\r\n      get: ExpressionPropertyInterface(transform.pz),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'anchorPoint', {\r\n      get: ExpressionPropertyInterface(transform.a),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'opacity', {\r\n      get: ExpressionPropertyInterface(transform.o),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'skew', {\r\n      get: ExpressionPropertyInterface(transform.sk),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'skewAxis', {\r\n      get: ExpressionPropertyInterface(transform.sa),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'orientation', {\r\n      get: ExpressionPropertyInterface(transform.or),\r\n    });\r\n\r\n    return _thisFunction;\r\n  };\r\n}());\r\n\r\n/* exported ProjectInterface */\r\n\r\nvar ProjectInterface = (function () {\r\n  function registerComposition(comp) {\r\n    this.compositions.push(comp);\r\n  }\r\n\r\n  return function () {\r\n    function _thisProjectFunction(name) {\r\n      var i = 0;\r\n      var len = this.compositions.length;\r\n      while (i < len) {\r\n        if (this.compositions[i].data && this.compositions[i].data.nm === name) {\r\n          if (this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\r\n            this.compositions[i].prepareFrame(this.currentFrame);\r\n          }\r\n          return this.compositions[i].compInterface;\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    _thisProjectFunction.compositions = [];\r\n    _thisProjectFunction.currentFrame = 0;\r\n\r\n    _thisProjectFunction.registerComposition = registerComposition;\r\n\r\n    return _thisProjectFunction;\r\n  };\r\n}());\r\n\r\n/* global propertyGroupFactory, ExpressionPropertyInterface, PropertyInterface */\r\n/* exported EffectsExpressionInterface */\r\n\r\nvar EffectsExpressionInterface = (function () {\r\n  var ob = {\r\n    createEffectsInterface: createEffectsInterface,\r\n  };\r\n\r\n  function createEffectsInterface(elem, propertyGroup) {\r\n    if (elem.effectsManager) {\r\n      var effectElements = [];\r\n      var effectsData = elem.data.ef;\r\n      var i;\r\n      var len = elem.effectsManager.effectElements.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        effectElements.push(createGroupInterface(effectsData[i], elem.effectsManager.effectElements[i], propertyGroup, elem));\r\n      }\r\n\r\n      var effects = elem.data.ef || [];\r\n      var groupInterface = function (name) {\r\n        i = 0;\r\n        len = effects.length;\r\n        while (i < len) {\r\n          if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\r\n            return effectElements[i];\r\n          }\r\n          i += 1;\r\n        }\r\n        return null;\r\n      };\r\n      Object.defineProperty(groupInterface, 'numProperties', {\r\n        get: function () {\r\n          return effects.length;\r\n        },\r\n      });\r\n      return groupInterface;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function createGroupInterface(data, elements, propertyGroup, elem) {\r\n    function groupInterface(name) {\r\n      var effects = data.ef;\r\n      var i = 0;\r\n      var len = effects.length;\r\n      while (i < len) {\r\n        if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\r\n          if (effects[i].ty === 5) {\r\n            return effectElements[i];\r\n          }\r\n          return effectElements[i]();\r\n        }\r\n        i += 1;\r\n      }\r\n      throw new Error();\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\r\n\r\n    var effectElements = [];\r\n    var i;\r\n    var len = data.ef.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (data.ef[i].ty === 5) {\r\n        effectElements.push(createGroupInterface(data.ef[i], elements.effectElements[i], elements.effectElements[i].propertyGroup, elem));\r\n      } else {\r\n        effectElements.push(createValueInterface(elements.effectElements[i], data.ef[i].ty, elem, _propertyGroup));\r\n      }\r\n    }\r\n\r\n    if (data.mn === 'ADBE Color Control') {\r\n      Object.defineProperty(groupInterface, 'color', {\r\n        get: function () {\r\n          return effectElements[0]();\r\n        },\r\n      });\r\n    }\r\n    Object.defineProperties(groupInterface, {\r\n      numProperties: {\r\n        get: function () {\r\n          return data.np;\r\n        },\r\n      },\r\n      _name: { value: data.nm },\r\n      propertyGroup: { value: _propertyGroup },\r\n    });\r\n    groupInterface.enabled = data.en !== 0;\r\n    groupInterface.active = groupInterface.enabled;\r\n    return groupInterface;\r\n  }\r\n\r\n  function createValueInterface(element, type, elem, propertyGroup) {\r\n    var expressionProperty = ExpressionPropertyInterface(element.p);\r\n    function interfaceFunction() {\r\n      if (type === 10) {\r\n        return elem.comp.compInterface(element.p.v);\r\n      }\r\n      return expressionProperty();\r\n    }\r\n\r\n    if (element.p.setGroupProperty) {\r\n      element.p.setGroupProperty(PropertyInterface('', propertyGroup));\r\n    }\r\n\r\n    return interfaceFunction;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global createSizedArray */\r\n/* exported MaskManagerInterface */\r\n\r\nvar MaskManagerInterface = (function () {\r\n  function MaskInterface(mask, data) {\r\n    this._mask = mask;\r\n    this._data = data;\r\n  }\r\n  Object.defineProperty(MaskInterface.prototype, 'maskPath', {\r\n    get: function () {\r\n      if (this._mask.prop.k) {\r\n        this._mask.prop.getValue();\r\n      }\r\n      return this._mask.prop;\r\n    },\r\n  });\r\n  Object.defineProperty(MaskInterface.prototype, 'maskOpacity', {\r\n    get: function () {\r\n      if (this._mask.op.k) {\r\n        this._mask.op.getValue();\r\n      }\r\n      return this._mask.op.v * 100;\r\n    },\r\n  });\r\n\r\n  var MaskManager = function (maskManager) {\r\n    var _masksInterfaces = createSizedArray(maskManager.viewData.length);\r\n    var i;\r\n    var len = maskManager.viewData.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      _masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\r\n    }\r\n\r\n    var maskFunction = function (name) {\r\n      i = 0;\r\n      while (i < len) {\r\n        if (maskManager.masksProperties[i].nm === name) {\r\n          return _masksInterfaces[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n    };\r\n    return maskFunction;\r\n  };\r\n  return MaskManager;\r\n}());\r\n\r\n/* global createTypedArray */\r\n/* exported ExpressionPropertyInterface */\r\n\r\nvar ExpressionPropertyInterface = (function () {\r\n  var defaultUnidimensionalValue = { pv: 0, v: 0, mult: 1 };\r\n  var defaultMultidimensionalValue = { pv: [0, 0, 0], v: [0, 0, 0], mult: 1 };\r\n\r\n  function completeProperty(expressionValue, property, type) {\r\n    Object.defineProperty(expressionValue, 'velocity', {\r\n      get: function () {\r\n        return property.getVelocityAtTime(property.comp.currentFrame);\r\n      },\r\n    });\r\n    expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\r\n    expressionValue.key = function (pos) {\r\n      if (!expressionValue.numKeys) {\r\n        return 0;\r\n      }\r\n      var value = '';\r\n      if ('s' in property.keyframes[pos - 1]) {\r\n        value = property.keyframes[pos - 1].s;\r\n      } else if ('e' in property.keyframes[pos - 2]) {\r\n        value = property.keyframes[pos - 2].e;\r\n      } else {\r\n        value = property.keyframes[pos - 2].s;\r\n      }\r\n      var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value); // eslint-disable-line no-new-wrappers\r\n      valueProp.time = property.keyframes[pos - 1].t / property.elem.comp.globalData.frameRate;\r\n      valueProp.value = type === 'unidimensional' ? value[0] : value;\r\n      return valueProp;\r\n    };\r\n    expressionValue.valueAtTime = property.getValueAtTime;\r\n    expressionValue.speedAtTime = property.getSpeedAtTime;\r\n    expressionValue.velocityAtTime = property.getVelocityAtTime;\r\n    expressionValue.propertyGroup = property.propertyGroup;\r\n  }\r\n\r\n  function UnidimensionalPropertyInterface(property) {\r\n    if (!property || !('pv' in property)) {\r\n      property = defaultUnidimensionalValue;\r\n    }\r\n    var mult = 1 / property.mult;\r\n    var val = property.pv * mult;\r\n    var expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\r\n    expressionValue.value = val;\r\n    completeProperty(expressionValue, property, 'unidimensional');\r\n\r\n    return function () {\r\n      if (property.k) {\r\n        property.getValue();\r\n      }\r\n      val = property.v * mult;\r\n      if (expressionValue.value !== val) {\r\n        expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\r\n        expressionValue.value = val;\r\n        completeProperty(expressionValue, property, 'unidimensional');\r\n      }\r\n      return expressionValue;\r\n    };\r\n  }\r\n\r\n  function MultidimensionalPropertyInterface(property) {\r\n    if (!property || !('pv' in property)) {\r\n      property = defaultMultidimensionalValue;\r\n    }\r\n    var mult = 1 / property.mult;\r\n    var len = (property.data && property.data.l) || property.pv.length;\r\n    var expressionValue = createTypedArray('float32', len);\r\n    var arrValue = createTypedArray('float32', len);\r\n    expressionValue.value = arrValue;\r\n    completeProperty(expressionValue, property, 'multidimensional');\r\n\r\n    return function () {\r\n      if (property.k) {\r\n        property.getValue();\r\n      }\r\n      for (var i = 0; i < len; i += 1) {\r\n        arrValue[i] = property.v[i] * mult;\r\n        expressionValue[i] = arrValue[i];\r\n      }\r\n      return expressionValue;\r\n    };\r\n  }\r\n\r\n  // TODO: try to avoid using this getter\r\n  function defaultGetter() {\r\n    return defaultUnidimensionalValue;\r\n  }\r\n\r\n  return function (property) {\r\n    if (!property) {\r\n      return defaultGetter;\r\n    } if (property.propType === 'unidimensional') {\r\n      return UnidimensionalPropertyInterface(property);\r\n    }\r\n    return MultidimensionalPropertyInterface(property);\r\n  };\r\n}());\r\n\r\n/* global expressionHelpers, TextSelectorProp, ExpressionManager */\r\n/* exported TextExpressionSelectorPropFactory */\r\n\r\nvar TextExpressionSelectorPropFactory = (function () { // eslint-disable-line no-unused-vars\r\n  function getValueProxy(index, total) {\r\n    this.textIndex = index + 1;\r\n    this.textTotal = total;\r\n    this.v = this.getValue() * this.mult;\r\n    return this.v;\r\n  }\r\n\r\n  return function (elem, data) {\r\n    this.pv = 1;\r\n    this.comp = elem.comp;\r\n    this.elem = elem;\r\n    this.mult = 0.01;\r\n    this.propType = 'textSelector';\r\n    this.textTotal = data.totalChars;\r\n    this.selectorValue = 100;\r\n    this.lastValue = [1, 1, 1];\r\n    this.k = true;\r\n    this.x = true;\r\n    this.getValue = ExpressionManager.initiateExpression.bind(this)(elem, data, this);\r\n    this.getMult = getValueProxy;\r\n    this.getVelocityAtTime = expressionHelpers.getVelocityAtTime;\r\n    if (this.kf) {\r\n      this.getValueAtTime = expressionHelpers.getValueAtTime.bind(this);\r\n    } else {\r\n      this.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(this);\r\n    }\r\n    this.setGroupProperty = expressionHelpers.setGroupProperty;\r\n  };\r\n}());\r\n\r\nvar propertyGetTextProp = TextSelectorProp.getTextSelectorProp;\r\nTextSelectorProp.getTextSelectorProp = function (elem, data, arr) {\r\n  if (data.t === 1) {\r\n    return new TextExpressionSelectorPropFactory(elem, data, arr); // eslint-disable-line no-undef\r\n  }\r\n  return propertyGetTextProp(elem, data, arr);\r\n};\r\n\r\n/* global PropertyFactory */\r\n/* exported SliderEffect, AngleEffect, ColorEffect, PointEffect, LayerIndexEffect, MaskIndexEffect, CheckboxEffect, NoValueEffect */\r\n\r\nfunction SliderEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction AngleEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction ColorEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\r\n}\r\nfunction PointEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\r\n}\r\nfunction LayerIndexEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction MaskIndexEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction CheckboxEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction NoValueEffect() {\r\n  this.p = {};\r\n}\r\n\r\n/* global extendPrototype, SliderEffect, AngleEffect, ColorEffect, PointEffect, CheckboxEffect, LayerIndexEffect,\r\nMaskIndexEffect, NoValueEffect, DynamicPropertyContainer */\r\n\r\nfunction EffectsManager(data, element) {\r\n  var effects = data.ef || [];\r\n  this.effectElements = [];\r\n  var i;\r\n  var len = effects.length;\r\n  var effectItem;\r\n  for (i = 0; i < len; i += 1) {\r\n    effectItem = new GroupEffect(effects[i], element);\r\n    this.effectElements.push(effectItem);\r\n  }\r\n}\r\n\r\nfunction GroupEffect(data, element) {\r\n  this.init(data, element);\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], GroupEffect);\r\n\r\nGroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\r\n\r\nGroupEffect.prototype.init = function (data, element) {\r\n  this.data = data;\r\n  this.effectElements = [];\r\n  this.initDynamicPropertyContainer(element);\r\n  var i;\r\n  var len = this.data.ef.length;\r\n  var eff;\r\n  var effects = this.data.ef;\r\n  for (i = 0; i < len; i += 1) {\r\n    eff = null;\r\n    switch (effects[i].ty) {\r\n      case 0:\r\n        eff = new SliderEffect(effects[i], element, this);\r\n        break;\r\n      case 1:\r\n        eff = new AngleEffect(effects[i], element, this);\r\n        break;\r\n      case 2:\r\n        eff = new ColorEffect(effects[i], element, this);\r\n        break;\r\n      case 3:\r\n        eff = new PointEffect(effects[i], element, this);\r\n        break;\r\n      case 4:\r\n      case 7:\r\n        eff = new CheckboxEffect(effects[i], element, this);\r\n        break;\r\n      case 10:\r\n        eff = new LayerIndexEffect(effects[i], element, this);\r\n        break;\r\n      case 11:\r\n        eff = new MaskIndexEffect(effects[i], element, this);\r\n        break;\r\n      case 5:\r\n        eff = new EffectsManager(effects[i], element, this);\r\n        break;\r\n        // case 6:\r\n      default:\r\n        eff = new NoValueEffect(effects[i], element, this);\r\n        break;\r\n    }\r\n    if (eff) {\r\n      this.effectElements.push(eff);\r\n    }\r\n  }\r\n};\r\n\r\n\r\nvar lottie = {};\r\n\r\nfunction setLocationHref(href) {\r\n  locationHref = href;\r\n}\r\n\r\nfunction searchAnimations() {\r\n  if (standalone === true) {\r\n    animationManager.searchAnimations(animationData, standalone, renderer);\r\n  } else {\r\n    animationManager.searchAnimations();\r\n  }\r\n}\r\n\r\nfunction setSubframeRendering(flag) {\r\n  subframeEnabled = flag;\r\n}\r\n\r\nfunction setIDPrefix(prefix) {\r\n  idPrefix = prefix;\r\n}\r\n\r\nfunction loadAnimation(params) {\r\n  if (standalone === true) {\r\n    params.animationData = JSON.parse(animationData);\r\n  }\r\n  return animationManager.loadAnimation(params);\r\n}\r\n\r\nfunction setQuality(value) {\r\n  if (typeof value === 'string') {\r\n    switch (value) {\r\n      case 'high':\r\n        defaultCurveSegments = 200;\r\n        break;\r\n      default:\r\n      case 'medium':\r\n        defaultCurveSegments = 50;\r\n        break;\r\n      case 'low':\r\n        defaultCurveSegments = 10;\r\n        break;\r\n    }\r\n  } else if (!isNaN(value) && value > 1) {\r\n    defaultCurveSegments = value;\r\n  }\r\n  if (defaultCurveSegments >= 50) {\r\n    roundValues(false);\r\n  } else {\r\n    roundValues(true);\r\n  }\r\n}\r\n\r\nfunction inBrowser() {\r\n  return typeof navigator !== 'undefined';\r\n}\r\n\r\nfunction installPlugin(type, plugin) {\r\n  if (type === 'expressions') {\r\n    expressionsPlugin = plugin;\r\n  }\r\n}\r\n\r\nfunction getFactory(name) {\r\n  switch (name) {\r\n    case 'propertyFactory':\r\n      return PropertyFactory;\r\n    case 'shapePropertyFactory':\r\n      return ShapePropertyFactory;\r\n    case 'matrix':\r\n      return Matrix;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nlottie.play = animationManager.play;\r\nlottie.pause = animationManager.pause;\r\nlottie.setLocationHref = setLocationHref;\r\nlottie.togglePause = animationManager.togglePause;\r\nlottie.setSpeed = animationManager.setSpeed;\r\nlottie.setDirection = animationManager.setDirection;\r\nlottie.stop = animationManager.stop;\r\nlottie.searchAnimations = searchAnimations;\r\nlottie.registerAnimation = animationManager.registerAnimation;\r\nlottie.loadAnimation = loadAnimation;\r\nlottie.setSubframeRendering = setSubframeRendering;\r\nlottie.resize = animationManager.resize;\r\n// lottie.start = start;\r\nlottie.goToAndStop = animationManager.goToAndStop;\r\nlottie.destroy = animationManager.destroy;\r\nlottie.setQuality = setQuality;\r\nlottie.inBrowser = inBrowser;\r\nlottie.installPlugin = installPlugin;\r\nlottie.freeze = animationManager.freeze;\r\nlottie.unfreeze = animationManager.unfreeze;\r\nlottie.setVolume = animationManager.setVolume;\r\nlottie.mute = animationManager.mute;\r\nlottie.unmute = animationManager.unmute;\r\nlottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\r\nlottie.useWebWorker = function (flag) {\r\n  _useWebWorker = flag;\r\n};\r\nlottie.setIDPrefix = setIDPrefix;\r\nlottie.__getFactory = getFactory;\r\nlottie.version = '5.8.1';\r\n\r\nfunction checkReady() {\r\n  if (document.readyState === 'complete') {\r\n    clearInterval(readyStateCheckInterval);\r\n    searchAnimations();\r\n  }\r\n}\r\n\r\nfunction getQueryVariable(variable) {\r\n  var vars = queryString.split('&');\r\n  for (var i = 0; i < vars.length; i += 1) {\r\n    var pair = vars[i].split('=');\r\n    if (decodeURIComponent(pair[0]) == variable) { // eslint-disable-line eqeqeq\r\n      return decodeURIComponent(pair[1]);\r\n    }\r\n  }\r\n  return null;\r\n}\r\nvar standalone = '__[STANDALONE]__';\r\nvar animationData = '__[ANIMATIONDATA]__';\r\nvar renderer = '';\r\nvar queryString;\r\nif (standalone) {\r\n  var scripts = document.getElementsByTagName('script');\r\n  var index = scripts.length - 1;\r\n  var myScript = scripts[index] || {\r\n    src: '',\r\n  };\r\n  queryString = myScript.src.replace(/^[^\\?]+\\??/, ''); // eslint-disable-line no-useless-escape\r\n  renderer = getQueryVariable('renderer');\r\n}\r\nvar readyStateCheckInterval = setInterval(checkReady, 100);\r\n\nreturn lottie;\n}));","/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\n\nexports.encode = function (obj) {\n  var str = '';\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (str.length) str += '&';\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n    }\n  }\n\n  return str;\n};\n\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\n\nexports.decode = function(qs){\n  var qry = {};\n  var pairs = qs.split('&');\n  for (var i = 0, l = pairs.length; i < l; i++) {\n    var pair = pairs[i].split('=');\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  return qry;\n};\n","/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n\n    return uri;\n};\n\nfunction pathNames(obj, path) {\n    var regx = /\\/{2,9}/g,\n        names = path.replace(regx, \"/\").split(\"/\");\n\n    if (path.substr(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.substr(path.length - 1, 1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n\n    return names;\n}\n\nfunction queryKey(uri, query) {\n    var data = {};\n\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n\n    return data;\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lottieWeb = require('lottie-web');\n\nvar _lottieWeb2 = _interopRequireDefault(_lottieWeb);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Lottie = function (_React$Component) {\n  (0, _inherits3.default)(Lottie, _React$Component);\n\n  function Lottie() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, Lottie);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Lottie.__proto__ || (0, _getPrototypeOf2.default)(Lottie)).call.apply(_ref, [this].concat(args))), _this), _this.handleClickToPause = function () {\n      // The pause() method is for handling pausing by passing a prop isPaused\n      // This method is for handling the ability to pause by clicking on the animation\n      if (_this.anim.isPaused) {\n        _this.anim.play();\n      } else {\n        _this.anim.pause();\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(Lottie, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          options = _props.options,\n          eventListeners = _props.eventListeners;\n      var loop = options.loop,\n          autoplay = options.autoplay,\n          animationData = options.animationData,\n          rendererSettings = options.rendererSettings,\n          segments = options.segments;\n\n\n      this.options = {\n        container: this.el,\n        renderer: 'svg',\n        loop: loop !== false,\n        autoplay: autoplay !== false,\n        segments: segments !== false,\n        animationData: animationData,\n        rendererSettings: rendererSettings\n      };\n\n      this.options = (0, _extends3.default)({}, this.options, options);\n\n      this.anim = _lottieWeb2.default.loadAnimation(this.options);\n      this.registerEvents(eventListeners);\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate(nextProps /* , nextState */) {\n      /* Recreate the animation handle if the data is changed */\n      if (this.options.animationData !== nextProps.options.animationData) {\n        this.deRegisterEvents(this.props.eventListeners);\n        this.destroy();\n        this.options = (0, _extends3.default)({}, this.options, nextProps.options);\n        this.anim = _lottieWeb2.default.loadAnimation(this.options);\n        this.registerEvents(nextProps.eventListeners);\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.props.isStopped) {\n        this.stop();\n      } else if (this.props.segments) {\n        this.playSegments();\n      } else {\n        this.play();\n      }\n\n      this.pause();\n      this.setSpeed();\n      this.setDirection();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.deRegisterEvents(this.props.eventListeners);\n      this.destroy();\n      this.options.animationData = null;\n      this.anim = null;\n    }\n  }, {\n    key: 'setSpeed',\n    value: function setSpeed() {\n      this.anim.setSpeed(this.props.speed);\n    }\n  }, {\n    key: 'setDirection',\n    value: function setDirection() {\n      this.anim.setDirection(this.props.direction);\n    }\n  }, {\n    key: 'play',\n    value: function play() {\n      this.anim.play();\n    }\n  }, {\n    key: 'playSegments',\n    value: function playSegments() {\n      this.anim.playSegments(this.props.segments);\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this.anim.stop();\n    }\n  }, {\n    key: 'pause',\n    value: function pause() {\n      if (this.props.isPaused && !this.anim.isPaused) {\n        this.anim.pause();\n      } else if (!this.props.isPaused && this.anim.isPaused) {\n        this.anim.pause();\n      }\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.anim.destroy();\n    }\n  }, {\n    key: 'registerEvents',\n    value: function registerEvents(eventListeners) {\n      var _this2 = this;\n\n      eventListeners.forEach(function (eventListener) {\n        _this2.anim.addEventListener(eventListener.eventName, eventListener.callback);\n      });\n    }\n  }, {\n    key: 'deRegisterEvents',\n    value: function deRegisterEvents(eventListeners) {\n      var _this3 = this;\n\n      eventListeners.forEach(function (eventListener) {\n        _this3.anim.removeEventListener(eventListener.eventName, eventListener.callback);\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props2 = this.props,\n          width = _props2.width,\n          height = _props2.height,\n          ariaRole = _props2.ariaRole,\n          ariaLabel = _props2.ariaLabel,\n          isClickToPauseDisabled = _props2.isClickToPauseDisabled,\n          title = _props2.title;\n\n\n      var getSize = function getSize(initial) {\n        var size = void 0;\n\n        if (typeof initial === 'number') {\n          size = initial + 'px';\n        } else {\n          size = initial || '100%';\n        }\n\n        return size;\n      };\n\n      var lottieStyles = (0, _extends3.default)({\n        width: getSize(width),\n        height: getSize(height),\n        overflow: 'hidden',\n        margin: '0 auto',\n        outline: 'none'\n      }, this.props.style);\n\n      var onClickHandler = isClickToPauseDisabled ? function () {\n        return null;\n      } : this.handleClickToPause;\n\n      return (\n        // Bug with eslint rules https://github.com/airbnb/javascript/issues/1374\n        // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n        _react2.default.createElement('div', {\n          ref: function ref(c) {\n            _this4.el = c;\n          },\n          style: lottieStyles,\n          onClick: onClickHandler,\n          title: title,\n          role: ariaRole,\n          'aria-label': ariaLabel,\n          tabIndex: '0'\n        })\n      );\n    }\n  }]);\n  return Lottie;\n}(_react2.default.Component);\n\nexports.default = Lottie;\n\n\nLottie.propTypes = {\n  eventListeners: _propTypes2.default.arrayOf(_propTypes2.default.object),\n  options: _propTypes2.default.object.isRequired,\n  height: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  width: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  isStopped: _propTypes2.default.bool,\n  isPaused: _propTypes2.default.bool,\n  speed: _propTypes2.default.number,\n  segments: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  direction: _propTypes2.default.number,\n  ariaRole: _propTypes2.default.string,\n  ariaLabel: _propTypes2.default.string,\n  isClickToPauseDisabled: _propTypes2.default.bool,\n  title: _propTypes2.default.string\n};\n\nLottie.defaultProps = {\n  eventListeners: [],\n  isStopped: false,\n  isPaused: false,\n  speed: 1,\n  ariaRole: 'button',\n  ariaLabel: 'animation',\n  isClickToPauseDisabled: false,\n  title: ''\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _Effect = _interopRequireDefault(require(\"./Effect\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar defaultSetTimeout = function defaultSetTimeout(callback) {\n  setTimeout(callback, 1000.0 / 60.0);\n};\n\nvar defaultClearTimeout = function defaultClearTimeout(timer) {\n  clearTimeout(timer);\n};\n\nvar requestAnimationFrame = function () {\n  if (typeof window === 'undefined') {\n    return defaultSetTimeout;\n  } else {\n    return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || defaultSetTimeout;\n  }\n}();\n\nvar cancelAnimationFrame = function () {\n  if (typeof window === 'undefined') {\n    return defaultClearTimeout;\n  } else {\n    return window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || window.msCancelAnimationFrame || defaultClearTimeout;\n  }\n}();\n\nvar now = typeof window !== 'undefined' && window.performance && (performance.now || performance.mozNow || performance.msNow || performance.oNow || performance.webkitNow);\n\nvar getTime = function getTime() {\n  return now && now.call(performance) || Date.now();\n};\n\nvar AnimationCounter =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AnimationCounter, _React$Component);\n\n  function AnimationCounter(props) {\n    var _this;\n\n    _classCallCheck(this, AnimationCounter);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AnimationCounter).call(this, props));\n    _this.state = {};\n    _this.node = undefined;\n    return _this;\n  }\n\n  _createClass(AnimationCounter, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.count > 0) {\n        this.node = _reactDom[\"default\"].findDOMNode(this.refs.badge);\n        this.animate();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.count > prevProps.count) {\n        this.node = _reactDom[\"default\"].findDOMNode(this.refs.badge);\n        this.animate();\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate() {\n      var _this2 = this;\n\n      var style0 = {\n        '-moz-transform': this.props.effect[0],\n        '-webkit-transform': this.props.effect[0],\n        '-o-transform': this.props.effect[0],\n        transform: this.props.effect[0]\n      };\n      this.attachStyle(style0);\n\n      if (this.props.effect[2]) {\n        this.attachStyle(this.props.effect[2]);\n      }\n\n      var startTime = getTime();\n      var timer;\n\n      var waitOrFinish = function waitOrFinish() {\n        var lastTime = getTime();\n        var frame = Math.floor((lastTime - startTime) / (1000.0 / 60.0) % _this2.props.frameLength);\n\n        if (frame === _this2.props.frameLength - 1) {\n          cancelAnimationFrame(timer);\n          var style1 = {\n            '-moz-transform': _this2.props.effect[1],\n            '-webkit-transform': _this2.props.effect[1],\n            '-o-transform': _this2.props.effect[1],\n            transform: _this2.props.effect[1]\n          };\n\n          _this2.attachStyle(style1);\n\n          if (_this2.props.effect[3]) {\n            _this2.attachStyle(_this2.props.effect[3]);\n          }\n        } else {\n          timer = requestAnimationFrame(waitOrFinish);\n        }\n      };\n\n      waitOrFinish();\n    }\n  }, {\n    key: \"attachStyle\",\n    value: function attachStyle(style) {\n      for (var key in style) {\n        if (style.hasOwnProperty(key)) {\n          this.node.style[key] = style[key];\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var value = this.props.label || this.props.count;\n      return _react[\"default\"].createElement(\"span\", {\n        ref: \"badge\",\n        style: this.props.style,\n        className: this.props.className\n      }, value);\n    }\n  }]);\n\n  return AnimationCounter;\n}(_react[\"default\"].Component);\n\nAnimationCounter.propTypes = {\n  count: _propTypes[\"default\"].number,\n  label: _propTypes[\"default\"].string,\n  style: _propTypes[\"default\"].object,\n  effect: _propTypes[\"default\"].array,\n  frameLength: _propTypes[\"default\"].number,\n  className: _propTypes[\"default\"].string\n};\nAnimationCounter.defaultProps = {\n  count: 1,\n  label: null,\n  style: {},\n  effect: _Effect[\"default\"].SCALE,\n  frameLength: 30.0\n};\nvar _default = AnimationCounter;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _default = {\n  ROTATE_X: ['rotateX(-180deg)', 'rotateX(0deg)'],\n  ROTATE_Y: ['rotateY(-180deg)', 'rotateY(0deg)'],\n  SCALE: ['scale(1.8, 1.8)', 'scale(1, 1)']\n};\nexports[\"default\"] = _default;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _AnimationCounter = _interopRequireDefault(require(\"./AnimationCounter\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar styles = {\n  container: {\n    position: 'relative',\n    width: '100%',\n    height: '100%'\n  },\n  badge: {\n    WebkitTransition: 'all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms',\n    MozTransition: 'all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms',\n    msTransition: 'all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms',\n    transition: 'all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms',\n    display: 'inline-block',\n    position: 'absolute',\n    minWidth: '10px',\n    padding: '3px 7px',\n    fontSize: '12px',\n    fontWeight: '700',\n    lineHeight: '1',\n    color: '#fff',\n    textAlign: 'center',\n    whiteSpace: 'nowrap',\n    verticalAlign: 'baseline',\n    backgroundColor: 'rgba(212, 19, 13, 1)',\n    borderRadius: '10px',\n    top: '-2px',\n    right: '-2px'\n  }\n};\n\nvar NotificationBadge =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(NotificationBadge, _React$Component);\n\n  function NotificationBadge(props) {\n    var _this;\n\n    _classCallCheck(this, NotificationBadge);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NotificationBadge).call(this, props));\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(NotificationBadge, [{\n    key: \"render\",\n    value: function render() {\n      var badgeStyle = this.merge(styles.badge, this.props.style);\n      var containerStyle = this.merge(styles.container, this.props.containerStyle);\n      var value = this.props.count > 0 ? _react[\"default\"].createElement(_AnimationCounter[\"default\"], {\n        key: \"badgekey\",\n        style: badgeStyle,\n        className: this.props.className,\n        count: this.props.count,\n        label: this.props.label,\n        effect: this.props.effect,\n        fps: this.props.fps,\n        frameLength: this.props.frameLength\n      }) : undefined;\n      return _react[\"default\"].createElement(\"div\", {\n        style: containerStyle\n      }, value);\n    }\n  }, {\n    key: \"merge\",\n    value: function merge(obj1, obj2) {\n      var obj = {};\n\n      for (var attrname1 in obj1) {\n        if (obj1.hasOwnProperty(attrname1)) {\n          obj[attrname1] = obj1[attrname1];\n        }\n      }\n\n      for (var attrname2 in obj2) {\n        if (obj2.hasOwnProperty(attrname2)) {\n          obj[attrname2] = obj2[attrname2];\n        }\n      }\n\n      return obj;\n    }\n  }]);\n\n  return NotificationBadge;\n}(_react[\"default\"].Component);\n\nNotificationBadge.propTypes = {\n  containerStyle: _propTypes[\"default\"].object,\n  count: _propTypes[\"default\"].number,\n  label: _propTypes[\"default\"].string,\n  style: _propTypes[\"default\"].object,\n  className: _propTypes[\"default\"].string,\n  effect: _propTypes[\"default\"].array,\n  fps: _propTypes[\"default\"].number,\n  frameLength: _propTypes[\"default\"].number\n};\nNotificationBadge.defaultProps = {\n  count: 0,\n  style: {},\n  containerStyle: {}\n};\nvar _default = NotificationBadge;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Effect\", {\n  enumerable: true,\n  get: function get() {\n    return _Effect[\"default\"];\n  }\n});\nexports[\"default\"] = void 0;\n\nvar _NotificationBadge = _interopRequireDefault(require(\"./components/NotificationBadge\"));\n\nvar _Effect = _interopRequireDefault(require(\"./components/Effect\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar _default = _NotificationBadge[\"default\"];\nexports[\"default\"] = _default;","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import * as React from 'react'\r\nimport { ReactNode } from 'react';\r\nimport styles from './styles.css'\r\n\r\nexport type ScrollableFeedProps = {\r\n  forceScroll?: boolean;\r\n  animateScroll?: (element: HTMLElement, offset: number) => void;\r\n  onScrollComplete?: () => void;\r\n  changeDetectionFilter?: (previousProps: ScrollableFeedComponentProps, newProps: ScrollableFeedComponentProps) => boolean;\r\n  viewableDetectionEpsilon?: number;\r\n  className?: string;\r\n  onScroll?: (isAtBottom: boolean) => void;\r\n}\r\n\r\ntype ScrollableFeedComponentProps = Readonly<{ children?: ReactNode }> & Readonly<ScrollableFeedProps>;\r\n\r\nclass ScrollableFeed extends React.Component<ScrollableFeedProps> {\r\n  private readonly wrapperRef: React.RefObject<HTMLDivElement>;\r\n  private readonly bottomRef: React.RefObject<HTMLDivElement>;\r\n\r\n  constructor(props: ScrollableFeedProps) {\r\n    super(props);\r\n    this.bottomRef = React.createRef();\r\n    this.wrapperRef = React.createRef();\r\n    this.handleScroll = this.handleScroll.bind(this);\r\n  }\r\n\r\n  static defaultProps: ScrollableFeedProps = {\r\n    forceScroll: false,\r\n    animateScroll: (element: HTMLElement, offset: number): void => {\r\n      if (element.scrollBy) {\r\n        element.scrollBy({ top: offset });\r\n      }\r\n      else {\r\n        element.scrollTop = offset;\r\n      }\r\n    },\r\n    onScrollComplete: () => {},\r\n    changeDetectionFilter: () => true,\r\n    viewableDetectionEpsilon: 2,\r\n    onScroll: () => {},\r\n  };\r\n\r\n  getSnapshotBeforeUpdate(): boolean {\r\n    if (this.wrapperRef.current && this.bottomRef.current) {\r\n      const { viewableDetectionEpsilon } = this.props;\r\n      return ScrollableFeed.isViewable(this.wrapperRef.current, this.bottomRef.current, viewableDetectionEpsilon!); //This argument is passed down to componentDidUpdate as 3rd parameter\r\n    }\r\n    return false;\r\n  }\r\n\r\n  componentDidUpdate(previousProps: ScrollableFeedComponentProps, {}: any, snapshot: boolean): void {\r\n    const { forceScroll, changeDetectionFilter } = this.props;\r\n    const isValidChange = changeDetectionFilter!(previousProps, this.props);\r\n    if (isValidChange && (forceScroll || snapshot) && this.bottomRef.current && this.wrapperRef.current) {\r\n      this.scrollParentToChild(this.wrapperRef.current, this.bottomRef.current);\r\n    }\r\n  }\r\n\r\n  componentDidMount(): void {\r\n    //Scroll to bottom from the start\r\n    if (this.bottomRef.current && this.wrapperRef.current) {\r\n      this.scrollParentToChild(this.wrapperRef.current, this.bottomRef.current);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Scrolls a parent element such that the child element will be in view\r\n   * @param parent\r\n   * @param child\r\n   */\r\n  protected scrollParentToChild(parent: HTMLElement, child: HTMLElement): void {\r\n    const { viewableDetectionEpsilon } = this.props;\r\n    if (!ScrollableFeed.isViewable(parent, child, viewableDetectionEpsilon!)) {\r\n      //Source: https://stackoverflow.com/a/45411081/6316091\r\n      const parentRect = parent.getBoundingClientRect();\r\n      const childRect = child.getBoundingClientRect();\r\n\r\n      //Scroll by offset relative to parent\r\n      const scrollOffset = (childRect.top + parent.scrollTop) - parentRect.top;\r\n      const { animateScroll, onScrollComplete } = this.props;\r\n      if (animateScroll) {\r\n        animateScroll(parent, scrollOffset);\r\n        onScrollComplete!();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns whether a child element is visible within a parent element\r\n   *\r\n   * @param parent\r\n   * @param child\r\n   * @param epsilon\r\n   */\r\n  private static isViewable(parent: HTMLElement, child: HTMLElement, epsilon: number): boolean {\r\n    epsilon = epsilon || 0;\r\n\r\n    //Source: https://stackoverflow.com/a/45411081/6316091\r\n    const parentRect = parent.getBoundingClientRect();\r\n    const childRect = child.getBoundingClientRect();\r\n\r\n    const childTopIsViewable = (childRect.top >= parentRect.top);\r\n\r\n    const childOffsetToParentBottom = parentRect.top + parent.clientHeight - childRect.top;\r\n    const childBottomIsViewable = childOffsetToParentBottom + epsilon >= 0;\r\n\r\n    return childTopIsViewable && childBottomIsViewable;\r\n  }\r\n\r\n  /**\r\n   * Fires the onScroll event, sending isAtBottom boolean as its first parameter\r\n   */\r\n  protected handleScroll(): void {\r\n    const { viewableDetectionEpsilon, onScroll } = this.props;\r\n    if (onScroll && this.bottomRef.current && this.wrapperRef.current) {\r\n      const isAtBottom = ScrollableFeed.isViewable(this.wrapperRef.current, this.bottomRef.current, viewableDetectionEpsilon!);\r\n      onScroll(isAtBottom);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Scroll to the bottom\r\n   */\r\n  public scrollToBottom(): void {\r\n    if (this.bottomRef.current && this.wrapperRef.current) {\r\n      this.scrollParentToChild(this.wrapperRef.current, this.bottomRef.current);\r\n    }\r\n  }\r\n\r\n  render(): React.ReactNode {\r\n    const { children, className } = this.props;\r\n    const joinedClassName = styles.scrollableDiv + (className ? \" \" + className : \"\");\r\n    return (\r\n      <div className={joinedClassName} ref={this.wrapperRef} onScroll={this.handleScroll}>\r\n        {children}\r\n        <div ref={this.bottomRef}></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ScrollableFeed;\r\n","'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\n","// browser shim for xmlhttprequest module\nimport hasCORS from \"has-cors\";\nimport globalThis from \"../globalThis.js\";\nexport default function (opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\n","import globalThis from \"./globalThis.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = clearTimeout.bind(globalThis);\n    }\n}\n","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nexport const encode = (arraybuffer: ArrayBuffer): string => {\n    let bytes = new Uint8Array(arraybuffer),\n        i,\n        len = bytes.length,\n        base64 = '';\n\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    } else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n\n    return base64;\n};\n\nexport const decode = (base64: string): ArrayBuffer => {\n    let bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i,\n        p = 0,\n        encoded1,\n        encoded2,\n        encoded3,\n        encoded4;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    const arraybuffer = new ArrayBuffer(bufferLength),\n        bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n};\n","import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = obj => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + content);\n    };\n    return fileReader.readAsDataURL(data);\n};\nexport default encodePacket;\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE } from \"./commons.js\";\nimport { decode } from \"@socket.io/base64-arraybuffer\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType)\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1)\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type]\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            return data instanceof ArrayBuffer ? new Blob([data]) : data;\n        case \"arraybuffer\":\n        default:\n            return data; // assuming the data is already an ArrayBuffer\n    }\n};\nexport default decodePacket;\n","import encodePacket from \"./encodePacket.js\";\nimport decodePacket from \"./decodePacket.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, encodedPacket => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload };\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} options.\n     * @api private\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.readyState = \"\";\n        this.socket = opts.socket;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} str\n     * @return {Transport} for chaining\n     * @api protected\n     */\n    onError(msg, desc) {\n        const err = new Error(msg);\n        // @ts-ignore\n        err.type = \"TransportError\";\n        // @ts-ignore\n        err.description = desc;\n        super.emit(\"error\", err);\n        return this;\n    }\n    /**\n     * Opens the transport.\n     *\n     * @api public\n     */\n    open() {\n        if (\"closed\" === this.readyState || \"\" === this.readyState) {\n            this.readyState = \"opening\";\n            this.doOpen();\n        }\n        return this;\n    }\n    /**\n     * Closes the transport.\n     *\n     * @api public\n     */\n    close() {\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     * @api public\n     */\n    send(packets) {\n        if (\"open\" === this.readyState) {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @api protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emit(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @api protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @api protected\n     */\n    onPacket(packet) {\n        super.emit(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @api protected\n     */\n    onClose() {\n        this.readyState = \"closed\";\n        super.emit(\"close\");\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport yeast from \"yeast\";\nimport parseqs from \"parseqs\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nexport class Polling extends Transport {\n    constructor() {\n        super(...arguments);\n        this.polling = false;\n    }\n    /**\n     * Transport name.\n     */\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @api private\n     */\n    doOpen() {\n        this.poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} callback upon buffers are flushed and transport is paused\n     * @api private\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this.polling || !this.writable) {\n            let total = 0;\n            if (this.polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @api public\n     */\n    poll() {\n        this.polling = true;\n        this.doPoll();\n        this.emit(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @api private\n     */\n    onData(data) {\n        const callback = packet => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose();\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this.polling = false;\n            this.emit(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this.poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @api private\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} data packets\n     * @param {Function} drain callback\n     * @api private\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, data => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emit(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @api private\n     */\n    uri() {\n        let query = this.query || {};\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        let port = \"\";\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        // avoid port if default for schema\n        if (this.opts.port &&\n            ((\"https\" === schema && Number(this.opts.port) !== 443) ||\n                (\"http\" === schema && Number(this.opts.port) !== 80))) {\n            port = \":\" + this.opts.port;\n        }\n        const encodedQuery = parseqs.encode(query);\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return (schema +\n            \"://\" +\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n            port +\n            this.opts.path +\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\n    }\n}\n","/* global attachEvent */\nimport XMLHttpRequest from \"./xmlhttprequest.js\";\nimport globalThis from \"../globalThis.js\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { Polling } from \"./polling.js\";\n/**\n * Empty function\n */\nfunction empty() { }\nconst hasXHR2 = (function () {\n    const xhr = new XMLHttpRequest({\n        xdomain: false\n    });\n    return null != xhr.responseType;\n})();\nexport class XHR extends Polling {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @api public\n     */\n    constructor(opts) {\n        super(opts);\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n            this.xs = opts.secure !== isSSL;\n        }\n        /**\n         * XHR supports binary\n         */\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @api private\n     */\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd, xs: this.xs }, this.opts);\n        return new Request(this.uri(), opts);\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @api private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", err => {\n            this.onError(\"xhr post error\", err);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @api private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", err => {\n            this.onError(\"xhr poll error\", err);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @api public\n     */\n    constructor(uri, opts) {\n        super();\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.method = opts.method || \"GET\";\n        this.uri = uri;\n        this.async = false !== opts.async;\n        this.data = undefined !== opts.data ? opts.data : null;\n        this.create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @api private\n     */\n    create() {\n        const opts = pick(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        opts.xscheme = !!this.opts.xs;\n        const xhr = (this.xhr = new XMLHttpRequest(opts));\n        try {\n            xhr.open(this.method, this.uri, this.async);\n            try {\n                if (this.opts.extraHeaders) {\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this.opts.extraHeaders) {\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this.method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this.opts.withCredentials;\n            }\n            if (this.opts.requestTimeout) {\n                xhr.timeout = this.opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this.onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this.data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this.onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this.index = Request.requestsCount++;\n            Request.requests[this.index] = this;\n        }\n    }\n    /**\n     * Called upon successful response.\n     *\n     * @api private\n     */\n    onSuccess() {\n        this.emit(\"success\");\n        this.cleanup();\n    }\n    /**\n     * Called if we have data.\n     *\n     * @api private\n     */\n    onData(data) {\n        this.emit(\"data\", data);\n        this.onSuccess();\n    }\n    /**\n     * Called upon error.\n     *\n     * @api private\n     */\n    onError(err) {\n        this.emit(\"error\", err);\n        this.cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @api private\n     */\n    cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n            return;\n        }\n        this.xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this.xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this.index];\n        }\n        this.xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @api private\n     */\n    onLoad() {\n        const data = this.xhr.responseText;\n        if (data !== null) {\n            this.onData(data);\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @api public\n     */\n    abort() {\n        this.cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\n","import globalThis from \"../globalThis.js\";\nexport const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return cb => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const WebSocket = globalThis.WebSocket || globalThis.MozWebSocket;\nexport const usingBrowserWebSocket = true;\nexport const defaultBinaryType = \"arraybuffer\";\n","import { Transport } from \"../transport.js\";\nimport parseqs from \"parseqs\";\nimport yeast from \"yeast\";\nimport { pick } from \"../util.js\";\nimport { defaultBinaryType, nextTick, usingBrowserWebSocket, WebSocket } from \"./websocket-constructor.js\";\nimport { encodePacket } from \"engine.io-parser\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class WS extends Transport {\n    /**\n     * WebSocket transport constructor.\n     *\n     * @api {Object} connection options\n     * @api public\n     */\n    constructor(opts) {\n        super(opts);\n        this.supportsBinary = !opts.forceBase64;\n    }\n    /**\n     * Transport name.\n     *\n     * @api public\n     */\n    get name() {\n        return \"websocket\";\n    }\n    /**\n     * Opens socket.\n     *\n     * @api private\n     */\n    doOpen() {\n        if (!this.check()) {\n            // let probe timeout\n            return;\n        }\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws =\n                usingBrowserWebSocket && !isReactNative\n                    ? protocols\n                        ? new WebSocket(uri, protocols)\n                        : new WebSocket(uri)\n                    : new WebSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emit(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType || defaultBinaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @api private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = this.onClose.bind(this);\n        this.ws.onmessage = ev => this.onData(ev.data);\n        this.ws.onerror = e => this.onError(\"websocket error\", e);\n    }\n    /**\n     * Writes data to socket.\n     *\n     * @param {Array} array of packets.\n     * @api private\n     */\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, data => {\n                // always create a new object (GH-437)\n                const opts = {};\n                if (!usingBrowserWebSocket) {\n                    if (packet.options) {\n                        opts.compress = packet.options.compress;\n                    }\n                    if (this.opts.perMessageDeflate) {\n                        const len = \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n                        if (len < this.opts.perMessageDeflate.threshold) {\n                            opts.compress = false;\n                        }\n                    }\n                }\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    if (usingBrowserWebSocket) {\n                        // TypeError is thrown when passing the second argument on Safari\n                        this.ws.send(data);\n                    }\n                    else {\n                        this.ws.send(data, opts);\n                    }\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emit(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    /**\n     * Closes socket.\n     *\n     * @api private\n     */\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @api private\n     */\n    uri() {\n        let query = this.query || {};\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        let port = \"\";\n        // avoid port if default for schema\n        if (this.opts.port &&\n            ((\"wss\" === schema && Number(this.opts.port) !== 443) ||\n                (\"ws\" === schema && Number(this.opts.port) !== 80))) {\n            port = \":\" + this.opts.port;\n        }\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        const encodedQuery = parseqs.encode(query);\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return (schema +\n            \"://\" +\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n            port +\n            this.opts.path +\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\n    }\n    /**\n     * Feature detection for WebSocket.\n     *\n     * @return {Boolean} whether this transport is available.\n     * @api public\n     */\n    check() {\n        return (!!WebSocket &&\n            !(\"__initialize\" in WebSocket && this.name === WS.prototype.name));\n    }\n}\n","import { XHR } from \"./polling-xhr.js\";\nimport { WS } from \"./websocket.js\";\nexport const transports = {\n    websocket: WS,\n    polling: XHR\n};\n","import { transports } from \"./transports/index.js\";\nimport { installTimerFunctions } from \"./util.js\";\nimport parseqs from \"parseqs\";\nimport parseuri from \"parseuri\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nexport class Socket extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri or options\n     * @param {Object} opts - options\n     * @api public\n     */\n    constructor(uri, opts = {}) {\n        super();\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            uri = parseuri(uri);\n            opts.hostname = uri.host;\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n            opts.port = uri.port;\n            if (uri.query)\n                opts.query = uri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parseuri(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = opts.transports || [\"polling\", \"websocket\"];\n        this.readyState = \"\";\n        this.writeBuffer = [];\n        this.prevBufferLen = 0;\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024\n            },\n            transportOptions: {},\n            closeOnBeforeunload: true\n        }, opts);\n        this.opts.path = this.opts.path.replace(/\\/$/, \"\") + \"/\";\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = parseqs.decode(this.opts.query);\n        }\n        // set on handshake\n        this.id = null;\n        this.upgrades = null;\n        this.pingInterval = null;\n        this.pingTimeout = null;\n        // set on heartbeat\n        this.pingTimeoutTimer = null;\n        if (typeof addEventListener === \"function\") {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                addEventListener(\"beforeunload\", () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                }, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this.offlineEventListener = () => {\n                    this.onClose(\"transport close\");\n                };\n                addEventListener(\"offline\", this.offlineEventListener, false);\n            }\n        }\n        this.open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} transport name\n     * @return {Transport}\n     * @api private\n     */\n    createTransport(name) {\n        const query = clone(this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts.transportOptions[name], this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port\n        });\n        return new transports[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @api private\n     */\n    open() {\n        let transport;\n        if (this.opts.rememberUpgrade &&\n            Socket.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1) {\n            transport = \"websocket\";\n        }\n        else if (0 === this.transports.length) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        else {\n            transport = this.transports[0];\n        }\n        this.readyState = \"opening\";\n        // Retry with the next transport if the transport is disabled (jsonp: false)\n        try {\n            transport = this.createTransport(transport);\n        }\n        catch (e) {\n            this.transports.shift();\n            this.open();\n            return;\n        }\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @api private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this.onDrain.bind(this))\n            .on(\"packet\", this.onPacket.bind(this))\n            .on(\"error\", this.onError.bind(this))\n            .on(\"close\", () => {\n            this.onClose(\"transport close\");\n        });\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} transport name\n     * @api private\n     */\n    probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        Socket.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", msg => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = err => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        transport.open();\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @api private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n        // we check for `readyState` in case an `open`\n        // listener already closed the socket\n        if (\"open\" === this.readyState &&\n            this.opts.upgrade &&\n            this.transport.pause) {\n            let i = 0;\n            const l = this.upgrades.length;\n            for (; i < l; i++) {\n                this.probe(this.upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Handles a packet.\n     *\n     * @api private\n     */\n    onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this.resetPingTimeout();\n                    this.sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this.onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @api private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this.resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @api private\n     */\n    resetPingTimeout() {\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\n            this.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n        if (this.opts.autoUnref) {\n            this.pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @api private\n     */\n    onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this.prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @api private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            this.transport.send(this.writeBuffer);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this.prevBufferLen = this.writeBuffer.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} message.\n     * @param {Function} callback function.\n     * @param {Object} options.\n     * @return {Socket} for chaining.\n     * @api public\n     */\n    write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} callback function.\n     * @api private\n     */\n    sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     *\n     * @api public\n     */\n    close() {\n        const close = () => {\n            this.onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @api private\n     */\n    onError(err) {\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @api private\n     */\n    onClose(reason, desc) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this.pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (typeof removeEventListener === \"function\") {\n                removeEventListener(\"offline\", this.offlineEventListener, false);\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, desc);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this.prevBufferLen = 0;\n        }\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} server upgrades\n     * @api private\n     *\n     */\n    filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        let i = 0;\n        const j = upgrades.length;\n        for (; i < j; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\nSocket.protocol = protocol;\nfunction clone(obj) {\n    const o = {};\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            o[i] = obj[i];\n        }\n    }\n    return o;\n}\n","import { Socket } from \"./socket.js\";\nexport { Socket };\nexport const protocol = Socket.protocol;\nexport { Transport } from \"./transport.js\";\nexport { transports } from \"./transports/index.js\";\nexport { installTimerFunctions } from \"./util.js\";\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (data.hasOwnProperty(key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    packet.attachments = undefined; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder) {\n        return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (data.hasOwnProperty(key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                obj.type =\n                    obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK;\n                return this.encodeAsBinary(obj);\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    constructor() {\n        super();\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            packet = this.decodeString(obj);\n            if (packet.type === PacketType.BINARY_EVENT ||\n                packet.type === PacketType.BINARY_ACK) {\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return typeof payload === \"object\";\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || typeof payload === \"object\";\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return Array.isArray(payload) && payload.length > 0;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n        }\n    }\n}\nfunction tryParse(str) {\n    try {\n        return JSON.parse(str);\n    }\n    catch (e) {\n        return false;\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     *\n     * @public\n     */\n    constructor(io, nsp, opts) {\n        super();\n        this.connected = false;\n        this.disconnected = true;\n        this.receiveBuffer = [];\n        this.sendBuffer = [];\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @public\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for connect()\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * @return self\n     * @public\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @return self\n     * @public\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n        }\n        else if (this.connected) {\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        const timeout = this.flags.timeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        this.acks[id] = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, [null, ...args]);\n        };\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this.packet({ type: PacketType.CONNECT, data });\n            });\n        }\n        else {\n            this.packet({ type: PacketType.CONNECT, data: this.auth });\n        }\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @private\n     */\n    onclose(reason) {\n        this.connected = false;\n        this.disconnected = true;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    const id = packet.data.sid;\n                    this.onconnect(id);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n                this.onack(packet);\n                break;\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id) {\n        this.id = id;\n        this.connected = true;\n        this.disconnected = false;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => this.packet(packet));\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually.\n     *\n     * @return self\n     * @public\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for disconnect()\n     *\n     * @return self\n     * @public\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     * @public\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @returns self\n     * @public\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * ```\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     * ```\n     *\n     * @returns self\n     * @public\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @param listener\n     * @public\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @param listener\n     * @public\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @param listener\n     * @public\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     *\n     * @public\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n}\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import { Socket as Engine, installTimerFunctions, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport Backoff from \"backo2\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        // emit `error`\n        const errorSub = on(socket, \"error\", (err) => {\n            self.cleanup();\n            self._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                self.maybeReconnectOnOpen();\n            }\n        });\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            if (timeout === 0) {\n                openSubDestroy(); // prevents a race condition with the 'open' event\n            }\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                socket.close();\n                // @ts-ignore\n                socket.emit(\"error\", new Error(\"timeout\"));\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        this.decoder.add(data);\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        this.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason) {\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\n","import parseuri from \"parseuri\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parseuri(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","useImage","props","loading","src","srcSet","onLoad","onError","crossOrigin","sizes","ignoreFallback","_useState","useState","status","setStatus","useEffect","imageRef","useRef","load","useCallback","flush","img","Image","srcset","onload","event","onerror","error","current","useSafeLayoutEffect","_excluded","_excluded2","NativeImage","React","ref","htmlWidth","htmlHeight","alt","rest","width","height","Image$1","forwardRef","fallbackSrc","fallback","align","fit","shouldIgnore","undefined","shared","objectFit","objectPosition","omit","chakra","as","className","__DEV__","displayName","_excluded$1","AvatarBadge","badgeStyles","position","display","alignItems","justifyContent","insetEnd","bottom","useStyles","badge","cx","__css","initials","name","_name$split","split","firstName","lastName","charAt","AvatarName","getInitials","styles","role","label","DefaultIcon","viewBox","color","fill","d","baseStyle","textAlign","textTransform","fontWeight","flexShrink","Avatar","useMultiStyleConfig","_omitThemingProps","omitThemingProps","showBorder","_omitThemingProps$bor","borderRadius","_omitThemingProps$get","_omitThemingProps$ico","icon","_omitThemingProps$ico2","iconLabel","children","borderColor","avatarStyles","borderWidth","container","StylesProvider","value","AvatarImage","_props$icon","AvatarGroup","max","_omitThemingProps$spa","spacing","validChildren","getValidChildren","childrenWithinMax","slice","excess","clones","reverse","map","child","index","_child$props$borderCo","childProps","marginEnd","size","filterUndefined","excessStyles","marginStart","excessLabel","flexDirection","process","fn","cache","WeakMap","memoize","obj","path","window","document","createElement","join","once","result","_len5","args","Array","_key5","options","condition","message","Number","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","freeze","fallbackIcon","stroke","strokeWidth","strokeLinecap","strokeMiterlimit","cy","r","Icon","element","_props$color","_props$focusable","focusable","_className","_len","classNames","_key","filter","Boolean","w","h","lineHeight","_viewBox","_path","verticalAlign","createIcon","_options$viewBox","pathDefinition","_options$defaultProps","defaultProps","Comp","strokeLinejoin","AddIcon","ViewIcon","fillRule","ChevronDownIcon","ArrowBackIcon","CloseIcon","rx","ry","x","y","x1","y1","x2","y2","id","stopColor","offset","stopOpacity","transform","BellIcon","points","_excluded2$1","_excluded3$1","_createDescendantCont","createDescendantContext","MenuDescendantsProvider","useMenuDescendantsContext","useMenuDescendants","useMenuDescendant","_createContext","createContext","strict","MenuProvider","useMenuContext","isTargetMenuItem","_target$getAttribute","isHTMLElement","getAttribute","startsWith","useMenuItem","externalRef","_props2","onMouseEnterProp","onMouseEnter","onMouseMoveProp","onMouseMove","onMouseLeaveProp","onMouseLeave","onClickProp","onClick","isDisabled","isFocusable","closeOnSelect","htmlProps","menu","setFocusedIndex","focusedIndex","menuCloseOnSelect","onClose","menuRef","isOpen","menuId","useId","_useMenuDescendant","disabled","register","isActiveElement","currentTarget","isFocused","trulyDisabled","useUpdateEffect","focus","nextTick","selectTextIfInput","preventScroll","useClickable","mergeRefs","tabIndex","_excluded3","_excluded4","_excluded5","_excluded6","_excluded8","_excluded9","_excluded10","Menu","_useMenu","_props","_props$closeOnSelect","_props$closeOnBlur","closeOnBlur","_props$autoSelect","autoSelect","isLazy","isOpenProp","defaultIsOpen","onCloseProp","onOpenProp","onOpen","_props$placement","placement","_props$lazyBehavior","lazyBehavior","direction","_props$computePositio","computePositionOnMount","popperProps","buttonRef","descendants","focusMenu","focusFirstItem","setTimeout","first","firstEnabled","timeoutIds","add","focusLastItem","last","lastEnabled","onOpenInternal","_useDisclosure","useDisclosure","onToggle","useOutsideClick","enabled","handler","_buttonRef$current","contains","popper","usePopper","_React$useState","useFocusOnHide","focusRef","visible","shouldFocus","animationState","useAnimationState","_useIds","useIds","buttonId","openAndFocusMenu","Set","useUnmountEffect","forEach","clearTimeout","clear","openAndFocusFirstItem","openAndFocusLastItem","onTransitionEnd","_menuRef$current","_descendants$item","doc","getOwnerDocument","hasFocusWithin","activeElement","node","item","unstable__animationState","forceUpdate","orientation","useMenu","useTheme","ctx","context","runIfFn","StyledMenuButton","appearance","outline","button","MenuButton","As","buttonProps","onKeyDown","eventKey","normalizeEventKey","action","Enter","ArrowDown","ArrowUp","preventDefault","stopPropagation","referenceRef","dataAttr","callAllHandlers","useMenuButton","Element","pointerEvents","flex","minW","motionVariants","enter","visibility","opacity","scale","transition","duration","ease","exit","transitionEnd","easings","MenuTransition","motion","MenuList","_props$zIndex","_styles$list","rootProps","_useMenuContext","animated","ownProps","Error","createTypeaheadHandler","useShortcut","keyMap","Tab","Escape","next","nextEnabled","prev","prevEnabled","onTypeahead","character","nextItem","getNextItemFromSearch","values","_item$node$textConten","_item$node","textContent","hasBeenOpened","shouldRenderChildren","determineLazyBehavior","hasBeenSelected","isSelected","present","style","transformOrigin","useMenuList","positionerProps","getPopperProps","useMenuPositioner","zIndex","list","onUpdate","onAnimationComplete","callAll","onComplete","variants","initial","animate","StyledMenuItem","type","btnType","buttonStyles","textDecoration","userSelect","MenuItem","_props$iconSpacing","iconSpacing","command","_props$commandSpacing","commandSpacing","menuitemProps","_children","MenuIcon","fontSize","MenuCommand","CheckIcon","MenuItemOption","_props$iconSpacing2","optionProps","_props3","_props3$type","isChecked","useMenuOption","MenuGroup","title","groupTitle","clone","MenuDivider","divider","FOCUS_GROUP","FOCUS_DISABLED","useMergeRefs","refs","defaultValue","initialValue","callback","facade","useCallbackRef","newValue","assignRef","hiddenGuard","padding","overflow","top","left","InFocusGuard","_ref","propTypes","__assign","t","s","n","p","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","ItoI","a","innerCreateMedium","defaults","middleware","buffer","assigned","read","useMedium","data","push","assignSyncMedium","cb","cbs","assignMedium","pendingQueue","executeQueue","cycle","Promise","resolve","then","createMedium","createSidecarMedium","medium","tslib_1","async","ssr","mediumFocus","mediumBlur","mediumEffect","mediumSidecar","emptyArray","FocusLock","parentRef","_extends2","realObserved","setObserved","observed","isActive","originalFocusedElement","noFocusGuards","persistentFocus","crossFrame","autoFocus","group","allowTextSelection","whiteList","_props$shards","shards","_props$as","Container","_props$lockProps","lockProps","containerProps","SideCar","sideCar","shouldReturnFocus","returnFocus","onActivationCallback","onActivation","onDeactivationCallback","onDeactivation","allowDefer","focusOptions","onFocus","onBlur","setObserveNode","newObserved","constants","hasLeadingGuards","hasTailingGuards","mergedRef","reducePropsToState","handleStateChangeOnClient","WrappedComponent","state","mountedInstances","emitChange","instance","SideEffect","_PureComponent","subClass","superClass","create","constructor","setPrototypeOf","peek","_proto","componentDidMount","componentDidUpdate","componentWillUnmount","splice","render","PureComponent","_defineProperty","getDisplayName","isRadio","tagName","correctNode","nodes","el","checked","findSelectedRadio","pickFirstFocus","pickFocusable","isVisibleUncached","checkParent","nodeType","Node","DOCUMENT_NODE","ELEMENT_NODE","computedStyle","getComputedStyle","getPropertyValue","isElementHidden","parentNode","DOCUMENT_FRAGMENT_NODE","host","isVisibleCached","visibilityCache","cached","get","bind","set","isGuard","dataset","focusGuard","isNotAGuard","isDefined","NEW_FOCUS","newFocus","innerNodes","outerNodes","lastNode","cnt","firstFocus","lastFocus","isOnGuard","activeIndex","lastIndex","lastNodeInside","indexDiff","firstNodeIndex","lastNodeIndex","correctedNodes","resultSet","has","correctNodes","correctedIndexDiff","returnFirstNode","returnLastNode","Math","abs","toArray","ret","asArray","isArray","getTopParent","getAllAffectedNodes","reduce","acc","currentNode","contained","l","j","compareDocumentPosition","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_CONTAINS","_","filterNested","querySelectorAll","tabSort","b","tabDiff","orderByTabIndex","filterNegative","keepGuards","sort","queryTabbables","queryGuardTabbables","getFocusables","parents","withGuards","parent","concat","filterFocusable","notHiddenInput","getTabbableNodes","topNodes","getAllTabbableNodes","parentAutofocusables","topNode","parentFocus","getParentAutofocusables","getParents","getCommonParent","nodeA","nodeB","parentsA","parentsB","currentParent","getTopCommonParent","baseActiveElement","leftEntry","rightEntries","activeElements","leftEntries","topCommon","entry","subEntry","common","getFocusMerge","entries","commonParent","Map","anyFocusable","innerElements","_a","autoFocusables","orderedInnerElements","srcNodes","dstNodes","remap","entity","reorderNodes","newId","autoFocusable","allParentAutofocusables","autofocus","guardCount","lockDisabled","console","contentWindow","focusInsideIframe","some","focusInside","deferAction","setImmediate","isFreeFocus","body","lastActiveTrap","lastActiveFocus","lastPortaledElement","focusWasOutsideWindow","defaultWhitelist","autoGuard","startIndex","end","step","allNodes","lastGuard","guard","focusAutoGuard","lockItem","extractRef","activateTrap","_lastActiveTrap","workingNode","portaledElement","workingArea","focusWhitelisted","blur","moveFocusInside","newActiveElement","getFocusabledIn","_ref2","_ref3","removeAttribute","onTrap","observerNode","onWindowBlur","withSideEffect","propsList","_ref5","traps","trap","addEventListener","lastTrap","sameTrap","_ref6","removeEventListener","FocusLockCombination","FocusLockUI","FocusTrap","initialFocusRef","finalFocusRef","contentRef","restoreFocus","lockFocusAcrossFrames","getAllFocusable","_finalFocusRef$curren","ReactFocusLock","TransitionEasings","easeIn","easeOut","easeInOut","TransitionVariants","right","maxWidth","slideTransition","_options$direction","TransitionDefaults","withDelay","delay","isNumber","_excluded$4","defaultTransitions","variants$4","_transition$exit","animateOpacity","startingHeight","parseInt","toString","_transition$enter","endingHeight","Collapse","unmountOnExit","_props$animateOpacity","_props$startingHeight","_props$endingHeight","mounted","setMounted","timeout","warn","hasStartingHeight","parseFloat","custom","mergeWith","show","AnimatePresence","_excluded$3","variants$3","_temp","_temp2","fadeConfig","Fade","_excluded$2","variants$2","initialScale","scaleFadeConfig","ScaleFade","_props$reverse","_props$initialScale","defaultTransition","damping","stiffness","variants$1","Slide","_props$direction","transitionStyles","offsetX","offsetY","_transition$exit2","slideFadeConfig","SlideFade","_props$offsetX","_props$offsetY","zeroRightClassName","fullWidthClassName","effectCar","nothing","RemoveScroll","onScrollCapture","onWheelCapture","onTouchMoveCapture","callbacks","setCallbacks","forwardProps","removeScrollBar","noIsolation","inert","allowPinchZoom","_b","containerRef","lockRef","fullWidth","zeroRight","currentNonce","Target","isSideCarExport","makeStyleTag","tag","nonce","__webpack_nonce__","setAttribute","stylesheetSingleton","counter","stylesheet","css","styleSheet","cssText","appendChild","createTextNode","head","getElementsByTagName","insertStyleTag","remove","removeChild","styleSingleton","useStyle","sheet","styleHookSingleton","zeroGap","gap","parse","getGapWidth","gapMode","offsets","cs","getOffset","documentWidth","documentElement","clientWidth","windowWidth","innerWidth","Style","getStyles","allowRelative","important","RemoveScrollBar","setGap","noRelative","noImportant","locationCouldBeScrolled","axis","elementCouldBeScrolled","getScrollVariables","overflowY","overflowX","elementCouldBeVScrolled","elementCouldBeHScrolled","scrollTop","scrollHeight","clientHeight","scrollLeft","scrollWidth","getHScrollVariables","passiveSupported","defineProperty","err","nonPassive","passive","getTouchXY","changedTouches","clientX","clientY","getDeltaXY","deltaX","deltaY","generateStyle","idCounter","lockStack","exported","shouldPreventQueue","touchStartRef","activeAxis","lastProps","classList","allow_1","shouldCancelEvent","touches","currentAxis","touch","touchStart","moveDirection","canBeScrolledInMainDirection","cancelingAxis","endTarget","sourceDelta","noOverscroll","delta","targetInLock","shouldCancelScroll","isDeltaPositive","availableScroll","availableScrollTop","elementScroll","handleScroll","shouldPrevent","_event","sourceEvent","should","shardNodes","shouldCancel","scrollTouchStart","scrollWheel","scrollTouchMove","inst","ReactRemoveScroll","counterMap","uncontrolledNodes","markerMap","lockCount","hideOthers","originalTarget","markerName","ownerDocument","getDefaultParent","targets","markerCounter","hiddenNodes","elementsToKeep","keep","deep","attr","alreadyHidden","counterValue","markerValue","delete","transitions","slideInBottom","slideInRight","none","Motion","ModalTransition","preset","motionProps","manager","ModalManager","modals","modal","_modal","isTopModal","useModal","shouldHide","_props$closeOnOverlay","closeOnOverlayClick","_props$closeOnEsc","closeOnEsc","_props$useInert","useInert","onOverlayClickProp","onOverlayClick","onEsc","dialogRef","overlayRef","dialogId","headerId","bodyId","undo","useModalManager","mouseDownTarget","onMouseDown","headerMounted","setHeaderMounted","_useState2","bodyMounted","setBodyMounted","getDialogProps","getDialogContainerProps","_createContext$1","errorMessage","ModalContextProvider","useModalContext","Modal","portalProps","trapFocus","returnFocusOnClose","blockScrollOnMount","preserveScrollBarGap","motionPreset","Portal","scrollBehavior","MotionDiv","ModalContent","_useModalContext","dialogProps","dialogStyles","dialog","dialogContainerStyles","dialogContainer","ModalFocusScope","_useModalContext3","_usePresence","usePresence","isPresent","safeToRemove","ModalOverlay","overlayStyle","pos","overlay","ModalHeader","_useModalContext5","headerStyles","header","ModalBody","_useModalContext6","ModalFooter","footerStyles","footer","ModalCloseButton","CloseButton","closeButton","DrawerContextProvider","useDrawerContext","placementMap","start","ltr","rtl","Drawer","_theme$components","placementProp","theme","drawerStyleConfig","components","dir","_placementMap$placeme","_placementMap$placeme2","getDrawerPlacement","styleConfig","StyledSlide","DrawerContent","getWindow","defaultView","isElement","HTMLElement","isShadowRoot","ShadowRoot","min","round","getBoundingClientRect","includeScale","rect","scaleX","scaleY","offsetHeight","offsetWidth","getWindowScroll","win","pageXOffset","pageYOffset","getNodeName","nodeName","toLowerCase","getDocumentElement","getWindowScrollBarX","isScrollParent","_getComputedStyle","test","getCompositeRect","elementOrVirtualElement","offsetParent","isFixed","isOffsetParentAnElement","offsetParentIsScaled","isElementScaled","scroll","getNodeScroll","clientLeft","clientTop","getLayoutRect","clientRect","offsetLeft","offsetTop","getParentNode","assignedSlot","getScrollParent","listScrollParents","_element$ownerDocumen","scrollParent","isBody","visualViewport","updatedList","isTableElement","getTrueOffsetParent","getOffsetParent","isFirefox","navigator","userAgent","perspective","contain","willChange","getContainingBlock","auto","basePlacements","viewport","variationPlacements","placements","modifierPhases","order","modifiers","visited","modifier","requires","requiresIfExists","dep","depModifier","debounce","pending","DEFAULT_OPTIONS","strategy","areValidElements","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","reference","orderedModifiers","modifiersData","elements","attributes","effectCleanupFns","isDestroyed","setOptions","setOptionsAction","cleanupModifierEffects","scrollParents","contextElement","phase","orderModifiers","merged","existing","mergeByName","m","_ref3$options","effect","cleanupFn","noopFn","update","_state$elements","rects","reset","_state$orderedModifie","_state$orderedModifie2","_options","destroy","onFirstUpdate","getBasePlacement","getVariation","getMainAxisFromPlacement","computeOffsets","basePlacement","variation","commonX","commonY","mainAxis","len","unsetSides","mapToStyles","_Object$assign2","popperRect","gpuAcceleration","adaptive","roundOffsets","_offsets$x","_offsets$y","hasX","hasY","sideX","sideY","heightProp","widthProp","_Object$assign","commonStyles","_ref4","dpr","devicePixelRatio","roundOffsetsByDPR","_options$offset","invertDistance","skidding","distance","distanceAndSkiddingToXY","_data$state$placement","popperOffsets","hash","getOppositePlacement","replace","matched","getOppositeVariationPlacement","rootNode","getRootNode","isSameNode","rectToClientRect","getClientRectFromMixedType","clippingParent","html","getViewportRect","getInnerBoundingClientRect","winScroll","getDocumentRect","getClippingRect","boundary","rootBoundary","mainClippingParents","clippingParents","clipperElement","getClippingParents","firstClippingParent","clippingRect","accRect","mergePaddingObject","paddingObject","expandToHashMap","hashMap","detectOverflow","_options$placement","_options$boundary","_options$rootBoundary","_options$elementConte","elementContext","_options$altBoundary","altBoundary","_options$padding","altContext","clippingClientRect","referenceClientRect","popperClientRect","elementClientRect","overflowOffsets","offsetData","multiply","within","mathMax","mathMin","_options$mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","_options$tether","tether","_options$tetherOffset","tetherOffset","isBasePlacement","referenceRect","tetherOffsetValue","normalizedTetherOffsetValue","offsetModifierState","_offsetModifierState$","mainSide","altSide","additive","minLen","maxLen","arrowElement","arrow","arrowRect","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","arrowOffsetParent","clientOffset","offsetModifierValue","tetherMax","preventedOffset","_offsetModifierState$2","_mainSide","_altSide","_offset","_min","_max","isOriginSide","_offsetModifierValue","_tetherMin","_tetherMax","_preventedOffset","v","withinMaxClamp","_state$modifiersData$","toPaddingObject","minProp","maxProp","endDiff","startDiff","clientSize","centerToReference","center","axisProp","centerOffset","_options$element","querySelector","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","createPopper","_options$scroll","_options$resize","resize","_options$gpuAccelerat","_options$adaptive","_options$roundOffsets","initialStyles","margin","property","attribute","_skip","specifiedFallbackPlacements","fallbackPlacements","_options$flipVariatio","flipVariations","allowedAutoPlacements","preferredPlacement","oppositePlacement","getExpandedFallbackPlacements","_options$allowedAutoP","allPlacements","allowedPlacements","overflows","computeAutoPlacement","checksMap","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","isVertical","mainVariationSide","altVariationSide","checks","every","check","_loop","_i","fittingPlacement","find","preventOverflow","referenceOverflow","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","toVar","varRef","cssVars","arrowShadowColor","arrowSize","arrowSizeHalf","arrowBg","arrowOffset","transforms","defaultEventListeners","matchWidth","setTransformOrigin","setProperty","positionArrow","setArrowStyles","overrides","getArrowStyle$1","_vars","vars","innerArrow","setInnerArrowStyles","_ref7","inner","background","boxShadow","includes","logicals","opposites","_props$enabled","_props$strategy","_props$arrowPadding","arrowPadding","_props$eventListeners","eventListeners","_props$gutter","gutter","_props$flip","flip","_props$boundary","_props$preventOverflo","matchWidth$1","_logicals$placement","_opposites$placement","getPopperPlacement","cleanup","setupPopper","_instance$current","getReferenceProps","popperRef","minWidth","inset","getArrowProps","shadowColor","bg","getArrowStyle","getArrowInnerProps","_instance$current2","_instance$current3","isBrowser","StyledSkeleton","backgroundClip","cursor","fade","keyframes","from","to","Skeleton","useStyleConfig","isFirstRender","useIsFirstRender","startColor","endColor","isLoaded","fadeDuration","speed","wasPreviouslyLoaded","usePrevious","animation","StyledTooltip","Tooltip","shouldWrapChildren","ariaLabel","hasArrow","popperCSSVars","getCSSVar","trigger","tooltip","_props$openDelay","openDelay","_props$closeDelay","closeDelay","_props$closeOnClick","closeOnClick","closeOnMouseDown","_props$arrowSize","_usePopper","tooltipId","enterTimeout","exitTimeout","openWithDelay","closeWithDelay","useEventListener","getTriggerProps","getTooltipPositionerProps","forwardedRef","px","getTooltipProps","hide","useTooltip","isString","hasAriaLabel","_tooltipProps","tooltipProps","hiddenProps","pick","VisuallyHidden","Emitter","mixin","exports","on","_callbacks","off","removeListener","removeAllListeners","emit","emitReserved","listeners","hasListeners","module","require","__esModule","Constructor","TypeError","_defineProperty2","default","defineProperties","descriptor","enumerable","configurable","writable","protoProps","staticProps","_assign","_assign2","_setPrototypeOf2","_interopRequireDefault","_create2","_typeof3","__proto__","_typeof2","self","ReferenceError","_iterator2","_symbol2","_typeof","$Object","P","D","it","desc","isObject","toIObject","toLength","toAbsoluteIndex","IS_INCLUDES","$this","fromIndex","O","core","version","__e","aFunction","that","c","is","getKeys","gOPS","pIE","getSymbols","f","symbols","isEnum","global","$export","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","IS_BIND","B","IS_WRAP","W","expProto","C","Function","virtual","R","U","exec","__g","dP","createDesc","object","cof","arg","setToStringTag","IteratorPrototype","NAME","LIBRARY","redefine","Iterators","$iterCreate","getPrototypeOf","ITERATOR","BUGGY","KEYS","VALUES","returnThis","Base","DEFAULT","IS_SET","FORCED","methods","getMethod","kind","proto","TAG","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","done","META","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","meta","KEY","NEED","fastKey","getWeak","onFreeze","DESCRIPTORS","toObject","IObject","$assign","A","Symbol","K","k","T","aLen","anObject","dPs","enumBugKeys","IE_PROTO","Empty","createDict","iframeDocument","iframe","open","write","lt","close","Properties","IE8_DOM_DEFINE","toPrimitive","Attributes","gOPD","getOwnPropertyDescriptor","gOPN","windowNames","getOwnPropertyNames","getWindowNames","$keys","hiddenKeys","ObjectProto","arrayIndexOf","names","fails","exp","bitmap","buggy","def","stat","uid","SHARED","store","mode","copyright","toInteger","defined","TO_STRING","String","charCodeAt","ceil","floor","isNaN","val","valueOf","random","wksExt","$Symbol","USE_SYMBOL","addToUnscopables","iterated","_t","_k","Arguments","$getPrototypeOf","$at","point","$fails","wks","wksDefine","enumKeys","_create","gOPNExt","$GOPD","$GOPS","$DP","$JSON","JSON","_stringify","stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","USE_NATIVE","QObject","setter","findChild","setSymbolDesc","protoDesc","wrap","sym","isSymbol","iterator","$defineProperty","$defineProperties","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","es6Symbols","wellKnownSymbols","keyFor","useSetter","useSimple","FAILS_ON_PRIMITIVES","replacer","$replacer","TO_STRING_TAG","DOMIterables","Collection","Backoff","opts","ms","factor","jitter","attempts","pow","rand","deviation","setMin","setMax","setJitter","XMLHttpRequest","root","factory","svgNS","locationHref","initialDefaultFrame","_useWebWorker","subframeEnabled","idPrefix","expressionsPlugin","isSafari","cachedColors","bmRnd","bmPow","bmSqrt","sqrt","bmFloor","bmMax","bmMin","BMMath","ProjectInterface","propertyNames","absArr","createSizedArray","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","flag","styleDiv","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","BMAnimationConfigErrorEvent","createElementID","_count","HSVtoRGB","g","q","RGBtoHSV","addSaturationToRGB","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","BaseEvent","triggerEvent","eventName","_cbs","createTypedArray","createRegularArray","arr","Uint8ClampedArray","Float32Array","Int16Array","createNS","createElementNS","createTag","DynamicPropertyContainer","addDynamicProperty","prop","dynamicProperties","_isAnimated","iterateDynamicProperties","_mdf","getValue","initDynamicPropertyContainer","getBlendMode","blendModeEnums","lineCapEnum","lineJoinEnum","Matrix","_cos","cos","_sin","sin","_tan","tan","_rnd","rotate","angle","mCos","mSin","rotateX","rotateY","rotateZ","shear","sx","sy","skew","ax","ay","skewFromAxis","sz","setTransform","o","translate","tx","ty","tz","a2","b2","c2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_p","_identityCalculated","a1","b1","c1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","p1","isIdentity","_identity","equals","matr","cloneFromProps","applyToPoint","z","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","pt","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","pt1","pt2","pt3","p0","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","pool","math","startdenom","significance","mask","ARC4","keylen","me","count","copy","flatten","depth","typ","mixkey","seed","smear","stringseed","tostring","fromCharCode","shortseed","entropy","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","Date","screen","autoseed","arc4","prng","int32","quick","double","pass","is_math_call","BezierFactory","ob","nm","str","beziers","bezEasing","BezierEasing","kSampleStepSize","float32ArraySupported","aA1","aA2","calcBezier","aT","getSlope","_mSampleValues","_precomputed","mX1","mY1","mX2","mY2","_precompute","_getTForX","_calcSampleValues","aX","mSampleValues","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","extendPrototype","sources","destination","sourcePrototype","getDescriptor","createProxyFunction","ProxyFunction","bezFunction","pointOnLine2D","x3","y3","det1","getBezierLength","pt4","ptCoord","perc","ptDistance","curveSegments","addedLength","lastPoint","lengthData","bezierLengthPool","newElement","percents","lengths","BezierData","segmentLength","PointData","partial","partialLength","buildBezierData","storedData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","bezierSegmentPoints","getSegmentsLength","shapeData","segmentsLength","segmentsLengthPool","closed","pathV","pathO","pathI","_length","totalLength","getNewSegment","startPerc","endPerc","t0","t1","u0","u1","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","getPointInSegment","percent","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","currTime","getTime","timeToCall","bez","dataManager","workerFn","workerInstance","_counterId","processes","workerProxy","onmessage","postMessage","_workerSelf","setupWorker","Worker","Blob","blob","url","URL","createObjectURL","createWorker","completeLayers","layers","comps","layerData","jLen","kLen","completed","tt","td","hasMask","maskProps","masksProperties","convertPathsToAbsoluteValues","findCompLayers","refId","completeShapes","shapes","completeText","__used","ks","checkVersion","minimum","animVersionString","animVersion","checkText","minimumVersion","updateTextLayer","textLayer","documentData","iterateLayers","animationData","assets","checkChars","chars","pathData","paths","__converted","checkPathProperties","checkColors","iterateShapes","checkShapes","completeClosingShapes","cl","singleShape","moduleOb","__complete","dataFunctionManager","assetLoader","formatResponse","xhr","contentTypeHeader","getResponseHeader","responseType","response","responseText","fullPath","errorCallback","onreadystatechange","readyState","send","completeData","payload","createProcess","loadAnimation","processId","location","origin","pathname","loadData","completeAnimation","anim","getFontProperties","fontData","fStyle","fWeight","weight","FontManager","emptyChar","combinedCharacters","surrogateModifiers","zeroWidthJoiner","setUpNode","font","family","fontFamily","innerText","fontVariant","fontStyle","letterSpacing","familyArray","enabledFamilies","trimFontOptions","createHelper","tHelper","fontProps","fFamily","fClass","getContext","Font","fonts","typekitLoaded","_warned","initTime","now","setIsLoadedBinded","setIsLoaded","checkLoadedFontsBinded","checkLoadedFonts","isModifier","firstCharCode","secondCharCode","sum","isZeroWidthJoiner","isCombinedCharacter","char","fontPrototype","addChars","found","ch","addFonts","defs","fontArr","_pendingFonts","loadedSelector","shouldLoadFont","loaded","monoCase","sansCase","fPath","fOrigin","href","rel","sc","helper","getCharData","getFontByName","fName","measureText","fontName","doubleSize","getComputedTextLength","singleSize","loadedCount","PropertyFactory","initFrame","mathAbs","interpolateValue","frameNum","caching","offsetTime","propType","pv","keyData","nextKeyData","keyframeMetadata","fnc","iterationIndex","keyframesMetadata","endValue","nextKeyTime","keyTime","ti","ind","__fnct","getBezierEasing","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quat","qx","qy","qz","qw","heading","atan2","attitude","asin","bank","quaternionToEuler","omega","cosom","sinom","scale0","scale1","az","aw","bx","by","bz","bw","acos","slerp","createQuaternion","c3","s1","s2","s3","getValueAtCurrentTime","comp","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","processEffectsSequence","elem","globalData","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","ValueProperty","vel","MultiDimensionalProperty","KeyframedValueProperty","st","KeyframedMultidimensionalProperty","arrLen","getProp","TransformPropertyFactory","defaultVector","TransformProperty","pre","appliedTransformations","py","pz","rz","or","sk","sa","_isDirty","applyToMatrix","mat","forceRender","precalculateMatrix","frameRate","autoOriented","v1","v2","getValueAtTime","autoOrient","_addDynamicProperty","getTransformProperty","ShapePath","_maxLength","setPathData","setLength","pointPool","doubleArrayLength","setXYAt","setTripleAt","vX","vY","oX","oY","iX","iY","newPath","vertices","outPoints","inPoints","init","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","localShapeCollection","shape1","shape2","shapesEqual","shapePool","releaseShapes","addShape","ShapeProperty","shapeCollectionPool","newShapeCollection","KeyframedShapeProperty","EllShapeProperty","cPoint","EllShapePropertyFactory","convertEllToPath","s0","_cw","_v","StarShapeProperty","StarShapePropertyFactory","ir","convertToPath","convertStarToPath","convertPolygonToPath","os","rad","roundness","perimSegment","numPts","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","RectShapePropertyFactory","convertRectToPath","v0","ShapeModifiers","registerModifier","getModifier","ShapeModifier","TrimModifier","RoundCornersModifier","PuckerAndBloatModifier","RepeaterModifier","ShapeCollection","DashProperty","renderer","dataProps","dashStr","dashArray","dashoffset","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","initModifierProperties","addShapeToModifier","shape","setAsAnimated","processKeys","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segments","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","release","processShapes","shapePaths","_s","totalShapeLength","edges","newShapesData","addShapes","lastShape","pop","addPaths","newPaths","addSegment","shapePath","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","segment","rd","processPath","clonedPath","currentV","currentI","currentO","closerV","newPosPerc","amount","centerPoint","pathLength","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","applyTransforms","inv","elemsData","_currentCopies","_elements","_groups","unshift","resetElements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","items","itemsTransform","cont","hasReloaded","copies","ix","reloadShapes","elems","transformData","op","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","comparePoints","buildShapeString","pathNodes","_o","shapeString","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","pause","resume","setRate","rateValue","createAudio","assetPath","Howl","isPlaying","play","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","ImagePreloader","proxyImage","canvas","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","loadedFootagesCount","totalFootages","imagesLoadedCb","footageLoaded","getAssetsPath","assetData","assetsPath","originalPath","imagePath","u","testImageLoaded","intervalId","setInterval","getBBox","_imageLoaded","clearInterval","createFootageData","footageData","_footageLoaded","ImagePreloaderFactory","images","loadAssets","_createImageData","setAssetsPath","setPath","loadedImages","loadedFootages","getAsset","createImgData","createImageData","setAttributeNS","_elementHelper","append","setCacheType","elementHelper","featureSupport","maskType","filtersFactory","filId","skipCoordinates","fil","feColorMatrix","TextAnimatorProperty","textData","renderType","_hasMaskedPath","_frameId","_textData","_renderType","_elem","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","TextAnimatorDataProperty","animatorProps","defaultData","textAnimatorAnimatables","sw","fc","fh","fs","fb","TextSelectorProp","getTextSelectorProp","LetterProps","TextProperty","keysIndex","canResize","minimumFontSize","currentData","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","of","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","searchProperty","completeTextData","searchProperties","maskManager","getMaskProperty","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","prevPoint","tanAngle","animators","matrixHelper","mHelper","renderedLettersCount","letters","tLength","pi","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","currentLine","letterM","letterP","defaultPropsArray","animatorJustifyOffset","animatorFirstCharOffset","justifyOffsetMult","isNewLine","getMult","anIndexes","totalChars","line","extra","an","animatorOffset","rot","atan","updated","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","text","charCode","charactersArray","shouldCombine","substr","newLineFlag","charData","fontManager","anchorGrouping","currentSize","currentPos","lineWidth","maxLineWidth","trackingOffset","currentHeight","boxHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","animatorData","letterData","based","indexes","rn","newInd","currentInd","updateDocumentData","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","TextSelectorPropFactory","_currentTextLength","finalS","finalE","xe","ne","sm","textProperty","easer","tot","smoothness","threshold","newCharsFlag","divisor","poolFactory","initialLength","_release","pooling","cloned","shapeCollection","markerParser","parsePayloadLines","lines","keysCount","trim","_markers","markers","_marker","markerData","time","tm","dr","cm","__","BaseRenderer","SVGRenderer","animationItem","config","svgElement","titleElement","titleId","description","descElement","descId","maskElement","layerElement","renderConfig","preserveAspectRatio","imagePreserveAspectRatio","contentVisibility","progressiveLoad","hideOnTransparent","viewBoxOnly","viewBoxSize","filterSize","pendingElements","destroyed","rendererType","CanvasRenderer","clearCanvas","wrapper","currentGlobalAlpha","contextData","CVContextData","transformMat","HybridRenderer","threeDElements","camera","supports3d","MaskElement","viewData","solidPath","expansor","feMorph","properties","currentMasks","layerId","maskRef","getShapeProp","lastPath","filterID","expan","lastOperator","filterId","lastRadius","createLayerSolidPath","invRect","drawPath","maskedElement","addRenderableComponent","HierarchyElement","FrameElement","TransformElement","RenderableElement","RenderableDOMElement","ProcessedElement","SVGStyleData","level","lvl","hd","pElem","msElem","SVGShapeData","transformers","caches","lStr","SVGTransformData","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGGradientFillStyleData","initGradientData","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","checkLayers","num","ip","buildItem","checkPendingElements","createItem","layer","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","createFootage","AudioElement","FootageElement","buildAllItems","includeLayers","newLayers","setProjectInterface","pInterface","projectInterface","initItems","buildElementParenting","parentName","hierarchy","setAsParent","setHierarchy","addPendingElement","searchExtraCompositions","xt","initExpressions","registerComposition","setupGlobalData","animData","fontsContainer","getAssetData","imageLoader","imagePreloader","audioController","fr","compSize","NullElement","SVGShapeElement","SVGTextLottieElement","IImageElement","SVGCompElement","ISolidElement","configAnimation","maskId","updateContainerSize","appendElementInPos","setMatte","checkParenting","renderFrame","currentFrame","prepareFrame","getBaseElement","nextElement","insertBefore","CVShapeElement","CVTextElement","CVImageElement","CVCompElement","CVSolidElement","ctxTransform","cProps","cTr","trProps","canvasContext","ctxOpacity","globalAlpha","cO","restore","save","actionFlag","cArrPos","duplicate","saved","savedOp","blendMode","popped","containerStyle","mozTransformOrigin","transformCanvas","isDashed","elementWidth","elementHeight","elementRel","animationRel","par","fillType","beginPath","closePath","clip","clearRect","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","getThreeDContainerByPos","HShapeElement","HTextElement","HCameraElement","HImageElement","HCompElement","HSolidElement","startPos","endPos","perspectiveElem","createThreeDContainer","webkitTransform","threeDContainerData","build3dContainers","lastThreeDContainerData","currentContainer","resizerElem","svg","setup","cWidth","cHeight","webkitPerspective","floatingContainer","isFirstFrame","finalMat","finalTransform","mProp","getMaskelement","pathString","pathShapeValue","initHierarchy","_isParent","prepareProperties","isVisible","initTransform","_matMdf","_opMdf","ao","renderTransform","globalToLocal","ptNew","initRenderable","isInRange","hidden","isTransparent","renderableComponents","component","removeRenderableComponent","prepareRenderableFrame","checkLayerLimits","checkTransparency","renderRenderable","sourceRectAtTime","getLayerSize","initElement","initBaseData","initRendererElement","createContainerElements","createRenderableComponents","createContent","baseElement","renderElement","renderInnerContent","innerElem","destroyBaseElement","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","stop","gf","cst","opacityId","opFill","lc","lj","ml","ost","SVGElementsRenderer","_identityMatrix","_matrixHelper","renderContentTransform","styleData","itemData","renderPath","pathStringTransformed","redraw","iterations","lLen","renderFill","styleElem","renderGradientStroke","renderGradient","renderStroke","hasOpacity","attr1","attr2","cValues","oValues","ang","dist","createRenderFunction","ShapeTransformManager","sequences","sequenceList","transform_key_count","CVShapeData","transformsManager","styledShapes","styledShape","addTransformSequence","trNodes","BaseElement","SVGBaseElement","IShapeElement","ITextElement","ICompElement","sourceRect","_isPlaying","_canPlay","_currentTime","_placeholder","textSpans","shapesData","stylesList","shapeModifiers","itemsData","processedElements","animatedContents","SVGTintFilter","filterManager","matrixFilter","effectElements","feMergeNode","feMerge","SVGFillFilter","SVGGaussianBlurEffect","feGaussianBlur","SVGStrokeEffect","initialized","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","SVGDropShadowEffect","feOffset","feFlood","feComposite","originalNodeAdded","sequence","processSequence","processSequences","getNewKey","checkMasks","layerInterface","LayerExpressionInterface","registerMaskInterface","effectsInterface","EffectsExpressionInterface","createEffectsInterface","registerEffectsInterface","compInterface","CompExpressionInterface","shapeInterface","ShapeExpressionInterface","content","textInterface","TextExpressionInterface","setBlendMode","blendModeValue","bm","sr","effectsManager","EffectsManager","getType","matteElement","transformedElement","_sizeChanged","gg","layerElementParent","masker","createFilter","createAlphaToLuminanceFilter","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","ln","cp","clipId","cpGroup","renderableEffectsManager","SVGEffects","addShapeToModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","searchProcessedElement","addProcessedElement","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","timeRemapped","setElements","getElements","destroyElements","pr","volumeValue","FootageInterface","getFootageData","textContainer","buildTextContents","textArray","textContents","currentTextContent","tSpan","usesGlyphs","cachedSpansLength","tElement","justify","textBox","bbox","renderedLetter","textSpan","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","setElementStyles","currentTransform","processedPos","ownStyles","ownModifiers","renderShape","animatedContent","colorBlack","colorWhite","sigma","dimensions","sigmaX","sigmaY","edgeMode","initialize","groupPath","elemChildren","childNodes","pathMasker","dasharrayValue","getTotalLength","lineLength","units","color1","color2","color3","tableR","tableG","tableB","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","colorValue","table","outputDelta","inputDelta","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","ef","filters","CVBaseElement","CVMaskElement","hasMasks","currentRender","sWidth","fValue","CVEffects","HBaseElement","shapesContainer","currentBBox","textPaths","isMasked","pe","_prevMat","HEffects","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","symbol","newLength","currentSavedOp","createElements","globalCompositeOperation","hideElement","showElement","forceRealStack","widthCrop","heightCrop","imgW","imgH","imgRel","canvasRel","drawImage","moveTo","lineTo","bezierCurveTo","transformHelper","dashResetter","preTransforms","co","wi","da","do","addTransformToStyleList","removeTransformFromStyleList","closeStyles","shouldRender","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","currentStyle","coOp","strokeStyle","grd","lineCap","lineJoin","miterLimit","setLineDash","lineDashOffset","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","hasFill","hasStroke","commands","pathArr","lastFill","lastStroke","lastStrokeW","checkBlendMode","tg","transformedElementStyle","matrixValue","addEffects","backgroundColor","_createBaseContainerElements","_renderShapeFrame","shapeCont","getTransformedPoint","calculateShapeBoundingBox","boundingBox","vPoint","oPoint","nextIPoint","nextVPoint","checkBounds","getBoundsOfCurve","bounds","shapeBoundingBox","xMax","yMax","tempBoundingBox","p3","b2ac","t2","calculateF","calculateBoundingBox","currentBoxContains","box","changed","shapeStyle","shapeTransform","compW","compH","innerElemStyle","textColor","tParent","tCont","tContStyle","tContTranslation","tStyle","tSpanTranslation","svgStyle","translation","textPath","svgTransform","imageElem","perspectiveStyle","mTransf","diffVector","mag","lookDir","lookLengthOnXZ","mRotationX","mRotationY","hasMatrixChanged","matValue","animationManager","registeredAnimations","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","isPaused","subtractPlayingCount","registerAnimation","AnimationItem","setupAnimation","setData","addPlayingCount","activate","nowTime","elapsedTime","advanceTime","params","setParams","setSpeed","setDirection","togglePause","searchAnimations","standalone","animElements","getElementsByClassName","lenAnims","div","goToAndStop","isFrame","unfreeze","getRegisteredAnimations","animations","currentRawFrame","frameMult","playSpeed","playDirection","playCount","autoplay","loop","animationID","timeCompleted","segmentPos","isSubframeEnabled","_idle","_completedLoop","onSetupError","onSegmentComplete","animType","rendererSettings","autoloadSegments","initialSegment","lastIndexOf","fileName","wrapperAttributes","getNamedItem","prerender","loadNextSegment","shift","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","updaFrameModifier","waitForFontsLoaded","triggerConfigError","gotoFrame","setSubframe","triggerRenderFrameError","setCurrentRawFrameValue","getMarkerData","marker","numValue","frameModifier","goToAndPlay","playSegments","nextValue","_isComplete","checkSegments","adjustSegment","setSegment","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onSegmentStart","onDestroy","getPath","getDuration","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","ExpressionManager","fetch","frames","$bm_isInstanceOfArray","isNumerable","tOfV","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","tOfB","lenB","sub","mul","mod","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","arr2","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","_tMin","rnd","createPath","inTangents","outTangents","inVertexPoint","outVertexPoint","arrPlaceholder","initiateExpression","needsVelocity","_needsRandom","elemType","$bm_transform","thisProperty","valueAtTime","frameDuration","displayStartTime","inPoint","outPoint","loopIn","loop_in","loopOut","loop_out","smooth","toWorld","fromWorld","fromComp","toComp","fromCompToSurface","rotation","anchorPoint","thisLayer","thisComp","velocityAtTime","scoped_bm_rt","expression_function","eval","numKeys","active","wiggle","freq","amp","iWiggle","lenWiggle","addedAmps","periods","loopInDuration","loopOutDuration","getVelocityAtTime","velocity","textIndex","textTotal","selectorValue","lookAt","elem1","elem2","fVec","pitch","val1","val2","applyEase","iKey","lenKey","nearestKey","obKey","framesToTime","fps","timeToFrames","seedRandom","seedrandom","randSeed","substring","posterizeTime","framesPerSecond","hasParent","executeExpression","_value","frameExpressionId","expressionHelpers","searchExpressions","getSpeedAtTime","_cachingAtTime","getStaticValueAtTime","setGroupProperty","propertyGroup","durationFlag","cycleDuration","firstKeyFrame","lastKeyFrame","initV","endV","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","sampleValue","sampleFrequency","getTransformValueAtTime","_transformCachingAtTime","anchor","skewAxis","rotationZ","rotationY","rotationX","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","propertyIndex","ShapePropertyConstructorFunction","getConstructorFunction","KeyframedShapePropertyConstructorFunction","getKeyframedConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","tangentOnPath","normalOnPath","shapeValue","propertyGetShapeProp","trims","getExpressionValue","calculateExpression","isKeyframed","hasExpressions","ShapePathInterface","view","interfaceFunction","_propertyGroup","propertyGroupFactory","PropertyInterface","_name","mn","parentPropertyGroup","propertyName","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","gradientFillInterfaceFactory","interfaces","numProperties","transformInterface","transformInterfaceFactory","cix","contentsInterfaceFactory","np","ExpressionPropertyInterface","startPoint","endPoint","_dashPropertyGroup","dashOb","addPropertyToDashOb","dash","outerRadius","outerRoundness","innerRoundness","innerRadius","radius","_interfaceFunction","_prevValue","_sourceText","_thisLayerFunction","sourceText","stringValue","getMatrix","toWorldMat","toWorldVec","applyPoint","fromWorldVec","invertPoint","sampleImage","anchorPointDescriptor","TransformExpressionInterface","anchor_point","startTime","MaskManagerInterface","effects","dataInterfaceFactory","outlineInterface","currentPropertyName","currentProperty","propertyNameIndex","outlineInterfaceFactory","dataInterface","pixelAspect","numLayers","_thisFunction","xRotation","yRotation","xPosition","yPosition","zPosition","_px","_py","_pz","_transformFactory","compositions","_thisProjectFunction","createGroupInterface","groupInterface","createValueInterface","en","expressionProperty","effectsData","MaskInterface","_mask","_data","_masksInterfaces","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","valueProp","speedAtTime","defaultGetter","UnidimensionalPropertyInterface","arrValue","MultidimensionalPropertyInterface","TextExpressionSelectorPropFactory","getValueProxy","total","propertyGetTextProp","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","effectItem","GroupEffect","eff","lottie","setLocationHref","setSubframeRendering","setIDPrefix","prefix","setQuality","inBrowser","installPlugin","plugin","getFactory","checkReady","readyStateCheckInterval","getQueryVariable","variable","queryString","pair","decodeURIComponent","useWebWorker","__getFactory","scripts","myScript","define","encode","encodeURIComponent","decode","qs","qry","pairs","re","parts","uri","authority","ipv6uri","pathNames","regx","queryKey","query","$0","$1","$2","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","propFullName","secret","getShim","isRequired","ReactPropTypes","array","bigint","bool","func","number","string","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","exact","checkPropTypes","PropTypes","_extends3","_getPrototypeOf2","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_react2","_propTypes2","_lottieWeb2","Lottie","_React$Component","_this","_ret","handleClickToPause","registerEvents","nextProps","deRegisterEvents","isStopped","_this2","eventListener","_this3","_this4","ariaRole","isClickToPauseDisabled","getSize","lottieStyles","onClickHandler","Component","_react","_reactDom","_propTypes","_Effect","_defineProperties","_possibleConstructorReturn","_assertThisInitialized","_getPrototypeOf","_setPrototypeOf","defaultSetTimeout","defaultClearTimeout","timer","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","performance","mozNow","msNow","oNow","webkitNow","AnimationCounter","_classCallCheck","_inherits","findDOMNode","prevProps","style0","attachStyle","waitOrFinish","frameLength","style1","SCALE","_default","ROTATE_X","ROTATE_Y","_AnimationCounter","WebkitTransition","MozTransition","msTransition","whiteSpace","NotificationBadge","badgeStyle","merge","obj1","obj2","attrname1","attrname2","_NotificationBadge","insertAt","firstChild","bottomRef","React.createRef","wrapperRef","React.Component","getSnapshotBeforeUpdate","viewableDetectionEpsilon","ScrollableFeed","isViewable","previousProps","snapshot","forceScroll","changeDetectionFilter","scrollParentToChild","parentRect","scrollOffset","animateScroll","onScrollComplete","epsilon","childRect","childTopIsViewable","childOffsetToParentBottom","onScroll","scrollToBottom","joinedClassName","React.createElement","scrollBy","alphabet","encoded","yeast","decoded","_createClass","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Super","NewTarget","xdomain","hasCORS","globalThis","NATIVE_SET_TIMEOUT","NATIVE_CLEAR_TIMEOUT","installTimerFunctions","useNativeTimers","setTimeoutFn","clearTimeoutFn","_superPropBase","_get","receiver","base","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","withNativeBlob","withNativeArrayBuffer","ArrayBuffer","encodeBlobAsBase64","fileReader","FileReader","readAsDataURL","supportsBinary","isView","lookup","decodeBase64Packet","binaryType","base64","encoded1","encoded2","encoded3","encoded4","bufferLength","arraybuffer","bytes","mapBinary","encodedPacket","SEPARATOR","Transport","socket","msg","doOpen","doClose","packets","packet","decodePacket","onPacket","Polling","polling","poll","onPause","doPoll","encodedPayload","encodedPackets","decodedPacket","decodePayload","encodePacket","encodePayload","doWrite","schema","secure","port","timestampRequests","timestampParam","sid","b64","encodedQuery","parseqs","hostname","empty","hasXHR2","XHR","isSSL","protocol","xd","xs","forceBase64","Request","req","request","method","onData","pollXhr","xscheme","extraHeaders","setDisableHeaderCheck","setRequestHeader","withCredentials","requestTimeout","requestsCount","requests","onSuccess","fromError","abort","attachEvent","unloadHandler","WebSocket","isReactNative","product","WS","protocols","headers","ws","addEventListeners","onopen","autoUnref","_socket","unref","onclose","lastPacket","transports","websocket","Socket","parseuri","writeBuffer","prevBufferLen","agent","upgrade","rememberUpgrade","rejectUnauthorized","perMessageDeflate","transportOptions","closeOnBeforeunload","upgrades","pingInterval","pingTimeout","pingTimeoutTimer","transport","offlineEventListener","EIO","priorWebsocketSuccess","createTransport","setTransport","onDrain","failed","onTransportOpen","upgrading","freezeTransport","onTransportClose","onupgrade","probe","onHandshake","resetPingTimeout","sendPacket","code","filterUpgrades","compress","cleanupAndClose","waitForUpgrade","reason","filteredUpgrades","withNativeFile","File","isBinary","hasBinary","toJSON","deconstructPacket","buffers","packetData","pack","_deconstructPacket","attachments","placeholder","reconstructPacket","_reconstructPacket","PacketType","Encoder","EVENT","ACK","encodeAsString","BINARY_EVENT","BINARY_ACK","encodeAsBinary","nsp","deconstruction","Decoder","decodeString","reconstructor","BinaryReconstructor","takeBinaryData","buf","tryParse","isPayloadValid","finishedReconstruction","CONNECT","DISCONNECT","CONNECT_ERROR","reconPack","binData","RESERVED_EVENTS","connect","connect_error","disconnect","disconnecting","newListener","io","connected","disconnected","receiveBuffer","sendBuffer","ids","acks","flags","auth","_autoConnect","subs","onpacket","subEvents","_readyState","ack","_registerAckCallback","isTransportWritable","engine","discardPacket","volatile","_packet","onconnect","onevent","onack","ondisconnect","emitEvent","_anyListeners","allowArrayLike","unsupportedIterableToArray","_e","normalCompletion","didErr","_e2","sent","emitBuffered","subDestroy","listener","Manager","nsps","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","parser","encoder","decoder","autoConnect","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","_reconnecting","reconnect","Engine","skipReconnect","openSubDestroy","errorSub","maybeReconnectOnOpen","onping","ondata","ondecoded","_close","onreconnect","attempt","parsed","loc","sameNamespace","forceNew","multiplex"],"sourceRoot":""}